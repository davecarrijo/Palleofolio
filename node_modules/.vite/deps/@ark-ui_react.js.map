{
  "version": 3,
  "sources": ["../../@ark-ui/react/dist/utils/create-context.js", "../../@ark-ui/react/dist/components/accordion/use-accordion-context.js", "../../@ark-ui/react/dist/components/accordion/accordion-context.js", "../../@ark-ui/react/dist/components/accordion/accordion-item.js", "../../@zag-js/anatomy/src/create-anatomy.ts", "../../@zag-js/dom-query/src/attrs.ts", "../../@zag-js/dom-query/src/constants.ts", "../../@zag-js/dom-query/src/is.ts", "../../@zag-js/dom-query/src/contains.ts", "../../@zag-js/dom-query/src/env.ts", "../../@zag-js/dom-query/src/data-url.ts", "../../@zag-js/dom-query/src/platform.ts", "../../@zag-js/dom-query/src/event.ts", "../../@zag-js/dom-query/src/get-by-id.ts", "../../@zag-js/dom-query/src/sanitize.ts", "../../@zag-js/dom-query/src/get-by-text.ts", "../../@zag-js/dom-query/src/get-by-typeahead.ts", "../../@zag-js/dom-query/src/get-computed-style.ts", "../../@zag-js/dom-query/src/get-parent-node.ts", "../../@zag-js/dom-query/src/get-scroll-position.ts", "../../@zag-js/dom-query/src/tabbable.ts", "../../@zag-js/dom-query/src/initial-focus.ts", "../../@zag-js/dom-query/src/is-editable-element.ts", "../../@zag-js/dom-query/src/is-hidden-element.ts", "../../@zag-js/dom-query/src/is-overflow-element.ts", "../../@zag-js/dom-query/src/raf.ts", "../../@zag-js/dom-query/src/observe-attributes.ts", "../../@zag-js/dom-query/src/observe-children.ts", "../../@zag-js/dom-query/src/overflow.ts", "../../@zag-js/dom-query/src/proxy-tab-focus.ts", "../../@zag-js/dom-query/src/query.ts", "../../@zag-js/dom-query/src/scope.ts", "../../@zag-js/dom-query/src/scroll-into-view.ts", "../../@zag-js/dom-query/src/set.ts", "../../@zag-js/dom-query/src/visually-hidden.ts", "../../@zag-js/dom-query/src/wait-for.ts", "../../@zag-js/text-selection/src/index.ts", "../../@zag-js/dom-event/src/add-dom-event.ts", "../../@zag-js/dom-event/src/assertion.ts", "../../@zag-js/dom-event/src/click-link.ts", "../../@zag-js/dom-event/src/queue-before-event.ts", "../../@zag-js/dom-event/src/fire-event.ts", "../../@zag-js/dom-event/src/get-event-key.ts", "../../@zag-js/dom-event/src/get-event-point.ts", "../../@zag-js/dom-event/src/get-event-step.ts", "../../@zag-js/dom-event/src/get-native-event.ts", "../../@zag-js/dom-event/src/get-point-value.ts", "../../@zag-js/dom-event/src/request-pointer-lock.ts", "../../@zag-js/dom-event/src/track-focus-visible.ts", "../../@zag-js/dom-event/src/pipe.ts", "../../@zag-js/dom-event/src/track-pointer-move.ts", "../../@zag-js/dom-event/src/track-press.ts", "../../@zag-js/dom-event/src/track-visual-viewport.ts", "../../@zag-js/utils/src/array.ts", "../../@zag-js/utils/src/equal.ts", "../../@zag-js/utils/src/functions.ts", "../../@zag-js/utils/src/guard.ts", "../../@zag-js/utils/src/object.ts", "../../@zag-js/utils/src/split-props.ts", "../../@zag-js/utils/src/warning.ts", "../../proxy-compare/dist/index.js", "../../@zag-js/store/src/global.ts", "../../@zag-js/store/src/proxy.ts", "../../@zag-js/store/src/proxy-computed.ts", "../../klona/full/index.mjs", "../../@zag-js/core/src/index.ts", "../../@zag-js/utilities/core/src/array.ts", "../../@zag-js/utilities/core/src/functions.ts", "../../@zag-js/utilities/core/src/guard.ts", "../../@zag-js/utilities/core/src/object.ts", "../../@zag-js/utilities/core/src/warning.ts", "../../@zag-js/core/src/deep-merge.ts", "../../@zag-js/core/src/utils.ts", "../../@zag-js/core/src/guard-utils.ts", "../../@zag-js/core/src/machine.ts", "../../@zag-js/core/src/create-proxy.ts", "../../@zag-js/core/src/delay-utils.ts", "../../@zag-js/core/src/transition-utils.ts", "../../@zag-js/core/src/merge-props.ts", "../../@zag-js/types/src/prop-types.ts", "../../@zag-js/types/src/create-props.ts", "../../@zag-js/accordion/src/accordion.anatomy.ts", "../../@zag-js/accordion/src/accordion.connect.ts", "../../@zag-js/accordion/src/accordion.dom.ts", "../../@zag-js/accordion/src/accordion.machine.ts", "../../@zag-js/accordion/src/accordion.props.ts", "../../@zag-js/react/src/index.ts", "../../@zag-js/react/src/normalize-props.ts", "../../@zag-js/react/src/portal.tsx", "../../@zag-js/react/src/use-snapshot.ts", "../../utilities/core/src/equal.ts", "../../utilities/core/src/object.ts", "../../@zag-js/react/src/use-update-effect.ts", "../../@zag-js/react/src/use-actor.ts", "../../@zag-js/react/src/use-constant.ts", "../../@zag-js/react/src/use-layout-effect.ts", "../../@zag-js/react/src/use-service.ts", "../../@zag-js/react/src/use-machine.ts", "../../@ark-ui/react/dist/components/accordion/use-accordion-item-context.js", "../../@ark-ui/react/dist/components/collapsible/collapsible-root.js", "../../@ark-ui/react/dist/components/factory.js", "../../@ark-ui/react/dist/utils/compose-refs.js", "../../@ark-ui/react/dist/utils/create-split-props.js", "../../@ark-ui/react/dist/components/collapsible/split-collapsible-props.js", "../../@zag-js/collapsible/src/collapsible.anatomy.ts", "../../@zag-js/collapsible/src/collapsible.connect.ts", "../../@zag-js/collapsible/src/collapsible.dom.ts", "../../@zag-js/collapsible/src/collapsible.machine.ts", "../../@zag-js/collapsible/src/collapsible.props.ts", "../../@ark-ui/react/dist/components/collapsible/use-collapsible.js", "../../@ark-ui/react/dist/providers/environment/use-environment-context.js", "../../@ark-ui/react/dist/providers/locale/use-locale-context.js", "../../@ark-ui/react/dist/utils/use-event.js", "../../@ark-ui/react/dist/components/collapsible/use-collapsible-context.js", "../../@ark-ui/react/dist/utils/render-strategy.js", "../../@ark-ui/react/dist/components/accordion/use-accordion-item-props-context.js", "../../@ark-ui/react/dist/components/accordion/accordion-item-content.js", "../../@ark-ui/react/dist/components/collapsible/collapsible-content.js", "../../@ark-ui/react/dist/components/accordion/accordion-item-context.js", "../../@ark-ui/react/dist/components/accordion/accordion-item-indicator.js", "../../@ark-ui/react/dist/components/accordion/accordion-item-trigger.js", "../../@ark-ui/react/dist/components/accordion/accordion-root.js", "../../@ark-ui/react/dist/components/accordion/use-accordion.js", "../../@ark-ui/react/dist/components/accordion/accordion-root-provider.js", "../../@ark-ui/react/dist/components/accordion/accordion.js", "../../@ark-ui/react/dist/components/avatar/use-avatar-context.js", "../../@ark-ui/react/dist/components/avatar/avatar-context.js", "../../@ark-ui/react/dist/components/avatar/avatar-fallback.js", "../../@ark-ui/react/dist/components/avatar/avatar-image.js", "../../@ark-ui/react/dist/components/avatar/avatar-root.js", "../../@zag-js/avatar/src/avatar.anatomy.ts", "../../@zag-js/avatar/src/avatar.dom.ts", "../../@zag-js/avatar/src/avatar.connect.ts", "../../@zag-js/avatar/src/avatar.machine.ts", "../../@zag-js/avatar/src/avatar.props.ts", "../../@ark-ui/react/dist/components/avatar/use-avatar.js", "../../@ark-ui/react/dist/components/avatar/avatar-root-provider.js", "../../@ark-ui/react/dist/components/avatar/avatar.js", "../../@ark-ui/react/dist/components/carousel/use-carousel-context.js", "../../@ark-ui/react/dist/components/carousel/carousel-context.js", "../../@ark-ui/react/dist/components/carousel/carousel-control.js", "../../@zag-js/carousel/src/carousel.anatomy.ts", "../../@zag-js/carousel/src/carousel.connect.ts", "../../@zag-js/carousel/src/carousel.dom.ts", "../../@zag-js/carousel/src/utils/get-limit.ts", "../../@zag-js/carousel/src/utils/get-alignment.ts", "../../@zag-js/carousel/src/utils/get-slide-groups.ts", "../../@zag-js/carousel/src/utils/get-slide-sizes.ts", "../../@zag-js/carousel/src/utils/get-scroll-snaps.ts", "../../@zag-js/carousel/src/utils/get-slide-in-view.ts", "../../@zag-js/carousel/src/carousel.machine.ts", "../../@zag-js/carousel/src/carousel.props.ts", "../../@ark-ui/anatomy/dist/carousel/index.js", "../../@zag-js/form-utils/src/input-event.ts", "../../@zag-js/form-utils/src/form.ts", "../../@zag-js/checkbox/src/checkbox.anatomy.ts", "../../@zag-js/checkbox/src/checkbox.connect.ts", "../../@zag-js/checkbox/src/checkbox.dom.ts", "../../@zag-js/checkbox/src/checkbox.machine.ts", "../../@zag-js/checkbox/src/checkbox.props.ts", "../../@ark-ui/anatomy/dist/checkbox/index.js", "../../@zag-js/clipboard/src/clipboard.anatomy.ts", "../../@zag-js/clipboard/src/clipboard.connect.ts", "../../@zag-js/clipboard/src/clipboard.dom.ts", "../../@zag-js/clipboard/src/clipboard.machine.ts", "../../@zag-js/clipboard/src/clipboard.props.ts", "../../@zag-js/numeric-range/src/index.ts", "../../@zag-js/color-utils/src/color-format-gradient.ts", "../../@zag-js/color-utils/src/area-gradient.ts", "../../@zag-js/color-utils/src/color.ts", "../../@zag-js/color-utils/src/hsb-color.ts", "../../@zag-js/color-utils/src/hsl-color.ts", "../../@zag-js/color-utils/src/rgb-color.ts", "../../@zag-js/color-utils/src/native-color.ts", "../../@zag-js/color-utils/src/parse-color.ts", "../../@floating-ui/utils/dist/floating-ui.utils.mjs", "../../@floating-ui/core/dist/floating-ui.core.mjs", "../../@floating-ui/utils/dist/floating-ui.utils.dom.mjs", "../../@floating-ui/dom/dist/floating-ui.dom.mjs", "../../@zag-js/popper/src/get-placement.ts", "../../@zag-js/popper/src/get-anchor.ts", "../../@zag-js/popper/src/middleware.ts", "../../@zag-js/popper/src/placement.ts", "../../@zag-js/popper/src/get-styles.ts", "../../@zag-js/interact-outside/src/index.ts", "../../@zag-js/interact-outside/src/get-window-frames.ts", "../../@zag-js/dismissable/src/dismissable-layer.ts", "../../@zag-js/dismissable/src/escape-keydown.ts", "../../@zag-js/dismissable/src/layer-stack.ts", "../../@zag-js/dismissable/src/pointer-event-outside.ts", "../../@zag-js/color-picker/src/color-picker.anatomy.ts", "../../@zag-js/color-picker/src/color-picker.connect.ts", "../../@zag-js/color-picker/src/color-picker.dom.ts", "../../@zag-js/color-picker/src/utils/get-channel-display-color.ts", "../../@zag-js/color-picker/src/utils/get-channel-input-value.ts", "../../@zag-js/color-picker/src/utils/get-slider-background.ts", "../../@zag-js/color-picker/src/color-picker.machine.ts", "../../@zag-js/color-picker/src/color-picker.parse.ts", "../../@ark-ui/anatomy/dist/color-picker/index.js", "../../@zag-js/collection/src/hash.ts", "../../@zag-js/collection/src/collection.ts", "../../@zag-js/aria-hidden/src/index.ts", "../../@zag-js/combobox/src/combobox.anatomy.ts", "../../@zag-js/combobox/src/combobox.collection.ts", "../../@zag-js/combobox/src/combobox.connect.ts", "../../@zag-js/combobox/src/combobox.dom.ts", "../../@zag-js/combobox/src/combobox.machine.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/utils.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/GregorianCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/weekStartData.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/queries.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/conversion.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/manipulation.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/string.ts", "../../@swc/helpers/esm/_check_private_redeclaration.js", "../../@swc/helpers/esm/_class_private_field_init.js", "../../@internationalized/date/dist/packages/@internationalized/date/src/CalendarDate.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/calendars/HebrewCalendar.ts", "../../@internationalized/date/dist/packages/@internationalized/date/src/DateFormatter.ts", "../../@zag-js/date-utils/src/constrain.ts", "../../@zag-js/date-utils/src/align.ts", "../../@zag-js/date-utils/src/assertion.ts", "../../@zag-js/date-utils/src/duration.ts", "../../@zag-js/date-utils/src/format-range.ts", "../../@zag-js/date-utils/src/format-selected-date.ts", "../../@zag-js/date-utils/src/get-day-formatter.ts", "../../@zag-js/date-utils/src/get-era-format.ts", "../../@zag-js/date-utils/src/format-visible-range.ts", "../../@zag-js/date-utils/src/get-month-formatter.ts", "../../@zag-js/date-utils/src/get-decade-range.ts", "../../@zag-js/date-utils/src/get-month-days.ts", "../../@zag-js/date-utils/src/get-start-of-week.ts", "../../@zag-js/date-utils/src/get-month-names.ts", "../../@zag-js/date-utils/src/get-weekday-formats.ts", "../../@zag-js/date-utils/src/get-week-days.ts", "../../@zag-js/date-utils/src/get-year-range.ts", "../../@zag-js/date-utils/src/mutation.ts", "../../@zag-js/date-utils/src/pagination.ts", "../../@zag-js/date-utils/src/parse-date.ts", "../../@zag-js/date-utils/src/preset.ts", "../../@zag-js/live-region/src/index.ts", "../../@zag-js/date-picker/src/date-picker.anatomy.ts", "../../@zag-js/date-picker/src/date-picker.connect.ts", "../../@zag-js/date-picker/src/date-picker.dom.ts", "../../@zag-js/date-picker/src/date-picker.utils.ts", "../../@zag-js/date-picker/src/date-picker.machine.ts", "../../@zag-js/date-picker/src/date-picker.parse.ts", "../../@zag-js/date-picker/src/date-picker.props.ts", "../../@ark-ui/anatomy/dist/date-picker/index.js", "../../@zag-js/remove-scroll/src/index.ts", "../../tabbable/src/index.js", "../../focus-trap/index.js", "../../@zag-js/dialog/src/dialog.anatomy.ts", "../../@zag-js/dialog/src/dialog.dom.ts", "../../@zag-js/dialog/src/dialog.connect.ts", "../../@zag-js/dialog/src/dialog.machine.ts", "../../@zag-js/dialog/src/dialog.props.ts", "../../@zag-js/editable/src/editable.anatomy.ts", "../../@zag-js/editable/src/editable.connect.ts", "../../@zag-js/editable/src/editable.dom.ts", "../../@zag-js/editable/src/editable.machine.ts", "../../@zag-js/editable/src/editable.props.ts", "../../@zag-js/i18n-utils/src/cache.ts", "../../@zag-js/i18n-utils/src/format-number.ts", "../../@zag-js/i18n-utils/src/format-bytes.ts", "../../@zag-js/i18n-utils/src/format-date.ts", "../../@zag-js/i18n-utils/src/format-list.ts", "../../@zag-js/i18n-utils/src/format-relative-time.ts", "../../@zag-js/i18n-utils/src/is-rtl.ts", "../../@zag-js/i18n-utils/src/locale.ts", "../../@zag-js/i18n-utils/src/track-locale.ts", "../../@zag-js/file-utils/src/data-url-to-blob.ts", "../../@zag-js/file-utils/src/download-file.ts", "../../@zag-js/file-utils/src/get-accept-attr.ts", "../../@zag-js/file-utils/src/get-file-data-url.ts", "../../@zag-js/file-utils/src/get-total-file-size.ts", "../../@zag-js/file-utils/src/is-file-equal.ts", "../../@zag-js/file-utils/src/is-valid-file-size.ts", "../../@zag-js/file-utils/src/is-valid-file-type.ts", "../../@zag-js/file-upload/src/file-upload.anatomy.ts", "../../@zag-js/file-upload/src/file-upload.connect.ts", "../../@zag-js/file-upload/src/file-upload.dom.ts", "../../@zag-js/file-upload/src/file-upload.utils.ts", "../../@zag-js/file-upload/src/file-upload.machine.ts", "../../@zag-js/file-upload/src/file-upload.props.ts", "../../@zag-js/hover-card/src/hover-card.anatomy.ts", "../../@zag-js/hover-card/src/hover-card.connect.ts", "../../@zag-js/hover-card/src/hover-card.dom.ts", "../../@zag-js/hover-card/src/hover-card.machine.ts", "../../@zag-js/hover-card/src/hover-card.props.ts", "../../@zag-js/rect-utils/src/affine-transform.ts", "../../@zag-js/rect-utils/src/align.ts", "../../@zag-js/rect-utils/src/clamp.ts", "../../@zag-js/rect-utils/src/rect.ts", "../../@zag-js/rect-utils/src/intersection.ts", "../../@zag-js/rect-utils/src/distance.ts", "../../@zag-js/rect-utils/src/closest.ts", "../../@zag-js/rect-utils/src/constrain.ts", "../../@zag-js/rect-utils/src/contains.ts", "../../@zag-js/rect-utils/src/equality.ts", "../../@zag-js/rect-utils/src/from-element.ts", "../../@zag-js/rect-utils/src/from-points.ts", "../../@zag-js/rect-utils/src/union.ts", "../../@zag-js/rect-utils/src/from-range.ts", "../../@zag-js/rect-utils/src/from-rotation.ts", "../../@zag-js/rect-utils/src/from-window.ts", "../../@zag-js/rect-utils/src/operations.ts", "../../@zag-js/rect-utils/src/polygon.ts", "../../@zag-js/rect-utils/src/compass.ts", "../../@zag-js/rect-utils/src/resize.ts", "../../@zag-js/menu/src/menu.anatomy.ts", "../../@zag-js/menu/src/menu.connect.ts", "../../@zag-js/menu/src/menu.dom.ts", "../../@zag-js/menu/src/menu.machine.ts", "../../@zag-js/menu/src/menu.props.ts", "../../@zag-js/number-utils/src/number.ts", "../../@zag-js/number-utils/src/number-format.ts", "../../@zag-js/number-utils/src/transform.ts", "../../@internationalized/number/dist/packages/@internationalized/number/src/NumberFormatter.ts", "../../@internationalized/number/dist/packages/@internationalized/number/src/NumberParser.ts", "../../@zag-js/number-input/src/number-input.anatomy.ts", "../../@zag-js/number-input/src/number-input.connect.ts", "../../@zag-js/number-input/src/number-input.dom.ts", "../../@zag-js/number-input/src/number-input.machine.ts", "../../@zag-js/number-input/src/cursor.ts", "../../@zag-js/number-input/src/number-input.utils.ts", "../../@zag-js/pagination/src/pagination.anatomy.ts", "../../@zag-js/pagination/src/pagination.connect.ts", "../../@zag-js/pagination/src/pagination.dom.ts", "../../@zag-js/pagination/src/pagination.utils.ts", "../../@zag-js/pagination/src/pagination.machine.ts", "../../@zag-js/pagination/src/pagination.props.ts", "../../@zag-js/pin-input/src/pin-input.anatomy.ts", "../../@zag-js/pin-input/src/pin-input.connect.ts", "../../@zag-js/pin-input/src/pin-input.dom.ts", "../../@zag-js/pin-input/src/pin-input.utils.ts", "../../@zag-js/pin-input/src/pin-input.machine.ts", "../../@zag-js/popover/src/popover.anatomy.ts", "../../@zag-js/popover/src/popover.connect.ts", "../../@zag-js/popover/src/popover.dom.ts", "../../@zag-js/popover/src/popover.machine.ts", "../../@zag-js/popover/src/popover.props.ts", "../../@zag-js/progress/src/progress.anatomy.ts", "../../@zag-js/progress/src/progress.dom.ts", "../../@zag-js/progress/src/progress.connect.ts", "../../@zag-js/progress/src/progress.machine.ts", "../../@zag-js/progress/src/progress.props.ts", "../../proxy-memoize/dist/memoize.js", "../../uqr/dist/index.mjs", "../../@zag-js/qr-code/src/qr-code.anatomy.ts", "../../@zag-js/qr-code/src/qr-code.connect.ts", "../../@zag-js/qr-code/src/qr-code.dom.ts", "../../@zag-js/qr-code/src/qr-code.machine.ts", "../../@zag-js/qr-code/src/qr-code.props.ts", "../../@zag-js/element-rect/src/index.ts", "../../@zag-js/radio-group/src/radio-group.anatomy.ts", "../../@zag-js/radio-group/src/radio-group.connect.ts", "../../@zag-js/radio-group/src/radio-group.dom.ts", "../../@zag-js/radio-group/src/radio-group.machine.ts", "../../@zag-js/radio-group/src/radio-group.props.ts", "../../@zag-js/rating-group/src/rating-group.anatomy.ts", "../../@zag-js/rating-group/src/rating-group.connect.ts", "../../@zag-js/rating-group/src/rating-group.dom.ts", "../../@zag-js/rating-group/src/rating-group.machine.ts", "../../@zag-js/rating-group/src/rating-group.props.ts", "../../@ark-ui/anatomy/dist/segment-group/index.js", "../../@zag-js/select/src/select.anatomy.ts", "../../@zag-js/select/src/select.collection.ts", "../../@zag-js/select/src/select.connect.ts", "../../@zag-js/select/src/select.dom.ts", "../../@zag-js/select/src/select.machine.ts", "../../@zag-js/select/src/select.props.ts", "../../@ark-ui/anatomy/dist/select/index.js", "../../perfect-freehand/dist/esm/index.mjs", "../../@zag-js/signature-pad/src/signature-pad.anatomy.ts", "../../@zag-js/signature-pad/src/signature-pad.connect.ts", "../../@zag-js/signature-pad/src/signature-pad.dom.ts", "../../@zag-js/signature-pad/src/signature-pad.machine.ts", "../../@zag-js/signature-pad/src/get-svg-path.ts", "../../@zag-js/signature-pad/src/signature-pad.props.ts", "../../@zag-js/element-size/src/track-size.ts", "../../@zag-js/element-size/src/track-sizes.ts", "../../@zag-js/slider/src/slider.anatomy.ts", "../../@zag-js/slider/src/slider.connect.ts", "../../@zag-js/slider/src/slider.dom.ts", "../../@zag-js/slider/src/slider.style.ts", "../../@zag-js/slider/src/slider.utils.ts", "../../@zag-js/slider/src/slider.machine.ts", "../../@zag-js/slider/src/slider.props.ts", "../../@zag-js/splitter/src/splitter.anatomy.ts", "../../@zag-js/splitter/src/splitter.connect.ts", "../../@zag-js/splitter/src/splitter.dom.ts", "../../@zag-js/splitter/src/splitter.utils.ts", "../../@zag-js/splitter/src/splitter.machine.ts", "../../@zag-js/splitter/src/splitter.props.ts", "../../@zag-js/switch/src/switch.anatomy.ts", "../../@zag-js/switch/src/switch.connect.ts", "../../@zag-js/switch/src/switch.dom.ts", "../../@zag-js/switch/src/switch.machine.ts", "../../@zag-js/switch/src/switch.props.ts", "../../@zag-js/tabs/src/tabs.anatomy.ts", "../../@zag-js/tabs/src/tabs.connect.ts", "../../@zag-js/tabs/src/tabs.dom.ts", "../../@zag-js/tabs/src/tabs.machine.ts", "../../@zag-js/tabs/src/tabs.props.ts", "../../@zag-js/auto-resize/src/index.ts", "../../@zag-js/tags-input/src/tags-input.anatomy.ts", "../../@zag-js/tags-input/src/tags-input.connect.ts", "../../@zag-js/tags-input/src/tags-input.dom.ts", "../../@zag-js/tags-input/src/tags-input.machine.ts", "../../@zag-js/tags-input/src/tags-input.props.ts", "../../@zag-js/toast/src/toast-group.connect.ts", "../../@zag-js/toast/src/toast.anatomy.ts", "../../@zag-js/toast/src/toast.dom.ts", "../../@zag-js/toast/src/toast.utils.ts", "../../@zag-js/toast/src/toast-group.machine.ts", "../../@zag-js/toast/src/toast.machine.ts", "../../@zag-js/toast/src/toast.connect.ts", "../../@zag-js/toast/src/index.ts", "../../@zag-js/toggle-group/src/toggle-group.anatomy.ts", "../../@zag-js/toggle-group/src/toggle-group.connect.ts", "../../@zag-js/toggle-group/src/toggle-group.dom.ts", "../../@zag-js/toggle-group/src/toggle-group.machine.ts", "../../@zag-js/toggle-group/src/toggle-group.props.ts", "../../@zag-js/tooltip/src/tooltip.anatomy.ts", "../../@zag-js/tooltip/src/tooltip.connect.ts", "../../@zag-js/tooltip/src/tooltip.dom.ts", "../../@zag-js/tooltip/src/tooltip.store.ts", "../../@zag-js/tooltip/src/tooltip.machine.ts", "../../@zag-js/tooltip/src/tooltip.props.ts", "../../@zag-js/tree-view/src/tree-view.anatomy.ts", "../../@zag-js/tree-view/src/tree-view.connect.ts", "../../@zag-js/tree-view/src/tree-view.dom.ts", "../../@zag-js/tree-view/src/tree-view.machine.ts", "../../@ark-ui/react/dist/components/carousel/carousel-indicator.js", "../../@ark-ui/react/dist/components/carousel/carousel-indicator-group.js", "../../@ark-ui/react/dist/components/carousel/carousel-item.js", "../../@ark-ui/react/dist/components/carousel/carousel-item-group.js", "../../@ark-ui/react/dist/components/carousel/carousel-next-trigger.js", "../../@ark-ui/react/dist/components/carousel/carousel-prev-trigger.js", "../../@ark-ui/react/dist/components/carousel/carousel-root.js", "../../@ark-ui/react/dist/components/carousel/use-carousel.js", "../../@ark-ui/react/dist/components/carousel/carousel-root-provider.js", "../../@ark-ui/react/dist/components/carousel/carousel-viewport.js", "../../@ark-ui/react/dist/components/carousel/carousel.js", "../../@ark-ui/react/dist/components/checkbox/use-checkbox-context.js", "../../@ark-ui/react/dist/components/checkbox/checkbox-context.js", "../../@ark-ui/react/dist/components/checkbox/checkbox-control.js", "../../@ark-ui/react/dist/components/checkbox/checkbox-group.js", "../../@ark-ui/react/dist/utils/use-controllable-state.js", "../../@ark-ui/react/dist/components/checkbox/use-checkbox-group.js", "../../@ark-ui/react/dist/components/checkbox/use-checkbox-group-context.js", "../../@ark-ui/react/dist/components/checkbox/checkbox-hidden-input.js", "../../@ark-ui/react/dist/components/checkbox/checkbox-indicator.js", "../../@ark-ui/react/dist/components/checkbox/checkbox-label.js", "../../@ark-ui/react/dist/components/checkbox/checkbox-root.js", "../../@ark-ui/react/dist/components/checkbox/use-checkbox.js", "../../@ark-ui/react/dist/components/checkbox/checkbox-root-provider.js", "../../@ark-ui/react/dist/components/checkbox/checkbox.js", "../../@ark-ui/react/dist/components/clipboard/use-clipboard-context.js", "../../@ark-ui/react/dist/components/clipboard/clipboard-context.js", "../../@ark-ui/react/dist/components/clipboard/clipboard-control.js", "../../@ark-ui/react/dist/components/clipboard/clipboard-indicator.js", "../../@ark-ui/react/dist/components/clipboard/clipboard-input.js", "../../@ark-ui/react/dist/components/clipboard/clipboard-label.js", "../../@ark-ui/react/dist/components/clipboard/clipboard-root.js", "../../@ark-ui/react/dist/components/clipboard/use-clipboard.js", "../../@ark-ui/react/dist/components/clipboard/clipboard-root-provider.js", "../../@ark-ui/react/dist/components/clipboard/clipboard-trigger.js", "../../@ark-ui/react/dist/components/clipboard/clipboard.js", "../../@ark-ui/react/dist/components/collapsible/collapsible-context.js", "../../@ark-ui/react/dist/components/collapsible/collapsible-root-provider.js", "../../@ark-ui/react/dist/components/collapsible/collapsible-trigger.js", "../../@ark-ui/react/dist/components/collapsible/collapsible.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-area.js", "../../@ark-ui/react/dist/components/color-picker/use-color-picker-area-props-context.js", "../../@ark-ui/react/dist/components/color-picker/use-color-picker-context.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-area-background.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-area-thumb.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-channel-input.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-channel-slider.js", "../../@ark-ui/react/dist/components/color-picker/use-color-picker-channel-props-context.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-channel-slider-thumb.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-channel-slider-track.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-content.js", "../../@ark-ui/react/dist/components/presence/use-presence-context.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-context.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-control.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-eye-dropper-trigger.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-format-select.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-format-trigger.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-hidden-input.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-label.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-positioner.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-root.js", "../../@ark-ui/react/dist/components/presence/split-presence-props.js", "../../@zag-js/presence/src/presence.connect.ts", "../../@zag-js/presence/src/presence.machine.ts", "../../@zag-js/presence/src/presence.props.ts", "../../@ark-ui/react/dist/components/presence/use-presence.js", "../../@ark-ui/react/dist/components/color-picker/use-color-picker.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-root-provider.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-swatch.js", "../../@ark-ui/react/dist/components/color-picker/use-color-picker-swatch-props-context.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-swatch-group.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-swatch-indicator.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-swatch-trigger.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-transparency-grid.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-trigger.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-value-text.js", "../../@ark-ui/react/dist/components/color-picker/color-picker-view.js", "../../@ark-ui/react/dist/components/color-picker/color-picker.js", "../../@ark-ui/react/dist/components/combobox/combobox-clear-trigger.js", "../../@ark-ui/react/dist/components/combobox/use-combobox-context.js", "../../@ark-ui/react/dist/components/combobox/combobox-content.js", "../../@ark-ui/react/dist/components/combobox/combobox-context.js", "../../@ark-ui/react/dist/components/combobox/combobox-control.js", "../../@ark-ui/react/dist/components/combobox/combobox-input.js", "../../@ark-ui/react/dist/components/combobox/combobox-item.js", "../../@ark-ui/react/dist/components/combobox/use-combobox-item-context.js", "../../@ark-ui/react/dist/components/combobox/use-combobox-item-props-context.js", "../../@ark-ui/react/dist/components/combobox/combobox-item-context.js", "../../@ark-ui/react/dist/components/combobox/combobox-item-group.js", "../../@ark-ui/react/dist/components/combobox/use-combobox-item-group-props-context.js", "../../@ark-ui/react/dist/components/combobox/combobox-item-group-label.js", "../../@ark-ui/react/dist/components/combobox/combobox-item-indicator.js", "../../@ark-ui/react/dist/components/combobox/combobox-item-text.js", "../../@ark-ui/react/dist/components/combobox/combobox-label.js", "../../@ark-ui/react/dist/components/combobox/combobox-list.js", "../../@ark-ui/react/dist/components/combobox/combobox-positioner.js", "../../@ark-ui/react/dist/components/combobox/combobox-root.js", "../../@ark-ui/react/dist/components/combobox/use-combobox.js", "../../@ark-ui/react/dist/components/combobox/combobox-root-provider.js", "../../@ark-ui/react/dist/components/combobox/combobox-trigger.js", "../../@ark-ui/react/dist/components/combobox/combobox.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-clear-trigger.js", "../../@ark-ui/react/dist/components/date-picker/use-date-picker-context.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-content.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-context.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-control.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-input.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-label.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-month-select.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-next-trigger.js", "../../@ark-ui/react/dist/components/date-picker/use-date-picker-view-props-context.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-positioner.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-preset-trigger.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-prev-trigger.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-range-text.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-root.js", "../../@ark-ui/react/dist/components/date-picker/use-date-picker.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-root-provider.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-table.js", "../../@ark-ui/react/dist/components/date-picker/use-date-picker-table-props-context.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-table-body.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-table-cell.js", "../../@ark-ui/react/dist/components/date-picker/use-date-picker-table-cell-props-context.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-table-cell-trigger.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-table-head.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-table-header.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-table-row.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-trigger.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-view.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-view-control.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-view-trigger.js", "../../@ark-ui/react/dist/components/date-picker/date-picker-year-select.js", "../../@ark-ui/react/dist/components/date-picker/date-picker.js", "../../@ark-ui/react/dist/components/dialog/dialog-backdrop.js", "../../@ark-ui/react/dist/components/dialog/use-dialog-context.js", "../../@ark-ui/react/dist/components/dialog/dialog-close-trigger.js", "../../@ark-ui/react/dist/components/dialog/dialog-content.js", "../../@ark-ui/react/dist/components/dialog/dialog-context.js", "../../@ark-ui/react/dist/components/dialog/dialog-description.js", "../../@ark-ui/react/dist/components/dialog/dialog-positioner.js", "../../@ark-ui/react/dist/components/dialog/dialog-root.js", "../../@ark-ui/react/dist/components/dialog/use-dialog.js", "../../@ark-ui/react/dist/components/dialog/dialog-root-provider.js", "../../@ark-ui/react/dist/components/dialog/dialog-title.js", "../../@ark-ui/react/dist/components/dialog/dialog-trigger.js", "../../@ark-ui/react/dist/components/dialog/dialog.js", "../../@ark-ui/react/dist/components/editable/editable-area.js", "../../@ark-ui/react/dist/components/editable/use-editable-context.js", "../../@ark-ui/react/dist/components/editable/editable-cancel-trigger.js", "../../@ark-ui/react/dist/components/editable/editable-context.js", "../../@ark-ui/react/dist/components/editable/editable-control.js", "../../@ark-ui/react/dist/components/editable/editable-edit-trigger.js", "../../@ark-ui/react/dist/components/editable/editable-input.js", "../../@ark-ui/react/dist/components/editable/editable-label.js", "../../@ark-ui/react/dist/components/editable/editable-preview.js", "../../@ark-ui/react/dist/components/editable/editable-root.js", "../../@ark-ui/react/dist/components/editable/use-editable.js", "../../@ark-ui/react/dist/components/editable/editable-root-provider.js", "../../@ark-ui/react/dist/components/editable/editable-submit-trigger.js", "../../@ark-ui/react/dist/components/editable/editable.js", "../../@ark-ui/react/dist/components/file-upload/use-file-upload-context.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-context.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-dropzone.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-hidden-input.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-item.js", "../../@ark-ui/react/dist/components/file-upload/use-file-upload-item-props-context.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-item-delete-trigger.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-item-group.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-item-name.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-item-preview.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-item-preview-image.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-item-size-text.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-label.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-root.js", "../../@ark-ui/react/dist/components/file-upload/use-file-upload.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-root-provider.js", "../../@ark-ui/react/dist/components/file-upload/file-upload-trigger.js", "../../@ark-ui/react/dist/components/file-upload/file-upload.js", "../../@ark-ui/react/dist/components/format/format-byte.js", "../../@ark-ui/react/dist/components/format/format-number.js", "../../@ark-ui/react/dist/components/format/format.js", "../../@ark-ui/react/dist/components/hover-card/hover-card-arrow.js", "../../@ark-ui/react/dist/components/hover-card/use-hover-card-context.js", "../../@ark-ui/react/dist/components/hover-card/hover-card-arrow-tip.js", "../../@ark-ui/react/dist/components/hover-card/hover-card-content.js", "../../@ark-ui/react/dist/components/hover-card/hover-card-context.js", "../../@ark-ui/react/dist/components/hover-card/hover-card-positioner.js", "../../@ark-ui/react/dist/components/hover-card/hover-card-root.js", "../../@ark-ui/react/dist/components/hover-card/use-hover-card.js", "../../@ark-ui/react/dist/components/hover-card/hover-card-root-provider.js", "../../@ark-ui/react/dist/components/hover-card/hover-card-trigger.js", "../../@ark-ui/react/dist/components/hover-card/hover-card.js", "../../@ark-ui/react/dist/components/menu/menu-arrow.js", "../../@ark-ui/react/dist/components/menu/use-menu-context.js", "../../@ark-ui/react/dist/components/menu/menu-arrow-tip.js", "../../@ark-ui/react/dist/components/menu/menu-checkbox-item.js", "../../@ark-ui/react/dist/components/menu/use-menu-item-context.js", "../../@ark-ui/react/dist/components/menu/use-menu-option-item-props-context.js", "../../@ark-ui/react/dist/components/menu/menu-content.js", "../../@ark-ui/react/dist/components/menu/menu-context.js", "../../@ark-ui/react/dist/components/menu/menu-context-trigger.js", "../../@ark-ui/react/dist/components/menu/menu-indicator.js", "../../@ark-ui/react/dist/components/menu/menu-item.js", "../../@ark-ui/react/dist/components/menu/menu-item-context.js", "../../@ark-ui/react/dist/components/menu/menu-item-group.js", "../../@ark-ui/react/dist/components/menu/use-menu-item-group-context.js", "../../@ark-ui/react/dist/components/menu/menu-item-group-label.js", "../../@ark-ui/react/dist/components/menu/menu-item-indicator.js", "../../@ark-ui/react/dist/components/menu/menu-item-text.js", "../../@ark-ui/react/dist/components/menu/menu-positioner.js", "../../@ark-ui/react/dist/components/menu/menu-radio-item.js", "../../@ark-ui/react/dist/components/menu/menu-radio-item-group.js", "../../@ark-ui/react/dist/components/menu/menu-root.js", "../../@ark-ui/react/dist/utils/use-effect-once.js", "../../@ark-ui/react/dist/components/menu/use-menu.js", "../../@ark-ui/react/dist/components/menu/use-menu-machine-context.js", "../../@ark-ui/react/dist/components/menu/use-menu-trigger-item-context.js", "../../@ark-ui/react/dist/components/menu/menu-root-provider.js", "../../@ark-ui/react/dist/components/menu/menu-separator.js", "../../@ark-ui/react/dist/components/menu/menu-trigger.js", "../../@ark-ui/react/dist/components/menu/menu-trigger-item.js", "../../@ark-ui/react/dist/components/menu/menu.js", "../../@ark-ui/react/dist/components/number-input/use-number-input-context.js", "../../@ark-ui/react/dist/components/number-input/number-input-context.js", "../../@ark-ui/react/dist/components/number-input/number-input-control.js", "../../@ark-ui/react/dist/components/number-input/number-input-decrement-trigger.js", "../../@ark-ui/react/dist/components/number-input/number-input-increment-trigger.js", "../../@ark-ui/react/dist/components/number-input/number-input-input.js", "../../@ark-ui/react/dist/components/number-input/number-input-label.js", "../../@ark-ui/react/dist/components/number-input/number-input-root.js", "../../@ark-ui/react/dist/components/number-input/use-number-input.js", "../../@ark-ui/react/dist/components/number-input/number-input-root-provider.js", "../../@ark-ui/react/dist/components/number-input/number-input-scrubber.js", "../../@ark-ui/react/dist/components/number-input/number-input.js", "../../@ark-ui/react/dist/components/pagination/use-pagination-context.js", "../../@ark-ui/react/dist/components/pagination/pagination-context.js", "../../@ark-ui/react/dist/components/pagination/pagination-ellipsis.js", "../../@ark-ui/react/dist/components/pagination/pagination-item.js", "../../@ark-ui/react/dist/components/pagination/pagination-next-trigger.js", "../../@ark-ui/react/dist/components/pagination/pagination-prev-trigger.js", "../../@ark-ui/react/dist/components/pagination/pagination-root.js", "../../@ark-ui/react/dist/components/pagination/use-pagination.js", "../../@ark-ui/react/dist/components/pagination/pagination-root-provider.js", "../../@ark-ui/react/dist/components/pagination/pagination.js", "../../@ark-ui/react/dist/components/pin-input/use-pin-input-context.js", "../../@ark-ui/react/dist/components/pin-input/pin-input-context.js", "../../@ark-ui/react/dist/components/pin-input/pin-input-control.js", "../../@ark-ui/react/dist/components/pin-input/pin-input-hidden-input.js", "../../@ark-ui/react/dist/components/pin-input/pin-input-input.js", "../../@ark-ui/react/dist/components/pin-input/pin-input-label.js", "../../@ark-ui/react/dist/components/pin-input/pin-input-root.js", "../../@ark-ui/react/dist/components/pin-input/use-pin-input.js", "../../@ark-ui/react/dist/components/pin-input/pin-input-root-provider.js", "../../@ark-ui/react/dist/components/pin-input/pin-input.js", "../../@ark-ui/react/dist/components/popover/popover-anchor.js", "../../@ark-ui/react/dist/components/popover/use-popover-context.js", "../../@ark-ui/react/dist/components/popover/popover-arrow.js", "../../@ark-ui/react/dist/components/popover/popover-arrow-tip.js", "../../@ark-ui/react/dist/components/popover/popover-close-trigger.js", "../../@ark-ui/react/dist/components/popover/popover-content.js", "../../@ark-ui/react/dist/components/popover/popover-context.js", "../../@ark-ui/react/dist/components/popover/popover-description.js", "../../@ark-ui/react/dist/components/popover/popover-indicator.js", "../../@ark-ui/react/dist/components/popover/popover-positioner.js", "../../@ark-ui/react/dist/components/popover/popover-root.js", "../../@ark-ui/react/dist/components/popover/use-popover.js", "../../@ark-ui/react/dist/components/popover/popover-root-provider.js", "../../@ark-ui/react/dist/components/popover/popover-title.js", "../../@ark-ui/react/dist/components/popover/popover-trigger.js", "../../@ark-ui/react/dist/components/popover/popover.js", "../../@ark-ui/react/dist/components/portal/portal.js", "../../@ark-ui/react/dist/utils/use-is-server.js", "../../@ark-ui/react/dist/components/presence/presence.js", "../../@ark-ui/react/dist/components/progress/progress-circle.js", "../../@ark-ui/react/dist/components/progress/use-progress-context.js", "../../@ark-ui/react/dist/components/progress/progress-circle-range.js", "../../@ark-ui/react/dist/components/progress/progress-circle-track.js", "../../@ark-ui/react/dist/components/progress/progress-context.js", "../../@ark-ui/react/dist/components/progress/progress-label.js", "../../@ark-ui/react/dist/components/progress/progress-range.js", "../../@ark-ui/react/dist/components/progress/progress-root.js", "../../@ark-ui/react/dist/components/progress/use-progress.js", "../../@ark-ui/react/dist/components/progress/progress-root-provider.js", "../../@ark-ui/react/dist/components/progress/progress-track.js", "../../@ark-ui/react/dist/components/progress/progress-value-text.js", "../../@ark-ui/react/dist/components/progress/progress-view.js", "../../@ark-ui/react/dist/components/progress/progress.js", "../../@ark-ui/react/dist/components/qr-code/use-qr-code-context.js", "../../@ark-ui/react/dist/components/qr-code/qr-code-context.js", "../../@ark-ui/react/dist/components/qr-code/qr-code-frame.js", "../../@ark-ui/react/dist/components/qr-code/qr-code-overlay.js", "../../@ark-ui/react/dist/components/qr-code/qr-code-pattern.js", "../../@ark-ui/react/dist/components/qr-code/qr-code-root.js", "../../@ark-ui/react/dist/components/qr-code/use-qr-code.js", "../../@ark-ui/react/dist/components/qr-code/qr-code-root-provider.js", "../../@ark-ui/react/dist/components/qr-code/qr-code.js", "../../@ark-ui/react/dist/components/radio-group/use-radio-group-context.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-context.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-indicator.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-item.js", "../../@ark-ui/react/dist/components/radio-group/use-radio-group-item-context.js", "../../@ark-ui/react/dist/components/radio-group/use-radio-group-item-props-context.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-item-context.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-item-control.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-item-hidden-input.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-item-text.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-label.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-root.js", "../../@ark-ui/react/dist/components/radio-group/use-radio-group.js", "../../@ark-ui/react/dist/components/radio-group/radio-group-root-provider.js", "../../@ark-ui/react/dist/components/radio-group/radio-group.js", "../../@ark-ui/react/dist/components/rating-group/use-rating-group-context.js", "../../@ark-ui/react/dist/components/rating-group/rating-group-context.js", "../../@ark-ui/react/dist/components/rating-group/rating-group-control.js", "../../@ark-ui/react/dist/components/rating-group/rating-group-hidden-input.js", "../../@ark-ui/react/dist/components/rating-group/rating-group-item.js", "../../@ark-ui/react/dist/components/rating-group/use-rating-group-item-context.js", "../../@ark-ui/react/dist/components/rating-group/rating-group-item-context.js", "../../@ark-ui/react/dist/components/rating-group/rating-group-label.js", "../../@ark-ui/react/dist/components/rating-group/rating-group-root.js", "../../@ark-ui/react/dist/components/rating-group/use-rating-group.js", "../../@ark-ui/react/dist/components/rating-group/rating-group-root-provider.js", "../../@ark-ui/react/dist/components/rating-group/rating-group.js", "../../@ark-ui/react/dist/components/segment-group/use-segment-group-context.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-context.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-indicator.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-item.js", "../../@ark-ui/react/dist/components/segment-group/use-segment-group-item-context.js", "../../@ark-ui/react/dist/components/segment-group/use-segment-group-item-props-context.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-item-context.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-item-control.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-item-hidden-input.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-item-text.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-label.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-root.js", "../../@ark-ui/react/dist/components/segment-group/use-segment-group.js", "../../@ark-ui/react/dist/components/segment-group/segment-group-root-provider.js", "../../@ark-ui/react/dist/components/segment-group/segment-group.js", "../../@ark-ui/react/dist/components/select/select-clear-trigger.js", "../../@ark-ui/react/dist/components/select/use-select-context.js", "../../@ark-ui/react/dist/components/select/select-content.js", "../../@ark-ui/react/dist/components/select/select-context.js", "../../@ark-ui/react/dist/components/select/select-control.js", "../../@ark-ui/react/dist/components/select/select-hidden-select.js", "../../@ark-ui/react/dist/components/select/select-indicator.js", "../../@ark-ui/react/dist/components/select/select-item.js", "../../@ark-ui/react/dist/components/select/use-select-item-context.js", "../../@ark-ui/react/dist/components/select/use-select-item-props-context.js", "../../@ark-ui/react/dist/components/select/select-item-context.js", "../../@ark-ui/react/dist/components/select/select-item-group.js", "../../@ark-ui/react/dist/components/select/use-select-item-group-props.js", "../../@ark-ui/react/dist/components/select/select-item-group-label.js", "../../@ark-ui/react/dist/components/select/select-item-indicator.js", "../../@ark-ui/react/dist/components/select/select-item-text.js", "../../@ark-ui/react/dist/components/select/select-label.js", "../../@ark-ui/react/dist/components/select/select-list.js", "../../@ark-ui/react/dist/components/select/select-positioner.js", "../../@ark-ui/react/dist/components/select/select-root.js", "../../@ark-ui/react/dist/components/select/use-select.js", "../../@ark-ui/react/dist/components/select/select-root-provider.js", "../../@ark-ui/react/dist/components/select/select-trigger.js", "../../@ark-ui/react/dist/components/select/select-value-text.js", "../../@ark-ui/react/dist/components/select/select.js", "../../@ark-ui/react/dist/components/signature-pad/signature-pad-clear-trigger.js", "../../@ark-ui/react/dist/components/signature-pad/use-signature-pad-context.js", "../../@ark-ui/react/dist/components/signature-pad/signature-pad-context.js", "../../@ark-ui/react/dist/components/signature-pad/signature-pad-control.js", "../../@ark-ui/react/dist/components/signature-pad/signature-pad-guide.js", "../../@ark-ui/react/dist/components/signature-pad/signature-pad-label.js", "../../@ark-ui/react/dist/components/signature-pad/signature-pad-root.js", "../../@ark-ui/react/dist/components/signature-pad/use-signature-pad.js", "../../@ark-ui/react/dist/components/signature-pad/signature-pad-root-provider.js", "../../@ark-ui/react/dist/components/signature-pad/signature-pad-segment.js", "../../@ark-ui/react/dist/components/signature-pad/signature-pad.js", "../../@ark-ui/react/dist/components/slider/use-slider-context.js", "../../@ark-ui/react/dist/components/slider/slider-context.js", "../../@ark-ui/react/dist/components/slider/slider-control.js", "../../@ark-ui/react/dist/components/slider/slider-hidden-input.js", "../../@ark-ui/react/dist/components/slider/use-slider-thumb-props-context.js", "../../@ark-ui/react/dist/components/slider/slider-label.js", "../../@ark-ui/react/dist/components/slider/slider-marker.js", "../../@ark-ui/react/dist/components/slider/slider-marker-group.js", "../../@ark-ui/react/dist/components/slider/slider-range.js", "../../@ark-ui/react/dist/components/slider/slider-root.js", "../../@ark-ui/react/dist/components/slider/use-slider.js", "../../@ark-ui/react/dist/components/slider/slider-root-provider.js", "../../@ark-ui/react/dist/components/slider/slider-thumb.js", "../../@ark-ui/react/dist/components/slider/slider-track.js", "../../@ark-ui/react/dist/components/slider/slider-value-text.js", "../../@ark-ui/react/dist/components/slider/slider.js", "../../@ark-ui/react/dist/components/splitter/use-splitter-context.js", "../../@ark-ui/react/dist/components/splitter/splitter-context.js", "../../@ark-ui/react/dist/components/splitter/splitter-panel.js", "../../@ark-ui/react/dist/components/splitter/splitter-resize-trigger.js", "../../@ark-ui/react/dist/components/splitter/splitter-root.js", "../../@ark-ui/react/dist/components/splitter/use-splitter.js", "../../@ark-ui/react/dist/components/splitter/splitter-root-provider.js", "../../@ark-ui/react/dist/components/splitter/splitter.js", "../../@ark-ui/react/dist/components/switch/use-switch-context.js", "../../@ark-ui/react/dist/components/switch/switch-context.js", "../../@ark-ui/react/dist/components/switch/switch-control.js", "../../@ark-ui/react/dist/components/switch/switch-hidden-input.js", "../../@ark-ui/react/dist/components/switch/switch-label.js", "../../@ark-ui/react/dist/components/switch/switch-root.js", "../../@ark-ui/react/dist/components/switch/use-switch.js", "../../@ark-ui/react/dist/components/switch/switch-root-provider.js", "../../@ark-ui/react/dist/components/switch/switch-thumb.js", "../../@ark-ui/react/dist/components/switch/switch.js", "../../@ark-ui/react/dist/components/tabs/tab-content.js", "../../@ark-ui/react/dist/components/tabs/use-tabs-context.js", "../../@ark-ui/react/dist/components/tabs/tab-indicator.js", "../../@ark-ui/react/dist/components/tabs/tab-list.js", "../../@ark-ui/react/dist/components/tabs/tab-trigger.js", "../../@ark-ui/react/dist/components/tabs/tabs-context.js", "../../@ark-ui/react/dist/components/tabs/tabs-root.js", "../../@ark-ui/react/dist/components/tabs/use-tabs.js", "../../@ark-ui/react/dist/components/tabs/tabs-root-provider.js", "../../@ark-ui/react/dist/components/tabs/tabs.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-clear-trigger.js", "../../@ark-ui/react/dist/components/tags-input/use-tags-input-context.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-context.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-control.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-hidden-input.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-input.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-item.js", "../../@ark-ui/react/dist/components/tags-input/use-tags-input-item-context.js", "../../@ark-ui/react/dist/components/tags-input/use-tags-input-item-props-context.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-item-context.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-item-delete-trigger.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-item-input.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-item-preview.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-item-text.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-label.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-root.js", "../../@ark-ui/react/dist/components/tags-input/use-tags-input.js", "../../@ark-ui/react/dist/components/tags-input/tags-input-root-provider.js", "../../@ark-ui/react/dist/components/tags-input/tags-input.js", "../../@ark-ui/react/dist/components/toast/create-toaster.js", "../../@ark-ui/react/dist/components/toast/toast-action-trigger.js", "../../@ark-ui/react/dist/components/toast/use-toast-context.js", "../../@ark-ui/react/dist/components/toast/toast-close-trigger.js", "../../@ark-ui/react/dist/components/toast/toast-context.js", "../../@ark-ui/react/dist/components/toast/toast-description.js", "../../@ark-ui/react/dist/components/toast/toast-root.js", "../../@ark-ui/react/dist/components/toast/toast-title.js", "../../@ark-ui/react/dist/components/toast/toaster.js", "../../@ark-ui/react/dist/components/toast/toast.js", "../../@ark-ui/react/dist/components/toggle-group/use-toggle-group-context.js", "../../@ark-ui/react/dist/components/toggle-group/toggle-group-context.js", "../../@ark-ui/react/dist/components/toggle-group/toggle-group-item.js", "../../@ark-ui/react/dist/components/toggle-group/toggle-group-root.js", "../../@ark-ui/react/dist/components/toggle-group/use-toggle-group.js", "../../@ark-ui/react/dist/components/toggle-group/toggle-group-root-provider.js", "../../@ark-ui/react/dist/components/toggle-group/toggle-group.js", "../../@ark-ui/react/dist/components/tooltip/tooltip-arrow.js", "../../@ark-ui/react/dist/components/tooltip/use-tooltip-context.js", "../../@ark-ui/react/dist/components/tooltip/tooltip-arrow-tip.js", "../../@ark-ui/react/dist/components/tooltip/tooltip-content.js", "../../@ark-ui/react/dist/components/tooltip/tooltip-context.js", "../../@ark-ui/react/dist/components/tooltip/tooltip-positioner.js", "../../@ark-ui/react/dist/components/tooltip/tooltip-root.js", "../../@ark-ui/react/dist/components/tooltip/use-tooltip.js", "../../@ark-ui/react/dist/components/tooltip/tooltip-root-provider.js", "../../@ark-ui/react/dist/components/tooltip/tooltip-trigger.js", "../../@ark-ui/react/dist/components/tooltip/tooltip.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-branch.js", "../../@ark-ui/react/dist/components/tree-view/use-tree-view-branch-context.js", "../../@ark-ui/react/dist/components/tree-view/use-tree-view-context.js", "../../@ark-ui/react/dist/components/tree-view/use-tree-view-depth-context.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-branch-content.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-branch-control.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-branch-indicator.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-branch-text.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-branch-trigger.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-context.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-item.js", "../../@ark-ui/react/dist/components/tree-view/use-tree-view-item-context.js", "../../@ark-ui/react/dist/components/tree-view/use-tree-view-item-props-context.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-item-context.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-item-indicator.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-item-text.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-label.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-root.js", "../../@ark-ui/react/dist/components/tree-view/use-tree-view.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-root-provider.js", "../../@ark-ui/react/dist/components/tree-view/tree-view-tree.js", "../../@ark-ui/react/dist/components/tree-view/tree-view.js", "../../@ark-ui/react/dist/providers/environment/environment-provider.js", "../../@ark-ui/react/dist/utils/run-if-fn.js", "../../@ark-ui/react/dist/providers/locale/locale-provider.js"],
  "sourcesContent": ["'use client';\nimport { createContext as createContext$1, useContext } from 'react';\n\nfunction getErrorMessage(hook, provider) {\n  return `${hook} returned \\`undefined\\`. Seems you forgot to wrap component within ${provider}`;\n}\nfunction createContext(options = {}) {\n  const {\n    name,\n    strict = true,\n    hookName = \"useContext\",\n    providerName = \"Provider\",\n    errorMessage,\n    defaultValue\n  } = options;\n  const Context = createContext$1(defaultValue);\n  Context.displayName = name;\n  function useContext$1() {\n    const context = useContext(Context);\n    if (!context && strict) {\n      const error = new Error(errorMessage ?? getErrorMessage(hookName, providerName));\n      error.name = \"ContextError\";\n      Error.captureStackTrace?.(error, useContext$1);\n      throw error;\n    }\n    return context;\n  }\n  return [Context.Provider, useContext$1, Context];\n}\n\nexport { createContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [AccordionProvider, useAccordionContext] = createContext({\n  name: \"AccordionContext\",\n  hookName: \"useAccordionContext\",\n  providerName: \"<AccordionProvider />\"\n});\n\nexport { AccordionProvider, useAccordionContext };\n", "'use client';\nimport { useAccordionContext } from './use-accordion-context.js';\n\nconst AccordionContext = (props) => props.children(useAccordionContext());\n\nexport { AccordionContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { splitItemProps } from '@zag-js/accordion';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { useAccordionContext } from './use-accordion-context.js';\nimport { AccordionItemProvider } from './use-accordion-item-context.js';\nimport { CollapsibleRoot } from '../collapsible/collapsible-root.js';\nimport { useRenderStrategyPropsContext } from '../../utils/render-strategy.js';\nimport { AccordionItemPropsProvider } from './use-accordion-item-props-context.js';\n\nconst AccordionItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = splitItemProps(props);\n  const accordion = useAccordionContext();\n  const renderStrategy = useRenderStrategyPropsContext();\n  const mergedProps = mergeProps(accordion.getItemProps(itemProps), localProps);\n  const item = accordion.getItemState(itemProps);\n  const itemContentProps = accordion.getItemContentProps(itemProps);\n  return /* @__PURE__ */ jsx(AccordionItemPropsProvider, { value: itemProps, children: /* @__PURE__ */ jsx(AccordionItemProvider, { value: item, children: /* @__PURE__ */ jsx(\n    CollapsibleRoot,\n    {\n      ref,\n      open: item.expanded,\n      ids: { content: itemContentProps.id },\n      ...renderStrategy,\n      ...mergedProps\n    }\n  ) }) });\n});\nAccordionItem.displayName = \"AccordionItem\";\n\nexport { AccordionItem };\n", "export interface AnatomyPart {\n  selector: string\n  attrs: Record<\"data-scope\" | \"data-part\", string>\n}\n\nexport type AnatomyInstance<T extends string> = Omit<Anatomy<T>, \"parts\">\n\nexport type AnatomyPartName<T> = T extends AnatomyInstance<infer U> ? U : never\n\nexport interface Anatomy<T extends string> {\n  parts: <U extends string>(...parts: U[]) => AnatomyInstance<U>\n  extendWith: <V extends string>(...parts: V[]) => AnatomyInstance<T | V>\n  build: () => Record<T, AnatomyPart>\n  rename: (newName: string) => Anatomy<T>\n  keys: () => T[]\n}\n\nexport const createAnatomy = <T extends string>(name: string, parts = [] as T[]): Anatomy<T> => ({\n  parts: (...values) => {\n    if (isEmpty(parts)) {\n      return createAnatomy(name, values)\n    }\n    throw new Error(\"createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?\")\n  },\n  extendWith: (...values) => createAnatomy(name, [...parts, ...values]),\n  rename: (newName) => createAnatomy(newName, parts),\n  keys: () => parts,\n  build: () =>\n    [...new Set(parts)].reduce<Record<string, AnatomyPart>>(\n      (prev, part) =>\n        Object.assign(prev, {\n          [part]: {\n            selector: [\n              `&[data-scope=\"${toKebabCase(name)}\"][data-part=\"${toKebabCase(part)}\"]`,\n              `& [data-scope=\"${toKebabCase(name)}\"][data-part=\"${toKebabCase(part)}\"]`,\n            ].join(\", \"),\n            attrs: { \"data-scope\": toKebabCase(name), \"data-part\": toKebabCase(part) },\n          },\n        }),\n      {},\n    ),\n})\n\nconst toKebabCase = (value: string) =>\n  value\n    .replace(/([A-Z])([A-Z])/g, \"$1-$2\")\n    .replace(/([a-z])([A-Z])/g, \"$1-$2\")\n    .replace(/[\\s_]+/g, \"-\")\n    .toLowerCase()\n\nconst isEmpty = <T>(v: T[]): boolean => v.length === 0\n", "import type { Booleanish } from \"./types\"\n\nexport const dataAttr = (guard: boolean | undefined) => (guard ? \"\" : undefined) as Booleanish\nexport const ariaAttr = (guard: boolean | undefined) => (guard ? \"true\" : undefined)\n", "export const MAX_Z_INDEX = 2147483647\n", "export const isHTMLElement = (v: any): v is HTMLElement =>\n  typeof v === \"object\" && v?.nodeType === Node.ELEMENT_NODE && typeof v?.nodeName === \"string\"\n\nexport const isDocument = (el: any): el is Document => el.nodeType === Node.DOCUMENT_NODE\n\nexport const isWindow = (el: any): el is Window => el != null && el === el.window\n\nexport const isVisualViewport = (el: any): el is VisualViewport =>\n  el != null && el.constructor.name === \"VisualViewport\"\n\nexport const getNodeName = (node: Node | Window): string => {\n  if (isHTMLElement(node)) return node.localName || \"\"\n  return \"#document\"\n}\n\nexport function isRootElement(node: Node): boolean {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node))\n}\n\nexport const isNode = (el: any): el is Node => el.nodeType !== undefined\n\nexport const isShadowRoot = (el: any): el is ShadowRoot =>\n  el && isNode(el) && el.nodeType === Node.DOCUMENT_FRAGMENT_NODE && \"host\" in el\n", "import { isHTMLElement } from \"./is\"\n\ntype Target = HTMLElement | EventTarget | null | undefined\n\nexport function contains(parent: Target, child: Target) {\n  if (!parent || !child) return false\n  if (!isHTMLElement(parent) || !isHTMLElement(child)) return false\n  return parent === child || parent.contains(child)\n}\n", "import { isHTMLElement, isDocument, isShadowRoot, isWindow } from \"./is\"\n\nexport function getDocument(el: Element | Window | Node | Document | null) {\n  if (isDocument(el)) return el\n  if (isWindow(el)) return el.document\n  return el?.ownerDocument ?? document\n}\n\nexport function getDocumentElement(el: Element | Node | Window | Document | null): HTMLElement {\n  return getDocument(el).documentElement\n}\n\nexport function getWindow(el: Node | ShadowRoot | Document | undefined) {\n  if (isShadowRoot(el)) return getWindow(el.host)\n  if (isDocument(el)) return el.defaultView ?? window\n  if (isHTMLElement(el)) return el.ownerDocument?.defaultView ?? window\n  return window\n}\n\nexport function getActiveElement(el: HTMLElement): HTMLElement | null {\n  const doc = getDocument(el)\n  let activeElement = doc.activeElement as HTMLElement | null\n\n  while (activeElement?.shadowRoot) {\n    const el = activeElement.shadowRoot.activeElement as HTMLElement | null\n    if (el === activeElement) break\n    else activeElement = el\n  }\n\n  return activeElement\n}\n", "import { getWindow } from \"./env\"\n\nexport type DataUrlType = \"image/png\" | \"image/jpeg\" | \"image/svg+xml\"\n\nexport interface DataUrlOptions {\n  type: DataUrlType\n  quality?: number\n}\n\nexport function getDataUrl(svg: SVGElement | undefined | null, opts: DataUrlOptions): Promise<string> {\n  const { type, quality = 0.92 } = opts\n\n  if (!svg) throw new Error(\"[get-data-url]: could not find the svg element\")\n\n  const win = getWindow(svg)\n  const doc = win.document\n\n  const serializer = new win.XMLSerializer()\n  const source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + serializer.serializeToString(svg)\n  const svgString = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source)\n\n  if (type === \"image/svg+xml\") {\n    return Promise.resolve(svgString)\n  }\n\n  const svgBounds = svg.getBoundingClientRect()\n  const dpr = win.devicePixelRatio || 1\n\n  const canvas = doc.createElement(\"canvas\")\n  const image = new win.Image()\n  image.src = svgString\n\n  canvas.width = svgBounds.width * dpr\n  canvas.height = svgBounds.height * dpr\n\n  const context = canvas.getContext(\"2d\")\n  context!.scale(dpr, dpr)\n\n  return new Promise((resolve) => {\n    image.onload = () => {\n      context!.drawImage(image, 0, 0)\n      resolve(canvas.toDataURL(type, quality))\n    }\n  })\n}\n", "export const isDom = () => typeof document !== \"undefined\"\n\nexport function getPlatform() {\n  const agent = (navigator as any).userAgentData\n  return agent?.platform ?? navigator.platform\n}\n\nconst pt = (v: RegExp) => isDom() && v.test(getPlatform())\nconst ua = (v: RegExp) => isDom() && v.test(navigator.userAgent)\nconst vn = (v: RegExp) => isDom() && v.test(navigator.vendor)\n\nexport const isTouchDevice = () => isDom() && !!navigator.maxTouchPoints\nexport const isMac = () => pt(/^Mac/)\nexport const isSafari = () => isApple() && vn(/apple/i)\nexport const isFirefox = () => ua(/firefox\\//i)\nexport const isApple = () => pt(/mac|iphone|ipad|ipod/i)\nexport const isIos = () => pt(/iP(hone|ad|od)|iOS/)\nexport const isWebKit = () => ua(/AppleWebKit/)\n\nexport const isModKey = (event: Pick<KeyboardEvent, \"metaKey\" | \"ctrlKey\">) =>\n  isApple() ? event.metaKey : event.ctrlKey\n", "import { contains } from \"./contains\"\nimport { isApple } from \"./platform\"\n\nexport function getBeforeInputValue(event: Pick<InputEvent, \"currentTarget\">) {\n  const { selectionStart, selectionEnd, value } = event.currentTarget as HTMLInputElement\n  return value.slice(0, selectionStart!) + (event as any).data + value.slice(selectionEnd!)\n}\n\nfunction getComposedPath(event: any): EventTarget[] | undefined {\n  return event.composedPath?.() ?? event.nativeEvent?.composedPath?.()\n}\n\nexport function getEventTarget<T extends EventTarget>(\n  event: Partial<Pick<UIEvent, \"target\" | \"composedPath\">>,\n): T | null {\n  const composedPath = getComposedPath(event)\n  return (composedPath?.[0] ?? event.target) as T | null\n}\n\nexport const isSelfTarget = (event: Partial<Pick<UIEvent, \"currentTarget\" | \"target\" | \"composedPath\">>) => {\n  return contains(event.currentTarget as Node, getEventTarget(event))\n}\n\nexport function isOpeningInNewTab(event: Pick<MouseEvent, \"currentTarget\" | \"metaKey\" | \"ctrlKey\">) {\n  const element = event.currentTarget as HTMLAnchorElement | HTMLButtonElement | HTMLInputElement | null\n  if (!element) return false\n\n  const isAppleDevice = isApple()\n  if (isAppleDevice && !event.metaKey) return false\n  if (!isAppleDevice && !event.ctrlKey) return false\n\n  const localName = element.localName\n\n  if (localName === \"a\") return true\n  if (localName === \"button\" && element.type === \"submit\") return true\n  if (localName === \"input\" && element.type === \"submit\") return true\n\n  return false\n}\n\nexport function isDownloadingEvent(event: Pick<MouseEvent, \"altKey\" | \"currentTarget\">) {\n  const element = event.currentTarget as HTMLAnchorElement | HTMLButtonElement | HTMLInputElement | null\n  if (!element) return false\n\n  const localName = element.localName\n  if (!event.altKey) return false\n\n  if (localName === \"a\") return true\n  if (localName === \"button\" && element.type === \"submit\") return true\n  if (localName === \"input\" && element.type === \"submit\") return true\n\n  return false\n}\n\nexport function isComposingEvent(event: any) {\n  return event.nativeEvent?.isComposing ?? event.isComposing\n}\n", "export type ItemToId<T> = (v: T) => string\n\nexport const defaultItemToId = <T extends HTMLElement>(v: T) => v.id\n\nexport function itemById<T extends HTMLElement>(v: T[], id: string, itemToId: ItemToId<T> = defaultItemToId) {\n  return v.find((item) => itemToId(item) === id)\n}\n\nexport function indexOfId<T extends HTMLElement>(v: T[], id: string, itemToId: ItemToId<T> = defaultItemToId) {\n  const item = itemById(v, id, itemToId)\n  return item ? v.indexOf(item) : -1\n}\n\nexport function nextById<T extends HTMLElement>(v: T[], id: string, loop = true) {\n  let idx = indexOfId(v, id)\n  idx = loop ? (idx + 1) % v.length : Math.min(idx + 1, v.length - 1)\n  return v[idx]\n}\n\nexport function prevById<T extends HTMLElement>(v: T[], id: string, loop = true) {\n  let idx = indexOfId(v, id)\n  if (idx === -1) return loop ? v[v.length - 1] : null\n  idx = loop ? (idx - 1 + v.length) % v.length : Math.max(0, idx - 1)\n  return v[idx]\n}\n", "export const sanitize = (str: string) =>\n  str\n    .split(\"\")\n    .map((char) => {\n      const code = char.charCodeAt(0)\n      if (code > 0 && code < 128) return char\n      if (code >= 128 && code <= 255) return `/x${code.toString(16)}`.replace(\"/\", \"\\\\\")\n      return \"\"\n    })\n    .join(\"\")\n    .trim()\n", "import { defaultItemToId, indexOfId, type ItemToId } from \"./get-by-id\"\nimport { sanitize } from \"./sanitize\"\n\nconst getValueText = <T extends HTMLElement>(item: T) => sanitize(item.dataset.valuetext ?? item.textContent ?? \"\")\n\nconst match = (valueText: string, query: string) => valueText.trim().toLowerCase().startsWith(query.toLowerCase())\n\nconst wrap = <T>(v: T[], idx: number) => {\n  return v.map((_, index) => v[(Math.max(idx, 0) + index) % v.length])\n}\n\nexport function getByText<T extends HTMLElement>(\n  v: T[],\n  text: string,\n  currentId?: string | null,\n  itemToId: ItemToId<T> = defaultItemToId,\n) {\n  const index = currentId ? indexOfId(v, currentId, itemToId) : -1\n  let items = currentId ? wrap(v, index) : v\n\n  const isSingleKey = text.length === 1\n\n  if (isSingleKey) {\n    items = items.filter((item) => itemToId(item) !== currentId)\n  }\n\n  return items.find((item) => match(getValueText(item), text))\n}\n", "import { getByText } from \"./get-by-text\"\nimport type { ItemToId } from \"./get-by-id\"\n\nexport interface TypeaheadState {\n  keysSoFar: string\n  timer: number\n}\n\nexport interface TypeaheadOptions {\n  state: TypeaheadState\n  activeId: string | null\n  key: string\n  timeout?: number\n  itemToId?: ItemToId<HTMLElement>\n}\n\nfunction getByTypeaheadImpl<T extends HTMLElement>(_items: T[], options: TypeaheadOptions) {\n  const { state, activeId, key, timeout = 350, itemToId } = options\n\n  const search = state.keysSoFar + key\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0])\n\n  const query = isRepeated ? search[0] : search\n\n  let items = _items.slice()\n\n  const next = getByText(items, query, activeId, itemToId)\n\n  function cleanup() {\n    clearTimeout(state.timer)\n    state.timer = -1\n  }\n\n  function update(value: string) {\n    state.keysSoFar = value\n    cleanup()\n\n    if (value !== \"\") {\n      state.timer = +setTimeout(() => {\n        update(\"\")\n        cleanup()\n      }, timeout)\n    }\n  }\n\n  update(search)\n\n  return next\n}\nexport const getByTypeahead = /*#__PURE__*/ Object.assign(getByTypeaheadImpl, {\n  defaultOptions: { keysSoFar: \"\", timer: -1 },\n  isValidEvent: isValidTypeaheadEvent,\n})\n\nfunction isValidTypeaheadEvent(event: Pick<KeyboardEvent, \"key\" | \"ctrlKey\" | \"metaKey\">) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey\n}\n", "import { getWindow } from \"./env\"\n\nconst styleCache = new WeakMap<Element, CSSStyleDeclaration>()\n\nexport function getComputedStyle(el: Element) {\n  if (!styleCache.has(el)) {\n    styleCache.set(el, getWindow(el).getComputedStyle(el))\n  }\n  return styleCache.get(el)!\n}\n", "import { getDocumentElement } from \"./env\"\nimport { getNodeName, isShadowRoot } from \"./is\"\n\nexport function getParentNode(node: Node): Node {\n  if (getNodeName(node) === \"html\") {\n    return node\n  }\n\n  const result =\n    // Step into the shadow DOM of the parent of a slotted node.\n    (node as any).assignedSlot ||\n    // DOM Element detected.\n    node.parentNode ||\n    // ShadowRoot detected.\n    (isShadowRoot(node) && node.host) ||\n    // Fallback.\n    getDocumentElement(node)\n\n  return isShadowRoot(result) ? result.host : result\n}\n", "import { isHTMLElement } from \"./is\"\n\nexport interface ScrollPosition {\n  scrollLeft: number\n  scrollTop: number\n}\n\nexport function getScrollPosition(element: HTMLElement | Window): ScrollPosition {\n  if (isHTMLElement(element)) {\n    return { scrollLeft: element.scrollLeft, scrollTop: element.scrollTop }\n  }\n  return { scrollLeft: element.scrollX, scrollTop: element.scrollY }\n}\n", "const isHTMLElement = (element: any): element is HTMLElement =>\n  typeof element === \"object\" && element !== null && element.nodeType === 1\n\nconst isFrame = (element: any): element is HTMLIFrameElement => isHTMLElement(element) && element.tagName === \"IFRAME\"\n\nfunction isVisible(el: any) {\n  if (!isHTMLElement(el)) return false\n  return el.offsetWidth > 0 || el.offsetHeight > 0 || el.getClientRects().length > 0\n}\n\ntype IncludeContainerType = boolean | \"if-empty\"\n\nfunction hasNegativeTabIndex(element: Element) {\n  const tabIndex = parseInt(element.getAttribute(\"tabindex\") || \"0\", 10)\n  return tabIndex < 0\n}\n\nconst focusableSelector =\n  /*#__PURE__*/ \"input:not([type='hidden']):not([disabled]), select:not([disabled]), \" +\n  \"textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], \" +\n  \"iframe, object, embed, area[href], audio[controls], video[controls], \" +\n  \"[contenteditable]:not([contenteditable='false']), details > summary:first-of-type\"\n\n/**\n * Returns the focusable elements within the element\n */\nexport const getFocusables = (\n  container: Pick<HTMLElement, \"querySelectorAll\"> | null,\n  includeContainer: IncludeContainerType = false,\n) => {\n  if (!container) return []\n  const elements = Array.from(container.querySelectorAll<HTMLElement>(focusableSelector))\n\n  const include = includeContainer == true || (includeContainer == \"if-empty\" && elements.length === 0)\n  if (include && isHTMLElement(container) && isFocusable(container)) {\n    elements.unshift(container)\n  }\n\n  const focusableElements = elements.filter(isFocusable)\n\n  focusableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body\n      focusableElements.splice(i, 1, ...getFocusables(frameBody))\n    }\n  })\n\n  return focusableElements\n}\n\n/**\n * Whether this element is focusable\n */\nexport function isFocusable(element: HTMLElement | null): element is HTMLElement {\n  if (!element || element.closest(\"[inert]\")) return false\n  return element.matches(focusableSelector) && isVisible(element)\n}\n\nexport function getFirstFocusable(\n  container: HTMLElement | null,\n  includeContainer?: IncludeContainerType,\n): HTMLElement | null {\n  const [first] = getFocusables(container, includeContainer)\n  return first || null\n}\n\n/**\n * Returns the tabbable elements within the element\n */\nexport function getTabbables(container: HTMLElement | null, includeContainer?: IncludeContainerType) {\n  if (!container) return []\n  const elements = Array.from(container.querySelectorAll<HTMLElement>(focusableSelector))\n  const tabbableElements = elements.filter(isTabbable)\n\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements.unshift(container)\n  }\n\n  tabbableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body\n      const allFrameTabbable = getTabbables(frameBody)\n      tabbableElements.splice(i, 1, ...allFrameTabbable)\n    }\n  })\n\n  if (!tabbableElements.length && includeContainer) {\n    return elements\n  }\n\n  return tabbableElements\n}\n\n/**\n * Whether this element is tabbable\n */\nexport function isTabbable(el: HTMLElement | null): el is HTMLElement {\n  if (el != null && el.tabIndex > 0) return true\n  return isFocusable(el) && !hasNegativeTabIndex(el)\n}\n\n/**\n * Returns the first focusable element within the element\n */\nexport function getFirstTabbable(\n  container: HTMLElement | null,\n  includeContainer?: IncludeContainerType,\n): HTMLElement | null {\n  const [first] = getTabbables(container, includeContainer)\n  return first || null\n}\n\n/**\n * Returns the last focusable element within the element\n */\nexport function getLastTabbable(\n  container: HTMLElement | null,\n  includeContainer?: IncludeContainerType,\n): HTMLElement | null {\n  const elements = getTabbables(container, includeContainer)\n  return elements[elements.length - 1] || null\n}\n\n/**\n * Returns the first and last focusable elements within the element\n */\nexport function getTabbableEdges(\n  container: HTMLElement | null,\n  includeContainer?: IncludeContainerType,\n): [HTMLElement, HTMLElement] | [null, null] {\n  const elements = getTabbables(container, includeContainer)\n  const first = elements[0] || null\n  const last = elements[elements.length - 1] || null\n  return [first, last]\n}\n\n/**\n * Returns the next tabbable element after the current element\n */\nexport function getNextTabbable(container: HTMLElement | null, current?: HTMLElement | null): HTMLElement | null {\n  const tabbables = getTabbables(container)\n  const doc = container?.ownerDocument || document\n  const currentElement = current ?? (doc.activeElement as HTMLElement | null)\n  if (!currentElement) return null\n  const index = tabbables.indexOf(currentElement)\n  return tabbables[index + 1] || null\n}\n", "import { getTabbableEdges, getTabbables } from \"./tabbable\"\n\nexport interface InitialFocusOptions {\n  root: HTMLElement | null\n  getInitialEl?: () => HTMLElement | null\n  enabled?: boolean\n  filter?: (el: HTMLElement) => boolean\n}\n\nexport function getInitialFocus(options: InitialFocusOptions): HTMLElement | undefined {\n  const { root, getInitialEl, filter, enabled = true } = options\n\n  if (!enabled) return\n\n  let node: HTMLElement | null | undefined = null\n\n  node ||= typeof getInitialEl === \"function\" ? getInitialEl() : getInitialEl\n  node ||= root?.querySelector<HTMLElement>(\"[data-autofocus],[autofocus]\")\n\n  if (!node) {\n    const tabbables = getTabbables(root)\n    node = filter ? tabbables.filter(filter)[0] : tabbables[0]\n  }\n\n  return node || root || undefined\n}\n\nexport function isValidTabEvent(event: Pick<KeyboardEvent, \"shiftKey\" | \"currentTarget\">): boolean {\n  const container = event.currentTarget as HTMLElement | null\n  if (!container) return false\n\n  const [firstTabbable, lastTabbable] = getTabbableEdges(container)\n  const doc = container.ownerDocument || document\n\n  if (doc.activeElement === firstTabbable && event.shiftKey) return false\n  if (doc.activeElement === lastTabbable && !event.shiftKey) return false\n  if (!firstTabbable && !lastTabbable) return false\n\n  return true\n}\n", "import { getWindow } from \"./env\"\nimport { isHTMLElement } from \"./is\"\n\nexport function isEditableElement(el: HTMLElement | EventTarget | null) {\n  if (el == null || !isHTMLElement(el)) {\n    return false\n  }\n\n  try {\n    const win = getWindow(el)\n    return (\n      (el instanceof win.HTMLInputElement && el.selectionStart != null) ||\n      /(textarea|select)/.test(el.localName) ||\n      el.isContentEditable\n    )\n  } catch {\n    return false\n  }\n}\n", "export function isHiddenElement(node: HTMLElement) {\n  if (node.parentElement && isHiddenElement(node.parentElement)) return true\n  return node.hidden\n}\n", "import { getWindow } from \"./env\"\n\nconst OVERFLOW_RE = /auto|scroll|overlay|hidden|clip/\n\nexport function isOverflowElement(el: HTMLElement): boolean {\n  const win = getWindow(el)\n  const { overflow, overflowX, overflowY, display } = win.getComputedStyle(el)\n  return OVERFLOW_RE.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display)\n}\n", "export function nextTick(fn: VoidFunction) {\n  const set = new Set<VoidFunction>()\n  function raf(fn: VoidFunction) {\n    const id = globalThis.requestAnimationFrame(fn)\n    set.add(() => globalThis.cancelAnimationFrame(id))\n  }\n  raf(() => raf(fn))\n  return function cleanup() {\n    set.forEach((fn) => fn())\n  }\n}\n\nexport function raf(fn: VoidFunction) {\n  const id = globalThis.requestAnimationFrame(fn)\n  return () => {\n    globalThis.cancelAnimationFrame(id)\n  }\n}\n", "import { raf } from \"./raf\"\n\ntype MaybeElement = HTMLElement | null\ntype NodeOrFn = MaybeElement | (() => MaybeElement)\n\nexport interface ObserveAttributeOptions {\n  attributes: string[]\n  callback(record: MutationRecord): void\n  defer?: boolean\n}\n\nfunction observeAttributesImpl(node: MaybeElement, options: ObserveAttributeOptions) {\n  if (!node) return\n  const { attributes, callback: fn } = options\n  const win = node.ownerDocument.defaultView || window\n  const obs = new win.MutationObserver((changes) => {\n    for (const change of changes) {\n      if (change.type === \"attributes\" && change.attributeName && attributes.includes(change.attributeName)) {\n        fn(change)\n      }\n    }\n  })\n  obs.observe(node, { attributes: true, attributeFilter: attributes })\n  return () => obs.disconnect()\n}\n\nexport function observeAttributes(nodeOrFn: NodeOrFn, options: ObserveAttributeOptions) {\n  const { defer } = options\n  const func = defer ? raf : (v: any) => v()\n  const cleanups: (VoidFunction | undefined)[] = []\n  cleanups.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn\n      cleanups.push(observeAttributesImpl(node, options))\n    }),\n  )\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n", "import { raf } from \"./raf\"\n\ntype MaybeElement = HTMLElement | null\ntype NodeOrFn = MaybeElement | (() => MaybeElement)\n\nexport interface ObserveChildrenOptions {\n  callback: MutationCallback\n  defer?: boolean\n}\n\nfunction observeChildrenImpl(node: MaybeElement, options: ObserveChildrenOptions) {\n  const { callback: fn } = options\n  if (!node) return\n  const win = node.ownerDocument.defaultView || window\n  const obs = new win.MutationObserver(fn)\n  obs.observe(node, { childList: true, subtree: true })\n  return () => obs.disconnect()\n}\n\nexport function observeChildren(nodeOrFn: NodeOrFn, options: ObserveChildrenOptions) {\n  const { defer } = options\n  const func = defer ? raf : (v: any) => v()\n  const cleanups: (VoidFunction | undefined)[] = []\n  cleanups.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn\n      cleanups.push(observeChildrenImpl(node, options))\n    }),\n  )\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n", "import { getDocument, getWindow } from \"./env\"\nimport { getParentNode } from \"./get-parent-node\"\nimport { isHTMLElement, isRootElement, isVisualViewport } from \"./is\"\nimport { isOverflowElement } from \"./is-overflow-element\"\n\nexport type OverflowAncestor = Array<VisualViewport | Window | HTMLElement | null>\n\nexport function getNearestOverflowAncestor(el: Node): HTMLElement {\n  const parentNode = getParentNode(el)\n\n  if (isRootElement(parentNode)) {\n    return getDocument(parentNode).body\n  }\n\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode\n  }\n\n  return getNearestOverflowAncestor(parentNode)\n}\n\nexport function getOverflowAncestors(el: HTMLElement, list: OverflowAncestor = []): OverflowAncestor {\n  const scrollableAncestor = getNearestOverflowAncestor(el)\n  const isBody = scrollableAncestor === el.ownerDocument.body\n  const win = getWindow(scrollableAncestor)\n\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [])\n  }\n\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, []))\n}\n\nconst getRect = (el: HTMLElement | Window | VisualViewport) => {\n  if (isHTMLElement(el)) {\n    return el.getBoundingClientRect()\n  }\n\n  if (isVisualViewport(el)) {\n    return { top: 0, left: 0, bottom: el.height, right: el.width }\n  }\n\n  return { top: 0, left: 0, bottom: el.innerHeight, right: el.innerWidth }\n}\n\nexport function isInView(el: HTMLElement | Window | VisualViewport, ancestor: HTMLElement | Window | VisualViewport) {\n  if (!isHTMLElement(el)) return true\n\n  const ancestorRect = getRect(ancestor)\n  const elRect = el.getBoundingClientRect()\n\n  return (\n    elRect.top >= ancestorRect.top &&\n    elRect.left >= ancestorRect.left &&\n    elRect.bottom <= ancestorRect.bottom &&\n    elRect.right <= ancestorRect.right\n  )\n}\n", "import { raf } from \"./raf\"\nimport { getNextTabbable, getTabbableEdges } from \"./tabbable\"\n\ntype MaybeElement = HTMLElement | null\ntype NodeOrFn = MaybeElement | (() => MaybeElement)\n\ninterface ProxyTabFocusOptions<T = MaybeElement> {\n  triggerElement?: T\n  onFocus?: (elementToFocus: HTMLElement) => void\n  defer?: boolean\n}\n\n/**\n * Proxies tab focus within a container to a reference element\n * when the container is rendered in a portal\n */\n\nfunction proxyTabFocusImpl(container: MaybeElement, options: ProxyTabFocusOptions = {}) {\n  const { triggerElement, onFocus } = options\n\n  const doc = container?.ownerDocument || document\n  const body = doc.body\n\n  function onKeyDown(event: KeyboardEvent) {\n    if (event.key !== \"Tab\") return\n\n    let elementToFocus: MaybeElement | undefined = null\n\n    // get all tabbable elements within the container\n    const [firstTabbable, lastTabbable] = getTabbableEdges(container, true)\n\n    const noTabbableElements = !firstTabbable && !lastTabbable\n\n    // if we're focused on the first tabbable element and the user tabs backwards\n    // we want to focus the reference element\n    if (event.shiftKey && (doc.activeElement === firstTabbable || noTabbableElements)) {\n      elementToFocus = triggerElement\n    } else if (!event.shiftKey && doc.activeElement === triggerElement) {\n      // if we're focused on the reference element and the user tabs forwards\n      // we want to focus the first tabbable element\n      elementToFocus = firstTabbable\n    } else if (!event.shiftKey && (doc.activeElement === lastTabbable || noTabbableElements)) {\n      // if we're focused on the last tabbable element and the user tabs forwards\n      // we want to focus the next tabbable element after the reference element\n      elementToFocus = getNextTabbable(body, triggerElement)\n    }\n\n    if (!elementToFocus) return\n\n    event.preventDefault()\n\n    if (typeof onFocus === \"function\") {\n      onFocus(elementToFocus)\n    } else {\n      elementToFocus.focus()\n    }\n  }\n\n  // listen for the tab key in the capture phase\n  doc?.addEventListener(\"keydown\", onKeyDown, true)\n\n  return () => {\n    doc?.removeEventListener(\"keydown\", onKeyDown, true)\n  }\n}\n\nexport function proxyTabFocus(container: NodeOrFn, options: ProxyTabFocusOptions<NodeOrFn>) {\n  const { defer, triggerElement, ...restOptions } = options\n  const func = defer ? raf : (v: any) => v()\n  const cleanups: (VoidFunction | undefined)[] = []\n  cleanups.push(\n    func(() => {\n      const node = typeof container === \"function\" ? container() : container\n      const trigger = typeof triggerElement === \"function\" ? triggerElement() : triggerElement\n      cleanups.push(proxyTabFocusImpl(node, { triggerElement: trigger, ...restOptions }))\n    }),\n  )\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n", "type Root = Document | Element | null | undefined\n\nexport function queryAll<T extends Element = HTMLElement>(root: Root, selector: string) {\n  return Array.from(root?.querySelectorAll<T>(selector) ?? [])\n}\n\nexport function query<T extends Element = HTMLElement>(root: Root, selector: string) {\n  return root?.querySelector<T>(selector) ?? null\n}\n", "import { getDocument } from \"./env\"\n\nexport interface ScopeContext {\n  getRootNode?(): Document | ShadowRoot | Node\n}\n\nexport function createScope<T>(methods: T) {\n  const screen = {\n    getRootNode: (ctx: ScopeContext) => (ctx.getRootNode?.() ?? document) as Document | ShadowRoot,\n    getDoc: (ctx: ScopeContext) => getDocument(screen.getRootNode(ctx)),\n    getWin: (ctx: ScopeContext) => screen.getDoc(ctx).defaultView ?? window,\n    getActiveElement: (ctx: ScopeContext) => screen.getDoc(ctx).activeElement as HTMLElement | null,\n    isActiveElement: (ctx: ScopeContext, elem: HTMLElement | null) => elem === screen.getActiveElement(ctx),\n    getById: <T extends Element = HTMLElement>(ctx: ScopeContext, id: string) =>\n      screen.getRootNode(ctx).getElementById(id) as T | null,\n    setValue: <T extends { value: string }>(elem: T | null, value: string | number | null | undefined) => {\n      if (elem == null || value == null) return\n      const valueAsString = value.toString()\n      if (elem.value === valueAsString) return\n      elem.value = value.toString()\n    },\n  }\n\n  return { ...screen, ...methods }\n}\n", "import { isOverflowElement } from \"./is-overflow-element\"\n\nexport interface ScrollOptions extends ScrollIntoViewOptions {\n  rootEl: HTMLElement | null\n}\n\nfunction isScrollable(el: HTMLElement): boolean {\n  return el.scrollHeight > el.clientHeight || el.scrollWidth > el.clientWidth\n}\n\nexport function scrollIntoView(el: HTMLElement | null | undefined, options?: ScrollOptions): void {\n  const { rootEl, ...scrollOptions } = options || {}\n\n  if (!el || !rootEl) {\n    return\n  }\n\n  if (!isOverflowElement(rootEl) || !isScrollable(rootEl)) {\n    return\n  }\n\n  el.scrollIntoView(scrollOptions)\n}\n", "const cleanups = new WeakMap<Element, Map<string, () => void>>()\n\nexport function set(element: Element, key: string, setup: () => () => void) {\n  if (!cleanups.has(element)) {\n    cleanups.set(element, new Map())\n  }\n\n  const elementCleanups = cleanups.get(element)!\n  const prevCleanup = elementCleanups.get(key)\n\n  if (!prevCleanup) {\n    elementCleanups.set(key, setup())\n    return () => {\n      elementCleanups.get(key)?.()\n      elementCleanups.delete(key)\n    }\n  }\n\n  const cleanup = setup()\n\n  const nextCleanup = () => {\n    cleanup()\n    prevCleanup()\n    elementCleanups.delete(key)\n  }\n\n  elementCleanups.set(key, nextCleanup)\n\n  return () => {\n    const isCurrent = elementCleanups.get(key) === nextCleanup\n    if (!isCurrent) return\n    cleanup()\n    elementCleanups.set(key, prevCleanup)\n  }\n}\n\nexport function setAttribute(element: Element, attr: string, value: string) {\n  const setup = () => {\n    const previousValue = element.getAttribute(attr)\n    element.setAttribute(attr, value)\n    return () => {\n      if (previousValue == null) {\n        element.removeAttribute(attr)\n      } else {\n        element.setAttribute(attr, previousValue)\n      }\n    }\n  }\n\n  return set(element, attr, setup)\n}\n\nexport function setProperty<T extends Element, K extends keyof T & string>(element: T, property: K, value: T[K]) {\n  const setup = () => {\n    const exists = property in element\n    const previousValue = element[property]\n    element[property] = value\n    return () => {\n      if (!exists) {\n        delete element[property]\n      } else {\n        element[property] = previousValue\n      }\n    }\n  }\n\n  return set(element, property, setup)\n}\n\nexport function setStyle(element: HTMLElement | null | undefined, style: Partial<CSSStyleDeclaration>) {\n  if (!element) return () => {}\n\n  const setup = () => {\n    const prevStyle = element.style.cssText\n    Object.assign(element.style, style)\n    return () => {\n      element.style.cssText = prevStyle\n    }\n  }\n\n  return set(element, \"style\", setup)\n}\n", "export const visuallyHiddenStyle = {\n  border: \"0\",\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  margin: \"-1px\",\n  overflow: \"hidden\",\n  padding: \"0\",\n  position: \"absolute\",\n  width: \"1px\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\",\n} as const\n", "import { isHTMLElement } from \"./is\"\n\ntype ElementGetter = () => Element | null\n\nconst fps = 1000 / 60\n\nexport function waitForElement(query: ElementGetter, cb: (el: HTMLElement) => void) {\n  const el = query()\n\n  if (isHTMLElement(el) && el.isConnected) {\n    cb(el)\n    return () => void 0\n  } else {\n    const timerId = setInterval(() => {\n      const el = query()\n      if (isHTMLElement(el) && el.isConnected) {\n        cb(el)\n        clearInterval(timerId)\n      }\n    }, fps)\n\n    return () => clearInterval(timerId)\n  }\n}\n\nexport function waitForElements(queries: ElementGetter[], cb: (el: HTMLElement) => void) {\n  const cleanups: VoidFunction[] = []\n\n  queries?.forEach((query) => {\n    const clean = waitForElement(query, cb)\n    cleanups.push(clean)\n  })\n\n  return () => {\n    cleanups.forEach((fn) => fn())\n  }\n}\n", "import { isIos, nextTick, raf } from \"@zag-js/dom-query\"\n\ntype State = \"default\" | \"disabled\" | \"restoring\"\n\nlet state: State = \"default\"\nlet userSelect = \"\"\nconst elementMap = new WeakMap<HTMLElement, string>()\n\nexport interface DisableTextSelectionOptions<T = MaybeElement> {\n  target?: T\n  doc?: Document\n  defer?: boolean\n}\n\nfunction disableTextSelectionImpl(options: DisableTextSelectionOptions = {}) {\n  const { target, doc } = options\n\n  const docNode = doc ?? document\n  const rootEl = docNode.documentElement\n\n  if (isIos()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect\n      rootEl.style.webkitUserSelect = \"none\"\n    }\n\n    state = \"disabled\"\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect)\n    target.style.userSelect = \"none\"\n  }\n\n  return () => restoreTextSelection({ target, doc: docNode })\n}\n\nexport function restoreTextSelection(options: DisableTextSelectionOptions = {}) {\n  const { target, doc } = options\n\n  const docNode = doc ?? document\n  const rootEl = docNode.documentElement\n\n  if (isIos()) {\n    if (state !== \"disabled\") return\n    state = \"restoring\"\n\n    setTimeout(() => {\n      nextTick(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\"\n          }\n          userSelect = \"\"\n          state = \"default\"\n        }\n      })\n    }, 300)\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target)\n\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect ?? \"\"\n      }\n\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\")\n      }\n      elementMap.delete(target)\n    }\n  }\n}\n\ntype MaybeElement = HTMLElement | null | undefined\n\ntype NodeOrFn = MaybeElement | (() => MaybeElement)\n\nexport function disableTextSelection(options: DisableTextSelectionOptions<NodeOrFn> = {}) {\n  const { defer, target, ...restOptions } = options\n  const func = defer ? raf : (v: any) => v()\n  const cleanups: (VoidFunction | undefined)[] = []\n  cleanups.push(\n    func(() => {\n      const node = typeof target === \"function\" ? target() : target\n      cleanups.push(disableTextSelectionImpl({ ...restOptions, target: node }))\n    }),\n  )\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n", "interface EventMap extends DocumentEventMap, WindowEventMap, HTMLElementEventMap {}\n\ntype Node = Document | HTMLElement | EventTarget | null\n\ntype Target = (() => Node) | Node\n\nexport const addDomEvent = <K extends keyof EventMap>(\n  target: Target,\n  eventName: K,\n  handler: (event: EventMap[K]) => void,\n  options?: boolean | AddEventListenerOptions,\n) => {\n  const node = typeof target === \"function\" ? target() : target\n  node?.addEventListener(eventName, handler as any, options)\n  return () => {\n    node?.removeEventListener(eventName, handler as any, options)\n  }\n}\n", "import { isMac } from \"@zag-js/dom-query\"\n\nexport function isKeyboardClick(e: Pick<MouseEvent, \"detail\" | \"clientX\" | \"clientY\">) {\n  return e.detail === 0 || (e.clientX === 0 && e.clientY === 0)\n}\n\nexport function isPrintableKey(e: Pick<KeyboardEvent, \"key\" | \"ctrlKey\" | \"metaKey\">): boolean {\n  return e.key.length === 1 && !e.ctrlKey && !e.metaKey\n}\n\nexport function isVirtualPointerEvent(e: PointerEvent) {\n  return (\n    (e.width === 0 && e.height === 0) ||\n    (e.width === 1 && e.height === 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === \"mouse\")\n  )\n}\n\nexport function isVirtualClick(e: MouseEvent | PointerEvent): boolean {\n  if ((e as any).mozInputSource === 0 && e.isTrusted) return true\n  return e.detail === 0 && !(e as PointerEvent).pointerType\n}\n\nexport const isLeftClick = (e: Pick<MouseEvent, \"button\">) => e.button === 0\n\nexport const isContextMenuEvent = (e: Pick<MouseEvent, \"button\" | \"ctrlKey\" | \"metaKey\">) => {\n  return e.button === 2 || (isMac() && e.ctrlKey && e.button === 0)\n}\n\nexport const isModifierKey = (e: Pick<KeyboardEvent, \"ctrlKey\" | \"metaKey\" | \"altKey\">) =>\n  e.ctrlKey || e.altKey || e.metaKey\n", "import { isFirefox } from \"@zag-js/dom-query\"\nimport { queueBeforeEvent } from \"./queue-before-event\"\n\nfunction isLinkElement(element: HTMLElement | null | undefined) {\n  return element?.matches(\"a[href]\") ?? false\n}\n\nexport function clickIfLink(element: HTMLElement | null | undefined) {\n  if (!isLinkElement(element)) return\n  const click = () => element!.click()\n  if (isFirefox()) {\n    queueBeforeEvent(element!, \"keyup\", click)\n  } else {\n    queueMicrotask(click)\n  }\n}\n", "export function queueBeforeEvent(element: Element, type: string, cb: () => void) {\n  const createTimer = (callback: () => void) => {\n    const timerId = requestAnimationFrame(callback)\n    return () => cancelAnimationFrame(timerId)\n  }\n\n  const cancelTimer = createTimer(() => {\n    element.removeEventListener(type, callSync, true)\n    cb()\n  })\n  const callSync = () => {\n    cancelTimer()\n    cb()\n  }\n\n  element.addEventListener(type, callSync, { once: true, capture: true })\n  return cancelTimer\n}\n", "export function fireCustomEvent(el: HTMLElement | null, type: string, init?: CustomEventInit) {\n  if (!el) return\n  const win = el.ownerDocument.defaultView || window\n  const event = new win.CustomEvent(type, init)\n  return el.dispatchEvent(event)\n}\n\nexport function fireBlurEvent(el: HTMLElement, init?: FocusEventInit) {\n  const win = el.ownerDocument.defaultView || window\n  const event = new win.FocusEvent(\"blur\", init)\n  const allowed = el.dispatchEvent(event)\n  const bubbleInit = { ...init, bubbles: true }\n  el.dispatchEvent(new win.FocusEvent(\"focusout\", bubbleInit))\n  return allowed\n}\n", "import type { EventKeyOptions } from \"./types\"\n\nconst keyMap = {\n  Up: \"ArrowUp\",\n  Down: \"ArrowDown\",\n  Esc: \"Escape\",\n  \" \": \"Space\",\n  \",\": \"Comma\",\n  Left: \"ArrowLeft\",\n  Right: \"ArrowRight\",\n}\n\nconst rtlKeyMap = {\n  ArrowLeft: \"ArrowRight\",\n  ArrowRight: \"ArrowLeft\",\n}\n\n/**\n * Determine the event key based on text direction.\n */\nexport function getEventKey(event: Pick<KeyboardEvent, \"key\">, options: EventKeyOptions = {}) {\n  const { dir = \"ltr\", orientation = \"horizontal\" } = options\n\n  let { key } = event\n  key = keyMap[key] ?? key // normalize key\n\n  const isRtl = dir === \"rtl\" && orientation === \"horizontal\"\n\n  if (isRtl && key in rtlKeyMap) {\n    key = rtlKeyMap[key]\n  }\n\n  return key\n}\n", "type PointType = \"page\" | \"client\"\n\nfunction pointFromTouch(e: TouchEvent, type: PointType = \"client\") {\n  const point = e.touches[0] || e.changedTouches[0]\n  return { x: point[`${type}X`], y: point[`${type}Y`] }\n}\n\nfunction pointFromMouse(point: MouseEvent | PointerEvent, type: PointType = \"client\") {\n  return { x: point[`${type}X`], y: point[`${type}Y`] }\n}\n\ntype AnyPointerEvent = MouseEvent | TouchEvent | PointerEvent\n\nconst isTouchEvent = (event: AnyPointerEvent): event is TouchEvent => \"touches\" in event && event.touches.length > 0\n\nexport function getEventPoint(event: any, type: PointType = \"client\") {\n  return isTouchEvent(event) ? pointFromTouch(event, type) : pointFromMouse(event, type)\n}\n", "const PAGE_KEYS = new Set([\"PageUp\", \"PageDown\"])\nconst ARROW_KEYS = new Set([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"])\n\n/**\n * Determine the step factor for keyboard events\n */\nexport function getEventStep(event: Pick<KeyboardEvent, \"ctrlKey\" | \"metaKey\" | \"key\" | \"shiftKey\">) {\n  if (event.ctrlKey || event.metaKey) {\n    return 0.1\n  } else {\n    const isPageKey = PAGE_KEYS.has(event.key)\n    const isSkipKey = isPageKey || (event.shiftKey && ARROW_KEYS.has(event.key))\n    return isSkipKey ? 10 : 1\n  }\n}\n", "import type { JSX } from \"@zag-js/types\"\n\ntype NativeEvent<E> =\n  JSX.ChangeEvent<any> extends E ? InputEvent : E extends JSX.SyntheticEvent<any, infer T> ? T : never\n\nexport function getNativeEvent<E>(event: E): NativeEvent<E> {\n  return (event as any).nativeEvent ?? event\n}\n", "function clamp(value: number) {\n  return Math.max(0, Math.min(1, value))\n}\n\nexport type Point = {\n  x: number\n  y: number\n}\n\ntype PercentValueOptions = {\n  inverted?: boolean | { x?: boolean; y?: boolean }\n  dir?: \"ltr\" | \"rtl\"\n  orientation?: \"vertical\" | \"horizontal\"\n}\n\nexport function getRelativePoint(point: Point, element: HTMLElement) {\n  const { left, top, width, height } = element.getBoundingClientRect()\n\n  const offset = { x: point.x - left, y: point.y - top }\n  const percent = { x: clamp(offset.x / width), y: clamp(offset.y / height) }\n\n  function getPercentValue(options: PercentValueOptions = {}) {\n    const { dir = \"ltr\", orientation = \"horizontal\", inverted } = options\n\n    const invertX = typeof inverted === \"object\" ? inverted.x : inverted\n    const invertY = typeof inverted === \"object\" ? inverted.y : inverted\n\n    if (orientation === \"horizontal\") {\n      return dir === \"rtl\" || invertX ? 1 - percent.x : percent.x\n    }\n\n    return invertY ? 1 - percent.y : percent.y\n  }\n\n  return { offset, percent, getPercentValue }\n}\n", "import { addDomEvent } from \"./add-dom-event\"\n\nexport function requestPointerLock(doc: Document, fn?: (locked: boolean) => void) {\n  const body = doc.body\n\n  const supported = \"pointerLockElement\" in doc || \"mozPointerLockElement\" in doc\n  const isLocked = () => !!doc.pointerLockElement\n\n  function onPointerChange() {\n    fn?.(isLocked())\n  }\n\n  function onPointerError(event: Event) {\n    if (isLocked()) fn?.(false)\n    console.error(\"PointerLock error occured:\", event)\n    doc.exitPointerLock()\n  }\n\n  if (!supported) return\n\n  try {\n    body.requestPointerLock()\n  } catch {}\n\n  // prettier-ignore\n  const cleanup = [\n    addDomEvent(doc, \"pointerlockchange\", onPointerChange, false),\n    addDomEvent(doc, \"pointerlockerror\", onPointerError, false)\n  ]\n\n  return () => {\n    cleanup.forEach((cleanup) => cleanup())\n    doc.exitPointerLock()\n  }\n}\n", "import { getWindow, isMac } from \"@zag-js/dom-query\"\nimport { addDomEvent } from \"./add-dom-event\"\nimport { pipe } from \"./pipe\"\n\nexport interface TrackFocusOptions {\n  /**\n   * Callback to be called when the element receives focus and is focus-visible.\n   */\n  onFocus?(e: FocusEvent): void\n  /**\n   * Callback to be called when the element loses focus.\n   */\n  onBlur?(e: FocusEvent): void\n}\n\nconst isValidKey = (e: KeyboardEvent) => {\n  return !(\n    e.metaKey ||\n    (!isMac() && e.altKey) ||\n    e.ctrlKey ||\n    e.key === \"Control\" ||\n    e.key === \"Shift\" ||\n    e.key === \"Meta\"\n  )\n}\n\nexport function trackFocusVisible(node: Element | null, options: TrackFocusOptions) {\n  if (!node) return\n  const { onFocus, onBlur } = options\n\n  const win = getWindow(node)\n\n  let focused = false\n\n  const handleFocus = (e: FocusEvent) => {\n    let isFocusVisible = false\n\n    try {\n      isFocusVisible = node.matches(\":focus-visible\")\n    } catch {\n      isFocusVisible = true\n    }\n\n    if (!isFocusVisible) return\n\n    focused = true\n    onFocus?.(e)\n  }\n\n  const handleBlur = (e: FocusEvent) => {\n    if (!focused) return\n    focused = false\n    onBlur?.(e)\n  }\n\n  const handleKeydown = (e: KeyboardEvent) => {\n    if (!node.matches(\":focus\") || !isValidKey(e)) return\n    focused = true\n    const evt = new win.FocusEvent(\"focus\")\n    onFocus?.(evt)\n  }\n\n  return pipe(\n    addDomEvent(node, \"focusin\", handleFocus),\n    addDomEvent(node, \"focusout\", handleBlur),\n    addDomEvent(node, \"keydown\", handleKeydown, true),\n  )\n}\n", "export const pipe =\n  <T>(...fns: Array<(arg: T) => T>) =>\n  (arg: T) =>\n    fns.reduce((acc, fn) => fn(acc), arg)\n\nexport const noop = () => void 0\n", "import { disableTextSelection } from \"@zag-js/text-selection\"\nimport { addDomEvent } from \"./add-dom-event\"\nimport { getEventPoint } from \"./get-event-point\"\n\ninterface Point {\n  x: number\n  y: number\n}\n\ninterface TimestampedPoint extends Point {\n  /**\n   * The time when the point was recorded.\n   */\n  timestamp: number\n}\n\nexport interface PointerMoveDetails {\n  /**\n   * The current position of the pointer.\n   */\n  point: Point\n  /**\n   * The event that triggered the move.\n   */\n  event: PointerEvent\n  /**\n   * The velocity of the pointer on the x and y axis.\n   */\n  velocity: Point\n}\n\nexport interface PointerMoveHandlers {\n  /**\n   * Called when the pointer is released.\n   */\n  onPointerUp: VoidFunction\n  /**\n   * Called when the pointer moves.\n   */\n  onPointerMove: (details: PointerMoveDetails) => void\n}\n\nexport function trackPointerMove(doc: Document, handlers: PointerMoveHandlers) {\n  const { onPointerMove, onPointerUp } = handlers\n\n  const history: TimestampedPoint[] = []\n\n  const handleMove = (event: PointerEvent) => {\n    const point = getEventPoint(event)\n    history.push({ ...point, timestamp: performance.now() })\n\n    const distance = Math.sqrt(point.x ** 2 + point.y ** 2)\n    const moveBuffer = event.pointerType === \"touch\" ? 10 : 5\n\n    if (distance < moveBuffer) return\n\n    // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n    if (event.pointerType === \"mouse\" && event.button === 0) {\n      onPointerUp()\n      return\n    }\n\n    onPointerMove({ point, event, velocity: getVelocity(history, 0.1) })\n  }\n\n  const cleanups = [\n    addDomEvent(doc, \"pointermove\", handleMove, false),\n    addDomEvent(doc, \"pointerup\", onPointerUp, false),\n    addDomEvent(doc, \"pointercancel\", onPointerUp, false),\n    addDomEvent(doc, \"contextmenu\", onPointerUp, false),\n    disableTextSelection({ doc }),\n  ]\n\n  return () => {\n    cleanups.forEach((cleanup) => cleanup())\n    history.length = 0\n  }\n}\n\nfunction lastDevicePoint(history: TimestampedPoint[]): TimestampedPoint {\n  return history[history.length - 1]\n}\n\nfunction ms(seconds: number): number {\n  return seconds * 1000\n}\n\nfunction sec(milliseconds: number): number {\n  return milliseconds / 1000\n}\n\nfunction getVelocity(history: TimestampedPoint[], timeDelta: number): Point {\n  if (history.length < 2) return { x: 0, y: 0 }\n\n  let i = history.length - 1\n  let timestampedPoint: TimestampedPoint | null = null\n  const lastPoint = lastDevicePoint(history)\n\n  while (i >= 0) {\n    timestampedPoint = history[i]\n    if (lastPoint.timestamp - timestampedPoint.timestamp > ms(timeDelta)) {\n      break\n    }\n    i--\n  }\n\n  if (!timestampedPoint) return { x: 0, y: 0 }\n\n  const time = sec(lastPoint.timestamp - timestampedPoint.timestamp)\n  if (time === 0) return { x: 0, y: 0 }\n\n  const currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time,\n  }\n\n  if (currentVelocity.x === Infinity) currentVelocity.x = 0\n  if (currentVelocity.y === Infinity) currentVelocity.y = 0\n\n  return {\n    x: Math.abs(currentVelocity.x),\n    y: Math.abs(currentVelocity.y),\n  }\n}\n", "import { contains, getDocument, getEventTarget, getWindow } from \"@zag-js/dom-query\"\nimport { addDomEvent } from \"./add-dom-event\"\nimport { getEventPoint } from \"./get-event-point\"\nimport { noop, pipe } from \"./pipe\"\n\ninterface Point {\n  x: number\n  y: number\n}\n\ninterface TapDetails {\n  /**\n   * The current position of the pointer.\n   */\n  point: Point\n  /**\n   * The event that triggered the move.\n   */\n  event: PointerEvent\n}\n\nexport interface TrackPressOptions {\n  /**\n   * The element that will be used to track the pointer events.\n   */\n  pointerNode: Element | null\n  /**\n   * The element that will be used to track the keyboard focus events.\n   */\n  keyboardNode?: Element | null\n  /**\n   * A function that determines if the key is valid for the press event.\n   */\n  isValidKey?(event: KeyboardEvent): boolean\n  /**\n   * A function that will be called when the pointer is pressed.\n   */\n  onPress?(details: TapDetails): void\n  /**\n   * A function that will be called when the pointer is pressed down.\n   */\n  onPressStart?(details: TapDetails): void\n  /**\n   * A function that will be called when the pointer is pressed up or cancelled.\n   */\n  onPressEnd?(details: TapDetails): void\n}\n\nexport function trackPress(options: TrackPressOptions) {\n  const {\n    pointerNode,\n    keyboardNode = pointerNode,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    isValidKey = (e) => e.key === \"Enter\",\n  } = options\n\n  if (!pointerNode) return noop\n\n  const win = getWindow(pointerNode)\n  const doc = getDocument(pointerNode)\n\n  let removeStartListeners: VoidFunction = noop\n  let removeEndListeners: VoidFunction = noop\n  let removeAccessibleListeners: VoidFunction = noop\n\n  const getInfo = (event: PointerEvent): TapDetails => ({\n    point: getEventPoint(event),\n    event,\n  })\n\n  function startPress(event: PointerEvent) {\n    onPressStart?.(getInfo(event))\n  }\n\n  function cancelPress(event: PointerEvent) {\n    onPressEnd?.(getInfo(event))\n  }\n\n  const startPointerPress = (startEvent: PointerEvent) => {\n    removeEndListeners()\n\n    const endPointerPress = (endEvent: PointerEvent) => {\n      const target = getEventTarget<Element>(endEvent)\n      if (contains(pointerNode, target)) {\n        onPress?.(getInfo(endEvent))\n      } else {\n        onPressEnd?.(getInfo(endEvent))\n      }\n    }\n\n    const removePointerUpListener = addDomEvent(win, \"pointerup\", endPointerPress, { passive: !onPress })\n    const removePointerCancelListener = addDomEvent(win, \"pointercancel\", cancelPress, { passive: !onPressEnd })\n\n    removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener)\n\n    if (doc.activeElement === keyboardNode && startEvent.pointerType === \"mouse\") {\n      startEvent.preventDefault()\n    }\n\n    startPress(startEvent)\n  }\n\n  const removePointerListener = addDomEvent(pointerNode, \"pointerdown\", startPointerPress, { passive: !onPressStart })\n  const removeFocusListener = addDomEvent(keyboardNode, \"focus\", startAccessiblePress)\n\n  removeStartListeners = pipe(removePointerListener, removeFocusListener)\n\n  function startAccessiblePress() {\n    const handleKeydown = (keydownEvent: KeyboardEvent) => {\n      if (!isValidKey(keydownEvent)) return\n\n      const handleKeyup = (keyupEvent: KeyboardEvent) => {\n        if (!isValidKey(keyupEvent)) return\n        const evt = new win.PointerEvent(\"pointerup\")\n        const info = getInfo(evt)\n        onPress?.(info)\n        onPressEnd?.(info)\n      }\n\n      removeEndListeners()\n      removeEndListeners = addDomEvent(keyboardNode, \"keyup\", handleKeyup)\n\n      const evt = new win.PointerEvent(\"pointerdown\")\n      startPress(evt)\n    }\n\n    const handleBlur = () => {\n      const evt = new win.PointerEvent(\"pointercancel\")\n      cancelPress(evt)\n    }\n\n    const removeKeydownListener = addDomEvent(keyboardNode, \"keydown\", handleKeydown)\n    const removeBlurListener = addDomEvent(keyboardNode, \"blur\", handleBlur)\n\n    removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener)\n  }\n\n  return function () {\n    removeStartListeners()\n    removeEndListeners()\n    removeAccessibleListeners()\n  }\n}\n", "import { addDomEvent } from \"./add-dom-event\"\n\nexport interface ViewportSize {\n  width: number\n  height: number\n}\n\nexport function trackVisualViewport(doc: Document, fn: (data: ViewportSize) => void) {\n  const win = doc?.defaultView || window\n\n  const onResize = () => {\n    fn?.(getViewportSize(win))\n  }\n\n  onResize()\n\n  return addDomEvent(win.visualViewport ?? win, \"resize\", onResize)\n}\n\nfunction getViewportSize(win: Window): ViewportSize {\n  return {\n    width: win.visualViewport?.width || win.innerWidth,\n    height: win.visualViewport?.height || win.innerHeight,\n  }\n}\n", "export function toArray<T>(v: T | T[] | undefined | null): T[] {\n  if (!v) return []\n  return Array.isArray(v) ? v : [v]\n}\n\nexport const fromLength = (length: number) => Array.from(Array(length).keys())\n\nexport const first = <T>(v: T[]): T | undefined => v[0]\n\nexport const last = <T>(v: T[]): T | undefined => v[v.length - 1]\n\nexport const isEmpty = <T>(v: T[]): boolean => v.length === 0\n\nexport const has = <T>(v: T[], t: any): boolean => v.indexOf(t) !== -1\n\nexport const add = <T>(v: T[], ...items: T[]): T[] => v.concat(items)\n\nexport const remove = <T>(v: T[], item: T): T[] => v.filter((t) => t !== item)\n\nexport const removeAt = <T>(v: T[], i: number): T[] => v.filter((_, idx) => idx !== i)\n\nexport const addOrRemove = <T>(v: T[], item: T): T[] => {\n  if (has(v, item)) return remove(v, item)\n  return add(v, item)\n}\n\nexport function clear<T>(v: T[]): T[] {\n  while (v.length > 0) v.pop()\n  return v\n}\n\nexport type IndexOptions = {\n  step?: number\n  loop?: boolean\n}\n\nexport function nextIndex<T>(v: T[], idx: number, opts: IndexOptions = {}): number {\n  const { step = 1, loop = true } = opts\n  const next = idx + step\n  const len = v.length\n  const last = len - 1\n  if (idx === -1) return step > 0 ? 0 : last\n  if (next < 0) return loop ? last : 0\n  if (next >= len) return loop ? 0 : idx > len ? len : idx\n  return next\n}\n\nexport function next<T>(v: T[], idx: number, opts: IndexOptions = {}): T | undefined {\n  return v[nextIndex(v, idx, opts)]\n}\n\nexport function prevIndex<T>(v: T[], idx: number, opts: IndexOptions = {}): number {\n  const { step = 1, loop = true } = opts\n  return nextIndex(v, idx, { step: -step, loop })\n}\n\nexport function prev<T>(v: T[], index: number, opts: IndexOptions = {}): T | undefined {\n  return v[prevIndex(v, index, opts)]\n}\n\nexport const chunk = <T>(v: T[], size: number): T[][] => {\n  const res: T[][] = []\n  return v.reduce((rows, value, index) => {\n    if (index % size === 0) rows.push([value])\n    else last(rows)?.push(value)\n    return rows\n  }, res)\n}\n", "const isArrayLike = (value: any) => value?.constructor.name === \"Array\"\n\nexport const isEqual = (a: any, b: any): boolean => {\n  if (Object.is(a, b)) return true\n\n  if ((a == null && b != null) || (a != null && b == null)) return false\n\n  if (typeof a?.isEqual === \"function\" && typeof b?.isEqual === \"function\") {\n    return a.isEqual(b)\n  }\n\n  if (typeof a === \"function\" && typeof b === \"function\") {\n    return a.toString() === b.toString()\n  }\n\n  if (isArrayLike(a) && isArrayLike(b)) {\n    return Array.from(a).toString() === Array.from(b).toString()\n  }\n\n  if (!(typeof a === \"object\") || !(typeof b === \"object\")) return false\n\n  const keys = Object.keys(b ?? Object.create(null))\n  const length = keys.length\n\n  for (let i = 0; i < length; i++) {\n    const hasKey = Reflect.has(a, keys[i])\n    if (!hasKey) return false\n  }\n\n  for (let i = 0; i < length; i++) {\n    const key = keys[i]\n    if (!isEqual(a[key], b[key])) return false\n  }\n\n  return true\n}\n", "export type MaybeFunction<T> = T | (() => T)\n\nexport type Nullable<T> = T | null | undefined\n\nexport const runIfFn = <T>(\n  v: T | undefined,\n  ...a: T extends (...a: any[]) => void ? Parameters<T> : never\n): T extends (...a: any[]) => void ? NonNullable<ReturnType<T>> : NonNullable<T> => {\n  const res = typeof v === \"function\" ? v(...a) : v\n  return res ?? undefined\n}\n\nexport const cast = <T>(v: unknown): T => v as T\n\nexport const noop = () => {}\n\nexport const callAll =\n  <T extends (...a: any[]) => void>(...fns: (T | undefined)[]) =>\n  (...a: Parameters<T>) => {\n    fns.forEach(function (fn) {\n      fn?.(...a)\n    })\n  }\n\nexport const uuid = /*#__PURE__*/ (() => {\n  let id = 0\n  return () => {\n    id++\n    return id.toString(36)\n  }\n})()\n\nexport function match<V extends string | number = string, R = unknown>(\n  key: V,\n  record: Record<V, R | ((...args: any[]) => R)>,\n  ...args: any[]\n): R {\n  if (key in record) {\n    const fn = record[key]\n    return typeof fn === \"function\" ? fn(...args) : fn\n  }\n\n  const error = new Error(`No matching key: ${JSON.stringify(key)} in ${JSON.stringify(Object.keys(record))}`)\n  Error.captureStackTrace?.(error, match)\n\n  throw error\n}\n\nexport const tryCatch = <R>(fn: () => R, fallback: () => R) => {\n  try {\n    return fn()\n  } catch (error) {\n    if (error instanceof Error) {\n      Error.captureStackTrace?.(error, tryCatch)\n    }\n    return fallback?.()\n  }\n}\n", "export const isDev = () => process.env.NODE_ENV !== \"production\"\nexport const isArray = (v: any): v is any[] => Array.isArray(v)\nexport const isBoolean = (v: any): v is boolean => v === true || v === false\nexport const isObject = (v: any): v is Record<string, any> => !(v == null || typeof v !== \"object\" || isArray(v))\nexport const isNumber = (v: any): v is number => typeof v === \"number\" && !Number.isNaN(v)\nexport const isString = (v: any): v is string => typeof v === \"string\"\nexport const isFunction = (v: any): v is Function => typeof v === \"function\"\nexport const isNull = (v: any): v is null | undefined => v == null\n\nexport const hasProp = <T extends string>(obj: any, prop: T): obj is Record<T, any> =>\n  Object.prototype.hasOwnProperty.call(obj, prop)\n", "export function compact<T extends Record<string, unknown> | undefined>(obj: T): T {\n  if (!isPlainObject(obj) || obj === undefined) {\n    return obj\n  }\n\n  const keys = Reflect.ownKeys(obj).filter((key) => typeof key === \"string\")\n  const filtered: Partial<T> = {}\n  for (const key of keys) {\n    const value = (obj as any)[key]\n    if (value !== undefined) {\n      filtered[key as keyof T] = compact(value)\n    }\n  }\n  return filtered as T\n}\n\nexport function json(value: any) {\n  return JSON.parse(JSON.stringify(value))\n}\n\nconst isPlainObject = (value: any) => {\n  return value && typeof value === \"object\" && value.constructor === Object\n}\n\nexport function pick<T extends Record<string, any>, K extends keyof T>(obj: T, keys: K[]): Pick<T, K> {\n  const filtered: Partial<T> = {}\n\n  for (const key of keys) {\n    const value = obj[key]\n    if (value !== undefined) {\n      filtered[key] = value\n    }\n  }\n\n  return filtered as any\n}\n", "type Dict = Record<string, any>\n\nexport function splitProps<T extends Dict>(props: T, keys: (keyof T)[]) {\n  const rest: Dict = {}\n  const result: Dict = {}\n\n  const keySet = new Set(keys)\n\n  for (const key in props) {\n    if (keySet.has(key)) {\n      result[key] = props[key]\n    } else {\n      rest[key] = props[key]\n    }\n  }\n\n  return [result, rest]\n}\n\nexport const createSplitProps = <T extends Dict>(keys: (keyof T)[]) => {\n  return function split<Props extends T>(props: Props) {\n    return splitProps(props, keys) as [T, Omit<Props, keyof T>]\n  }\n}\n", "export function warn(m: string): void\nexport function warn(c: boolean, m: string): void\nexport function warn(...a: any[]): void {\n  const m = a.length === 1 ? a[0] : a[1]\n  const c = a.length === 2 ? a[0] : true\n  if (c && process.env.NODE_ENV !== \"production\") {\n    console.warn(m)\n  }\n}\n\nexport function invariant(m: string): void\nexport function invariant(c: boolean, m: string): void\nexport function invariant(...a: any[]): void {\n  const m = a.length === 1 ? a[0] : a[1]\n  const c = a.length === 2 ? a[0] : true\n  if (c && process.env.NODE_ENV !== \"production\") {\n    throw new Error(m)\n  }\n}\n", "/* eslint @typescript-eslint/no-explicit-any: off */\n// symbols\nconst TRACK_MEMO_SYMBOL = Symbol();\nconst GET_ORIGINAL_SYMBOL = Symbol();\n// properties\nconst AFFECTED_PROPERTY = 'a';\nconst IS_TARGET_COPIED_PROPERTY = 'f';\nconst PROXY_PROPERTY = 'p';\nconst PROXY_CACHE_PROPERTY = 'c';\nconst TARGET_CACHE_PROPERTY = 't';\nconst NEXT_OBJECT_PROPERTY = 'n';\nconst CHANGED_PROPERTY = 'g';\nconst HAS_KEY_PROPERTY = 'h';\nconst ALL_OWN_KEYS_PROPERTY = 'w';\nconst HAS_OWN_KEY_PROPERTY = 'o';\nconst KEYS_PROPERTY = 'k';\n// function to create a new bare proxy\nlet newProxy = (target, handler) => new Proxy(target, handler);\n// get object prototype\nconst getProto = Object.getPrototypeOf;\nconst objectsToTrack = new WeakMap();\n// check if obj is a plain object or an array\nconst isObjectToTrack = (obj) => obj &&\n    (objectsToTrack.has(obj)\n        ? objectsToTrack.get(obj)\n        : getProto(obj) === Object.prototype || getProto(obj) === Array.prototype);\n// check if it is object\nconst isObject = (x) => typeof x === 'object' && x !== null;\n// Properties that are both non-configurable and non-writable will break\n// the proxy get trap when we try to return a recursive/child compare proxy\n// from them. We can avoid this by making a copy of the target object with\n// all descriptors marked as configurable, see `copyTargetObject`.\n// See: https://github.com/dai-shi/proxy-compare/pull/8\nconst needsToCopyTargetObject = (obj) => Object.values(Object.getOwnPropertyDescriptors(obj)).some((descriptor) => !descriptor.configurable && !descriptor.writable);\n// Make a copy with all descriptors marked as configurable.\nconst copyTargetObject = (obj) => {\n    if (Array.isArray(obj)) {\n        // Arrays need a special way to copy\n        return Array.from(obj);\n    }\n    // For non-array objects, we create a new object keeping the prototype\n    // with changing all configurable options (otherwise, proxies will complain)\n    const descriptors = Object.getOwnPropertyDescriptors(obj);\n    Object.values(descriptors).forEach((desc) => {\n        desc.configurable = true;\n    });\n    return Object.create(getProto(obj), descriptors);\n};\nconst createProxyHandler = (origObj, isTargetCopied) => {\n    const state = {\n        [IS_TARGET_COPIED_PROPERTY]: isTargetCopied,\n    };\n    let trackObject = false; // for trackMemo\n    const recordUsage = (type, key) => {\n        if (!trackObject) {\n            let used = state[AFFECTED_PROPERTY].get(origObj);\n            if (!used) {\n                used = {};\n                state[AFFECTED_PROPERTY].set(origObj, used);\n            }\n            if (type === ALL_OWN_KEYS_PROPERTY) {\n                used[ALL_OWN_KEYS_PROPERTY] = true;\n            }\n            else {\n                let set = used[type];\n                if (!set) {\n                    set = new Set();\n                    used[type] = set;\n                }\n                set.add(key);\n            }\n        }\n    };\n    const recordObjectAsUsed = () => {\n        trackObject = true;\n        state[AFFECTED_PROPERTY].delete(origObj);\n    };\n    const handler = {\n        get(target, key) {\n            if (key === GET_ORIGINAL_SYMBOL) {\n                return origObj;\n            }\n            recordUsage(KEYS_PROPERTY, key);\n            return createProxy(Reflect.get(target, key), state[AFFECTED_PROPERTY], state[PROXY_CACHE_PROPERTY], state[TARGET_CACHE_PROPERTY]);\n        },\n        has(target, key) {\n            if (key === TRACK_MEMO_SYMBOL) {\n                recordObjectAsUsed();\n                return true;\n            }\n            recordUsage(HAS_KEY_PROPERTY, key);\n            return Reflect.has(target, key);\n        },\n        getOwnPropertyDescriptor(target, key) {\n            recordUsage(HAS_OWN_KEY_PROPERTY, key);\n            return Reflect.getOwnPropertyDescriptor(target, key);\n        },\n        ownKeys(target) {\n            recordUsage(ALL_OWN_KEYS_PROPERTY);\n            return Reflect.ownKeys(target);\n        },\n    };\n    if (isTargetCopied) {\n        handler.set = handler.deleteProperty = () => false;\n    }\n    return [handler, state];\n};\nconst getOriginalObject = (obj) => \n// unwrap proxy\nobj[GET_ORIGINAL_SYMBOL] ||\n    // otherwise\n    obj;\n/**\n * Create a proxy.\n *\n * This function will create a proxy at top level and proxy nested objects as you access them,\n * in order to keep track of which properties were accessed via get/has proxy handlers:\n *\n * NOTE: Printing of WeakMap is hard to inspect and not very readable\n * for this purpose you can use the `affectedToPathList` helper.\n *\n * @param {object} obj - Object that will be wrapped on the proxy.\n * @param {WeakMap<object, unknown>} affected -\n * WeakMap that will hold the tracking of which properties in the proxied object were accessed.\n * @param {WeakMap<object, unknown>} [proxyCache] -\n * WeakMap that will help keep referential identity for proxies.\n * @returns {Proxy<object>} - Object wrapped in a proxy.\n *\n * @example\n * import { createProxy } from 'proxy-compare';\n *\n * const original = { a: \"1\", c: \"2\", d: { e: \"3\" } };\n * const affected = new WeakMap();\n * const proxy = createProxy(original, affected);\n *\n * proxy.a // Will mark as used and track its value.\n * // This will update the affected WeakMap with original as key\n * // and a Set with \"a\"\n *\n * proxy.d // Will mark \"d\" as accessed to track and proxy itself ({ e: \"3\" }).\n * // This will update the affected WeakMap with original as key\n * // and a Set with \"d\"\n */\nexport const createProxy = (obj, affected, proxyCache, targetCache) => {\n    if (!isObjectToTrack(obj))\n        return obj;\n    let targetAndCopied = targetCache && targetCache.get(obj);\n    if (!targetAndCopied) {\n        const target = getOriginalObject(obj);\n        if (needsToCopyTargetObject(target)) {\n            targetAndCopied = [target, copyTargetObject(target)];\n        }\n        else {\n            targetAndCopied = [target];\n        }\n        targetCache === null || targetCache === void 0 ? void 0 : targetCache.set(obj, targetAndCopied);\n    }\n    const [target, copiedTarget] = targetAndCopied;\n    let handlerAndState = proxyCache && proxyCache.get(target);\n    if (!handlerAndState ||\n        handlerAndState[1][IS_TARGET_COPIED_PROPERTY] !== !!copiedTarget) {\n        handlerAndState = createProxyHandler(target, !!copiedTarget);\n        handlerAndState[1][PROXY_PROPERTY] = newProxy(copiedTarget || target, handlerAndState[0]);\n        if (proxyCache) {\n            proxyCache.set(target, handlerAndState);\n        }\n    }\n    handlerAndState[1][AFFECTED_PROPERTY] = affected;\n    handlerAndState[1][PROXY_CACHE_PROPERTY] = proxyCache;\n    handlerAndState[1][TARGET_CACHE_PROPERTY] = targetCache;\n    return handlerAndState[1][PROXY_PROPERTY];\n};\nconst isAllOwnKeysChanged = (prevObj, nextObj) => {\n    const prevKeys = Reflect.ownKeys(prevObj);\n    const nextKeys = Reflect.ownKeys(nextObj);\n    return (prevKeys.length !== nextKeys.length ||\n        prevKeys.some((k, i) => k !== nextKeys[i]));\n};\n/**\n * Compare changes on objects.\n *\n * This will compare the affected properties on tracked objects inside the proxy\n * to check if there were any changes made to it,\n * by default if no property was accessed on the proxy it will attempt to do a\n * reference equality check for the objects provided (Object.is(a, b)). If you access a property\n * on the proxy, then isChanged will only compare the affected properties.\n *\n * @param {object} prevObj - The previous object to compare.\n * @param {object} nextObj - Object to compare with the previous one.\n * @param {WeakMap<object, unknown>} affected -\n * WeakMap that holds the tracking of which properties in the proxied object were accessed.\n * @param {WeakMap<object, unknown>} [cache] -\n * WeakMap that holds a cache of the comparisons for better performance with repetitive comparisons,\n * and to avoid infinite loop with circular structures.\n * @returns {boolean} - Boolean indicating if the affected property on the object has changed.\n *\n * @example\n * import { createProxy, isChanged } from 'proxy-compare';\n *\n * const obj = { a: \"1\", c: \"2\", d: { e: \"3\" } };\n * const affected = new WeakMap();\n *\n * const proxy = createProxy(obj, affected);\n *\n * proxy.a\n *\n * isChanged(obj, { a: \"1\" }, affected) // false\n *\n * proxy.a = \"2\"\n *\n * isChanged(obj, { a: \"1\" }, affected) // true\n */\nexport const isChanged = (prevObj, nextObj, affected, cache, isEqual = Object.is) => {\n    if (isEqual(prevObj, nextObj)) {\n        return false;\n    }\n    if (!isObject(prevObj) || !isObject(nextObj))\n        return true;\n    const used = affected.get(getOriginalObject(prevObj));\n    if (!used)\n        return true;\n    if (cache) {\n        const hit = cache.get(prevObj);\n        if (hit && hit[NEXT_OBJECT_PROPERTY] === nextObj) {\n            return hit[CHANGED_PROPERTY];\n        }\n        // for object with cycles\n        cache.set(prevObj, {\n            [NEXT_OBJECT_PROPERTY]: nextObj,\n            [CHANGED_PROPERTY]: false,\n        });\n    }\n    let changed = null;\n    try {\n        for (const key of used[HAS_KEY_PROPERTY] || []) {\n            changed = Reflect.has(prevObj, key) !== Reflect.has(nextObj, key);\n            if (changed)\n                return changed;\n        }\n        if (used[ALL_OWN_KEYS_PROPERTY] === true) {\n            changed = isAllOwnKeysChanged(prevObj, nextObj);\n            if (changed)\n                return changed;\n        }\n        else {\n            for (const key of used[HAS_OWN_KEY_PROPERTY] || []) {\n                const hasPrev = !!Reflect.getOwnPropertyDescriptor(prevObj, key);\n                const hasNext = !!Reflect.getOwnPropertyDescriptor(nextObj, key);\n                changed = hasPrev !== hasNext;\n                if (changed)\n                    return changed;\n            }\n        }\n        for (const key of used[KEYS_PROPERTY] || []) {\n            changed = isChanged(prevObj[key], nextObj[key], affected, cache, isEqual);\n            if (changed)\n                return changed;\n        }\n        if (changed === null)\n            changed = true;\n        return changed;\n    }\n    finally {\n        if (cache) {\n            cache.set(prevObj, {\n                [NEXT_OBJECT_PROPERTY]: nextObj,\n                [CHANGED_PROPERTY]: changed,\n            });\n        }\n    }\n};\n// explicitly track object with memo\nexport const trackMemo = (obj) => {\n    if (isObjectToTrack(obj)) {\n        return TRACK_MEMO_SYMBOL in obj;\n    }\n    return false;\n};\n/**\n * Unwrap proxy to get the original object.\n *\n * Used to retrieve the original object used to create the proxy instance with `createProxy`.\n *\n * @param {Proxy<object>} obj -  The proxy wrapper of the originial object.\n * @returns {object | null} - Return either the unwrapped object if exists.\n *\n * @example\n * import { createProxy, getUntracked } from 'proxy-compare';\n *\n * const original = { a: \"1\", c: \"2\", d: { e: \"3\" } };\n * const affected = new WeakMap();\n *\n * const proxy = createProxy(original, affected);\n * const originalFromProxy = getUntracked(proxy)\n *\n * Object.is(original, originalFromProxy) // true\n * isChanged(original, originalFromProxy, affected) // false\n */\nexport const getUntracked = (obj) => {\n    if (isObjectToTrack(obj)) {\n        return obj[GET_ORIGINAL_SYMBOL] || null;\n    }\n    return null;\n};\n/**\n * Mark object to be tracked.\n *\n * This function marks an object that will be passed into `createProxy`\n * as marked to track or not. By default only Array and Object are marked to track,\n * so this is useful for example to mark a class instance to track or to mark a object\n * to be untracked when creating your proxy.\n *\n * @param obj - Object to mark as tracked or not.\n * @param mark - Boolean indicating whether you want to track this object or not.\n * @returns - No return.\n *\n * @example\n * import { createProxy, markToTrack, isChanged } from 'proxy-compare';\n *\n * const nested = { e: \"3\" }\n *\n * markToTrack(nested, false)\n *\n * const original = { a: \"1\", c: \"2\", d: nested };\n * const affected = new WeakMap();\n *\n * const proxy = createProxy(original, affected);\n *\n * proxy.d.e\n *\n * isChanged(original, { d: { e: \"3\" } }, affected) // true\n */\nexport const markToTrack = (obj, mark = true) => {\n    objectsToTrack.set(obj, mark);\n};\n/**\n * Convert `affected` to path list\n *\n * `affected` is a weak map which is not printable.\n * This function is can convert it to printable path list.\n * It's for debugging purpose.\n *\n * @param obj - An object that is used with `createProxy`.\n * @param affected - A weak map that is used with `createProxy`.\n * @param onlyWithValues - An optional boolean to exclude object getters.\n * @returns - An array of paths.\n */\nexport const affectedToPathList = (obj, affected, onlyWithValues) => {\n    const list = [];\n    const seen = new WeakSet();\n    const walk = (x, path) => {\n        var _a, _b, _c;\n        if (seen.has(x)) {\n            // for object with cycles\n            return;\n        }\n        if (isObject(x)) {\n            seen.add(x);\n        }\n        const used = isObject(x) && affected.get(getOriginalObject(x));\n        if (used) {\n            (_a = used[HAS_KEY_PROPERTY]) === null || _a === void 0 ? void 0 : _a.forEach((key) => {\n                const segment = `:has(${String(key)})`;\n                list.push(path ? [...path, segment] : [segment]);\n            });\n            if (used[ALL_OWN_KEYS_PROPERTY] === true) {\n                const segment = ':ownKeys';\n                list.push(path ? [...path, segment] : [segment]);\n            }\n            else {\n                (_b = used[HAS_OWN_KEY_PROPERTY]) === null || _b === void 0 ? void 0 : _b.forEach((key) => {\n                    const segment = `:hasOwn(${String(key)})`;\n                    list.push(path ? [...path, segment] : [segment]);\n                });\n            }\n            (_c = used[KEYS_PROPERTY]) === null || _c === void 0 ? void 0 : _c.forEach((key) => {\n                if (!onlyWithValues ||\n                    'value' in (Object.getOwnPropertyDescriptor(x, key) || {})) {\n                    walk(x[key], path ? [...path, key] : [key]);\n                }\n            });\n        }\n        else if (path) {\n            list.push(path);\n        }\n    };\n    walk(obj);\n    return list;\n};\n/**\n * replace newProxy function.\n *\n * This can be used if you want to use proxy-polyfill.\n * Note that proxy-polyfill can't polyfill everything.\n * Use it at your own risk.\n */\nexport const replaceNewProxy = (fn) => {\n    newProxy = fn;\n};\n", "function getGlobal(): any {\n  if (typeof globalThis !== \"undefined\") return globalThis\n  if (typeof self !== \"undefined\") return self\n  if (typeof window !== \"undefined\") return window\n  if (typeof global !== \"undefined\") return global\n}\n\nexport function makeGlobal<T>(key: string, value: () => T): T {\n  const g = getGlobal()\n  if (!g) return value()\n  g[key] ||= value()\n  return g[key]\n}\n", "// Credits: https://github.com/pmndrs/valtio\n\nimport { getUntracked, markToTrack } from \"proxy-compare\"\nimport { makeGlobal } from \"./global\"\n\nconst isDev = process.env.NODE_ENV !== \"production\"\nconst isObject = (x: unknown): x is object => typeof x === \"object\" && x !== null\n\ntype AsRef = { $$valtioRef: true }\n\ntype ProxyObject = object\n\ntype Path = (string | symbol)[]\n\ntype Op =\n  | [op: \"set\", path: Path, value: unknown, prevValue: unknown]\n  | [op: \"delete\", path: Path, prevValue: unknown]\n  | [op: \"resolve\", path: Path, value: unknown]\n  | [op: \"reject\", path: Path, error: unknown]\n\ntype Listener = (op: Op, nextVersion: number) => void\n\ntype AnyFunction = (...args: any[]) => any\n\nexport type Snapshot<T> = T extends AnyFunction\n  ? T\n  : T extends AsRef\n    ? T\n    : T extends Promise<any>\n      ? Awaited<T>\n      : {\n          readonly [K in keyof T]: Snapshot<T[K]>\n        }\n\ntype HandlePromise = <P extends Promise<any>>(promise: P) => Awaited<P>\n\ntype CreateSnapshot = <T extends object>(target: T, version: number, handlePromise?: HandlePromise) => T\n\ntype RemoveListener = () => void\ntype AddListener = (listener: Listener) => RemoveListener\n\ntype ProxyState = readonly [\n  target: object,\n  ensureVersion: (nextCheckVersion?: number) => number,\n  createSnapshot: CreateSnapshot,\n  addListener: AddListener,\n]\n\n// shared state\nconst proxyStateMap = makeGlobal(\"__zag__proxyStateMap\", () => new WeakMap<ProxyObject, ProxyState>())\nconst refSet = makeGlobal(\"__zag__refSet\", () => new WeakSet())\n\nconst buildProxyFunction = (\n  objectIs = Object.is,\n\n  newProxy = <T extends object>(target: T, handler: ProxyHandler<T>): T => new Proxy(target, handler),\n\n  canProxy = (x: unknown) =>\n    isObject(x) &&\n    !refSet.has(x) &&\n    (Array.isArray(x) || !(Symbol.iterator in x)) &&\n    !(x instanceof WeakMap) &&\n    !(x instanceof WeakSet) &&\n    !(x instanceof Error) &&\n    !(x instanceof Number) &&\n    !(x instanceof Date) &&\n    !(x instanceof String) &&\n    !(x instanceof RegExp) &&\n    !(x instanceof ArrayBuffer),\n\n  defaultHandlePromise = <P extends Promise<any>>(\n    promise: P & {\n      status?: \"pending\" | \"fulfilled\" | \"rejected\"\n      value?: Awaited<P>\n      reason?: unknown\n    },\n  ) => {\n    switch (promise.status) {\n      case \"fulfilled\":\n        return promise.value as Awaited<P>\n      case \"rejected\":\n        throw promise.reason\n      default:\n        throw promise\n    }\n  },\n\n  snapCache = new WeakMap<object, [version: number, snap: unknown]>(),\n\n  createSnapshot: CreateSnapshot = <T extends object>(\n    target: T,\n    version: number,\n    handlePromise: HandlePromise = defaultHandlePromise,\n  ): T => {\n    const cache = snapCache.get(target)\n    if (cache?.[0] === version) {\n      return cache[1] as T\n    }\n    const snap: any = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target))\n    markToTrack(snap, true) // mark to track\n    snapCache.set(target, [version, snap])\n    Reflect.ownKeys(target).forEach((key) => {\n      const value = Reflect.get(target, key)\n      if (refSet.has(value as object)) {\n        markToTrack(value as object, false) // mark not to track\n        snap[key] = value\n      } else if (value instanceof Promise) {\n        Object.defineProperty(snap, key, {\n          get() {\n            return handlePromise(value)\n          },\n        })\n      } else if (proxyStateMap.has(value as object)) {\n        snap[key] = snapshot(value as object, handlePromise)\n      } else {\n        snap[key] = value\n      }\n    })\n    return Object.freeze(snap)\n  },\n\n  proxyCache = new WeakMap<object, ProxyObject>(),\n\n  versionHolder = [1, 1] as [number, number],\n\n  proxyFunction = <T extends object>(initialObject: T): T => {\n    if (!isObject(initialObject)) {\n      throw new Error(\"object required\")\n    }\n    const found = proxyCache.get(initialObject) as T | undefined\n    if (found) {\n      return found\n    }\n    let version = versionHolder[0]\n    const listeners = new Set<Listener>()\n    const notifyUpdate = (op: Op, nextVersion = ++versionHolder[0]) => {\n      if (version !== nextVersion) {\n        version = nextVersion\n        listeners.forEach((listener) => listener(op, nextVersion))\n      }\n    }\n    let checkVersion = versionHolder[1]\n    const ensureVersion = (nextCheckVersion = ++versionHolder[1]) => {\n      if (checkVersion !== nextCheckVersion && !listeners.size) {\n        checkVersion = nextCheckVersion\n        propProxyStates.forEach(([propProxyState]) => {\n          const propVersion = propProxyState[1](nextCheckVersion)\n          if (propVersion > version) {\n            version = propVersion\n          }\n        })\n      }\n      return version\n    }\n    const createPropListener =\n      (prop: string | symbol): Listener =>\n      (op, nextVersion) => {\n        const newOp: Op = [...op]\n        newOp[1] = [prop, ...(newOp[1] as Path)]\n        notifyUpdate(newOp, nextVersion)\n      }\n    const propProxyStates = new Map<string | symbol, readonly [ProxyState, RemoveListener?]>()\n    const addPropListener = (prop: string | symbol, propProxyState: ProxyState) => {\n      if (isDev && propProxyStates.has(prop)) {\n        throw new Error(\"prop listener already exists\")\n      }\n      if (listeners.size) {\n        const remove = propProxyState[3](createPropListener(prop))\n        propProxyStates.set(prop, [propProxyState, remove])\n      } else {\n        propProxyStates.set(prop, [propProxyState])\n      }\n    }\n    const removePropListener = (prop: string | symbol) => {\n      const entry = propProxyStates.get(prop)\n      if (entry) {\n        propProxyStates.delete(prop)\n        entry[1]?.()\n      }\n    }\n    const addListener = (listener: Listener) => {\n      listeners.add(listener)\n      if (listeners.size === 1) {\n        propProxyStates.forEach(([propProxyState, prevRemove], prop) => {\n          if (isDev && prevRemove) {\n            throw new Error(\"remove already exists\")\n          }\n          const remove = propProxyState[3](createPropListener(prop))\n          propProxyStates.set(prop, [propProxyState, remove])\n        })\n      }\n      const removeListener = () => {\n        listeners.delete(listener)\n        if (listeners.size === 0) {\n          propProxyStates.forEach(([propProxyState, remove], prop) => {\n            if (remove) {\n              remove()\n              propProxyStates.set(prop, [propProxyState])\n            }\n          })\n        }\n      }\n      return removeListener\n    }\n    const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject))\n    const handler: ProxyHandler<T> = {\n      deleteProperty(target: T, prop: string | symbol) {\n        const prevValue = Reflect.get(target, prop)\n        removePropListener(prop)\n        const deleted = Reflect.deleteProperty(target, prop)\n        if (deleted) {\n          notifyUpdate([\"delete\", [prop], prevValue])\n        }\n        return deleted\n      },\n      set(target: T, prop: string | symbol, value: any, receiver: object) {\n        const hasPrevValue = Reflect.has(target, prop)\n        const prevValue = Reflect.get(target, prop, receiver)\n        if (\n          hasPrevValue &&\n          (objectIs(prevValue, value) || (proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value))))\n        ) {\n          return true\n        }\n        removePropListener(prop)\n        if (isObject(value)) {\n          value = getUntracked(value) || value\n        }\n        let nextValue = value\n        if (Object.getOwnPropertyDescriptor(target, prop)?.set) {\n          // do nothing\n        } else if (value instanceof Promise) {\n          value\n            .then((v) => {\n              Object.assign(value, { status: \"fulfilled\", value: v })\n              notifyUpdate([\"resolve\", [prop], v])\n            })\n            .catch((e) => {\n              Object.assign(value, { status: \"rejected\", reason: e })\n              notifyUpdate([\"reject\", [prop], e])\n            })\n        } else {\n          if (!proxyStateMap.has(value) && canProxy(value)) {\n            nextValue = proxy(value)\n          }\n          const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue)\n          if (childProxyState) {\n            addPropListener(prop, childProxyState)\n          }\n        }\n        Reflect.set(target, prop, nextValue, receiver)\n        notifyUpdate([\"set\", [prop], value, prevValue])\n        return true\n      },\n    }\n    const proxyObject = newProxy(baseObject, handler)\n    proxyCache.set(initialObject, proxyObject)\n    const proxyState: ProxyState = [baseObject, ensureVersion, createSnapshot, addListener]\n    proxyStateMap.set(proxyObject, proxyState)\n    Reflect.ownKeys(initialObject).forEach((key) => {\n      const desc = Object.getOwnPropertyDescriptor(initialObject, key) as PropertyDescriptor\n      if (desc.get || desc.set) {\n        Object.defineProperty(baseObject, key, desc)\n      } else {\n        proxyObject[key as keyof T] = initialObject[key as keyof T]\n      }\n    })\n    return proxyObject\n  },\n) =>\n  [\n    // public functions\n    proxyFunction,\n    // shared state\n    proxyStateMap,\n    refSet,\n    // internal things\n    objectIs,\n    newProxy,\n    canProxy,\n    defaultHandlePromise,\n    snapCache,\n    createSnapshot,\n    proxyCache,\n    versionHolder,\n  ] as const\n\nconst [proxyFunction] = buildProxyFunction()\n\nexport function proxy<T extends object>(initialObject: T = {} as T): T {\n  return proxyFunction(initialObject)\n}\n\nexport function getVersion(proxyObject: unknown): number | undefined {\n  const proxyState = proxyStateMap.get(proxyObject as object)\n  return proxyState?.[1]()\n}\n\nexport function subscribe<T extends object>(\n  proxyObject: T,\n  callback: (ops: Op[]) => void,\n  notifyInSync?: boolean,\n): () => void {\n  const proxyState = proxyStateMap.get(proxyObject as object)\n  if (isDev && !proxyState) {\n    console.warn(\"Please use proxy object\")\n  }\n  let promise: Promise<void> | undefined\n  const ops: Op[] = []\n  const addListener = (proxyState as ProxyState)[3]\n  let isListenerActive = false\n  const listener: Listener = (op) => {\n    ops.push(op)\n    if (notifyInSync) {\n      callback(ops.splice(0))\n      return\n    }\n    if (!promise) {\n      promise = Promise.resolve().then(() => {\n        promise = undefined\n        if (isListenerActive) {\n          callback(ops.splice(0))\n        }\n      })\n    }\n  }\n  const removeListener = addListener(listener)\n  isListenerActive = true\n  return () => {\n    isListenerActive = false\n    removeListener()\n  }\n}\n\nexport function snapshot<T extends object>(proxyObject: T, handlePromise?: HandlePromise): Snapshot<T> {\n  const proxyState = proxyStateMap.get(proxyObject as object)\n  if (isDev && !proxyState) {\n    console.warn(\"Please use proxy object\")\n  }\n  const [target, ensureVersion, createSnapshot] = proxyState as ProxyState\n  return createSnapshot(target, ensureVersion(), handlePromise) as Snapshot<T>\n}\n\nexport function ref<T extends object>(obj: T): Ref<T> {\n  refSet.add(obj)\n  return obj as T & AsRef\n}\n\nexport type Ref<T> = T & AsRef\n", "import { proxy, snapshot, type Snapshot } from \"./proxy\"\n\nexport function proxyWithComputed<T extends object, U extends object>(\n  initialObject: T,\n  computedFns: {\n    [K in keyof U]:\n      | ((snap: Snapshot<T>) => U[K])\n      | {\n          get: (snap: Snapshot<T>) => U[K]\n          set?: (state: T, newValue: U[K]) => void\n        }\n  },\n) {\n  const keys = Object.keys(computedFns) as (keyof U)[]\n  keys.forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(initialObject, key)) {\n      throw new Error(\"object property already defined\")\n    }\n    const computedFn = computedFns[key]\n    const { get, set } = (typeof computedFn === \"function\" ? { get: computedFn } : computedFn) as {\n      get: (snap: Snapshot<T>) => U[typeof key]\n      set?: (state: T, newValue: U[typeof key]) => void\n    }\n    const desc: PropertyDescriptor = {}\n    desc.get = () => get(snapshot(proxyObject))\n    if (set) {\n      desc.set = (newValue) => set(proxyObject, newValue)\n    }\n    Object.defineProperty(initialObject, key, desc)\n  })\n  const proxyObject = proxy(initialObject) as T & U\n  return proxyObject\n}\n", "function set(obj, key, val) {\n\tif (typeof val.value === 'object') val.value = klona(val.value);\n\tif (!val.enumerable || val.get || val.set || !val.configurable || !val.writable || key === '__proto__') {\n\t\tObject.defineProperty(obj, key, val);\n\t} else obj[key] = val.value;\n}\n\nexport function klona(x) {\n\tif (typeof x !== 'object') return x;\n\n\tvar i=0, k, list, tmp, str=Object.prototype.toString.call(x);\n\n\tif (str === '[object Object]') {\n\t\ttmp = Object.create(x.__proto__ || null);\n\t} else if (str === '[object Array]') {\n\t\ttmp = Array(x.length);\n\t} else if (str === '[object Set]') {\n\t\ttmp = new Set;\n\t\tx.forEach(function (val) {\n\t\t\ttmp.add(klona(val));\n\t\t});\n\t} else if (str === '[object Map]') {\n\t\ttmp = new Map;\n\t\tx.forEach(function (val, key) {\n\t\t\ttmp.set(klona(key), klona(val));\n\t\t});\n\t} else if (str === '[object Date]') {\n\t\ttmp = new Date(+x);\n\t} else if (str === '[object RegExp]') {\n\t\ttmp = new RegExp(x.source, x.flags);\n\t} else if (str === '[object DataView]') {\n\t\ttmp = new x.constructor( klona(x.buffer) );\n\t} else if (str === '[object ArrayBuffer]') {\n\t\ttmp = x.slice(0);\n\t} else if (str.slice(-6) === 'Array]') {\n\t\t// ArrayBuffer.isView(x)\n\t\t// ~> `new` bcuz `Buffer.slice` => ref\n\t\ttmp = new x.constructor(x);\n\t}\n\n\tif (tmp) {\n\t\tfor (list=Object.getOwnPropertySymbols(x); i < list.length; i++) {\n\t\t\tset(tmp, list[i], Object.getOwnPropertyDescriptor(x, list[i]));\n\t\t}\n\n\t\tfor (i=0, list=Object.getOwnPropertyNames(x); i < list.length; i++) {\n\t\t\tif (Object.hasOwnProperty.call(tmp, k=list[i]) && tmp[k] === x[k]) continue;\n\t\t\tset(tmp, k, Object.getOwnPropertyDescriptor(x, k));\n\t\t}\n\t}\n\n\treturn tmp || x;\n}\n", "export { proxy, ref, snapshot, subscribe, type Ref } from \"@zag-js/store\"\nexport { deepMerge } from \"./deep-merge\"\nexport { choose, guards } from \"./guard-utils\"\nexport * from \"./machine\"\nexport { mergeProps } from \"./merge-props\"\nexport type { ContextFrom, EventFrom, StateFrom } from \"./type-utils\"\nexport type { StateMachine } from \"./types\"\n", "export function toArray<T>(v: T | T[] | undefined | null): T[] {\n  if (!v) return []\n  return Array.isArray(v) ? v : [v]\n}\n\nexport const fromLength = (length: number) => Array.from(Array(length).keys())\n\nexport const first = <T>(v: T[]): T | undefined => v[0]\n\nexport const last = <T>(v: T[]): T | undefined => v[v.length - 1]\n\nexport const isEmpty = <T>(v: T[]): boolean => v.length === 0\n\nexport const has = <T>(v: T[], t: any): boolean => v.indexOf(t) !== -1\n\nexport const add = <T>(v: T[], ...items: T[]): T[] => v.concat(items)\n\nexport const remove = <T>(v: T[], item: T): T[] => v.filter((t) => t !== item)\n\nexport const removeAt = <T>(v: T[], i: number): T[] => v.filter((_, idx) => idx !== i)\n\nexport const addOrRemove = <T>(v: T[], item: T): T[] => {\n  if (has(v, item)) return remove(v, item)\n  return add(v, item)\n}\n\nexport function clear<T>(v: T[]): T[] {\n  while (v.length > 0) v.pop()\n  return v\n}\n\nexport type IndexOptions = {\n  step?: number\n  loop?: boolean\n}\n\nexport function nextIndex<T>(v: T[], idx: number, opts: IndexOptions = {}): number {\n  const { step = 1, loop = true } = opts\n  const next = idx + step\n  const len = v.length\n  const last = len - 1\n  if (idx === -1) return step > 0 ? 0 : last\n  if (next < 0) return loop ? last : 0\n  if (next >= len) return loop ? 0 : idx > len ? len : idx\n  return next\n}\n\nexport function next<T>(v: T[], idx: number, opts: IndexOptions = {}): T | undefined {\n  return v[nextIndex(v, idx, opts)]\n}\n\nexport function prevIndex<T>(v: T[], idx: number, opts: IndexOptions = {}): number {\n  const { step = 1, loop = true } = opts\n  return nextIndex(v, idx, { step: -step, loop })\n}\n\nexport function prev<T>(v: T[], index: number, opts: IndexOptions = {}): T | undefined {\n  return v[prevIndex(v, index, opts)]\n}\n\nexport const chunk = <T>(v: T[], size: number): T[][] => {\n  const res: T[][] = []\n  return v.reduce((rows, value, index) => {\n    if (index % size === 0) rows.push([value])\n    else last(rows)?.push(value)\n    return rows\n  }, res)\n}\n", "export type MaybeFunction<T> = T | (() => T)\n\nexport type Nullable<T> = T | null | undefined\n\nexport const runIfFn = <T>(\n  v: T | undefined,\n  ...a: T extends (...a: any[]) => void ? Parameters<T> : never\n): T extends (...a: any[]) => void ? NonNullable<ReturnType<T>> : NonNullable<T> => {\n  const res = typeof v === \"function\" ? v(...a) : v\n  return res ?? undefined\n}\n\nexport const cast = <T>(v: unknown): T => v as T\n\nexport const noop = () => {}\n\nexport const callAll =\n  <T extends (...a: any[]) => void>(...fns: (T | undefined)[]) =>\n  (...a: Parameters<T>) => {\n    fns.forEach(function (fn) {\n      fn?.(...a)\n    })\n  }\n\nexport const uuid = /*#__PURE__*/ (() => {\n  let id = 0\n  return () => {\n    id++\n    return id.toString(36)\n  }\n})()\n\nexport function match<V extends string | number = string, R = unknown>(\n  key: V,\n  record: Record<V, R | ((...args: any[]) => R)>,\n  ...args: any[]\n): R {\n  if (key in record) {\n    const fn = record[key]\n    return typeof fn === \"function\" ? fn(...args) : fn\n  }\n\n  const error = new Error(`No matching key: ${JSON.stringify(key)} in ${JSON.stringify(Object.keys(record))}`)\n  Error.captureStackTrace?.(error, match)\n\n  throw error\n}\n\nexport const tryCatch = <R>(fn: () => R, fallback: () => R) => {\n  try {\n    return fn()\n  } catch (error) {\n    if (error instanceof Error) {\n      Error.captureStackTrace?.(error, tryCatch)\n    }\n    return fallback?.()\n  }\n}\n", "export const isDev = () => process.env.NODE_ENV !== \"production\"\nexport const isArray = (v: any): v is any[] => Array.isArray(v)\nexport const isBoolean = (v: any): v is boolean => v === true || v === false\nexport const isObject = (v: any): v is Record<string, any> => !(v == null || typeof v !== \"object\" || isArray(v))\nexport const isNumber = (v: any): v is number => typeof v === \"number\" && !Number.isNaN(v)\nexport const isString = (v: any): v is string => typeof v === \"string\"\nexport const isFunction = (v: any): v is Function => typeof v === \"function\"\nexport const isNull = (v: any): v is null | undefined => v == null\n\nexport const hasProp = <T extends string>(obj: any, prop: T): obj is Record<T, any> =>\n  Object.prototype.hasOwnProperty.call(obj, prop)\n", "export function compact<T extends Record<string, unknown> | undefined>(obj: T): T {\n  if (!isPlainObject(obj) || obj === undefined) {\n    return obj\n  }\n\n  const keys = Reflect.ownKeys(obj).filter((key) => typeof key === \"string\")\n  const filtered: Partial<T> = {}\n  for (const key of keys) {\n    const value = (obj as any)[key]\n    if (value !== undefined) {\n      filtered[key as keyof T] = compact(value)\n    }\n  }\n  return filtered as T\n}\n\nexport function json(value: any) {\n  return JSON.parse(JSON.stringify(value))\n}\n\nconst isPlainObject = (value: any) => {\n  return value && typeof value === \"object\" && value.constructor === Object\n}\n\nexport function pick<T extends Record<string, any>, K extends keyof T>(obj: T, keys: K[]): Pick<T, K> {\n  const filtered: Partial<T> = {}\n\n  for (const key of keys) {\n    const value = obj[key]\n    if (value !== undefined) {\n      filtered[key] = value\n    }\n  }\n\n  return filtered as any\n}\n", "export function warn(m: string): void\nexport function warn(c: boolean, m: string): void\nexport function warn(...a: any[]): void {\n  const m = a.length === 1 ? a[0] : a[1]\n  const c = a.length === 2 ? a[0] : true\n  if (c && process.env.NODE_ENV !== \"production\") {\n    console.warn(m)\n  }\n}\n\nexport function invariant(m: string): void\nexport function invariant(c: boolean, m: string): void\nexport function invariant(...a: any[]): void {\n  const m = a.length === 1 ? a[0] : a[1]\n  const c = a.length === 2 ? a[0] : true\n  if (c && process.env.NODE_ENV !== \"production\") {\n    throw new Error(m)\n  }\n}\n", "import { compact, isObject } from \"@zag-js/utils\"\n\nexport function deepMerge<T extends Record<string, any>>(source: T, ...objects: T[]): T {\n  for (const obj of objects) {\n    const target = compact(obj)\n    for (const key in target) {\n      if (isObject(obj[key])) {\n        if (!source[key]) {\n          source[key] = {} as any\n        }\n        deepMerge(source[key], obj[key])\n      } else {\n        source[key] = obj[key]\n      }\n    }\n  }\n  return source\n}\n", "import { isArray, isObject, isString } from \"@zag-js/utils\"\nimport { klona } from \"klona/full\"\nimport type { Dict, StateMachine as S } from \"./types\"\n\nexport function structuredClone<T>(v: T): T {\n  return klona(v)\n}\n\nexport function toEvent<T extends S.EventObject>(event: S.Event<T>): T {\n  const obj = isString(event) ? { type: event } : event\n  return obj as T\n}\n\nexport function toArray<T>(value: T | T[] | undefined): T[] {\n  if (!value) return []\n  return isArray(value) ? value.slice() : [value]\n}\n\nexport function isGuardHelper(value: any): value is { predicate: (guards: Dict) => any } {\n  return isObject(value) && value.predicate != null\n}\n", "import { isFunction, isString } from \"@zag-js/utils\"\nimport type { Dict, StateMachine as S } from \"./types\"\nimport { isGuardHelper } from \"./utils\"\n\nconst Truthy = () => true\n\n/* -----------------------------------------------------------------------------\n * The following functions are used to determine a guard's truthiness\n * -----------------------------------------------------------------------------*/\n\nfunction exec<TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject>(\n  guardMap: Dict,\n  ctx: TContext,\n  event: TEvent,\n  meta: S.GuardMeta<TContext, TState, TEvent>,\n) {\n  return (guard: S.Guard<TContext, TState, TEvent>) => {\n    if (isString(guard)) {\n      return !!guardMap[guard]?.(ctx, event, meta)\n    }\n    if (isFunction(guard)) {\n      return guard(ctx, event, meta)\n    }\n    return guard.predicate(guardMap)(ctx, event, meta)\n  }\n}\n\n/* -----------------------------------------------------------------------------\n * Guard helpers (for combining guards)\n * -----------------------------------------------------------------------------*/\n\nfunction or<TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject>(\n  ...conditions: Array<S.Guard<TContext, TState, TEvent>>\n): S.GuardHelper<TContext, TState, TEvent> {\n  return {\n    predicate: (guardMap: Dict) => (ctx: TContext, event: TEvent, meta: S.GuardMeta<TContext, TState, TEvent>) =>\n      conditions.map(exec(guardMap, ctx, event, meta)).some(Boolean),\n  }\n}\n\nfunction and<TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject>(\n  ...conditions: Array<S.Guard<TContext, TState, TEvent>>\n): S.GuardHelper<TContext, TState, TEvent> {\n  return {\n    predicate: (guardMap: Dict) => (ctx: TContext, event: TEvent, meta: S.GuardMeta<TContext, TState, TEvent>) =>\n      conditions.map(exec(guardMap, ctx, event, meta)).every(Boolean),\n  }\n}\n\nfunction not<TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject>(\n  condition: S.Guard<TContext, TState, TEvent>,\n): S.GuardHelper<TContext, TState, TEvent> {\n  return {\n    predicate: (guardMap: Dict) => (ctx: TContext, event: TEvent, meta: S.GuardMeta<TContext, TState, TEvent>) => {\n      return !exec(guardMap, ctx, event, meta)(condition)\n    },\n  }\n}\n\nfunction stateIn<TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject>(\n  ...values: TState[\"value\"][]\n): S.GuardExpression<TContext, TState, TEvent> {\n  return (_ctx, _evt, meta) => meta.state.matches(...values)\n}\n\nexport const guards = { or, and, not, stateIn }\n\n/* -----------------------------------------------------------------------------\n * Action guard helper. Used to determie the action to be taken\n * -----------------------------------------------------------------------------*/\n\nexport function choose<\n  TContext extends Dict,\n  TState extends S.StateSchema,\n  TEvent extends S.EventObject = S.AnyEventObject,\n>(\n  actions: Array<{ guard?: S.Guard<TContext, TState, TEvent>; actions: S.PureActions<TContext, TState, TEvent> }>,\n): S.ChooseHelper<TContext, TState, TEvent> {\n  return {\n    predicate: (guardMap: Dict) => (ctx: TContext, event: TEvent, meta: S.GuardMeta<TContext, TState, TEvent>) =>\n      actions.find((def) => {\n        const guard = def.guard ?? Truthy\n        return exec(guardMap, ctx, event, meta)(guard)\n      })?.actions,\n  }\n}\n\n/* -----------------------------------------------------------------------------\n * Function to determine the guard to be used\n * -----------------------------------------------------------------------------*/\n\nexport function determineGuardFn<TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject>(\n  guard: S.Guard<TContext, TState, TEvent> | undefined,\n  guardMap: S.GuardMap<TContext, TState, TEvent>,\n) {\n  guard = guard ?? Truthy\n  return (context: TContext, event: TEvent, meta: S.GuardMeta<TContext, TState, TEvent>) => {\n    if (isString(guard)) {\n      const value = guardMap[guard]\n      return isFunction(value) ? value(context, event, meta) : value\n    }\n\n    if (isGuardHelper(guard)) {\n      return guard.predicate(guardMap)(context, event, meta)\n    }\n\n    return guard?.(context, event, meta)\n  }\n}\n\n/* -----------------------------------------------------------------------------\n * Function to determine the actions to be taken\n * -----------------------------------------------------------------------------*/\n\nexport function determineActionsFn<TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject>(\n  values: S.Actions<TContext, TState, TEvent> | undefined,\n  guardMap: S.GuardMap<TContext, TState, TEvent>,\n) {\n  return (context: TContext, event: TEvent, meta: S.GuardMeta<TContext, TState, TEvent>) => {\n    if (isGuardHelper(values)) {\n      return values.predicate(guardMap)(context, event, meta)\n    }\n    return values\n  }\n}\n", "import { ref, snapshot, subscribe } from \"@zag-js/store\"\nimport {\n  cast,\n  clear,\n  compact,\n  hasProp,\n  invariant,\n  isArray,\n  isDev,\n  isObject,\n  isString,\n  noop,\n  runIfFn,\n  uuid,\n  warn,\n} from \"@zag-js/utils\"\nimport { createProxy } from \"./create-proxy\"\nimport { deepMerge } from \"./deep-merge\"\nimport { determineDelayFn } from \"./delay-utils\"\nimport { determineActionsFn, determineGuardFn } from \"./guard-utils\"\nimport { determineTransitionFn } from \"./transition-utils\"\nimport {\n  ActionTypes,\n  MachineStatus,\n  MachineType,\n  type Dict,\n  type StateMachine as S,\n  type VoidFunction,\n  type Writable,\n} from \"./types\"\nimport { structuredClone, toArray, toEvent } from \"./utils\"\n\nexport class Machine<\n  TContext extends Dict,\n  TState extends S.StateSchema,\n  TEvent extends S.EventObject = S.AnyEventObject,\n> {\n  public status: MachineStatus = MachineStatus.NotStarted\n  public readonly state: S.State<TContext, TState, TEvent>\n\n  public initialState: S.StateInfo<TContext, TState, TEvent> | undefined\n  public initialContext: TContext\n\n  public id: string\n\n  public type: MachineType = MachineType.Machine\n\n  // Cleanup function map (per state)\n  private activityEvents = new Map<string, Map<string, VoidFunction>>()\n  private delayedEvents = new Map<string, VoidFunction[]>()\n\n  // state update listeners the user can opt-in for\n  private stateListeners = new Set<S.StateListener<TContext, TState, TEvent>>()\n  private doneListeners = new Set<S.StateListener<TContext, TState, TEvent>>()\n  private contextWatchers = new Set<VoidFunction>()\n\n  // Cleanup functions (for `subscribe`)\n  private removeStateListener: VoidFunction = noop\n\n  // For Parent <==> Spawned Actor relationship\n  private parent?: AnyMachine\n  private children = new Map<string, AnyMachine>()\n\n  // A map of guard, action, delay implementations\n  private guardMap: S.GuardMap<TContext, TState, TEvent>\n  private actionMap: S.ActionMap<TContext, TState, TEvent>\n  private delayMap: S.DelayMap<TContext, TEvent>\n  private activityMap: S.ActivityMap<TContext, TState, TEvent>\n  private sync: boolean\n  public options: S.MachineOptions<TContext, TState, TEvent>\n  public config: S.MachineConfig<TContext, TState, TEvent>\n\n  // Let's get started!\n  constructor(config: S.MachineConfig<TContext, TState, TEvent>, options?: S.MachineOptions<TContext, TState, TEvent>) {\n    // clone the config and options\n    this.config = structuredClone(config)\n    this.options = structuredClone(options ?? {})\n\n    this.id = this.config.id ?? `machine-${uuid()}`\n\n    // maps\n    this.guardMap = this.options?.guards ?? {}\n    this.actionMap = this.options?.actions ?? {}\n    this.delayMap = this.options?.delays ?? {}\n    this.activityMap = this.options?.activities ?? {}\n    this.sync = this.options?.sync ?? false\n\n    // create mutatable state\n    this.state = createProxy(this.config)\n\n    this.initialContext = snapshot(this.state.context)\n  }\n\n  // immutable state value\n  private get stateSnapshot(): S.State<TContext, TState, TEvent> {\n    return cast(snapshot(this.state))\n  }\n\n  public getState(): S.State<TContext, TState, TEvent> {\n    return this.stateSnapshot\n  }\n\n  // immutable context value\n  public get contextSnapshot(): TContext {\n    return this.stateSnapshot.context\n  }\n\n  public _created = () => {\n    // created actions\n    const event = toEvent<TEvent>(ActionTypes.Created)\n    this.executeActions(this.config?.created, event)\n  }\n\n  // Starts the interpreted machine.\n  public start = (init?: S.StateInit<TContext, TState>) => {\n    // reset state back to empty (for SSR, we had to set state.value to initial value)\n    this.state.value = \"\"\n    this.state.tags = []\n\n    // Don't start if it's already running\n    if (this.status === MachineStatus.Running) {\n      return this\n    }\n\n    this.status = MachineStatus.Running\n\n    // subscribe to state changes\n    this.removeStateListener = subscribe(\n      this.state,\n      () => {\n        this.stateListeners.forEach((listener) => {\n          listener(this.stateSnapshot)\n        })\n      },\n      this.sync,\n    )\n\n    this.setupContextWatchers()\n\n    // execute initial actions and activities\n    this.executeActivities(toEvent<TEvent>(ActionTypes.Start), toArray(this.config.activities), ActionTypes.Start)\n    this.executeActions(this.config.entry, toEvent<TEvent>(ActionTypes.Start))\n\n    // start transition\n    const event = toEvent<TEvent>(ActionTypes.Init)\n\n    const target = isObject(init) ? init.value : init\n    const context = isObject(init) ? init.context : undefined\n\n    if (context) {\n      this.setContext(context as Partial<TContext>)\n    }\n\n    // start transition definition\n    const transition = {\n      target: target ?? this.config.initial,\n    }\n\n    const next = this.getNextStateInfo(transition, event)\n    this.initialState = next\n\n    this.performStateChangeEffects(this.state.value!, next, event)\n\n    return this\n  }\n\n  private setupContextWatchers = () => {\n    const { watch } = this.config\n    if (!watch) return\n\n    let prev = snapshot(this.state.context)\n\n    const cleanup = subscribe(this.state.context, () => {\n      const next = snapshot(this.state.context)\n\n      for (const [key, fn] of Object.entries(watch)) {\n        const isEqual = this.options.compareFns?.[key] ?? Object.is\n        if (isEqual(prev[key], next[key])) continue\n        this.executeActions(fn, this.state.event as TEvent)\n      }\n\n      prev = next\n    })\n\n    this.contextWatchers.add(cleanup)\n  }\n\n  // Stops the interpreted machine\n  stop = () => {\n    // No need to call if already stopped\n    if (this.status === MachineStatus.Stopped) return\n\n    // exit current state\n    this.performExitEffects(this.state.value!, toEvent<TEvent>(ActionTypes.Stop))\n\n    // execute root stop or exit actions\n    this.executeActions(this.config.exit, toEvent<TEvent>(ActionTypes.Stop))\n\n    this.setState(\"\")\n    this.setEvent(ActionTypes.Stop)\n\n    // cleanups\n    this.stopStateListeners()\n    this.stopChildren()\n    this.stopActivities()\n    this.stopDelayedEvents()\n    this.stopContextWatchers()\n\n    this.status = MachineStatus.Stopped\n    return this\n  }\n\n  private stopStateListeners = () => {\n    this.removeStateListener()\n    this.stateListeners.clear()\n  }\n\n  private stopContextWatchers = () => {\n    this.contextWatchers.forEach((fn) => fn())\n    this.contextWatchers.clear()\n  }\n\n  private stopDelayedEvents = () => {\n    this.delayedEvents.forEach((state) => {\n      state.forEach((stop) => stop())\n    })\n    this.delayedEvents.clear()\n  }\n\n  // Cleanup running activities (e.g `setInterval`, invoked callbacks, promises)\n  private stopActivities = (state?: TState[\"value\"]) => {\n    // stop activities for a state\n    if (state) {\n      this.activityEvents.get(state)?.forEach((stop) => stop())\n      this.activityEvents.get(state)?.clear()\n      this.activityEvents.delete(state)\n    } else {\n      // stop every running activity\n      this.activityEvents.forEach((state) => {\n        state.forEach((stop) => stop())\n        state.clear()\n      })\n      this.activityEvents.clear()\n    }\n  }\n\n  /**\n   * Function to send event to spawned child machine or actor\n   */\n  public sendChild = (evt: S.Event<S.AnyEventObject>, to: string | ((ctx: TContext) => string)) => {\n    const event = toEvent(evt)\n    const id = runIfFn(to, this.contextSnapshot)\n    const child = this.children.get(id)\n    if (!child) {\n      invariant(`[@zag-js/core] Cannot send '${event.type}' event to unknown child`)\n    }\n    child!.send(event)\n  }\n\n  /**\n   * Function to stop a running child machine or actor\n   */\n  public stopChild = (id: string) => {\n    if (!this.children.has(id)) {\n      invariant(`[@zag-js/core > stop-child] Cannot stop unknown child ${id}`)\n    }\n    this.children.get(id)!.stop()\n    this.children.delete(id)\n  }\n\n  public removeChild = (id: string) => {\n    this.children.delete(id)\n  }\n\n  // Stop and delete spawned actors\n  private stopChildren = () => {\n    this.children.forEach((child) => child.stop())\n    this.children.clear()\n  }\n\n  private setParent = (parent: any) => {\n    this.parent = parent\n  }\n\n  public spawn = <TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject = S.AnyEventObject>(\n    src: MachineSrc<TContext, TState, TEvent>,\n    id?: string,\n  ) => {\n    const actor = runIfFn(src)\n    if (id) actor.id = id\n    actor.type = MachineType.Actor\n    actor.setParent(this)\n    this.children.set(actor.id, cast(actor))\n\n    actor\n      .onDone(() => {\n        this.removeChild(actor.id)\n      })\n      .start()\n\n    return cast<typeof actor>(ref(actor))\n  }\n\n  private stopActivity = (key: string) => {\n    if (!this.state.value) return\n    const cleanups = this.activityEvents.get(this.state.value)\n    cleanups?.get(key)?.() // cleanup\n    cleanups?.delete(key) // remove from map\n  }\n\n  private addActivityCleanup = (state: TState[\"value\"] | null, key: string, cleanup: VoidFunction) => {\n    if (!state) return\n    if (!this.activityEvents.has(state)) {\n      this.activityEvents.set(state, new Map([[key, cleanup]]))\n    } else {\n      this.activityEvents.get(state)?.set(key, cleanup)\n    }\n  }\n\n  private setState = (target: TState[\"value\"] | null) => {\n    this.state.previousValue = this.state.value\n    this.state.value = target\n\n    const stateNode = this.getStateNode(target)\n\n    if (target == null) {\n      // remove all tags\n      clear(this.state.tags)\n    } else {\n      this.state.tags = toArray(stateNode?.tags)\n    }\n  }\n\n  /**\n   * To used within side effects for React or Vue to update context\n   */\n  public setContext = (context: Partial<Writable<TContext>> | undefined) => {\n    if (!context) return\n    deepMerge(this.state.context, compact(context))\n  }\n\n  public setOptions = (options: Partial<S.MachineOptions<TContext, TState, TEvent>>) => {\n    const opts = compact(options)\n    this.actionMap = { ...this.actionMap, ...opts.actions }\n    this.delayMap = { ...this.delayMap, ...opts.delays }\n    this.activityMap = { ...this.activityMap, ...opts.activities }\n    this.guardMap = { ...this.guardMap, ...opts.guards }\n  }\n\n  private getStateNode = (state: TState[\"value\"] | null) => {\n    if (!state) return\n    return this.config.states?.[state]\n  }\n\n  private getNextStateInfo = (\n    transitions: S.Transitions<TContext, TState, TEvent>,\n    event: TEvent,\n  ): S.StateInfo<TContext, TState, TEvent> => {\n    // pick transition\n    const transition = this.determineTransition(transitions, event)\n\n    const isTargetless = !transition?.target\n    const target = transition?.target ?? this.state.value\n    const changed = this.state.value !== target\n\n    const stateNode = this.getStateNode(target)\n    const reenter = !isTargetless && !changed && !transition?.internal\n\n    const info = {\n      reenter,\n      transition,\n      stateNode,\n      target: target!,\n      changed,\n    }\n\n    this.log(\"NextState:\", `[${event.type}]`, this.state.value, \"---->\", info.target)\n\n    return info\n  }\n\n  private getAfterActions = (transition: S.Transitions<TContext, TState, TEvent>, delay?: number) => {\n    let id: ReturnType<typeof globalThis.setTimeout>\n\n    return {\n      entry: () => {\n        id = globalThis.setTimeout(() => {\n          const next = this.getNextStateInfo(transition, this.state.event)\n          this.performStateChangeEffects(this.state.value!, next, this.state.event)\n        }, delay)\n      },\n      exit: () => {\n        globalThis.clearTimeout(id)\n      },\n    }\n  }\n\n  /**\n   * All `after` events leverage `setTimeout` and `clearTimeout`,\n   * we invoke the `clearTimeout` on exit and `setTimeout` on entry.\n   *\n   * To achieve this, we split the `after` defintion into `entry` and `exit`\n   *  functions and append them to the state's `entry` and `exit` actions\n   */\n  private getDelayedEventActions = (state: TState[\"value\"]) => {\n    const stateNode = this.getStateNode(state)\n    const event = this.state.event\n\n    if (!stateNode || !stateNode.after) return\n\n    const entries: VoidFunction[] = []\n    const exits: VoidFunction[] = []\n\n    if (isArray(stateNode.after)) {\n      //\n      const transition = this.determineTransition(stateNode.after, event)\n\n      if (!transition) return\n\n      if (!hasProp(transition, \"delay\")) {\n        throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(transition)}`)\n      }\n\n      const determineDelay = determineDelayFn((transition as any).delay, this.delayMap)\n      const __delay = determineDelay(this.contextSnapshot, event)\n\n      const actions = this.getAfterActions(transition, __delay)\n\n      entries.push(actions.entry)\n      exits.push(actions.exit)\n\n      return { entries, exits }\n    }\n\n    if (isObject(stateNode.after)) {\n      //\n      for (const delay in stateNode.after) {\n        const transition = stateNode.after[delay]\n\n        const determineDelay = determineDelayFn(delay, this.delayMap)\n        const __delay = determineDelay(this.contextSnapshot, event)\n\n        const actions = this.getAfterActions(transition, __delay)\n\n        entries.push(actions.entry)\n        exits.push(actions.exit)\n      }\n    }\n\n    return { entries, exits }\n  }\n\n  /**\n   * A reference to the instance methods of the machine.\n   * Useful when spawning child machines and managing the communication between them.\n   */\n  private get self(): S.Self<TContext, TState, TEvent> {\n    const self = this\n    return {\n      id: this.id,\n      send: this.send.bind(this),\n      sendParent: this.sendParent.bind(this),\n      sendChild: this.sendChild.bind(this),\n      stop: this.stop.bind(this),\n      stopChild: this.stopChild.bind(this),\n      spawn: this.spawn.bind(this) as any,\n      stopActivity: this.stopActivity.bind(this),\n      get state() {\n        return self.stateSnapshot\n      },\n      get initialContext() {\n        return self.initialContext\n      },\n      get initialState() {\n        return self.initialState?.target ?? \"\"\n      },\n    }\n  }\n\n  private get meta(): S.Meta<TContext, TState, TEvent> {\n    return {\n      state: this.stateSnapshot,\n      guards: this.guardMap,\n      send: this.send.bind(this),\n      self: this.self,\n      initialContext: this.initialContext,\n      initialState: this.initialState?.target ?? \"\",\n      getState: () => this.stateSnapshot,\n      getAction: (key) => this.actionMap[key],\n      getGuard: (key) => this.guardMap[key],\n    }\n  }\n\n  private get guardMeta(): S.GuardMeta<TContext, TState, TEvent> {\n    return {\n      state: this.stateSnapshot,\n    }\n  }\n\n  /**\n   * Function to executes defined actions. It can accept actions as string\n   * (referencing `options.actions`) or actual functions.\n   */\n  private executeActions = (actions: S.Actions<TContext, TState, TEvent> | undefined, event: TEvent) => {\n    const pickedActions = determineActionsFn(actions, this.guardMap)(this.contextSnapshot, event, this.guardMeta)\n    for (const action of toArray(pickedActions)) {\n      const fn = isString(action) ? this.actionMap?.[action] : action\n      warn(\n        isString(action) && !fn,\n        `[@zag-js/core > execute-actions] No implementation found for action: \\`${action}\\``,\n      )\n      fn?.(this.state.context, event, this.meta)\n    }\n  }\n\n  /**\n   * Function to execute running activities and registers\n   * their cleanup function internally (to be called later on when we exit the state)\n   */\n  private executeActivities = (\n    event: TEvent,\n    activities: Array<S.Activity<TContext, TState, TEvent>>,\n    state?: TState[\"value\"],\n  ) => {\n    for (const activity of activities) {\n      const fn = isString(activity) ? this.activityMap?.[activity] : activity\n\n      if (!fn) {\n        warn(`[@zag-js/core > execute-activity] No implementation found for activity: \\`${activity}\\``)\n        continue\n      }\n\n      const cleanup = fn(this.state.context, event, this.meta)\n\n      if (cleanup) {\n        const key = isString(activity) ? activity : activity.name || uuid()\n        this.addActivityCleanup(state ?? this.state.value, key, cleanup)\n      }\n    }\n  }\n\n  /**\n   * Normalizes the `every` definition to transition. `every` can be:\n   * - An array of possible actions to run (we need to pick the first match based on guard)\n   * - An object of intervals and actions\n   */\n  private createEveryActivities = (\n    every: S.StateNode<TContext, TState, TEvent>[\"every\"] | undefined,\n    callbackfn: (activity: S.Activity<TContext, TState, TEvent>) => void,\n  ) => {\n    if (!every) return\n\n    // every: [{ interval: 2000, actions: [...], guard: \"isValid\" },  { interval: 1000, actions: [...] }]\n    if (isArray(every)) {\n      // picked = { interval: string | number | <ref>, actions: [...], guard: ... }\n      const picked = toArray(every).find((transition) => {\n        //\n        const delayOrFn = transition.delay\n        const determineDelay = determineDelayFn(delayOrFn, this.delayMap)\n        const delay = determineDelay(this.contextSnapshot, this.state.event)\n\n        const determineGuard = determineGuardFn(transition.guard, this.guardMap)\n        const guard = determineGuard(this.contextSnapshot, this.state.event, this.guardMeta)\n\n        return guard ?? delay != null\n      })\n\n      if (!picked) return\n\n      const determineDelay = determineDelayFn(picked.delay, this.delayMap)\n      const delay = determineDelay(this.contextSnapshot, this.state.event)\n\n      const activity = () => {\n        const id = globalThis.setInterval(() => {\n          this.executeActions(picked.actions, this.state.event)\n        }, delay)\n        return () => {\n          globalThis.clearInterval(id)\n        }\n      }\n      callbackfn(activity)\n      //\n    } else {\n      // every = { 1000: [fn, fn] }\n      for (const interval in every) {\n        const actions = every?.[interval]\n\n        // interval could be a `ref` not the actual interval value, let's determine the actual value\n        const determineDelay = determineDelayFn(interval, this.delayMap)\n        const delay = determineDelay(this.contextSnapshot, this.state.event)\n\n        // create the activity to run for each `every` reaction\n        const activity = () => {\n          const id = globalThis.setInterval(() => {\n            this.executeActions(actions, this.state.event)\n          }, delay)\n          return () => {\n            globalThis.clearInterval(id)\n          }\n        }\n        callbackfn(activity)\n      }\n    }\n  }\n\n  private setEvent = (event: TEvent | TEvent[\"type\"]) => {\n    this.state.previousEvent = this.state.event\n    this.state.event = ref(toEvent(event))\n  }\n\n  private performExitEffects = (current: TState[\"value\"] | undefined, event: TEvent) => {\n    const currentState = this.state.value!\n\n    // don't clean up root state, it'll get cleaned up on stop()\n    if (currentState === \"\") return\n\n    const stateNode = current ? this.getStateNode(current) : undefined\n\n    // cleanup activities for current state\n    this.stopActivities(currentState)\n\n    // get explicit exit and implicit \"after.exit\" actions for current state\n    const _exit = determineActionsFn(stateNode?.exit, this.guardMap)(this.contextSnapshot, event, this.guardMeta)\n    const exitActions = toArray(_exit)\n\n    const afterExitActions = this.delayedEvents.get(currentState)\n\n    if (afterExitActions) {\n      exitActions.push(...afterExitActions)\n    }\n\n    // call all exit actions for current state\n    this.executeActions(exitActions, event)\n  }\n\n  private performEntryEffects = (next: TState[\"value\"], event: TEvent) => {\n    const stateNode = this.getStateNode(next)\n\n    // execute activities for next state\n    const activities = toArray(stateNode?.activities)\n\n    // if `every` is defined, create an activity and append to activities\n    this.createEveryActivities(stateNode?.every, (activity) => {\n      activities.unshift(activity)\n    })\n\n    if (activities.length > 0) {\n      this.executeActivities(event, activities)\n    }\n\n    // get all entry actions\n    const pickedActions = determineActionsFn(stateNode?.entry, this.guardMap)(\n      this.contextSnapshot,\n      event,\n      this.guardMeta,\n    )\n    const entryActions = toArray(pickedActions)\n    const afterActions = this.getDelayedEventActions(next)\n\n    if (stateNode?.after && afterActions) {\n      this.delayedEvents.set(next, afterActions?.exits)\n      entryActions.push(...afterActions.entries)\n    }\n\n    // execute entry actions for next state\n    this.executeActions(entryActions, event)\n\n    if (stateNode?.type === \"final\") {\n      this.state.done = true\n      this.doneListeners.forEach((listener) => {\n        listener(this.stateSnapshot)\n      })\n      this.stop()\n    }\n  }\n\n  private performTransitionEffects = (\n    transitions: S.Transitions<TContext, TState, TEvent> | undefined,\n    event: TEvent,\n  ) => {\n    // execute transition actions\n    const transition = this.determineTransition(transitions, event)\n    this.executeActions(transition?.actions, event)\n  }\n\n  /**\n   * Performs all the requires side-effects or reactions when\n   * we move from state A => state B.\n   *\n   * The Effect order:\n   * Exit actions (current state) => Transition actions  => Go to state => Entry actions (next state)\n   */\n  private performStateChangeEffects = (\n    current: TState[\"value\"] | undefined,\n    next: S.StateInfo<TContext, TState, TEvent>,\n    event: TEvent,\n  ) => {\n    // update event\n    this.setEvent(event)\n\n    const changed = next.changed || next.reenter\n\n    if (changed) {\n      this.performExitEffects(current, event)\n    }\n\n    // execute transition actions\n    this.performTransitionEffects(next.transition, event)\n\n    // go to next state\n    this.setState(next.target)\n\n    if (changed) {\n      this.performEntryEffects(next.target, event)\n    }\n  }\n\n  private determineTransition = (transition: S.Transitions<TContext, TState, TEvent> | undefined, event: TEvent) => {\n    const fn = determineTransitionFn(transition, this.guardMap)\n    return fn?.(this.contextSnapshot, event, this.guardMeta)\n  }\n\n  /**\n   * Function to send event to parent machine from spawned child\n   */\n  public sendParent = (evt: S.Event<S.AnyEventObject>) => {\n    if (!this.parent) {\n      invariant(\"[@zag-js/core > send-parent] Cannot send event to an unknown parent\")\n    }\n    const event = toEvent<S.AnyEventObject>(evt)\n    this.parent?.send(event)\n  }\n\n  private log = (...args: any[]) => {\n    if (isDev() && this.options.debug) {\n      console.log(...args)\n    }\n  }\n\n  /**\n   * Function to send an event to current machine\n   */\n  public send = (evt: S.Event<TEvent>) => {\n    const event = toEvent<TEvent>(evt)\n    this.transition(this.state.value, event)\n  }\n\n  public transition = (state: TState[\"value\"] | S.StateInfo<TContext, TState, TEvent> | null, evt: S.Event<TEvent>) => {\n    const stateNode = isString(state) ? this.getStateNode(state) : state?.stateNode\n\n    const event = toEvent(evt)\n\n    if (!stateNode && !this.config.on) {\n      const msg =\n        this.status === MachineStatus.Stopped\n          ? \"[@zag-js/core > transition] Cannot transition a stopped machine\"\n          : `[@zag-js/core > transition] State does not have a definition for \\`state\\`: ${state}, \\`event\\`: ${event.type}`\n      warn(msg)\n      return\n    }\n\n    const transitions: S.Transitions<TContext, TState, TEvent> =\n      stateNode?.on?.[event.type] ?? this.config.on?.[event.type]\n\n    const next = this.getNextStateInfo(transitions, event)\n    this.performStateChangeEffects(this.state.value!, next, event)\n\n    return next.stateNode\n  }\n\n  subscribe = (listener: S.StateListener<TContext, TState, TEvent>) => {\n    this.stateListeners.add(listener)\n\n    if (this.status === MachineStatus.Running) {\n      listener(this.stateSnapshot)\n    }\n\n    return () => {\n      this.stateListeners.delete(listener)\n    }\n  }\n\n  public onDone = (listener: S.StateListener<TContext, TState, TEvent>) => {\n    this.doneListeners.add(listener)\n    return this\n  }\n\n  public onTransition = (listener: S.StateListener<TContext, TState, TEvent>) => {\n    this.stateListeners.add(listener)\n    if (this.status === MachineStatus.Running) {\n      listener(this.stateSnapshot)\n    }\n    return this\n  }\n\n  get [Symbol.toStringTag]() {\n    return \"Machine\"\n  }\n}\n\nexport type MachineSrc<\n  TContext extends Dict,\n  TState extends S.StateSchema,\n  TEvent extends S.EventObject = S.AnyEventObject,\n> = Machine<TContext, TState, TEvent> | (() => Machine<TContext, TState, TEvent>)\n\nexport type AnyMachine = Machine<Dict, S.StateSchema, S.AnyEventObject>\n\nexport const createMachine = <\n  TContext extends Dict,\n  TState extends S.StateSchema = S.StateSchema,\n  TEvent extends S.EventObject = S.AnyEventObject,\n>(\n  config: S.MachineConfig<TContext, TState, TEvent>,\n  options?: S.MachineOptions<TContext, TState, TEvent>,\n) => new Machine(config, options)\n\nexport const isMachine = (value: any): value is AnyMachine => {\n  return value instanceof Machine || value?.type === MachineType.Machine\n}\n", "import { proxy, proxyWithComputed } from \"@zag-js/store\"\nimport { cast } from \"@zag-js/utils\"\nimport { ActionTypes, type Dict, type StateMachine as S } from \"./types\"\n\nexport function createProxy<TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject>(\n  config: S.MachineConfig<TContext, TState, TEvent>,\n) {\n  const computedContext: Dict = config.computed ?? cast<S.TComputedContext<TContext>>({})\n  const initialContext = config.context ?? cast<TContext>({})\n  const initialTags = config.initial ? config.states?.[config.initial]?.tags : []\n\n  const state = proxy({\n    value: config.initial ?? \"\",\n    previousValue: \"\",\n    event: cast<Dict>({}),\n    previousEvent: cast<Dict>({}),\n    context: proxyWithComputed(initialContext, computedContext),\n    done: false,\n    tags: (initialTags ?? []) as Array<TState[\"tags\"]>,\n    hasTag(tag: TState[\"tags\"]): boolean {\n      return this.tags.includes(tag)\n    },\n    matches(...value: string[]): boolean {\n      return value.includes(this.value)\n    },\n    can(event: string): boolean {\n      return cast<any>(this).nextEvents.includes(event)\n    },\n    get nextEvents() {\n      const stateEvents = (config.states as Dict)?.[this.value]?.[\"on\"] ?? {}\n      const globalEvents = config?.on ?? {}\n      return Object.keys({ ...stateEvents, ...globalEvents })\n    },\n    get changed() {\n      if (this.event.value === ActionTypes.Init || !this.previousValue) return false\n      return this.value !== this.previousValue\n    },\n  })\n\n  return cast<S.State<TContext, TState, TEvent>>(state)\n}\n", "import { invariant, isFunction, isNumber, isString } from \"@zag-js/utils\"\nimport type { Dict, StateMachine as S } from \"./types\"\n\n/**\n * Delay can be specified as:\n * - a string (reference to `options.delays`)\n * - a number (in ms)\n * - a function that returns a number (in ms)\n *\n * Let's resolve this to a number\n */\nexport function determineDelayFn<TContext extends Dict, TEvent extends S.EventObject>(\n  delay: S.Delay<TContext, TEvent> | undefined,\n  delaysMap: S.DelayMap<TContext, TEvent> | undefined,\n) {\n  return (context: TContext, event: TEvent) => {\n    if (isNumber(delay)) return delay\n\n    if (isFunction(delay)) {\n      return delay(context, event)\n    }\n\n    if (isString(delay)) {\n      const value = Number.parseFloat(delay)\n\n      if (!Number.isNaN(value)) {\n        return value\n      }\n\n      if (delaysMap) {\n        const valueOrFn = delaysMap?.[delay]\n\n        invariant(\n          valueOrFn == null,\n          `[@zag-js/core > determine-delay] Cannot determine delay for \\`${delay}\\`. It doesn't exist in \\`options.delays\\``,\n        )\n\n        return isFunction(valueOrFn) ? valueOrFn(context, event) : valueOrFn\n      }\n    }\n  }\n}\n", "import { isString } from \"@zag-js/utils\"\nimport { determineGuardFn } from \"./guard-utils\"\nimport type { Dict, StateMachine as S } from \"./types\"\nimport { toArray } from \"./utils\"\n\n/**\n * A transition is an object that describes the next state, or/and actions\n * that should run when an event is sent.\n *\n * Transitions can be specified as:\n * - A single string: \"spinning\"\n * - An object with `target`, `actions`, or `guard`: { target: \"spinning\", actions: [...], guard: isValid }\n * - An array of possible transitions. In this case, we'll pick the first matching transition\n * depending on the `guard` specified\n */\n\nexport function toTarget<TContext extends Dict, TState extends S.StateSchema, TEvent extends S.EventObject>(\n  target: S.Transition<TContext, TState, TEvent>,\n): S.TransitionDefinition<TContext, TState, TEvent> {\n  return isString(target) ? { target } : target\n}\n\nexport function determineTransitionFn<\n  TContext extends Dict,\n  TState extends S.StateSchema,\n  TEvent extends S.EventObject,\n>(transitions: S.Transitions<TContext, TState, TEvent> | undefined, guardMap: S.GuardMap<TContext, TState, TEvent>) {\n  return (context: TContext, event: TEvent, meta: S.GuardMeta<TContext, TState, TEvent>) => {\n    return toArray(transitions)\n      .map(toTarget)\n      .find((transition) => {\n        // get condition function\n        const determineGuard = determineGuardFn(transition.guard, guardMap)\n        const guard = determineGuard(context, event, meta)\n        return guard ?? transition.target ?? transition.actions\n      })\n  }\n}\n", "import { callAll, isString } from \"@zag-js/utils\"\n\ninterface Props {\n  [key: string]: any\n}\n\nconst clsx = (...args: (string | undefined)[]) =>\n  args\n    .map((str) => str?.trim?.())\n    .filter(Boolean)\n    .join(\" \")\n\nconst CSS_REGEX = /((?:--)?(?:\\w+-?)+)\\s*:\\s*([^;]*)/g\n\nconst serialize = (style: string): Record<string, string> => {\n  const res: Record<string, string> = {}\n  let match: RegExpExecArray | null\n  while ((match = CSS_REGEX.exec(style))) {\n    res[match[1]!] = match[2]!\n  }\n  return res\n}\n\nconst css = (\n  a: Record<string, string> | string | undefined,\n  b: Record<string, string> | string | undefined,\n): Record<string, string> | string => {\n  if (isString(a)) {\n    if (isString(b)) return `${a};${b}`\n    a = serialize(a)\n  } else if (isString(b)) {\n    b = serialize(b)\n  }\n  return Object.assign({}, a ?? {}, b ?? {})\n}\n\ntype TupleTypes<T extends any[]> = T[number]\n\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends (k: infer I) => void ? I : never\n\nexport function mergeProps<T extends Props>(...args: T[]): UnionToIntersection<TupleTypes<T[]>> {\n  let result: Props = {}\n\n  for (let props of args) {\n    for (let key in result) {\n      if (key.startsWith(\"on\") && typeof result[key] === \"function\" && typeof props[key] === \"function\") {\n        result[key] = callAll(props[key], result[key])\n        continue\n      }\n\n      if (key === \"className\" || key === \"class\") {\n        result[key] = clsx(result[key], props[key])\n        continue\n      }\n\n      if (key === \"style\") {\n        result[key] = css(result[key], props[key])\n        continue\n      }\n\n      result[key] = props[key] !== undefined ? props[key] : result[key]\n    }\n\n    // Add props from b that are not in a\n    for (let key in props) {\n      if (result[key] === undefined) {\n        result[key] = props[key]\n      }\n    }\n  }\n\n  return result as any\n}\n", "import type { JSX } from \"./jsx\"\n\ntype Dict<T = any> = Record<string, T>\n\ntype DataAttr = {\n  \"data-selected\"?: any\n  \"data-expanded\"?: any\n  \"data-highlighted\"?: any\n  \"data-readonly\"?: any\n  \"data-indeterminate\"?: any\n  \"data-invalid\"?: any\n  \"data-hover\"?: any\n  \"data-active\"?: any\n  \"data-focus\"?: any\n  \"data-disabled\"?: any\n  \"data-open\"?: any\n  \"data-checked\"?: any\n  \"data-pressed\"?: any\n  \"data-complete\"?: any\n  \"data-side\"?: any\n  \"data-align\"?: any\n  \"data-empty\"?: any\n  \"data-placeholder-shown\"?: any\n  \"data-half\"?: any\n  \"data-scope\"?: string\n  \"data-uid\"?: string\n  \"data-name\"?: string\n  \"data-ownedby\"?: string\n  \"data-type\"?: string\n  \"data-valuetext\"?: string\n  \"data-placement\"?: string\n  \"data-controls\"?: string\n  \"data-part\"?: string\n  \"data-label\"?: string\n  \"data-state\"?: string | null\n  \"data-value\"?: string | number\n  \"data-orientation\"?: \"horizontal\" | \"vertical\"\n  \"data-count\"?: number\n  \"data-index\"?: number\n} & {\n  [key in `data-${string}`]?: any\n}\n\nexport type PropTypes<T = Dict> = Record<\n  | \"button\"\n  | \"label\"\n  | \"input\"\n  | \"textarea\"\n  | \"img\"\n  | \"output\"\n  | \"element\"\n  | \"select\"\n  | \"rect\"\n  | \"style\"\n  | \"circle\"\n  | \"svg\"\n  | \"path\",\n  T\n>\n\nexport type NormalizeProps<T extends PropTypes> = {\n  [K in keyof T]: (props: K extends keyof JSX.IntrinsicElements ? DataAttr & JSX.IntrinsicElements[K] : never) => T[K]\n} & {\n  element(props: DataAttr & JSX.HTMLAttributes<HTMLElement> & Record<string, any>): T[\"element\"]\n  style: JSX.CSSProperties\n}\n\nexport function createNormalizer<T extends PropTypes>(fn: (props: Dict) => Dict): NormalizeProps<T> {\n  return new Proxy({} as any, {\n    get() {\n      return fn\n    },\n  })\n}\n", "type StrictKeys<K extends (keyof T)[], T> = K extends (keyof T)[]\n  ? [keyof T] extends [K[number]]\n    ? unknown\n    : `Missing required keys: ${Exclude<keyof T, K[number]>}`\n  : never\n\nexport const createProps =\n  <T extends Record<never, never>>() =>\n  <K extends (keyof T)[]>(props: K & StrictKeys<K, T>) =>\n    Array.from(new Set(props))\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"accordion\").parts(\"root\", \"item\", \"itemTrigger\", \"itemContent\", \"itemIndicator\")\nexport const parts = anatomy.build()\n", "import { getEventKey, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { dataAttr, isSafari } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./accordion.anatomy\"\nimport { dom } from \"./accordion.dom\"\nimport type { ItemProps, ItemState, MachineApi, Send, State } from \"./accordion.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const focusedValue = state.context.focusedValue\n  const value = state.context.value\n  const multiple = state.context.multiple\n\n  function setValue(value: string[]) {\n    let nextValue = value\n    if (multiple && nextValue.length > 1) {\n      nextValue = [nextValue[0]]\n    }\n    send({ type: \"VALUE.SET\", value: nextValue })\n  }\n\n  function getItemState(props: ItemProps): ItemState {\n    return {\n      expanded: value.includes(props.value),\n      focused: focusedValue === props.value,\n      disabled: Boolean(props.disabled ?? state.context.disabled),\n    }\n  }\n\n  return {\n    focusedValue,\n    value,\n    setValue,\n    getItemState,\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-orientation\": state.context.orientation,\n      })\n    },\n\n    getItemProps(props: ItemProps) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, props.value),\n        \"data-state\": itemState.expanded ? \"open\" : \"closed\",\n        \"data-focus\": dataAttr(itemState.focused),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-orientation\": state.context.orientation,\n      })\n    },\n\n    getItemContentProps(props: ItemProps) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.itemContent.attrs,\n        dir: state.context.dir,\n        role: \"region\",\n        id: dom.getItemContentId(state.context, props.value),\n        \"aria-labelledby\": dom.getItemTriggerId(state.context, props.value),\n        hidden: !itemState.expanded,\n        \"data-state\": itemState.expanded ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-focus\": dataAttr(itemState.focused),\n        \"data-orientation\": state.context.orientation,\n      })\n    },\n\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"aria-hidden\": true,\n        \"data-state\": itemState.expanded ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-focus\": dataAttr(itemState.focused),\n        \"data-orientation\": state.context.orientation,\n      })\n    },\n\n    getItemTriggerProps(props: ItemProps) {\n      const { value } = props\n      const itemState = getItemState(props)\n\n      return normalize.button({\n        ...parts.itemTrigger.attrs,\n        type: \"button\",\n        dir: state.context.dir,\n        id: dom.getItemTriggerId(state.context, value),\n        \"aria-controls\": dom.getItemContentId(state.context, value),\n        \"aria-expanded\": itemState.expanded,\n        disabled: itemState.disabled,\n        \"data-orientation\": state.context.orientation,\n        \"aria-disabled\": itemState.disabled,\n        \"data-state\": itemState.expanded ? \"open\" : \"closed\",\n        \"data-ownedby\": dom.getRootId(state.context),\n        onFocus() {\n          if (itemState.disabled) return\n          send({ type: \"TRIGGER.FOCUS\", value })\n        },\n        onBlur() {\n          if (itemState.disabled) return\n          send(\"TRIGGER.BLUR\")\n        },\n        onClick(event) {\n          if (itemState.disabled) return\n          if (isSafari()) {\n            event.currentTarget.focus()\n          }\n          send({ type: \"TRIGGER.CLICK\", value })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (itemState.disabled) return\n\n          const keyMap: EventKeyMap = {\n            ArrowDown() {\n              if (state.context.isHorizontal) return\n              send({ type: \"GOTO.NEXT\", value })\n            },\n            ArrowUp() {\n              if (state.context.isHorizontal) return\n              send({ type: \"GOTO.PREV\", value })\n            },\n            ArrowRight() {\n              if (!state.context.isHorizontal) return\n              send({ type: \"GOTO.NEXT\", value })\n            },\n            ArrowLeft() {\n              if (!state.context.isHorizontal) return\n              send({ type: \"GOTO.PREV\", value })\n            },\n            Home() {\n              send({ type: \"GOTO.FIRST\", value })\n            },\n            End() {\n              send({ type: \"GOTO.LAST\", value })\n            },\n          }\n\n          const key = getEventKey(event, {\n            dir: state.context.dir,\n            orientation: state.context.orientation,\n          })\n\n          const exec = keyMap[key]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n          }\n        },\n      })\n    },\n  }\n}\n", "import { nextById, prevById, queryAll, createScope } from \"@zag-js/dom-query\"\nimport { first, last } from \"@zag-js/utils\"\nimport type { MachineContext as Ctx } from \"./accordion.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `accordion:${ctx.id}`,\n  getItemId: (ctx: Ctx, value: string) => ctx.ids?.item?.(value) ?? `accordion:${ctx.id}:item:${value}`,\n  getItemContentId: (ctx: Ctx, value: string) => ctx.ids?.content?.(value) ?? `accordion:${ctx.id}:content:${value}`,\n  getItemTriggerId: (ctx: Ctx, value: string) => ctx.ids?.trigger?.(value) ?? `accordion:${ctx.id}:trigger:${value}`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getTriggers: (ctx: Ctx) => {\n    const ownerId = CSS.escape(dom.getRootId(ctx))\n    const selector = `[aria-controls][data-ownedby='${ownerId}']:not([disabled])`\n    return queryAll(dom.getRootEl(ctx), selector)\n  },\n\n  getFirstTriggerEl: (ctx: Ctx) => first(dom.getTriggers(ctx)),\n  getLastTriggerEl: (ctx: Ctx) => last(dom.getTriggers(ctx)),\n  getNextTriggerEl: (ctx: Ctx, id: string) => nextById(dom.getTriggers(ctx), dom.getItemTriggerId(ctx, id)),\n  getPrevTriggerEl: (ctx: Ctx, id: string) => prevById(dom.getTriggers(ctx), dom.getItemTriggerId(ctx, id)),\n})\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { add, compact, isEqual, remove, warn } from \"@zag-js/utils\"\nimport { dom } from \"./accordion.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./accordion.types\"\n\nconst { and, not } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"accordion\",\n      initial: \"idle\",\n\n      context: {\n        focusedValue: null,\n        value: [],\n        collapsible: false,\n        multiple: false,\n        orientation: \"vertical\",\n        ...ctx,\n      },\n\n      watch: {\n        value: \"coarseValue\",\n        multiple: \"coarseValue\",\n      },\n\n      created: \"coarseValue\",\n\n      computed: {\n        isHorizontal: (ctx) => ctx.orientation === \"horizontal\",\n      },\n\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setValue\"],\n        },\n      },\n\n      states: {\n        idle: {\n          on: {\n            \"TRIGGER.FOCUS\": {\n              target: \"focused\",\n              actions: \"setFocusedValue\",\n            },\n          },\n        },\n        focused: {\n          on: {\n            \"GOTO.NEXT\": {\n              actions: \"focusNextTrigger\",\n            },\n            \"GOTO.PREV\": {\n              actions: \"focusPrevTrigger\",\n            },\n            \"TRIGGER.CLICK\": [\n              {\n                guard: and(\"isExpanded\", \"canToggle\"),\n                actions: [\"collapse\"],\n              },\n              {\n                guard: not(\"isExpanded\"),\n                actions: [\"expand\"],\n              },\n            ],\n            \"GOTO.FIRST\": {\n              actions: \"focusFirstTrigger\",\n            },\n            \"GOTO.LAST\": {\n              actions: \"focusLastTrigger\",\n            },\n            \"TRIGGER.BLUR\": {\n              target: \"idle\",\n              actions: \"clearFocusedValue\",\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        canToggle: (ctx) => !!ctx.collapsible || !!ctx.multiple,\n        isExpanded: (ctx, evt) => ctx.value.includes(evt.value),\n      },\n      actions: {\n        collapse(ctx, evt) {\n          const next = ctx.multiple ? remove(ctx.value, evt.value) : []\n          set.value(ctx, ctx.multiple ? next : [])\n        },\n        expand(ctx, evt) {\n          const next = ctx.multiple ? add(ctx.value, evt.value) : [evt.value]\n          set.value(ctx, next)\n        },\n        focusFirstTrigger(ctx) {\n          dom.getFirstTriggerEl(ctx)?.focus()\n        },\n        focusLastTrigger(ctx) {\n          dom.getLastTriggerEl(ctx)?.focus()\n        },\n        focusNextTrigger(ctx) {\n          if (!ctx.focusedValue) return\n          const triggerEl = dom.getNextTriggerEl(ctx, ctx.focusedValue)\n          triggerEl?.focus()\n        },\n        focusPrevTrigger(ctx) {\n          if (!ctx.focusedValue) return\n          const triggerEl = dom.getPrevTriggerEl(ctx, ctx.focusedValue)\n          triggerEl?.focus()\n        },\n        setFocusedValue(ctx, evt) {\n          set.focusedValue(ctx, evt.value)\n        },\n        clearFocusedValue(ctx) {\n          set.focusedValue(ctx, null)\n        },\n        setValue(ctx, evt) {\n          set.value(ctx, evt.value)\n        },\n        coarseValue(ctx) {\n          if (!ctx.multiple && ctx.value.length > 1) {\n            warn(`The value of accordion should be a single value when multiple is false.`)\n            ctx.value = [ctx.value[0]]\n          }\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change(ctx: MachineContext) {\n    ctx.onValueChange?.({ value: Array.from(ctx.value) })\n  },\n  focusChange(ctx: MachineContext) {\n    ctx.onFocusChange?.({ value: ctx.focusedValue })\n  },\n}\n\nconst set = {\n  value(ctx: MachineContext, value: string[]) {\n    if (isEqual(ctx.value, value)) return\n    ctx.value = value\n    invoke.change(ctx)\n  },\n  focusedValue(ctx: MachineContext, value: string | null) {\n    if (isEqual(ctx.focusedValue, value)) return\n    ctx.focusedValue = value\n    invoke.focusChange(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport type { ItemProps, UserDefinedContext } from \"./accordion.types\"\nimport { createSplitProps } from \"@zag-js/utils\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"collapsible\",\n  \"dir\",\n  \"disabled\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"multiple\",\n  \"onFocusChange\",\n  \"onValueChange\",\n  \"orientation\",\n  \"value\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"value\", \"disabled\"])\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n", "export { mergeProps } from \"@zag-js/core\"\nexport type { ContextFrom, EventFrom, StateFrom } from \"@zag-js/core\"\nexport * from \"./normalize-props\"\nexport { Portal } from \"./portal\"\nexport type { PortalProps } from \"./portal\"\nexport * from \"./use-actor\"\nexport * from \"./use-machine\"\n", "import { createNormalizer } from \"@zag-js/types\"\nimport type { HTMLAttributes, CSSProperties } from \"react\"\n\ntype WithoutRef<T> = Omit<T, \"ref\">\n\ntype ElementsWithoutRef = {\n  [K in keyof JSX.IntrinsicElements]: WithoutRef<JSX.IntrinsicElements[K]>\n}\n\nexport type PropTypes = ElementsWithoutRef & {\n  element: WithoutRef<HTMLAttributes<HTMLElement>>\n  style: CSSProperties\n}\n\nexport const normalizeProps = createNormalizer<PropTypes>((v) => v)\n", "import type { JSX, PropsWithChildren, RefObject } from \"react\"\nimport { Children } from \"react\"\nimport { createPortal } from \"react-dom\"\n\nexport interface PortalProps {\n  disabled?: boolean\n  container?: RefObject<HTMLElement>\n  getRootNode?: () => ShadowRoot | Document | Node\n}\n\nexport const Portal = (props: PropsWithChildren<PortalProps>): JSX.Element => {\n  const { children, container, disabled, getRootNode } = props\n\n  const isServer = typeof window === \"undefined\"\n  if (isServer || disabled) return <>{children}</>\n\n  const doc = getRootNode?.().ownerDocument ?? document\n  const mountNode = container?.current ?? doc.body\n\n  return <>{Children.map(children, (child) => createPortal(child, mountNode))}</>\n}\n", "/// <reference types=\"react/experimental\" />\n\nimport type { Machine, StateMachine as S } from \"@zag-js/core\"\nimport { snapshot, subscribe, type Snapshot, makeGlobal } from \"@zag-js/store\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport { createProxy as createProxyToCompare, isChanged } from \"proxy-compare\"\nimport ReactExport, { useCallback, useEffect, useMemo, useRef, useSyncExternalStore } from \"react\"\nimport { useUpdateEffect } from \"./use-update-effect\"\n\n//@ts-ignore\nconst { use } = ReactExport\n\nconst targetCache = makeGlobal(\"__zag__targetCache\", () => new WeakMap())\n\nexport function useSnapshot<\n  TContext extends Record<string, any>,\n  TState extends S.StateSchema,\n  TEvent extends S.EventObject = S.AnyEventObject,\n>(\n  service: Machine<TContext, TState, TEvent>,\n  options?: S.HookOptions<TContext, TState, TEvent> & { sync?: boolean },\n): S.State<TContext, TState, TEvent> {\n  //\n  type State = S.State<TContext, TState, TEvent>\n\n  const { actions, context, sync: notifyInSync } = options ?? {}\n\n  /* -----------------------------------------------------------------------------\n   * Subscribe to the service state and create a snapshot of it\n   * -----------------------------------------------------------------------------*/\n\n  const lastSnapshot = useRef<Snapshot<State>>()\n  const lastAffected = useRef<WeakMap<object, unknown>>()\n\n  const currSnapshot = useSyncExternalStore(\n    useCallback((callback) => subscribe(service.state, callback, notifyInSync), [notifyInSync]),\n    () => {\n      const nextSnapshot = snapshot(service.state, use)\n      try {\n        if (\n          lastSnapshot.current &&\n          lastAffected.current &&\n          !isChanged(lastSnapshot.current, nextSnapshot, lastAffected.current, new WeakMap())\n        ) {\n          return lastSnapshot.current\n        }\n      } catch (e) {\n        // ignore if a promise or something is thrown\n      }\n      return nextSnapshot\n    },\n    () => snapshot(service.state, use),\n  )\n\n  /* -----------------------------------------------------------------------------\n   * Sync actions\n   * -----------------------------------------------------------------------------*/\n\n  service.setOptions({ actions })\n\n  /* -----------------------------------------------------------------------------\n   * Sync context (if changed) to avoid unnecessary renders\n   * -----------------------------------------------------------------------------*/\n\n  const ctx = useMemo(() => compact(context ?? {}), [context])\n\n  useUpdateEffect(() => {\n    const entries = Object.entries(ctx)\n\n    const previousCtx = service.contextSnapshot ?? {}\n\n    const equality = entries.map(([key, value]) => ({\n      key,\n      curr: value,\n      prev: previousCtx[key],\n      equal: isEqual(previousCtx[key], value),\n    }))\n\n    const allEqual = equality.every(({ equal }) => equal)\n\n    if (!allEqual) {\n      // console.log(equality.filter(({ equal }) => !equal))\n      service.setContext(ctx)\n    }\n  }, [ctx])\n\n  const currAffected = new WeakMap()\n\n  useEffect(() => {\n    lastSnapshot.current = currSnapshot\n    lastAffected.current = currAffected\n  })\n\n  const proxyCache = useMemo(() => new WeakMap(), []) // per-hook proxyCache\n\n  return createProxyToCompare(currSnapshot, currAffected, proxyCache, targetCache) as any\n}\n", "const isArrayLike = (value: any) => value?.constructor.name === \"Array\"\n\nexport const isEqual = (a: any, b: any): boolean => {\n  if (Object.is(a, b)) return true\n\n  if ((a == null && b != null) || (a != null && b == null)) return false\n\n  if (typeof a?.isEqual === \"function\" && typeof b?.isEqual === \"function\") {\n    return a.isEqual(b)\n  }\n\n  if (typeof a === \"function\" && typeof b === \"function\") {\n    return a.toString() === b.toString()\n  }\n\n  if (isArrayLike(a) && isArrayLike(b)) {\n    return Array.from(a).toString() === Array.from(b).toString()\n  }\n\n  if (!(typeof a === \"object\") || !(typeof b === \"object\")) return false\n\n  const keys = Object.keys(b ?? Object.create(null))\n  const length = keys.length\n\n  for (let i = 0; i < length; i++) {\n    const hasKey = Reflect.has(a, keys[i])\n    if (!hasKey) return false\n  }\n\n  for (let i = 0; i < length; i++) {\n    const key = keys[i]\n    if (!isEqual(a[key], b[key])) return false\n  }\n\n  return true\n}\n", "export function compact<T extends Record<string, unknown> | undefined>(obj: T): T {\n  if (!isPlainObject(obj) || obj === undefined) {\n    return obj\n  }\n\n  const keys = Reflect.ownKeys(obj).filter((key) => typeof key === \"string\")\n  const filtered: Partial<T> = {}\n  for (const key of keys) {\n    const value = (obj as any)[key]\n    if (value !== undefined) {\n      filtered[key as keyof T] = compact(value)\n    }\n  }\n  return filtered as T\n}\n\nexport function json(value: any) {\n  return JSON.parse(JSON.stringify(value))\n}\n\nconst isPlainObject = (value: any) => {\n  return value && typeof value === \"object\" && value.constructor === Object\n}\n\nexport function pick<T extends Record<string, any>, K extends keyof T>(obj: T, keys: K[]): Pick<T, K> {\n  const filtered: Partial<T> = {}\n\n  for (const key of keys) {\n    const value = obj[key]\n    if (value !== undefined) {\n      filtered[key] = value\n    }\n  }\n\n  return filtered as any\n}\n", "import { useEffect, useRef } from \"react\"\n\nexport function useUpdateEffect(callback: React.EffectCallback, deps: React.DependencyList) {\n  const render = useRef(false)\n  const effect = useRef(false)\n\n  useEffect(() => {\n    const mounted = render.current\n    const run = mounted && effect.current\n    if (run) {\n      return callback()\n    }\n    effect.current = true\n  }, deps)\n\n  useEffect(() => {\n    render.current = true\n    return () => {\n      render.current = false\n    }\n  }, [])\n}\n", "import type { Machine, StateMachine as S } from \"@zag-js/core\"\nimport { useSnapshot } from \"./use-snapshot\"\n\nexport function useActor<\n  TContext extends Record<string, any>,\n  TState extends S.StateSchema,\n  TEvent extends S.EventObject = S.AnyEventObject,\n>(service: Machine<TContext, TState, TEvent>) {\n  const state = useSnapshot(service)\n  return [state, service.send] as const\n}\n", "import { useRef } from \"react\"\n\nexport function useConstant<T>(fn: () => T): T {\n  const ref = useRef<{ v: T }>()\n  if (!ref.current) ref.current = { v: fn() }\n  return ref.current.v\n}\n", "import { useEffect, useLayoutEffect } from \"react\"\n\nexport const useSafeLayoutEffect = typeof document !== \"undefined\" ? useLayoutEffect : useEffect\n", "import type { MachineSrc, StateMachine as S } from \"@zag-js/core\"\nimport { useConstant } from \"./use-constant\"\nimport { useSafeLayoutEffect } from \"./use-layout-effect\"\n\nexport function useService<\n  TContext extends Record<string, any>,\n  TState extends S.StateSchema,\n  TEvent extends S.EventObject = S.AnyEventObject,\n>(machine: MachineSrc<TContext, TState, TEvent>, options?: S.HookOptions<TContext, TState, TEvent>) {\n  const { state: hydratedState, context } = options ?? {}\n\n  const service = useConstant(() => {\n    const instance = typeof machine === \"function\" ? machine() : machine\n    if (context) instance.setContext(context)\n    instance._created()\n    return instance\n  })\n\n  useSafeLayoutEffect(() => {\n    service.start(hydratedState)\n    return () => {\n      service.stop()\n    }\n  }, [])\n\n  return service\n}\n", "import type { MachineSrc, StateMachine as S } from \"@zag-js/core\"\nimport { useService } from \"./use-service\"\nimport { useSnapshot } from \"./use-snapshot\"\n\nexport function useMachine<\n  TContext extends Record<string, any>,\n  TState extends S.StateSchema,\n  TEvent extends S.EventObject = S.AnyEventObject,\n>(machine: MachineSrc<TContext, TState, TEvent>, options?: S.HookOptions<TContext, TState, TEvent>) {\n  const service = useService(machine, options)\n  const state = useSnapshot(service, options)\n  return [state, service.send, service] as const\n}\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [AccordionItemProvider, useAccordionItemContext] = createContext({\n  name: \"AccordionItemContext\",\n  hookName: \"useAccordionItemContext\",\n  providerName: \"<AccordionItemProvider />\"\n});\n\nexport { AccordionItemProvider, useAccordionItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { splitCollapsibleProps } from './split-collapsible-props.js';\nimport { useCollapsible } from './use-collapsible.js';\nimport { CollapsibleProvider } from './use-collapsible-context.js';\n\nconst CollapsibleRoot = forwardRef((props, ref) => {\n  const [useCollapsibleProps, localProps] = splitCollapsibleProps(props);\n  const collapsible = useCollapsible(useCollapsibleProps);\n  const mergedProps = mergeProps(collapsible.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(CollapsibleProvider, { value: collapsible, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nCollapsibleRoot.displayName = \"CollapsibleRoot\";\n\nexport { CollapsibleRoot };\n", "import { mergeProps } from '@zag-js/core';\nimport { memo, forwardRef, createElement, Children, isValidElement, cloneElement } from 'react';\nimport { composeRefs } from '../utils/compose-refs.js';\n\nfunction getRef(child) {\n  if (\"ref\" in child.props)\n    return child.props.ref;\n  if (\"ref\" in child)\n    return child.ref;\n  return null;\n}\nconst withAsChild = (Component) => {\n  const Comp = memo(\n    forwardRef((props, ref) => {\n      const { asChild, children, ...restProps } = props;\n      if (!asChild) {\n        return createElement(Component, { ...restProps, ref }, children);\n      }\n      const onlyChild = Children.only(children);\n      if (!isValidElement(onlyChild)) {\n        return null;\n      }\n      const childRef = getRef(onlyChild);\n      return cloneElement(onlyChild, {\n        ...mergeProps(restProps, onlyChild.props),\n        ref: ref ? composeRefs(ref, childRef) : childRef\n      });\n    })\n  );\n  Comp.displayName = Component.displayName || Component.name;\n  return Comp;\n};\nconst jsxFactory = () => {\n  const cache = /* @__PURE__ */ new Map();\n  return new Proxy(withAsChild, {\n    apply(_target, _thisArg, argArray) {\n      return withAsChild(argArray[0]);\n    },\n    get(_, element) {\n      const asElement = element;\n      if (!cache.has(asElement)) {\n        cache.set(asElement, withAsChild(asElement));\n      }\n      return cache.get(asElement);\n    }\n  });\n};\nconst ark = jsxFactory();\n\nexport { ark, jsxFactory };\n", "function setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else if (ref !== null && ref !== void 0) {\n    ref.current = value;\n  }\n}\nfunction composeRefs(...refs) {\n  return (node) => {\n    for (const ref of refs) {\n      setRef(ref, node);\n    }\n  };\n}\n\nexport { composeRefs };\n", "'use client';\nconst createSplitProps = () => (props, keys) => keys.reduce(\n  (previousValue, currentValue) => {\n    const [target, source] = previousValue;\n    const key = currentValue;\n    if (source[key] !== void 0) {\n      target[key] = source[key];\n    }\n    delete source[key];\n    return [target, source];\n  },\n  [{}, { ...props }]\n);\n\nexport { createSplitProps };\n", "'use client';\nimport { createSplitProps } from '../../utils/create-split-props.js';\n\nconst splitCollapsibleProps = (props) => createSplitProps()(props, [\n  \"defaultOpen\",\n  \"disabled\",\n  \"id\",\n  \"ids\",\n  \"lazyMount\",\n  \"onExitComplete\",\n  \"onOpenChange\",\n  \"open\",\n  \"unmountOnExit\"\n]);\n\nexport { splitCollapsibleProps };\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"collapsible\").parts(\"root\", \"trigger\", \"content\")\n\nexport const parts = anatomy.build()\n", "import { dataAttr } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./collapsible.anatomy\"\nimport { dom } from \"./collapsible.dom\"\nimport type { MachineApi, Send, State } from \"./collapsible.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const visible = state.matches(\"open\", \"closing\")\n  const open = state.matches(\"open\")\n\n  const height = state.context.height\n  const width = state.context.width\n  const disabled = !!state.context.disabled\n\n  const skip = !state.context.initial && open\n\n  return {\n    disabled,\n    visible,\n    open,\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        \"data-state\": open ? \"open\" : \"closed\",\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        \"data-state\": skip ? undefined : open ? \"open\" : \"closed\",\n        id: dom.getContentId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n        hidden: !visible,\n        style: {\n          \"--height\": height != null ? `${height}px` : undefined,\n          \"--width\": width != null ? `${width}px` : undefined,\n        },\n      })\n    },\n\n    getTriggerProps() {\n      return normalize.element({\n        ...parts.trigger.attrs,\n        id: dom.getTriggerId(state.context),\n        dir: state.context.dir,\n        type: \"button\",\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(disabled),\n        \"aria-controls\": dom.getContentId(state.context),\n        \"aria-expanded\": visible || false,\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (disabled) return\n          send({ type: open ? \"CLOSE\" : \"OPEN\", src: \"trigger.click\" })\n        },\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./collapsible.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `collapsible:${ctx.id}`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `collapsible:${ctx.id}:content`,\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `collapsible:${ctx.id}:trigger`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n})\n", "import { createMachine, ref } from \"@zag-js/core\"\nimport { getComputedStyle, raf } from \"@zag-js/dom-query\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./collapsible.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./collapsible.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"collapsible\",\n      initial: ctx.open ? \"open\" : \"closed\",\n\n      context: {\n        ...ctx,\n        height: 0,\n        width: 0,\n        initial: false,\n        stylesRef: null,\n        unmountAnimationName: null,\n      },\n\n      watch: {\n        open: [\"setInitial\", \"computeSize\", \"toggleVisibility\"],\n      },\n\n      exit: [\"clearInitial\"],\n\n      states: {\n        closed: {\n          tags: [\"closed\"],\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"setInitial\", \"computeSize\", \"invokeOnOpen\"],\n              },\n            ],\n          },\n        },\n\n        closing: {\n          tags: [\"open\"],\n          activities: [\"trackAnimationEvents\"],\n          on: {\n            \"CONTROLLED.CLOSE\": \"closed\",\n            \"CONTROLLED.OPEN\": \"open\",\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"setInitial\", \"invokeOnOpen\"],\n              },\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnExitComplete\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"setInitial\", \"computeSize\", \"invokeOnExitComplete\"],\n              },\n            ],\n            \"ANIMATION.END\": {\n              target: \"closed\",\n              actions: [\"invokeOnExitComplete\"],\n            },\n          },\n        },\n\n        open: {\n          tags: [\"open\"],\n          on: {\n            \"CONTROLLED.CLOSE\": \"closing\",\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closing\",\n                actions: [\"setInitial\", \"computeSize\", \"invokeOnClose\"],\n              },\n            ],\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n      },\n      activities: {\n        trackAnimationEvents(ctx, _evt, { send }) {\n          let cleanup: VoidFunction | undefined\n\n          const rafCleanup = raf(() => {\n            const contentEl = dom.getContentEl(ctx)\n            if (!contentEl) return\n\n            // if there's no animation, send ANIMATION.END immediately\n            const animationName = getComputedStyle(contentEl).animationName\n            const hasNoAnimation = !animationName || animationName === \"none\"\n\n            if (hasNoAnimation) {\n              send({ type: \"ANIMATION.END\" })\n              return\n            }\n\n            const onEnd = (event: AnimationEvent) => {\n              const win = contentEl.ownerDocument.defaultView || window\n              const animationName = win.getComputedStyle(contentEl).animationName\n              if (event.target === contentEl && animationName === ctx.unmountAnimationName) {\n                send({ type: \"ANIMATION.END\" })\n              }\n            }\n\n            contentEl.addEventListener(\"animationend\", onEnd)\n            cleanup = () => {\n              contentEl.removeEventListener(\"animationend\", onEnd)\n            }\n          })\n\n          return () => {\n            rafCleanup()\n            cleanup?.()\n          }\n        },\n      },\n      actions: {\n        setInitial(ctx) {\n          ctx.initial = true\n        },\n        clearInitial(ctx) {\n          ctx.initial = false\n        },\n        computeSize(ctx, evt) {\n          ctx._rafCleanup?.()\n\n          ctx._rafCleanup = raf(() => {\n            const contentEl = dom.getContentEl(ctx)\n            if (!contentEl) return\n\n            ctx.stylesRef ||= ref({\n              animationName: contentEl.style.animationName,\n              animationDuration: contentEl.style.animationDuration,\n            })\n\n            if (evt.type === \"CLOSE\" || !ctx.open) {\n              const win = contentEl.ownerDocument.defaultView || window\n              ctx.unmountAnimationName = win.getComputedStyle(contentEl).animationName\n            }\n\n            const hidden = contentEl.hidden\n\n            // block any animations/transitions so the element renders at its full dimensions\n            contentEl.style.animationName = \"none\"\n            contentEl.style.animationDuration = \"0s\"\n            contentEl.hidden = false\n\n            const rect = contentEl.getBoundingClientRect()\n            ctx.height = rect.height\n            ctx.width = rect.width\n\n            // kick off any animations/transitions that were originally set up if it isn't the initial mount\n            if (ctx.initial) {\n              contentEl.style.animationName = ctx.stylesRef.animationName\n              contentEl.style.animationDuration = ctx.stylesRef.animationDuration\n            }\n\n            contentEl.hidden = hidden\n          })\n        },\n        invokeOnOpen: (ctx) => {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose: (ctx) => {\n          ctx.onOpenChange?.({ open: false })\n        },\n        invokeOnExitComplete(ctx) {\n          ctx.onExitComplete?.()\n        },\n        toggleVisibility: (ctx, _evt, { send }) => {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\" })\n        },\n      },\n    },\n  )\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./collapsible.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"dir\",\n  \"disabled\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"onExitComplete\",\n  \"onOpenChange\",\n  \"open.controlled\",\n  \"open\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "'use client';\nimport * as collapsible from '@zag-js/collapsible';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useRef, useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useCollapsible = (props = {}) => {\n  const { lazyMount, unmountOnExit, ...collapsibleProps } = props;\n  const wasVisible = useRef(false);\n  const { dir } = useLocaleContext();\n  const { getRootNode } = useEnvironmentContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    open: props.defaultOpen,\n    \"open.controlled\": props.open !== void 0,\n    ...collapsibleProps\n  };\n  const context = {\n    ...initialContext,\n    open: props.open,\n    onOpenChange: useEvent(props.onOpenChange, { sync: true })\n  };\n  const [state, send] = useMachine(collapsible.machine(initialContext), { context });\n  const api = collapsible.connect(state, send, normalizeProps);\n  if (api.visible) {\n    wasVisible.current = true;\n  }\n  const isUnmounted = !api.visible && !wasVisible.current && lazyMount || unmountOnExit && !api.visible && wasVisible.current;\n  return { ...api, isUnmounted };\n};\n\nexport { useCollapsible };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [EnvironmentContextProvider, useEnvironmentContext] = createContext({\n  name: \"EnvironmentContext\",\n  hookName: \"useEnvironmentContext\",\n  providerName: \"<EnvironmentProvider />\",\n  strict: false,\n  defaultValue: {\n    getRootNode: () => document,\n    getDocument: () => document,\n    getWindow: () => window\n  }\n});\n\nexport { EnvironmentContextProvider, useEnvironmentContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [LocaleContextProvider, useLocaleContext] = createContext({\n  name: \"LocaleContext\",\n  hookName: \"useLocaleContext\",\n  providerName: \"<LocaleProvider />\",\n  strict: false,\n  defaultValue: { dir: \"ltr\", locale: \"en-US\" }\n});\n\nexport { LocaleContextProvider, useLocaleContext };\n", "'use client';\nimport { useCallback, useRef } from 'react';\n\nfunction useEvent(callback, opts = {}) {\n  const { sync = false } = opts;\n  const callbackRef = useLatestRef(callback);\n  return useCallback(\n    // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n    (...args) => {\n      if (sync)\n        return queueMicrotask(() => callbackRef.current?.(...args));\n      return callbackRef.current?.(...args);\n    },\n    [sync, callbackRef]\n  );\n}\nfunction useLatestRef(value) {\n  const ref = useRef(value);\n  ref.current = value;\n  return ref;\n}\n\nexport { useEvent };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [CollapsibleProvider, useCollapsibleContext] = createContext({\n  name: \"CollapsibleContext\",\n  hookName: \"useCollapsibleContext\",\n  providerName: \"<CollapsibleProvider />\"\n});\n\nexport { CollapsibleProvider, useCollapsibleContext };\n", "'use client';\nimport { createContext } from './create-context.js';\nimport { createSplitProps } from './create-split-props.js';\n\nconst [RenderStrategyPropsProvider, useRenderStrategyPropsContext] = createContext({\n  name: \"RenderStrategyContext\",\n  hookName: \"useRenderStrategyContext\",\n  providerName: \"<RenderStrategyPropsProvider />\"\n});\nconst splitRenderStrategyProps = (props) => createSplitProps()(props, [\"lazyMount\", \"unmountOnExit\"]);\n\nexport { RenderStrategyPropsProvider, splitRenderStrategyProps, useRenderStrategyPropsContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [AccordionItemPropsProvider, useAccordionItemPropsContext] = createContext({\n  name: \"AccordionItemPropsContext\",\n  hookName: \"useAccordionItemPropsContext\",\n  providerName: \"<AccordionItemPropsProvider />\"\n});\n\nexport { AccordionItemPropsProvider, useAccordionItemPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { CollapsibleContent } from '../collapsible/collapsible-content.js';\nimport { useAccordionContext } from './use-accordion-context.js';\nimport { useAccordionItemPropsContext } from './use-accordion-item-props-context.js';\n\nconst splitVisibilityProps = createSplitProps();\nconst AccordionItemContent = forwardRef(\n  (props, ref) => {\n    const accordion = useAccordionContext();\n    const itemProps = useAccordionItemPropsContext();\n    const contentProps = accordion.getItemContentProps(itemProps);\n    const [, itemContentProps] = splitVisibilityProps(contentProps, [\"hidden\", \"data-state\"]);\n    const mergedProps = mergeProps(itemContentProps, props);\n    return /* @__PURE__ */ jsx(CollapsibleContent, { ref, ...mergedProps });\n  }\n);\nAccordionItemContent.displayName = \"AccordionItemContent\";\n\nexport { AccordionItemContent };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCollapsibleContext } from './use-collapsible-context.js';\n\nconst CollapsibleContent = forwardRef(\n  (props, ref) => {\n    const collapsible = useCollapsibleContext();\n    if (collapsible.isUnmounted) {\n      return null;\n    }\n    const mergedProps = mergeProps(collapsible.getContentProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nCollapsibleContent.displayName = \"CollapsibleContent\";\n\nexport { CollapsibleContent };\n", "'use client';\nimport { useAccordionItemContext } from './use-accordion-item-context.js';\n\nconst AccordionItemContext = (props) => props.children(useAccordionItemContext());\n\nexport { AccordionItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useAccordionContext } from './use-accordion-context.js';\nimport { useAccordionItemPropsContext } from './use-accordion-item-props-context.js';\n\nconst AccordionItemIndicator = forwardRef(\n  (props, ref) => {\n    const accordion = useAccordionContext();\n    const itemProps = useAccordionItemPropsContext();\n    const mergedProps = mergeProps(accordion.getItemIndicatorProps(itemProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nAccordionItemIndicator.displayName = \"AccordionItemIndicator\";\n\nexport { AccordionItemIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { useCollapsibleContext } from '../collapsible/use-collapsible-context.js';\nimport { ark } from '../factory.js';\nimport { useAccordionContext } from './use-accordion-context.js';\nimport { useAccordionItemPropsContext } from './use-accordion-item-props-context.js';\n\nconst AccordionItemTrigger = forwardRef(\n  (props, ref) => {\n    const accordion = useAccordionContext();\n    const itemProps = useAccordionItemPropsContext();\n    const collapsible = useCollapsibleContext();\n    const triggerProps = accordion.getItemTriggerProps(itemProps);\n    const mergedProps = mergeProps(\n      {\n        ...triggerProps,\n        \"aria-controls\": collapsible.isUnmounted ? void 0 : triggerProps[\"aria-controls\"]\n      },\n      props\n    );\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nAccordionItemTrigger.displayName = \"AccordionItemTrigger\";\n\nexport { AccordionItemTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { splitRenderStrategyProps, RenderStrategyPropsProvider } from '../../utils/render-strategy.js';\nimport { ark } from '../factory.js';\nimport { useAccordion } from './use-accordion.js';\nimport { AccordionProvider } from './use-accordion-context.js';\n\nconst AccordionRoot = forwardRef((props, ref) => {\n  const [renderStrategyProps, accordionProps] = splitRenderStrategyProps(props);\n  const [useAccordionProps, localProps] = createSplitProps()(accordionProps, [\n    \"collapsible\",\n    \"defaultValue\",\n    \"disabled\",\n    \"id\",\n    \"ids\",\n    \"multiple\",\n    \"onFocusChange\",\n    \"onValueChange\",\n    \"orientation\",\n    \"value\"\n  ]);\n  const accordion = useAccordion(useAccordionProps);\n  const mergedProps = mergeProps(accordion.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(AccordionProvider, { value: accordion, children: /* @__PURE__ */ jsx(RenderStrategyPropsProvider, { value: renderStrategyProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nAccordionRoot.displayName = \"AccordionRoot\";\n\nexport { AccordionRoot };\n", "'use client';\nimport * as accordion from '@zag-js/accordion';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useAccordion = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onFocusChange: useEvent(props.onFocusChange),\n    onValueChange: useEvent(props.onValueChange)\n  };\n  const [state, send] = useMachine(accordion.machine(initialContext), { context });\n  return accordion.connect(state, send, normalizeProps);\n};\n\nexport { useAccordion };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { splitRenderStrategyProps, RenderStrategyPropsProvider } from '../../utils/render-strategy.js';\nimport { ark } from '../factory.js';\nimport { AccordionProvider } from './use-accordion-context.js';\n\nconst AccordionRootProvider = forwardRef(\n  (props, ref) => {\n    const [renderStrategyProps, accordionProps] = splitRenderStrategyProps(props);\n    const [{ value: accordion }, localProps] = createSplitProps()(\n      accordionProps,\n      [\"value\"]\n    );\n    const mergedProps = mergeProps(accordion.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(AccordionProvider, { value: accordion, children: /* @__PURE__ */ jsx(RenderStrategyPropsProvider, { value: renderStrategyProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n  }\n);\nAccordionRootProvider.displayName = \"AccordionRootProvider\";\n\nexport { AccordionRootProvider };\n", "export { AccordionContext as Context } from './accordion-context.js';\nexport { AccordionItem as Item } from './accordion-item.js';\nexport { AccordionItemContent as ItemContent } from './accordion-item-content.js';\nexport { AccordionItemContext as ItemContext } from './accordion-item-context.js';\nexport { AccordionItemIndicator as ItemIndicator } from './accordion-item-indicator.js';\nexport { AccordionItemTrigger as ItemTrigger } from './accordion-item-trigger.js';\nexport { AccordionRoot as Root } from './accordion-root.js';\nexport { AccordionRootProvider as RootProvider } from './accordion-root-provider.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [AvatarProvider, useAvatarContext] = createContext({\n  name: \"AvatarContext\",\n  hookName: \"useAvatarContext\",\n  providerName: \"<AvatarProvider />\"\n});\n\nexport { AvatarProvider, useAvatarContext };\n", "'use client';\nimport { useAvatarContext } from './use-avatar-context.js';\n\nconst AvatarContext = (props) => props.children(useAvatarContext());\n\nexport { AvatarContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useAvatarContext } from './use-avatar-context.js';\n\nconst AvatarFallback = forwardRef((props, ref) => {\n  const avatar = useAvatarContext();\n  const mergedProps = mergeProps(avatar.getFallbackProps(), props);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nAvatarFallback.displayName = \"AvatarFallback\";\n\nexport { AvatarFallback };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useAvatarContext } from './use-avatar-context.js';\n\nconst AvatarImage = forwardRef((props, ref) => {\n  const avatar = useAvatarContext();\n  const mergedProps = mergeProps(avatar.getImageProps(), props);\n  return /* @__PURE__ */ jsx(ark.img, { ...mergedProps, ref });\n});\nAvatarImage.displayName = \"AvatarImage\";\n\nexport { AvatarImage };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useAvatar } from './use-avatar.js';\nimport { AvatarProvider } from './use-avatar-context.js';\n\nconst AvatarRoot = forwardRef((props, ref) => {\n  const [useAvatarProps, localProps] = createSplitProps()(props, [\n    \"id\",\n    \"ids\",\n    \"onStatusChange\"\n  ]);\n  const avatar = useAvatar(useAvatarProps);\n  const mergedProps = mergeProps(avatar.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(AvatarProvider, { value: avatar, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nAvatarRoot.displayName = \"AvatarRoot\";\n\nexport { AvatarRoot };\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"avatar\").parts(\"root\", \"image\", \"fallback\")\n\nexport const parts = anatomy.build()\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./avatar.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `avatar:${ctx.id}`,\n  getImageId: (ctx: Ctx) => ctx.ids?.image ?? `avatar:${ctx.id}:image`,\n  getFallbackId: (ctx: Ctx) => ctx.ids?.fallback ?? `avatar:${ctx.id}:fallback`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getImageEl: (ctx: Ctx) => dom.getById<HTMLImageElement>(ctx, dom.getImageId(ctx)),\n})\n", "import type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./avatar.anatomy\"\nimport { dom } from \"./avatar.dom\"\nimport type { MachineApi, Send, State } from \"./avatar.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const loaded = state.matches(\"loaded\")\n  return {\n    loaded,\n    setSrc(src) {\n      send({ type: \"SRC.SET\", src })\n    },\n    setLoaded() {\n      send({ type: \"IMG.LOADED\", src: \"api\" })\n    },\n    setError() {\n      send({ type: \"IMG.ERROR\", src: \"api\" })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n      })\n    },\n\n    getImageProps() {\n      return normalize.img({\n        ...parts.image.attrs,\n        hidden: !loaded,\n        dir: state.context.dir,\n        id: dom.getImageId(state.context),\n        \"data-state\": loaded ? \"visible\" : \"hidden\",\n        onLoad() {\n          send({ type: \"IMG.LOADED\", src: \"element\" })\n        },\n        onError() {\n          send({ type: \"IMG.ERROR\", src: \"element\" })\n        },\n      })\n    },\n\n    getFallbackProps() {\n      return normalize.element({\n        ...parts.fallback.attrs,\n        dir: state.context.dir,\n        id: dom.getFallbackId(state.context),\n        hidden: loaded,\n        \"data-state\": loaded ? \"hidden\" : \"visible\",\n      })\n    },\n  }\n}\n", "import { createMachine } from \"@zag-js/core\"\nimport { observeAttributes, observeChildren } from \"@zag-js/dom-query\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./avatar.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./avatar.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"avatar\",\n      initial: \"loading\",\n      activities: [\"trackImageRemoval\"],\n\n      context: ctx,\n\n      on: {\n        \"SRC.CHANGE\": {\n          target: \"loading\",\n        },\n        \"IMG.UNMOUNT\": {\n          target: \"error\",\n        },\n      },\n\n      states: {\n        loading: {\n          activities: [\"trackSrcChange\"],\n          entry: [\"checkImageStatus\"],\n          on: {\n            \"IMG.LOADED\": {\n              target: \"loaded\",\n              actions: [\"invokeOnLoad\"],\n            },\n            \"IMG.ERROR\": {\n              target: \"error\",\n              actions: [\"invokeOnError\"],\n            },\n          },\n        },\n        error: {\n          activities: [\"trackSrcChange\"],\n          on: {\n            \"IMG.LOADED\": {\n              target: \"loaded\",\n              actions: [\"invokeOnLoad\"],\n            },\n          },\n        },\n        loaded: {\n          activities: [\"trackSrcChange\"],\n          on: {\n            \"IMG.ERROR\": {\n              target: \"error\",\n              actions: [\"invokeOnError\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      activities: {\n        trackSrcChange(ctx, _evt, { send }) {\n          const imageEl = dom.getImageEl(ctx)\n          return observeAttributes(imageEl, {\n            attributes: [\"src\", \"srcset\"],\n            callback() {\n              send({ type: \"SRC.CHANGE\" })\n            },\n          })\n        },\n        trackImageRemoval(ctx, _evt, { send }) {\n          const rootEl = dom.getRootEl(ctx)\n          return observeChildren(rootEl, {\n            callback(records) {\n              const removedNodes = Array.from(records[0].removedNodes) as HTMLElement[]\n              const removed = removedNodes.find((node) => node.matches(\"[data-scope=avatar][data-part=image]\"))\n              if (removed) {\n                send({ type: \"IMG.UNMOUNT\" })\n              }\n            },\n          })\n        },\n      },\n      actions: {\n        invokeOnLoad(ctx) {\n          ctx.onStatusChange?.({ status: \"loaded\" })\n        },\n        invokeOnError(ctx) {\n          ctx.onStatusChange?.({ status: \"error\" })\n        },\n        checkImageStatus(ctx, _evt, { send }) {\n          const imageEl = dom.getImageEl(ctx)\n          if (imageEl?.complete) {\n            const type = hasLoaded(imageEl) ? \"IMG.LOADED\" : \"IMG.ERROR\"\n            send({ type, src: \"ssr\" })\n          }\n        },\n      },\n    },\n  )\n}\n\nfunction hasLoaded(image: HTMLImageElement) {\n  return image.complete && image.naturalWidth !== 0 && image.naturalHeight !== 0\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./avatar.types\"\n\nexport const props = createProps<UserDefinedContext>()([\"dir\", \"id\", \"ids\", \"onStatusChange\", \"getRootNode\"])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "'use client';\nimport * as avatar from '@zag-js/avatar';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useAvatar = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    onStatusChange: useEvent(props.onStatusChange)\n  };\n  const [state, send] = useMachine(avatar.machine(initialContext), { context });\n  return avatar.connect(state, send, normalizeProps);\n};\n\nexport { useAvatar };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { AvatarProvider } from './use-avatar-context.js';\n\nconst AvatarRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: avatar }, localProps] = createSplitProps()(props, [\"value\"]);\n    const mergedProps = mergeProps(avatar.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(AvatarProvider, { value: avatar, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nAvatarRootProvider.displayName = \"AvatarRootProvider\";\n\nexport { AvatarRootProvider };\n", "export { AvatarContext as Context } from './avatar-context.js';\nexport { AvatarFallback as Fallback } from './avatar-fallback.js';\nexport { AvatarImage as Image } from './avatar-image.js';\nexport { AvatarRoot as Root } from './avatar-root.js';\nexport { AvatarRootProvider as RootProvider } from './avatar-root-provider.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [CarouselProvider, useCarouselContext] = createContext({\n  name: \"CarouselContext\",\n  hookName: \"useCarouselContext\",\n  providerName: \"<CarouselProvider />\"\n});\n\nexport { CarouselProvider, useCarouselContext };\n", "'use client';\nimport { useCarouselContext } from './use-carousel-context.js';\n\nconst CarouselContext = (props) => props.children(useCarouselContext());\n\nexport { CarouselContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { carouselAnatomy } from '@ark-ui/anatomy';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\n\nconst CarouselControl = forwardRef((props, ref) => /* @__PURE__ */ jsx(ark.div, { ...carouselAnatomy.build().control.attrs, ...props, ref }));\nCarouselControl.displayName = \"CarouselControl\";\n\nexport { CarouselControl };\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"carousel\").parts(\n  \"root\",\n  \"viewport\",\n  \"itemGroup\",\n  \"item\",\n  \"nextTrigger\",\n  \"prevTrigger\",\n  \"indicatorGroup\",\n  \"indicator\",\n)\n\nexport const parts = anatomy.build()\n", "import { dataAttr, isDom } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./carousel.anatomy\"\nimport { dom } from \"./carousel.dom\"\nimport type { ItemProps, ItemState, MachineApi, Send, State } from \"./carousel.types\"\nimport { getSlidesInView } from \"./utils/get-slide-in-view\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const canScrollNext = state.context.canScrollNext\n  const canScrollPrev = state.context.canScrollPrev\n  const horizontal = state.context.isHorizontal\n  const autoPlaying = state.matches(\"autoplay\")\n\n  const activeSnap = state.context.scrollSnaps[state.context.index]\n  const slidesInView = isDom() ? getSlidesInView(state.context)(activeSnap) : []\n\n  function getItemState(props: ItemProps): ItemState {\n    return {\n      valueText: `Slide ${props.index + 1}`,\n      current: props.index === state.context.index,\n      next: props.index === state.context.index + 1,\n      previous: props.index === state.context.index - 1,\n      inView: slidesInView.includes(props.index),\n    }\n  }\n\n  return {\n    index: state.context.index,\n    scrollProgress: state.context.scrollProgress,\n    autoPlaying,\n    canScrollNext,\n    canScrollPrev,\n    scrollTo(index, jump) {\n      send({ type: \"GOTO\", index, jump })\n    },\n    scrollToNext() {\n      send(\"NEXT\")\n    },\n    scrollToPrevious() {\n      send(\"PREV\")\n    },\n    getItemState: getItemState,\n    play() {\n      send(\"PLAY\")\n    },\n    pause() {\n      send(\"PAUSE\")\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        id: dom.getRootId(state.context),\n        role: \"region\",\n        \"aria-roledescription\": \"carousel\",\n        \"data-orientation\": state.context.orientation,\n        dir: state.context.dir,\n        \"aria-label\": \"Carousel\",\n        style: {\n          \"--slide-spacing\": state.context.spacing,\n          \"--slide-size\": `calc(100% / ${state.context.slidesPerView} - var(--slide-spacing))`,\n        },\n      })\n    },\n\n    getViewportProps() {\n      return normalize.element({\n        ...parts.viewport.attrs,\n        dir: state.context.dir,\n        id: dom.getViewportId(state.context),\n        \"data-orientation\": state.context.orientation,\n      })\n    },\n\n    getItemGroupProps() {\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        id: dom.getItemGroupId(state.context),\n        \"data-orientation\": state.context.orientation,\n        dir: state.context.dir,\n        style: {\n          display: \"flex\",\n          flexDirection: horizontal ? \"row\" : \"column\",\n          [horizontal ? \"height\" : \"width\"]: \"auto\",\n          gap: \"var(--slide-spacing)\",\n          transform: state.context.translateValue,\n          transitionProperty: \"transform\",\n          willChange: \"transform\",\n          transitionTimingFunction: \"cubic-bezier(0.4, 0, 0.2, 1)\",\n          transitionDuration: \"0.3s\",\n        },\n      })\n    },\n\n    getItemProps(props) {\n      const itemState = getItemState(props)\n\n      return normalize.element({\n        ...parts.item.attrs,\n        id: dom.getItemId(state.context, props.index),\n        dir: state.context.dir,\n        \"data-current\": dataAttr(itemState.current),\n        \"data-inview\": dataAttr(itemState.inView),\n        role: \"group\",\n        \"aria-roledescription\": \"slide\",\n        \"data-orientation\": state.context.orientation,\n        \"aria-label\": itemState.valueText,\n        style: {\n          position: \"relative\",\n          flex: \"0 0 var(--slide-size)\",\n          [horizontal ? \"minWidth\" : \"minHeight\"]: \"0px\",\n        },\n      })\n    },\n\n    getPrevTriggerProps() {\n      return normalize.button({\n        ...parts.prevTrigger.attrs,\n        id: dom.getPrevTriggerId(state.context),\n        type: \"button\",\n        tabIndex: -1,\n        disabled: !canScrollPrev,\n        dir: state.context.dir,\n        \"aria-label\": \"Previous Slide\",\n        \"data-orientation\": state.context.orientation,\n        \"aria-controls\": dom.getItemGroupId(state.context),\n        onClick() {\n          send(\"PREV\")\n        },\n      })\n    },\n\n    getNextTriggerProps() {\n      return normalize.button({\n        ...parts.nextTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getNextTriggerId(state.context),\n        type: \"button\",\n        tabIndex: -1,\n        \"aria-label\": \"Next Slide\",\n        \"data-orientation\": state.context.orientation,\n        \"aria-controls\": dom.getItemGroupId(state.context),\n        disabled: !canScrollNext,\n        onClick() {\n          send(\"NEXT\")\n        },\n      })\n    },\n\n    getIndicatorGroupProps() {\n      return normalize.element({\n        ...parts.indicatorGroup.attrs,\n        dir: state.context.dir,\n        id: dom.getIndicatorGroupId(state.context),\n        \"data-orientation\": state.context.orientation,\n      })\n    },\n\n    getIndicatorProps(props) {\n      return normalize.button({\n        ...parts.indicator.attrs,\n        dir: state.context.dir,\n        id: dom.getIndicatorId(state.context, props.index),\n        type: \"button\",\n        \"data-orientation\": state.context.orientation,\n        \"data-index\": props.index,\n        \"data-readonly\": dataAttr(props.readOnly),\n        \"data-current\": dataAttr(props.index === state.context.index),\n        onClick() {\n          if (props.readOnly) return\n          send({ type: \"GOTO\", index: props.index })\n        },\n      })\n    },\n  }\n}\n", "import { createScope, queryAll } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./carousel.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `carousel:${ctx.id}`,\n  getViewportId: (ctx: Ctx) => ctx.ids?.viewport ?? `carousel:${ctx.id}:viewport`,\n  getItemId: (ctx: Ctx, index: number) => ctx.ids?.slide?.(index) ?? `carousel:${ctx.id}:slide:${index}`,\n  getItemGroupId: (ctx: Ctx) => ctx.ids?.slideGroup ?? `carousel:${ctx.id}:slide-group`,\n  getNextTriggerId: (ctx: Ctx) => ctx.ids?.nextSlideTrigger ?? `carousel:${ctx.id}:next-slide-trigger`,\n  getPrevTriggerId: (ctx: Ctx) => ctx.ids?.prevSlideTrigger ?? `carousel:${ctx.id}:prev-slide-trigger`,\n  getIndicatorGroupId: (ctx: Ctx) => ctx.ids?.indicatorGroup ?? `carousel:${ctx.id}:indicator-group`,\n  getIndicatorId: (ctx: Ctx, index: number) => ctx.ids?.indicator?.(index) ?? `carousel:${ctx.id}:indicator:${index}`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getViewportEl: (ctx: Ctx) => dom.getById(ctx, dom.getViewportId(ctx)),\n  getSlideGroupEl: (ctx: Ctx) => dom.getById(ctx, dom.getItemGroupId(ctx)),\n  getSlideEls: (ctx: Ctx) => queryAll(dom.getSlideGroupEl(ctx), `[data-part=item]`),\n})\n", "export function getLimit(min: number, max: number) {\n  const length = Math.abs(min - max)\n\n  function reachedMin(n: number): boolean {\n    return n < min\n  }\n\n  function reachedMax(n: number): boolean {\n    return n > max\n  }\n\n  function reachedAny(n: number): boolean {\n    return reachedMin(n) || reachedMax(n)\n  }\n\n  function constrain(n: number): number {\n    if (!reachedAny(n)) return n\n    return reachedMin(n) ? min : max\n  }\n\n  function removeOffset(n: number): number {\n    if (!length) return n\n    return n - length * Math.ceil((n - max) / length)\n  }\n\n  return {\n    length,\n    max,\n    min,\n    constrain,\n    reachedAny,\n    reachedMax,\n    reachedMin,\n    removeOffset,\n  }\n}\n", "import { isNumber } from \"@zag-js/utils\"\n\nexport type AlignmentOptionType = \"start\" | \"center\" | \"end\" | number\n\nexport const getAlignment = (align: AlignmentOptionType, containerSize: number) => {\n  const predefined = { start, center, end }\n\n  function start(): number {\n    return 0\n  }\n\n  function center(n: number): number {\n    return end(n) / 2\n  }\n\n  function end(n: number): number {\n    return containerSize - n\n  }\n\n  function percent(): number {\n    return containerSize * Number(align)\n  }\n\n  return (n: number) => {\n    if (isNumber(align)) return percent()\n    return predefined[align](n)\n  }\n}\n", "import { isNumber } from \"@zag-js/utils\"\nimport type { MachineContext } from \"../carousel.types\"\n\nexport function getSlidesToScroll(\n  containerSize: number,\n  slideSizesWithGaps: number[],\n  slidesPerView: MachineContext[\"slidesPerView\"],\n) {\n  function byNumber<T>(array: T[], groupSize: number): T[][] {\n    return Array.from(array.keys())\n      .filter((i) => i % groupSize === 0)\n      .map((i) => array.slice(i, i + groupSize))\n  }\n\n  function bySize<T>(array: T[]): T[][] {\n    return Array.from(array.keys())\n      .reduce((groups: number[], i) => {\n        const chunk = slideSizesWithGaps.slice(groups.at(-1), i + 1)\n        const chunkSize = chunk.reduce((a, s) => a + s, 0)\n        return !i || chunkSize > containerSize ? groups.concat(i) : groups\n      }, [])\n      .map((start, i, groups) => array.slice(start, groups[i + 1]))\n  }\n\n  return function groupSlides<T>(array: T[]): T[][] {\n    return isNumber(slidesPerView) ? byNumber(array, slidesPerView) : bySize(array)\n  }\n}\n", "import type { MachineContext } from \"../carousel.types\"\n\nexport type SlideSizesType = {\n  slideSizes: number[]\n  slideSizesWithGaps: number[]\n}\n\nexport function getSlideSizes(ctx: MachineContext): SlideSizesType {\n  const startGap = measureStartGap()\n\n  function measureStartGap(): number {\n    if (!ctx.containerRect) return 0\n    const slideRect = ctx.slideRects[0]\n    return Math.abs(ctx.containerRect[ctx.startEdge] - slideRect[ctx.startEdge])\n  }\n\n  function measureWithGaps(): number[] {\n    return ctx.slideRects.map((rect, index, rects) => {\n      const isFirst = !index\n      if (isFirst) return Math.abs(slideSizes[index] + startGap)\n\n      const isLast = index === rects.length - 1\n      if (isLast) return Math.abs(slideSizes[index])\n\n      return Math.abs(rects[index + 1][ctx.startEdge] - rect[ctx.startEdge])\n    })\n  }\n\n  const slideSizes = ctx.slideRects.map((slideRect) => {\n    return ctx.isVertical ? slideRect.height : slideRect.width\n  })\n  const slideSizesWithGaps = measureWithGaps()\n\n  return {\n    slideSizes,\n    slideSizesWithGaps,\n  }\n}\n", "import type { MachineContext } from \"../carousel.types\"\nimport { getAlignment } from \"./get-alignment\"\nimport { getLimit } from \"./get-limit\"\nimport { getSlidesToScroll } from \"./get-slide-groups\"\nimport { getSlideSizes } from \"./get-slide-sizes\"\n\nconst arrayLast = <T>(array: T[]): T => array[arrayLastIndex(array)]\nconst arrayLastIndex = <T>(array: T[]): number => Math.max(0, array.length - 1)\n\nexport function getScrollSnaps(ctx: MachineContext) {\n  const { slideSizes, slideSizesWithGaps } = getSlideSizes(ctx)\n\n  const groupSlides = getSlidesToScroll(ctx.containerSize!, slideSizesWithGaps, ctx.slidesPerView)\n\n  function measureSizes(): number[] {\n    return groupSlides(ctx.slideRects)\n      .map((rects) => arrayLast(rects)[ctx.endEdge] - rects[0][ctx.startEdge])\n      .map(Math.abs)\n  }\n\n  function measureUnaligned(): number[] {\n    return ctx.slideRects\n      .map((slideRect) => ctx.containerRect![ctx.startEdge] - slideRect[ctx.startEdge])\n      .map((snap) => -Math.abs(snap))\n  }\n\n  function measureAligned(): number[] {\n    const measureFn = getAlignment(ctx.align, ctx.containerSize!)\n    const alignments = measureSizes().map(measureFn)\n\n    return groupSlides(snaps)\n      .map((snap) => snap[0])\n      .map((snap, index) => snap + alignments[index])\n  }\n\n  const snaps = measureUnaligned()\n  const snapsAligned = measureAligned()\n\n  const contentSize = -arrayLast(snaps) + arrayLast(slideSizesWithGaps)\n\n  const scrollLimit = getLimit(snaps[snaps.length - 1], snaps[0])\n  const scrollProgress = (snapsAligned[ctx.index] - scrollLimit.max) / -scrollLimit.length\n\n  return {\n    snaps,\n    snapsAligned,\n    slideSizes,\n    slideSizesWithGaps,\n    contentSize,\n    scrollLimit,\n    scrollProgress: Math.abs(scrollProgress),\n  }\n}\n", "import type { MachineContext } from \"../carousel.types\"\nimport { getLimit } from \"./get-limit\"\nimport { getScrollSnaps } from \"./get-scroll-snaps\"\n\ntype Bound = {\n  start: number\n  end: number\n  index: number\n}\n\nconst slideThreshold = 0\n\nexport function getSlidesInView(ctx: MachineContext) {\n  const roundingSafety = 0.5\n  const slideOffsets = [0]\n\n  const { snaps, slideSizes, scrollLimit } = getScrollSnaps(ctx)\n\n  const slideThresholds = slideSizes.map((slideSize) => {\n    const thresholdLimit = getLimit(roundingSafety, slideSize - roundingSafety)\n    return thresholdLimit.constrain(slideSize * slideThreshold)\n  })\n\n  const slideBounds = slideOffsets.reduce((acc: Bound[], offset) => {\n    const bounds = snaps.map((snap, index) => ({\n      start: snap - slideSizes[index] + slideThresholds[index] + offset,\n      end: snap + ctx.containerSize - slideThresholds[index] + offset,\n      index,\n    }))\n    return acc.concat(bounds)\n  }, [])\n\n  return (location: number) => {\n    const loc = scrollLimit.constrain(location)\n    return slideBounds.reduce((list: number[], bound) => {\n      const { index, start, end } = bound\n      const inList = list.includes(index)\n      const inView = start < loc && end > loc\n      return !inList && inView ? list.concat([index]) : list\n    }, [])\n  }\n}\n", "import { createMachine, ref } from \"@zag-js/core\"\nimport { compact, isEqual, nextIndex, prevIndex } from \"@zag-js/utils\"\nimport { dom } from \"./carousel.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./carousel.types\"\nimport { getScrollSnaps } from \"./utils/get-scroll-snaps\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"carousel\",\n      initial: \"idle\",\n      context: {\n        index: 0,\n        orientation: \"horizontal\",\n        align: \"start\",\n        loop: false,\n        slidesPerView: 1,\n        spacing: \"0px\",\n        ...ctx,\n        scrollSnaps: [],\n        scrollProgress: 0,\n        containerSize: 0,\n        slideRects: [],\n      },\n\n      watch: {\n        index: [\"setScrollSnaps\"],\n      },\n\n      on: {\n        NEXT: {\n          actions: [\"scrollToNext\"],\n        },\n        PREV: {\n          actions: [\"scrollToPrev\"],\n        },\n        GOTO: {\n          actions: [\"scrollTo\"],\n        },\n        MEASURE_DOM: {\n          actions: [\"measureElements\", \"setScrollSnaps\"],\n        },\n        PLAY: \"autoplay\",\n      },\n\n      states: {\n        idle: {\n          on: {\n            POINTER_DOWN: \"dragging\",\n          },\n        },\n        autoplay: {\n          activities: [\"trackDocumentVisibility\"],\n          every: {\n            2000: [\"scrollToNext\"],\n          },\n          on: {\n            PAUSE: \"idle\",\n          },\n        },\n        dragging: {\n          on: {\n            POINTER_UP: \"idle\",\n            POINTER_MOVE: {\n              actions: [\"setScrollSnaps\"],\n            },\n          },\n        },\n      },\n      activities: [\"trackContainerResize\", \"trackSlideMutation\"],\n      entry: [\"measureElements\", \"setScrollSnaps\"],\n      computed: {\n        isRtl: (ctx) => ctx.dir === \"rtl\",\n        isHorizontal: (ctx) => ctx.orientation === \"horizontal\",\n        isVertical: (ctx) => ctx.orientation === \"vertical\",\n        canScrollNext: (ctx) => ctx.loop || ctx.index < ctx.scrollSnaps.length - 1,\n        canScrollPrev: (ctx) => ctx.loop || ctx.index > 0,\n        startEdge(ctx) {\n          if (ctx.isVertical) return \"top\"\n          return ctx.isRtl ? \"right\" : \"left\"\n        },\n        endEdge(ctx) {\n          if (ctx.isVertical) return \"bottom\"\n          return ctx.isRtl ? \"left\" : \"right\"\n        },\n        translateValue: (ctx) => {\n          const scrollSnap = ctx.scrollSnaps[ctx.index]\n          return ctx.isHorizontal ? `translate3d(${scrollSnap}px, 0, 0)` : `translate3d(0, ${scrollSnap}px, 0)`\n        },\n      },\n    },\n    {\n      activities: {\n        trackSlideMutation(ctx, _evt, { send }) {\n          const slideGroupEl = dom.getSlideGroupEl(ctx)\n          if (!slideGroupEl) return\n          const win = dom.getWin(ctx)\n          const observer = new win.MutationObserver(() => {\n            send({ type: \"MEASURE_DOM\", src: \"mutation\" })\n          })\n          observer.observe(slideGroupEl, { childList: true })\n          return () => {\n            observer.disconnect()\n          }\n        },\n        trackContainerResize(ctx, _evt, { send }) {\n          const slideGroupEl = dom.getSlideGroupEl(ctx)\n          if (!slideGroupEl) return\n          const win = dom.getWin(ctx)\n          const observer = new win.ResizeObserver((entries) => {\n            entries.forEach((entry) => {\n              if (entry.target === slideGroupEl) {\n                send({ type: \"MEASURE_DOM\", src: \"resize\" })\n              }\n            })\n          })\n          observer.observe(slideGroupEl)\n          return () => {\n            observer.disconnect()\n          }\n        },\n        trackDocumentVisibility(ctx, _evt, { send }) {\n          const doc = dom.getDoc(ctx)\n          const onVisibilityChange = () => {\n            if (doc.visibilityState !== \"visible\") {\n              send({ type: \"PAUSE\", src: \"document-hidden\" })\n            }\n          }\n          doc.addEventListener(\"visibilitychange\", onVisibilityChange)\n          return () => {\n            doc.removeEventListener(\"visibilitychange\", onVisibilityChange)\n          }\n        },\n      },\n      guards: {\n        loop: (ctx) => ctx.loop,\n        isLastSlide: (ctx) => ctx.index === ctx.slideRects.length - 1,\n        isFirstSlide: (ctx) => ctx.index === 0,\n      },\n      actions: {\n        scrollToNext(ctx) {\n          const index = nextIndex(ctx.slideRects, ctx.index)\n          set.index(ctx, index)\n        },\n        scrollToPrev(ctx) {\n          const index = prevIndex(ctx.slideRects, ctx.index)\n          set.index(ctx, index)\n        },\n        setScrollSnaps(ctx) {\n          const { snapsAligned, scrollProgress } = getScrollSnaps(ctx)\n          ctx.scrollSnaps = snapsAligned\n          ctx.scrollProgress = scrollProgress\n        },\n        scrollTo(ctx, evt) {\n          const index = Math.max(0, Math.min(evt.index, ctx.slideRects.length - 1))\n          set.index(ctx, index)\n        },\n        measureElements,\n      },\n    },\n  )\n}\n\nconst measureElements = (ctx: MachineContext) => {\n  const slideGroupEl = dom.getSlideGroupEl(ctx)\n  if (!slideGroupEl) return\n  ctx.containerRect = ref(slideGroupEl.getBoundingClientRect())\n  ctx.containerSize = ctx.isHorizontal ? ctx.containerRect.width : ctx.containerRect.height\n  ctx.slideRects = ref(dom.getSlideEls(ctx).map((slide) => slide.getBoundingClientRect()))\n}\n\nconst invoke = {\n  change: (ctx: MachineContext) => {\n    ctx.onIndexChange?.({ index: ctx.index })\n  },\n}\n\nconst set = {\n  index: (ctx: MachineContext, index: number) => {\n    if (isEqual(ctx.index, index)) return\n    ctx.index = index\n    invoke.change(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { IndicatorProps, UserDefinedContext } from \"./carousel.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"align\",\n  \"dir\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"index\",\n  \"loop\",\n  \"onIndexChange\",\n  \"orientation\",\n  \"slidesPerView\",\n  \"spacing\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const indicatorProps = createProps<IndicatorProps>()([\"index\", \"readOnly\"])\nexport const splitIndicatorProps = createSplitProps<IndicatorProps>(indicatorProps)\n", "import { anatomy as anatomy$1 } from '@zag-js/carousel';\n\nconst anatomy = anatomy$1.extendWith(\"control\");\n\nexport { anatomy };\n", "interface DescriptorOptions {\n  type?: \"HTMLInputElement\" | \"HTMLTextAreaElement\" | \"HTMLSelectElement\"\n  property?: \"value\" | \"checked\"\n}\n\nconst getWindow = (el: HTMLElement) => el.ownerDocument.defaultView || window\n\nfunction getDescriptor(el: HTMLElement, options: DescriptorOptions) {\n  const { type = \"HTMLInputElement\", property = \"value\" } = options\n  const proto = getWindow(el)[type].prototype\n  return Object.getOwnPropertyDescriptor(proto, property) ?? {}\n}\n\nexport function setElementValue(el: HTMLElement, value: string, option: DescriptorOptions = {}) {\n  const descriptor = getDescriptor(el, option)\n  descriptor.set?.call(el, value)\n  el.setAttribute(\"value\", value)\n}\n\nexport function setElementChecked(el: HTMLElement, checked: boolean) {\n  const descriptor = getDescriptor(el, { type: \"HTMLInputElement\", property: \"checked\" })\n  descriptor.set?.call(el, checked)\n  // react applies the `checked` automatically when we call the descriptor\n  // but for consistency with vanilla JS, we need to do it manually as well\n  if (checked) el.setAttribute(\"checked\", \"\")\n  else el.removeAttribute(\"checked\")\n}\n\nexport type InputEventOptions = {\n  value: string | number\n  bubbles?: boolean\n}\n\nexport function dispatchInputValueEvent(el: HTMLElement | null, options: InputEventOptions) {\n  const { value, bubbles = true } = options\n\n  if (!el) return\n\n  const win = getWindow(el)\n  if (!(el instanceof win.HTMLInputElement)) return\n\n  setElementValue(el, `${value}`)\n  el.dispatchEvent(new win.Event(\"input\", { bubbles }))\n}\n\nexport type CheckedEventOptions = {\n  checked: boolean\n  bubbles?: boolean\n}\n\nexport function dispatchInputCheckedEvent(el: HTMLElement | null, options: CheckedEventOptions) {\n  const { checked, bubbles = true } = options\n\n  if (!el) return\n\n  const win = getWindow(el)\n  if (!(el instanceof win.HTMLInputElement)) return\n\n  setElementChecked(el, checked)\n  el.dispatchEvent(new win.Event(\"click\", { bubbles }))\n\n  // TODO: Do we really need this extra event?\n  el.dispatchEvent(new win.Event(\"change\", { bubbles }))\n}\n", "export function getClosestForm(el: HTMLElement) {\n  if (isFormElement(el)) return el.form\n  else return el.closest(\"form\")\n}\n\nfunction isFormElement(el: HTMLElement): el is HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement {\n  return el.matches(\"textarea, input, select, button\")\n}\n\nfunction trackFormReset(el: HTMLElement | null | undefined, callback: () => void) {\n  if (!el) return\n  const form = getClosestForm(el)\n  form?.addEventListener(\"reset\", callback, { passive: true })\n  return () => {\n    form?.removeEventListener(\"reset\", callback)\n  }\n}\n\nfunction trackFieldsetDisabled(el: HTMLElement | null | undefined, callback: (disabled: boolean) => void) {\n  const fieldset = el?.closest(\"fieldset\")\n  if (!fieldset) return\n  callback(fieldset.disabled)\n  const win = fieldset.ownerDocument.defaultView || window\n  const obs = new win.MutationObserver(() => callback(fieldset.disabled))\n  obs.observe(fieldset, {\n    attributes: true,\n    attributeFilter: [\"disabled\"],\n  })\n  return () => obs.disconnect()\n}\n\nexport function isNativeDisabled(el: HTMLElement) {\n  return el.matches(\":disabled\")\n}\n\nexport type FormControlOptions = {\n  onFieldsetDisabledChange: (disabled: boolean) => void\n  onFormReset: () => void\n}\n\nexport function trackFormControl(el: HTMLElement | null, options: FormControlOptions) {\n  if (!el) return\n\n  const { onFieldsetDisabledChange, onFormReset } = options\n\n  const cleanups = [trackFormReset(el, onFormReset), trackFieldsetDisabled(el, onFieldsetDisabledChange)]\n\n  return () => {\n    cleanups.forEach((cleanup) => cleanup?.())\n  }\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"checkbox\").parts(\"root\", \"label\", \"control\", \"indicator\")\nexport const parts = anatomy.build()\n", "import { dataAttr, visuallyHiddenStyle } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./checkbox.anatomy\"\nimport { dom } from \"./checkbox.dom\"\nimport type { MachineApi, Send, State } from \"./checkbox.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const disabled = state.context.isDisabled\n  const focused = !disabled && state.context.focused\n  const checked = state.context.isChecked\n  const indeterminate = state.context.isIndeterminate\n  const readOnly = state.context.readOnly\n\n  const dataAttrs = {\n    \"data-active\": dataAttr(state.context.active),\n    \"data-focus\": dataAttr(focused),\n    \"data-readonly\": dataAttr(readOnly),\n    \"data-hover\": dataAttr(state.context.hovered),\n    \"data-disabled\": dataAttr(disabled),\n    \"data-state\": indeterminate ? \"indeterminate\" : state.context.checked ? \"checked\" : \"unchecked\",\n    \"data-invalid\": dataAttr(state.context.invalid),\n  }\n\n  return {\n    checked,\n    disabled,\n    indeterminate,\n    focused,\n    checkedState: state.context.checked,\n\n    setChecked(checked) {\n      send({ type: \"CHECKED.SET\", checked, isTrusted: false })\n    },\n\n    toggleChecked() {\n      send({ type: \"CHECKED.TOGGLE\", checked: checked, isTrusted: false })\n    },\n\n    getRootProps() {\n      return normalize.label({\n        ...parts.root.attrs,\n        ...dataAttrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        htmlFor: dom.getHiddenInputId(state.context),\n        onPointerMove() {\n          if (disabled) return\n          send({ type: \"CONTEXT.SET\", context: { hovered: true } })\n        },\n        onPointerLeave() {\n          if (disabled) return\n          send({ type: \"CONTEXT.SET\", context: { hovered: false } })\n        },\n        onClick(event) {\n          if (event.target === dom.getHiddenInputEl(state.context)) {\n            event.stopPropagation()\n          }\n        },\n      })\n    },\n\n    getLabelProps() {\n      return normalize.element({\n        ...parts.label.attrs,\n        ...dataAttrs,\n        dir: state.context.dir,\n        id: dom.getLabelId(state.context),\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        ...dataAttrs,\n        dir: state.context.dir,\n        id: dom.getControlId(state.context),\n        \"aria-hidden\": true,\n      })\n    },\n\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        ...dataAttrs,\n        dir: state.context.dir,\n        hidden: !indeterminate && !state.context.checked,\n      })\n    },\n\n    getHiddenInputProps() {\n      return normalize.input({\n        id: dom.getHiddenInputId(state.context),\n        type: \"checkbox\",\n        required: state.context.required,\n        defaultChecked: checked,\n        disabled: disabled,\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-invalid\": state.context.invalid,\n        name: state.context.name,\n        form: state.context.form,\n        value: state.context.value,\n        style: visuallyHiddenStyle,\n        onChange(event) {\n          if (readOnly) {\n            event.preventDefault()\n            return\n          }\n\n          const checked = event.currentTarget.checked\n          send({ type: \"CHECKED.SET\", checked, isTrusted: true })\n        },\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./checkbox.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `checkbox:${ctx.id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `checkbox:${ctx.id}:label`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `checkbox:${ctx.id}:control`,\n  getHiddenInputId: (ctx: Ctx) => ctx.ids?.hiddenInput ?? `checkbox:${ctx.id}:hidden`,\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getHiddenInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getHiddenInputId(ctx)),\n})\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { trackFocusVisible, trackPress } from \"@zag-js/dom-event\"\nimport { dispatchInputCheckedEvent, setElementChecked, trackFormControl } from \"@zag-js/form-utils\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./checkbox.dom\"\nimport type { CheckedState, MachineContext, MachineState, UserDefinedContext } from \"./checkbox.types\"\n\nconst { not } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"checkbox\",\n      initial: \"ready\",\n\n      context: {\n        checked: false,\n        value: \"on\",\n        disabled: false,\n        ...ctx,\n        fieldsetDisabled: false,\n      },\n\n      watch: {\n        disabled: \"removeFocusIfNeeded\",\n        checked: \"syncInputElement\",\n      },\n\n      activities: [\"trackFormControlState\", \"trackPressEvent\", \"trackFocusVisible\"],\n\n      on: {\n        \"CHECKED.TOGGLE\": [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"toggleChecked\", \"dispatchChangeEvent\"],\n          },\n          {\n            actions: [\"toggleChecked\"],\n          },\n        ],\n        \"CHECKED.SET\": [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"setChecked\", \"dispatchChangeEvent\"],\n          },\n          {\n            actions: [\"setChecked\"],\n          },\n        ],\n        \"CONTEXT.SET\": {\n          actions: [\"setContext\"],\n        },\n      },\n\n      computed: {\n        isIndeterminate: (ctx) => isIndeterminate(ctx.checked),\n        isChecked: (ctx) => isChecked(ctx.checked),\n        isDisabled: (ctx) => !!ctx.disabled || ctx.fieldsetDisabled,\n      },\n\n      states: {\n        ready: {},\n      },\n    },\n    {\n      guards: {\n        isTrusted: (_ctx, evt) => !!evt.isTrusted,\n      },\n      activities: {\n        trackPressEvent(ctx) {\n          if (ctx.isDisabled) return\n          return trackPress({\n            pointerNode: dom.getRootEl(ctx),\n            keyboardNode: dom.getHiddenInputEl(ctx),\n            isValidKey: (event) => event.key === \" \",\n            onPress: () => (ctx.active = false),\n            onPressStart: () => (ctx.active = true),\n            onPressEnd: () => (ctx.active = false),\n          })\n        },\n        trackFocusVisible(ctx) {\n          if (ctx.isDisabled) return\n          return trackFocusVisible(dom.getHiddenInputEl(ctx), {\n            onFocus: () => (ctx.focused = true),\n            onBlur: () => (ctx.focused = false),\n          })\n        },\n        trackFormControlState(ctx, _evt, { send, initialContext }) {\n          return trackFormControl(dom.getHiddenInputEl(ctx), {\n            onFieldsetDisabledChange(disabled) {\n              ctx.fieldsetDisabled = disabled\n            },\n            onFormReset() {\n              send({ type: \"CHECKED.SET\", checked: !!initialContext.checked })\n            },\n          })\n        },\n      },\n\n      actions: {\n        setContext(ctx, evt) {\n          Object.assign(ctx, evt.context)\n        },\n        syncInputElement(ctx) {\n          const inputEl = dom.getHiddenInputEl(ctx)\n          if (!inputEl) return\n          setElementChecked(inputEl, ctx.isChecked)\n          inputEl.indeterminate = ctx.isIndeterminate\n        },\n        removeFocusIfNeeded(ctx) {\n          if (ctx.disabled && ctx.focused) {\n            ctx.focused = false\n          }\n        },\n        setChecked(ctx, evt) {\n          set.checked(ctx, evt.checked)\n        },\n        toggleChecked(ctx) {\n          const checked = isIndeterminate(ctx.checked) ? true : !ctx.checked\n          set.checked(ctx, checked)\n        },\n        dispatchChangeEvent(ctx) {\n          const inputEl = dom.getHiddenInputEl(ctx)\n          dispatchInputCheckedEvent(inputEl, { checked: isChecked(ctx.checked) })\n        },\n      },\n    },\n  )\n}\n\nfunction isIndeterminate(checked?: CheckedState): checked is \"indeterminate\" {\n  return checked === \"indeterminate\"\n}\n\nfunction isChecked(checked?: CheckedState): checked is boolean {\n  return isIndeterminate(checked) ? false : !!checked\n}\n\nconst invoke = {\n  change: (ctx: MachineContext) => {\n    ctx.onCheckedChange?.({ checked: ctx.checked })\n  },\n}\n\nconst set = {\n  checked: (ctx: MachineContext, checked: CheckedState) => {\n    if (isEqual(ctx.checked, checked)) return\n    ctx.checked = checked\n    invoke.change(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./checkbox.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"checked\",\n  \"dir\",\n  \"disabled\",\n  \"form\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"invalid\",\n  \"name\",\n  \"onCheckedChange\",\n  \"readOnly\",\n  \"required\",\n  \"value\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "import { anatomy as anatomy$1 } from '@zag-js/checkbox';\n\nconst anatomy = anatomy$1.extendWith(\"group\");\n\nexport { anatomy };\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"clipboard\").parts(\"root\", \"control\", \"trigger\", \"indicator\", \"input\", \"label\")\n\nexport const parts = anatomy.build()\n", "import { dataAttr } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./clipboard.anatomy\"\nimport type { MachineApi, Send, State } from \"./clipboard.types\"\nimport { dom } from \"./clipboard.dom\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const copied = state.matches(\"copied\")\n\n  return {\n    copied,\n    value: state.context.value,\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value })\n    },\n    copy() {\n      send({ type: \"COPY\" })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        \"data-copied\": dataAttr(copied),\n        id: dom.getRootId(state.context),\n      })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        htmlFor: dom.getInputId(state.context),\n        \"data-copied\": dataAttr(copied),\n        id: dom.getLabelId(state.context),\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        \"data-copied\": dataAttr(copied),\n      })\n    },\n\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        defaultValue: state.context.value,\n        \"data-copied\": dataAttr(copied),\n        readOnly: true,\n        \"data-readonly\": \"true\",\n        id: dom.getInputId(state.context),\n        onFocus(event) {\n          event.currentTarget.select()\n        },\n        onCopy() {\n          send({ type: \"INPUT.COPY\" })\n        },\n      })\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        \"aria-label\": copied ? \"Copied to clipboard\" : \"Copy to clipboard\",\n        \"data-copied\": dataAttr(copied),\n        onClick() {\n          send({ type: \"COPY\" })\n        },\n      })\n    },\n\n    getIndicatorProps(props) {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        hidden: props.copied !== copied,\n      })\n    },\n  }\n}\n", "import { createScope, getWindow } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./clipboard.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `clip-${ctx.id}`,\n  getInputId: (ctx: Ctx) => ctx.ids?.input ?? `clip-input-${ctx.id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `clip-label-${ctx.id}`,\n  getInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getInputId(ctx)),\n  writeToClipboard: (ctx: Ctx) => copyText(dom.getDoc(ctx), ctx.value),\n})\n\nfunction createNode(doc: Document, text: string): HTMLElement {\n  const node = doc.createElement(\"pre\")\n  Object.assign(node.style, {\n    width: \"1px\",\n    height: \"1px\",\n    position: \"fixed\",\n    top: \"5px\",\n  })\n  node.textContent = text\n  return node\n}\n\nfunction copyNode(node: HTMLElement): Promise<void> {\n  const win = getWindow(node)\n\n  const selection = win.getSelection()\n\n  if (selection == null) {\n    return Promise.reject(new Error())\n  }\n\n  selection.removeAllRanges()\n\n  const doc = node.ownerDocument\n\n  const range = doc.createRange()\n  range.selectNodeContents(node)\n  selection.addRange(range)\n\n  doc.execCommand(\"copy\")\n  selection.removeAllRanges()\n\n  return Promise.resolve()\n}\n\nfunction copyText(doc: Document, text: string): Promise<void> {\n  const win = doc.defaultView || window\n\n  if (win.navigator.clipboard?.writeText !== undefined) {\n    return win.navigator.clipboard.writeText(text)\n  }\n\n  if (!doc.body) {\n    return Promise.reject(new Error())\n  }\n\n  const node = createNode(doc, text)\n\n  doc.body.appendChild(node)\n  copyNode(node)\n  doc.body.removeChild(node)\n\n  return Promise.resolve()\n}\n", "import { createMachine } from \"@zag-js/core\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./clipboard.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./clipboard.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"clipboard\",\n      initial: \"idle\",\n      context: {\n        value: \"\",\n        timeout: 3000,\n        ...ctx,\n      },\n      watch: {\n        value: [\"syncInputElement\"],\n      },\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setValue\"],\n        },\n        COPY: {\n          target: \"copied\",\n          actions: [\"copyToClipboard\", \"invokeOnCopy\"],\n        },\n      },\n      states: {\n        idle: {\n          on: {\n            \"INPUT.COPY\": {\n              target: \"copied\",\n              actions: [\"invokeOnCopy\"],\n            },\n          },\n        },\n        copied: {\n          after: {\n            COPY_TIMEOUT: \"idle\",\n          },\n          on: {\n            COPY: {\n              target: \"copied\",\n              actions: [\"copyToClipboard\", \"invokeOnCopy\"],\n            },\n            \"INPUT.COPY\": {\n              actions: [\"invokeOnCopy\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      actions: {\n        setValue(ctx, evt) {\n          ctx.value = evt.value\n        },\n        copyToClipboard(ctx) {\n          dom.writeToClipboard(ctx)\n        },\n        invokeOnCopy(ctx) {\n          ctx.onStatusChange?.({ copied: true })\n        },\n        syncInputElement(ctx) {\n          dom.setValue(dom.getInputEl(ctx), ctx.value)\n        },\n      },\n      delays: {\n        COPY_TIMEOUT: (ctx) => ctx.timeout,\n      },\n    },\n  )\n}\n", "import { createProps } from \"@zag-js/types\"\nimport type { IndicatorProps, UserDefinedContext } from \"./clipboard.types\"\nimport { createSplitProps } from \"@zag-js/utils\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"value\",\n  \"timeout\",\n  \"onStatusChange\",\n])\nexport const contextProps = createSplitProps<UserDefinedContext>(props)\n\nexport const indicatorProps = createProps<IndicatorProps>()([\"copied\"])\nexport const splitIndicatorProps = createSplitProps<IndicatorProps>(indicatorProps)\n", "export function getMinValueAtIndex(index: number, values: number[], minValue: number) {\n  return index === 0 ? minValue : values[index - 1]\n}\n\nexport function getMaxValueAtIndex(index: number, values: number[], maxValue: number) {\n  return index === values.length - 1 ? maxValue : values[index + 1]\n}\n\nexport function isValueAtMax(value: number, maxValue: number) {\n  return value >= maxValue\n}\n\nexport function isValueAtMin(value: number, minValue: number) {\n  return value <= minValue\n}\n\nexport function isValueWithinRange(value: number, minValue: number, maxValue: number) {\n  return value >= minValue && value <= maxValue\n}\n\nexport function getRoundedValue(value: number, minValue: number, step: number) {\n  return Math.round((value - minValue) / step) * step + minValue\n}\n\nexport function clampValue(value: number, minValue: number, maxValue: number) {\n  return Math.min(Math.max(value, minValue), maxValue)\n}\n\nexport function getValuePercent(value: number, minValue: number, maxValue: number) {\n  return (value - minValue) / (maxValue - minValue)\n}\n\nexport function getPercentValue(percent: number, minValue: number, maxValue: number, step: number) {\n  const value = percent * (maxValue - minValue) + minValue\n  const roundedValue = getRoundedValue(value, minValue, step)\n  return clampValue(roundedValue, minValue, maxValue)\n}\n\nexport function roundToStepPrecision(value: number, step: number) {\n  let roundedValue = value\n  let stepString = step.toString()\n  let pointIndex = stepString.indexOf(\".\")\n  let precision = pointIndex >= 0 ? stepString.length - pointIndex : 0\n  if (precision > 0) {\n    let pow = Math.pow(10, precision)\n    roundedValue = Math.round(roundedValue * pow) / pow\n  }\n  return roundedValue\n}\n\nexport function snapValueToStep(value: number, min: number | undefined, max: number | undefined, step: number): number {\n  min = Number(min)\n  max = Number(max)\n  let remainder = (value - (isNaN(min) ? 0 : min)) % step\n  let snappedValue = roundToStepPrecision(\n    Math.abs(remainder) * 2 >= step ? value + Math.sign(remainder) * (step - Math.abs(remainder)) : value - remainder,\n    step,\n  )\n\n  if (!isNaN(min)) {\n    if (snappedValue < min) {\n      snappedValue = min\n    } else if (!isNaN(max) && snappedValue > max) {\n      snappedValue = min + Math.floor(roundToStepPrecision((max - min) / step, step)) * step\n    }\n  } else if (!isNaN(max) && snappedValue > max) {\n    snappedValue = Math.floor(roundToStepPrecision(max / step, step)) * step\n  }\n\n  // correct floating point behavior by rounding to step precision\n  snappedValue = roundToStepPrecision(snappedValue, step)\n\n  return snappedValue\n}\n\nfunction setValueAtIndex<T>(values: T[], index: number, value: T) {\n  if (values[index] === value) return values\n  return [...values.slice(0, index), value, ...values.slice(index + 1)]\n}\n\ntype RangeContext = {\n  min: number\n  max: number\n  step: number\n  values: number[]\n}\n\nexport function getValueSetterAtIndex(index: number, ctx: RangeContext) {\n  const minValueAtIndex = getMinValueAtIndex(index, ctx.values, ctx.min)\n  const maxValueAtIndex = getMaxValueAtIndex(index, ctx.values, ctx.max)\n  let nextValues = ctx.values.slice()\n\n  return function setValue(value: number) {\n    let nextValue = snapValueToStep(value, minValueAtIndex, maxValueAtIndex, ctx.step)\n    nextValues = setValueAtIndex(nextValues, index, value)\n    nextValues[index] = nextValue\n    return nextValues\n  }\n}\n\nexport function getNextStepValue(index: number, ctx: RangeContext) {\n  const nextValue = ctx.values[index] + ctx.step\n  return getValueSetterAtIndex(index, ctx)(nextValue)\n}\n\nexport function getPreviousStepValue(index: number, ctx: RangeContext) {\n  const nextValue = ctx.values[index] - ctx.step\n  return getValueSetterAtIndex(index, ctx)(nextValue)\n}\n\nexport function getClosestValueIndex(values: number[], targetValue: number) {\n  let targetIndex = values.findIndex((value) => targetValue - value < 0)\n\n  // If the index is zero then the closetThumb is the first one\n  if (targetIndex === 0) {\n    return targetIndex\n  }\n\n  // If no index is found they've clicked past all the thumbs\n  if (targetIndex === -1) {\n    return values.length - 1\n  }\n\n  let valueBefore = values[targetIndex - 1]\n  let valueAfter = values[targetIndex]\n\n  // Pick the last left/start thumb, unless they are stacked on top of each other, then pick the right/end one\n  if (Math.abs(valueBefore - targetValue) < Math.abs(valueAfter - targetValue)) {\n    return targetIndex - 1\n  }\n\n  return targetIndex\n}\n\nexport function getValueRanges(values: number[], minValue: number, maxValue: number, gap: number) {\n  return values.map((value, index) => {\n    const min = index === 0 ? minValue : values[index - 1] + gap\n    const max = index === values.length - 1 ? maxValue : values[index + 1] - gap\n    return { min, max, value }\n  })\n}\n\nexport function getValueTransformer(valueA: number[], valueB: number[]) {\n  const input = { min: valueA[0], max: valueA[1] }\n  const output = { min: valueB[0], max: valueB[1] }\n\n  return function getValue(value: number) {\n    if (input.min === input.max || output.min === output.max) return output.min\n    const ratio = (output.max - output.min) / (input.max - input.min)\n    return output.min + ratio * (value - input.min)\n  }\n}\n\nexport function toFixedNumber(value: number, digits = 0, base: number = 10): number {\n  const pow = Math.pow(base, digits)\n  return Math.round(value * pow) / pow\n}\n\nexport function mod(value: number, modulo: number) {\n  return ((value % modulo) + modulo) % modulo\n}\n", "export const generateRGB_R = (orientation: [string, string], dir: boolean, zValue: number) => {\n  const maskImage = `linear-gradient(to ${orientation[Number(!dir)]}, transparent, #000)`\n  const result = {\n    areaStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(${zValue},0,0),rgb(${zValue},255,0))`,\n    },\n    areaGradientStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(${zValue},0,255),rgb(${zValue},255,255))`,\n      WebkitMaskImage: maskImage,\n      maskImage,\n    },\n  }\n  return result\n}\n\nexport const generateRGB_G = (orientation: [string, string], dir: boolean, zValue: number) => {\n  const maskImage = `linear-gradient(to ${orientation[Number(!dir)]}, transparent, #000)`\n  const result = {\n    areaStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(0,${zValue},0),rgb(255,${zValue},0))`,\n    },\n    areaGradientStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(0,${zValue},255),rgb(255,${zValue},255))`,\n      WebkitMaskImage: maskImage,\n      maskImage,\n    },\n  }\n  return result\n}\n\nexport const generateRGB_B = (orientation: [string, string], dir: boolean, zValue: number) => {\n  const maskImage = `linear-gradient(to ${orientation[Number(!dir)]}, transparent, #000)`\n  const result = {\n    areaStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(0,0,${zValue}),rgb(255,0,${zValue}))`,\n    },\n    areaGradientStyles: {\n      backgroundImage: `linear-gradient(to ${orientation[Number(dir)]},rgb(0,255,${zValue}),rgb(255,255,${zValue}))`,\n      WebkitMaskImage: maskImage,\n      maskImage,\n    },\n  }\n  return result\n}\n\nexport const generateHSL_H = (orientation: [string, string], dir: boolean, zValue: number) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${\n          orientation[Number(dir)]\n        }, hsla(0,0%,0%,1) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,1) 100%)`,\n        `linear-gradient(to ${orientation[Number(!dir)]},hsl(0,0%,50%),hsla(0,0%,50%,0))`,\n        `hsl(${zValue}, 100%, 50%)`,\n      ].join(\",\"),\n    },\n  }\n  return result\n}\n\nexport const generateHSL_S = (orientation: [string, string], dir: boolean, alphaValue: number) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${\n          orientation[Number(!dir)]\n        }, hsla(0,0%,0%,${alphaValue}) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,${alphaValue}) 100%)`,\n        `linear-gradient(to ${\n          orientation[Number(dir)]\n        },hsla(0,100%,50%,${alphaValue}),hsla(60,100%,50%,${alphaValue}),hsla(120,100%,50%,${alphaValue}),hsla(180,100%,50%,${alphaValue}),hsla(240,100%,50%,${alphaValue}),hsla(300,100%,50%,${alphaValue}),hsla(359,100%,50%,${alphaValue}))`,\n        \"hsl(0, 0%, 50%)\",\n      ].join(\",\"),\n    },\n  }\n  return result\n}\n\nexport const generateHSL_L = (orientation: [string, string], dir: boolean, zValue: number) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      backgroundImage: [\n        `linear-gradient(to ${orientation[Number(!dir)]},hsl(0,0%,${zValue}%),hsla(0,0%,${zValue}%,0))`,\n        `linear-gradient(to ${\n          orientation[Number(dir)]\n        },hsl(0,100%,${zValue}%),hsl(60,100%,${zValue}%),hsl(120,100%,${zValue}%),hsl(180,100%,${zValue}%),hsl(240,100%,${zValue}%),hsl(300,100%,${zValue}%),hsl(360,100%,${zValue}%))`,\n      ].join(\",\"),\n    },\n  }\n  return result\n}\n\nexport const generateHSB_H = (orientation: [string, string], dir: boolean, zValue: number) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${orientation[Number(dir)]},hsl(0,0%,0%),hsla(0,0%,0%,0))`,\n        `linear-gradient(to ${orientation[Number(!dir)]},hsl(0,0%,100%),hsla(0,0%,100%,0))`,\n        `hsl(${zValue}, 100%, 50%)`,\n      ].join(\",\"),\n    },\n  }\n  return result\n}\n\nexport const generateHSB_S = (orientation: [string, string], dir: boolean, alphaValue: number) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${orientation[Number(!dir)]},hsla(0,0%,0%,${alphaValue}),hsla(0,0%,0%,0))`,\n        `linear-gradient(to ${\n          orientation[Number(dir)]\n        },hsla(0,100%,50%,${alphaValue}),hsla(60,100%,50%,${alphaValue}),hsla(120,100%,50%,${alphaValue}),hsla(180,100%,50%,${alphaValue}),hsla(240,100%,50%,${alphaValue}),hsla(300,100%,50%,${alphaValue}),hsla(359,100%,50%,${alphaValue}))`,\n        `linear-gradient(to ${orientation[Number(!dir)]},hsl(0,0%,0%),hsl(0,0%,100%))`,\n      ].join(\",\"),\n    },\n  }\n  return result\n}\n\nexport const generateHSB_B = (orientation: [string, string], dir: boolean, alphaValue: number) => {\n  const result = {\n    areaStyles: {},\n    areaGradientStyles: {\n      background: [\n        `linear-gradient(to ${orientation[Number(!dir)]},hsla(0,0%,100%,${alphaValue}),hsla(0,0%,100%,0))`,\n        `linear-gradient(to ${\n          orientation[Number(dir)]\n        },hsla(0,100%,50%,${alphaValue}),hsla(60,100%,50%,${alphaValue}),hsla(120,100%,50%,${alphaValue}),hsla(180,100%,50%,${alphaValue}),hsla(240,100%,50%,${alphaValue}),hsla(300,100%,50%,${alphaValue}),hsla(359,100%,50%,${alphaValue}))`,\n        \"#000\",\n      ].join(\",\"),\n    },\n  }\n  return result\n}\n", "import type { Color } from \"./color\"\nimport {\n  generateRGB_R,\n  generateRGB_G,\n  generateRGB_B,\n  generateHSL_H,\n  generateHSB_H,\n  generateHSL_S,\n  generateHSB_S,\n  generateHSB_B,\n  generateHSL_L,\n} from \"./color-format-gradient\"\nimport type { ColorChannel } from \"./types\"\n\ninterface GradientOptions {\n  xChannel: ColorChannel\n  yChannel: ColorChannel\n  dir?: \"rtl\" | \"ltr\"\n}\n\ninterface GradientStyles {\n  areaStyles: Record<string, string>\n  areaGradientStyles: Record<string, string>\n}\n\nexport function getColorAreaGradient(color: Color, options: GradientOptions): GradientStyles {\n  const { xChannel, yChannel, dir: dirProp = \"ltr\" } = options\n\n  const { zChannel } = color.getColorAxes({ xChannel, yChannel })\n  const zValue = color.getChannelValue(zChannel)\n\n  const { minValue: zMin, maxValue: zMax } = color.getChannelRange(zChannel)\n  const orientation: [string, string] = [\"top\", dirProp === \"rtl\" ? \"left\" : \"right\"]\n\n  let dir = false\n\n  let background = { areaStyles: {}, areaGradientStyles: {} }\n\n  let alphaValue = (zValue - zMin) / (zMax - zMin)\n  let isHSL = color.getFormat() === \"hsla\"\n\n  switch (zChannel) {\n    case \"red\": {\n      dir = xChannel === \"green\"\n      background = generateRGB_R(orientation, dir, zValue)\n      break\n    }\n\n    case \"green\": {\n      dir = xChannel === \"red\"\n      background = generateRGB_G(orientation, dir, zValue)\n      break\n    }\n\n    case \"blue\": {\n      dir = xChannel === \"red\"\n      background = generateRGB_B(orientation, dir, zValue)\n      break\n    }\n\n    case \"hue\": {\n      dir = xChannel !== \"saturation\"\n      if (isHSL) {\n        background = generateHSL_H(orientation, dir, zValue)\n      } else {\n        background = generateHSB_H(orientation, dir, zValue)\n      }\n      break\n    }\n\n    case \"saturation\": {\n      dir = xChannel === \"hue\"\n      if (isHSL) {\n        background = generateHSL_S(orientation, dir, alphaValue)\n      } else {\n        background = generateHSB_S(orientation, dir, alphaValue)\n      }\n      break\n    }\n\n    case \"brightness\": {\n      dir = xChannel === \"hue\"\n      background = generateHSB_B(orientation, dir, alphaValue)\n      break\n    }\n\n    case \"lightness\": {\n      dir = xChannel === \"hue\"\n      background = generateHSL_L(orientation, dir, zValue)\n      break\n    }\n  }\n\n  return background\n}\n", "import { clampValue, getPercentValue, getValuePercent, snapValueToStep } from \"@zag-js/numeric-range\"\nimport type {\n  Color2DAxes,\n  ColorAxes,\n  ColorChannel,\n  ColorChannelRange,\n  ColorFormat,\n  ColorStringFormat,\n  ColorType,\n} from \"./types\"\n\nconst isEqualObject = (a: Record<string, number>, b: Record<string, number>): boolean => {\n  if (Object.keys(a).length !== Object.keys(b).length) return false\n  for (let key in a) if (a[key] !== b[key]) return false\n  return true\n}\n\nexport abstract class Color implements ColorType {\n  abstract toFormat(format: ColorFormat): ColorType\n  abstract toJSON(): Record<string, number>\n  abstract toString(format: ColorStringFormat): string\n  abstract clone(): ColorType\n  abstract getChannelRange(channel: ColorChannel): ColorChannelRange\n  abstract getFormat(): ColorFormat\n  abstract getChannels(): [ColorChannel, ColorChannel, ColorChannel]\n\n  toHexInt(): number {\n    return this.toFormat(\"rgba\").toHexInt()\n  }\n\n  getChannelValue(channel: ColorChannel): number {\n    if (channel in this) return this[channel]\n    throw new Error(\"Unsupported color channel: \" + channel)\n  }\n\n  getChannelValuePercent(channel: ColorChannel, valueToCheck?: number): number {\n    const value = valueToCheck ?? this.getChannelValue(channel)\n    const { minValue, maxValue } = this.getChannelRange(channel)\n    return getValuePercent(value, minValue, maxValue)\n  }\n\n  getChannelPercentValue(channel: ColorChannel, percentToCheck: number): number {\n    const { minValue, maxValue, step } = this.getChannelRange(channel)\n    const percentValue = getPercentValue(percentToCheck, minValue, maxValue, step)\n    return snapValueToStep(percentValue, minValue, maxValue, step)\n  }\n\n  withChannelValue(channel: ColorChannel, value: number): ColorType {\n    const { minValue, maxValue } = this.getChannelRange(channel)\n    if (channel in this) {\n      let clone = this.clone()\n      clone[channel] = clampValue(value, minValue, maxValue)\n      return clone\n    }\n\n    throw new Error(\"Unsupported color channel: \" + channel)\n  }\n\n  getColorAxes(xyChannels: Color2DAxes): ColorAxes {\n    let { xChannel, yChannel } = xyChannels\n    let xCh = xChannel || this.getChannels().find((c) => c !== yChannel)\n    let yCh = yChannel || this.getChannels().find((c) => c !== xCh)\n    let zCh = this.getChannels().find((c) => c !== xCh && c !== yCh)\n    return { xChannel: xCh!, yChannel: yCh!, zChannel: zCh! }\n  }\n\n  incrementChannel(channel: ColorChannel, stepSize: number): ColorType {\n    const { minValue, maxValue, step } = this.getChannelRange(channel)\n    const value = snapValueToStep(\n      clampValue(this.getChannelValue(channel) + stepSize, minValue, maxValue),\n      minValue,\n      maxValue,\n      step,\n    )\n    return this.withChannelValue(channel, value)\n  }\n\n  decrementChannel(channel: ColorChannel, stepSize: number): ColorType {\n    return this.incrementChannel(channel, -stepSize)\n  }\n\n  isEqual(color: ColorType): boolean {\n    const isSame = isEqualObject(this.toJSON(), color.toJSON())\n    return isSame && this.getChannelValue(\"alpha\") === color.getChannelValue(\"alpha\")\n  }\n}\n", "import { clampValue, mod, toFixedNumber } from \"@zag-js/numeric-range\"\nimport { Color } from \"./color\"\nimport { HSLColor } from \"./hsl-color\"\nimport { RGBColor } from \"./rgb-color\"\nimport type { ColorChannel, ColorChannelRange, ColorFormat, ColorStringFormat, ColorType } from \"./types\"\n\nconst HSB_REGEX =\n  /hsb\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsba\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/\n\nexport class HSBColor extends Color {\n  constructor(\n    private hue: number,\n    private saturation: number,\n    private brightness: number,\n    private alpha: number,\n  ) {\n    super()\n  }\n\n  static parse(value: string): HSBColor | void {\n    let m: RegExpMatchArray | null\n    if ((m = value.match(HSB_REGEX))) {\n      const [h, s, b, a] = (m[1] ?? m[2]).split(\",\").map((n) => Number(n.trim().replace(\"%\", \"\")))\n      return new HSBColor(mod(h, 360), clampValue(s, 0, 100), clampValue(b, 0, 100), clampValue(a ?? 1, 0, 1))\n    }\n  }\n\n  toString(format: ColorStringFormat) {\n    switch (format) {\n      case \"css\":\n        return this.toHSL().toString(\"css\")\n      case \"hex\":\n        return this.toRGB().toString(\"hex\")\n      case \"hexa\":\n        return this.toRGB().toString(\"hexa\")\n      case \"hsb\":\n        return `hsb(${this.hue}, ${toFixedNumber(this.saturation, 2)}%, ${toFixedNumber(this.brightness, 2)}%)`\n      case \"hsba\":\n        return `hsba(${this.hue}, ${toFixedNumber(this.saturation, 2)}%, ${toFixedNumber(this.brightness, 2)}%, ${\n          this.alpha\n        })`\n      case \"hsl\":\n        return this.toHSL().toString(\"hsl\")\n      case \"rgb\":\n        return this.toRGB().toString(\"rgb\")\n      default:\n        return this.toFormat(format).toString(format)\n    }\n  }\n\n  toFormat(format: ColorFormat): ColorType {\n    switch (format) {\n      case \"hsba\":\n        return this\n      case \"hsla\":\n        return this.toHSL()\n      case \"rgba\":\n        return this.toRGB()\n      default:\n        throw new Error(\"Unsupported color conversion: hsb -> \" + format)\n    }\n  }\n\n  /**\n   * Converts a HSB color to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_HSL.\n   * @returns An HSLColor object.\n   */\n  private toHSL(): ColorType {\n    let saturation = this.saturation / 100\n    let brightness = this.brightness / 100\n    let lightness = brightness * (1 - saturation / 2)\n    saturation = lightness === 0 || lightness === 1 ? 0 : (brightness - lightness) / Math.min(lightness, 1 - lightness)\n\n    return new HSLColor(\n      toFixedNumber(this.hue, 2),\n      toFixedNumber(saturation * 100, 2),\n      toFixedNumber(lightness * 100, 2),\n      toFixedNumber(this.alpha, 2),\n    )\n  }\n\n  /**\n   * Converts a HSV color value to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */\n  private toRGB(): ColorType {\n    let hue = this.hue\n    let saturation = this.saturation / 100\n    let brightness = this.brightness / 100\n\n    let fn = (n: number, k = (n + hue / 60) % 6) =>\n      brightness - saturation * brightness * Math.max(Math.min(k, 4 - k, 1), 0)\n\n    return new RGBColor(\n      Math.round(fn(5) * 255),\n      Math.round(fn(3) * 255),\n      Math.round(fn(1) * 255),\n      toFixedNumber(this.alpha, 2),\n    )\n  }\n\n  clone(): ColorType {\n    return new HSBColor(this.hue, this.saturation, this.brightness, this.alpha)\n  }\n\n  getChannelRange(channel: ColorChannel): ColorChannelRange {\n    switch (channel) {\n      case \"hue\":\n        return { minValue: 0, maxValue: 360, step: 1, pageSize: 15 }\n      case \"saturation\":\n      case \"brightness\":\n        return { minValue: 0, maxValue: 100, step: 1, pageSize: 10 }\n      case \"alpha\":\n        return { minValue: 0, maxValue: 1, step: 0.01, pageSize: 0.1 }\n      default:\n        throw new Error(\"Unknown color channel: \" + channel)\n    }\n  }\n\n  toJSON(): Record<\"h\" | \"s\" | \"b\" | \"a\", number> {\n    return { h: this.hue, s: this.saturation, b: this.brightness, a: this.alpha }\n  }\n\n  getFormat(): ColorFormat {\n    return \"hsba\"\n  }\n\n  private static colorChannels: [ColorChannel, ColorChannel, ColorChannel] = [\"hue\", \"saturation\", \"brightness\"]\n\n  getChannels(): [ColorChannel, ColorChannel, ColorChannel] {\n    return HSBColor.colorChannels\n  }\n}\n", "import { clampValue, mod, toFixedNumber } from \"@zag-js/numeric-range\"\nimport { Color } from \"./color\"\nimport { HSBColor } from \"./hsb-color\"\nimport { RGBColor } from \"./rgb-color\"\nimport type { ColorChannel, ColorChannelRange, ColorFormat, ColorStringFormat, ColorType } from \"./types\"\n\nexport const HSL_REGEX =\n  /hsl\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsla\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/\n\nexport class HSLColor extends Color {\n  constructor(\n    private hue: number,\n    private saturation: number,\n    private lightness: number,\n    private alpha: number,\n  ) {\n    super()\n  }\n\n  static parse(value: string): HSLColor | void {\n    let m: RegExpMatchArray | null\n    if ((m = value.match(HSL_REGEX))) {\n      const [h, s, l, a] = (m[1] ?? m[2]).split(\",\").map((n) => Number(n.trim().replace(\"%\", \"\")))\n      return new HSLColor(mod(h, 360), clampValue(s, 0, 100), clampValue(l, 0, 100), clampValue(a ?? 1, 0, 1))\n    }\n  }\n\n  toString(format: ColorStringFormat) {\n    switch (format) {\n      case \"hex\":\n        return this.toRGB().toString(\"hex\")\n      case \"hexa\":\n        return this.toRGB().toString(\"hexa\")\n      case \"hsl\":\n        return `hsl(${this.hue}, ${toFixedNumber(this.saturation, 2)}%, ${toFixedNumber(this.lightness, 2)}%)`\n      case \"css\":\n      case \"hsla\":\n        return `hsla(${this.hue}, ${toFixedNumber(this.saturation, 2)}%, ${toFixedNumber(this.lightness, 2)}%, ${\n          this.alpha\n        })`\n      case \"hsb\":\n        return this.toHSB().toString(\"hsb\")\n      case \"rgb\":\n        return this.toRGB().toString(\"rgb\")\n      default:\n        return this.toFormat(format).toString(format)\n    }\n  }\n\n  toFormat(format: ColorFormat): ColorType {\n    switch (format) {\n      case \"hsla\":\n        return this\n      case \"hsba\":\n        return this.toHSB()\n      case \"rgba\":\n        return this.toRGB()\n      default:\n        throw new Error(\"Unsupported color conversion: hsl -> \" + format)\n    }\n  }\n\n  /**\n   * Converts a HSL color to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_HSV.\n   * @returns An HSBColor object.\n   */\n  private toHSB(): ColorType {\n    let saturation = this.saturation / 100\n    let lightness = this.lightness / 100\n    let brightness = lightness + saturation * Math.min(lightness, 1 - lightness)\n    saturation = brightness === 0 ? 0 : 2 * (1 - lightness / brightness)\n    return new HSBColor(\n      toFixedNumber(this.hue, 2),\n      toFixedNumber(saturation * 100, 2),\n      toFixedNumber(brightness * 100, 2),\n      toFixedNumber(this.alpha, 2),\n    )\n  }\n\n  /**\n   * Converts a HSL color to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */\n  private toRGB(): ColorType {\n    let hue = this.hue\n    let saturation = this.saturation / 100\n    let lightness = this.lightness / 100\n    let a = saturation * Math.min(lightness, 1 - lightness)\n    let fn = (n: number, k = (n + hue / 30) % 12) => lightness - a * Math.max(Math.min(k - 3, 9 - k, 1), -1)\n    return new RGBColor(\n      Math.round(fn(0) * 255),\n      Math.round(fn(8) * 255),\n      Math.round(fn(4) * 255),\n      toFixedNumber(this.alpha, 2),\n    )\n  }\n\n  clone(): ColorType {\n    return new HSLColor(this.hue, this.saturation, this.lightness, this.alpha)\n  }\n\n  getChannelRange(channel: ColorChannel): ColorChannelRange {\n    switch (channel) {\n      case \"hue\":\n        return { minValue: 0, maxValue: 360, step: 1, pageSize: 15 }\n      case \"saturation\":\n      case \"lightness\":\n        return { minValue: 0, maxValue: 100, step: 1, pageSize: 10 }\n      case \"alpha\":\n        return { minValue: 0, maxValue: 1, step: 0.01, pageSize: 0.1 }\n      default:\n        throw new Error(\"Unknown color channel: \" + channel)\n    }\n  }\n\n  toJSON(): Record<\"h\" | \"s\" | \"l\" | \"a\", number> {\n    return { h: this.hue, s: this.saturation, l: this.lightness, a: this.alpha }\n  }\n\n  getFormat(): ColorFormat {\n    return \"hsla\"\n  }\n\n  private static colorChannels: [ColorChannel, ColorChannel, ColorChannel] = [\"hue\", \"saturation\", \"lightness\"]\n\n  getChannels(): [ColorChannel, ColorChannel, ColorChannel] {\n    return HSLColor.colorChannels\n  }\n}\n", "import { clampValue, toFixedNumber } from \"@zag-js/numeric-range\"\nimport { Color } from \"./color\"\nimport { HSBColor } from \"./hsb-color\"\nimport { HSLColor } from \"./hsl-color\"\nimport type { ColorChannel, ColorChannelRange, ColorFormat, ColorStringFormat, ColorType } from \"./types\"\n\nexport class RGBColor extends Color {\n  constructor(\n    private red: number,\n    private green: number,\n    private blue: number,\n    private alpha: number,\n  ) {\n    super()\n  }\n\n  static parse(value: string) {\n    let colors: (number | undefined)[] = []\n\n    // matching #rgb, #rgba, #rrggbb, #rrggbbaa\n    if (/^#[\\da-f]+$/i.test(value) && [4, 5, 7, 9].includes(value.length)) {\n      const values = (value.length < 6 ? value.replace(/[^#]/gi, \"$&$&\") : value).slice(1).split(\"\")\n      while (values.length > 0) {\n        colors.push(parseInt(values.splice(0, 2).join(\"\"), 16))\n      }\n      colors[3] = colors[3] !== undefined ? colors[3] / 255 : undefined\n    }\n\n    // matching rgb(rrr, ggg, bbb), rgba(rrr, ggg, bbb, 0.a)\n    const match = value.match(/^rgba?\\((.*)\\)$/)\n\n    if (match?.[1]) {\n      colors = match[1]\n        .split(\",\")\n        .map((value) => Number(value.trim()))\n        .map((num, i) => clampValue(num, 0, i < 3 ? 255 : 1))\n    }\n\n    //@ts-expect-error\n    return colors.length < 3 ? undefined : new RGBColor(colors[0], colors[1], colors[2], colors[3] ?? 1)\n  }\n\n  toString(format: ColorStringFormat) {\n    switch (format) {\n      case \"hex\":\n        return (\n          \"#\" +\n          (\n            this.red.toString(16).padStart(2, \"0\") +\n            this.green.toString(16).padStart(2, \"0\") +\n            this.blue.toString(16).padStart(2, \"0\")\n          ).toUpperCase()\n        )\n      case \"hexa\":\n        return (\n          \"#\" +\n          (\n            this.red.toString(16).padStart(2, \"0\") +\n            this.green.toString(16).padStart(2, \"0\") +\n            this.blue.toString(16).padStart(2, \"0\") +\n            Math.round(this.alpha * 255)\n              .toString(16)\n              .padStart(2, \"0\")\n          ).toUpperCase()\n        )\n      case \"rgb\":\n        return `rgb(${this.red}, ${this.green}, ${this.blue})`\n      case \"css\":\n      case \"rgba\":\n        return `rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`\n      case \"hsl\":\n        return this.toHSL().toString(\"hsl\")\n      case \"hsb\":\n        return this.toHSB().toString(\"hsb\")\n      default:\n        return this.toFormat(format).toString(format)\n    }\n  }\n\n  toFormat(format: ColorFormat): ColorType {\n    switch (format) {\n      case \"rgba\":\n        return this\n      case \"hsba\":\n        return this.toHSB()\n      case \"hsla\":\n        return this.toHSL()\n      default:\n        throw new Error(\"Unsupported color conversion: rgb -> \" + format)\n    }\n  }\n\n  toHexInt(): number {\n    return (this.red << 16) | (this.green << 8) | this.blue\n  }\n\n  /**\n   * Converts an RGB color value to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSBColor object.\n   */\n  private toHSB(): ColorType {\n    const red = this.red / 255\n    const green = this.green / 255\n    const blue = this.blue / 255\n    const min = Math.min(red, green, blue)\n    const brightness = Math.max(red, green, blue)\n    const chroma = brightness - min\n    const saturation = brightness === 0 ? 0 : chroma / brightness\n    let hue = 0 // achromatic\n\n    if (chroma !== 0) {\n      switch (brightness) {\n        case red:\n          hue = (green - blue) / chroma + (green < blue ? 6 : 0)\n          break\n        case green:\n          hue = (blue - red) / chroma + 2\n          break\n        case blue:\n          hue = (red - green) / chroma + 4\n          break\n      }\n\n      hue /= 6\n    }\n\n    return new HSBColor(\n      toFixedNumber(hue * 360, 2),\n      toFixedNumber(saturation * 100, 2),\n      toFixedNumber(brightness * 100, 2),\n      toFixedNumber(this.alpha, 2),\n    )\n  }\n\n  /**\n   * Converts an RGB color value to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSLColor object.\n   */\n  private toHSL(): ColorType {\n    const red = this.red / 255\n    const green = this.green / 255\n    const blue = this.blue / 255\n    const min = Math.min(red, green, blue)\n    const max = Math.max(red, green, blue)\n    const lightness = (max + min) / 2\n    const chroma = max - min\n\n    let hue = -1\n    let saturation = -1\n\n    if (chroma === 0) {\n      hue = saturation = 0 // achromatic\n    } else {\n      saturation = chroma / (lightness < 0.5 ? max + min : 2 - max - min)\n\n      switch (max) {\n        case red:\n          hue = (green - blue) / chroma + (green < blue ? 6 : 0)\n          break\n        case green:\n          hue = (blue - red) / chroma + 2\n          break\n        case blue:\n          hue = (red - green) / chroma + 4\n          break\n      }\n\n      hue /= 6\n    }\n\n    return new HSLColor(\n      toFixedNumber(hue * 360, 2),\n      toFixedNumber(saturation * 100, 2),\n      toFixedNumber(lightness * 100, 2),\n      toFixedNumber(this.alpha, 2),\n    )\n  }\n\n  clone(): ColorType {\n    return new RGBColor(this.red, this.green, this.blue, this.alpha)\n  }\n\n  getChannelRange(channel: ColorChannel): ColorChannelRange {\n    switch (channel) {\n      case \"red\":\n      case \"green\":\n      case \"blue\":\n        return { minValue: 0x0, maxValue: 0xff, step: 0x1, pageSize: 0x11 }\n      case \"alpha\":\n        return { minValue: 0, maxValue: 1, step: 0.01, pageSize: 0.1 }\n      default:\n        throw new Error(\"Unknown color channel: \" + channel)\n    }\n  }\n\n  toJSON(): Record<\"r\" | \"g\" | \"b\" | \"a\", number> {\n    return { r: this.red, g: this.green, b: this.blue, a: this.alpha }\n  }\n\n  getFormat(): ColorFormat {\n    return \"rgba\"\n  }\n\n  private static colorChannels: [ColorChannel, ColorChannel, ColorChannel] = [\"red\", \"green\", \"blue\"]\n\n  getChannels(): [ColorChannel, ColorChannel, ColorChannel] {\n    return RGBColor.colorChannels\n  }\n}\n", "const nativeColors /* @__PURE__ */ =\n  \"aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32\"\n\nconst makeMap = (str: string) => {\n  const map = new Map<string, string>()\n  const list = str.split(\",\")\n  for (let i = 0; i < list.length; i++) {\n    const [key, val] = list[i].split(\":\")\n    map.set(key, `#${val}`)\n  }\n  return map\n}\n\nexport const nativeColorMap /* @__PURE__ */ = makeMap(nativeColors)\n", "import { HSBColor } from \"./hsb-color\"\nimport { HSLColor } from \"./hsl-color\"\nimport { nativeColorMap } from \"./native-color\"\nimport { RGBColor } from \"./rgb-color\"\nimport type { ColorType } from \"./types\"\n\nexport const parseColor = (value: string): ColorType => {\n  if (nativeColorMap.has(value)) {\n    return parseColor(nativeColorMap.get(value)!)\n  }\n\n  const result = RGBColor.parse(value) || HSBColor.parse(value) || HSLColor.parse(value)\n\n  if (!result) {\n    const error = new Error(\"Invalid color value: \" + value)\n    Error.captureStackTrace?.(error, parseColor)\n    throw error\n  }\n\n  return result\n}\n\nexport const normalizeColor = (v: string | ColorType) => {\n  return typeof v === \"string\" ? parseColor(v) : v\n}\n", "/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n", "import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n", "function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n", "import { rectToClientRect, detectOverflow as detectOverflow$1, offset as offset$1, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n", "import type { AutoUpdateOptions, Middleware } from \"@floating-ui/dom\"\nimport { arrow, autoUpdate, computePosition, flip, limitShift, offset, shift, size } from \"@floating-ui/dom\"\nimport { getWindow, raf } from \"@zag-js/dom-query\"\nimport { compact, isNull, noop, runIfFn } from \"@zag-js/utils\"\nimport { getAnchorElement } from \"./get-anchor\"\nimport { rectMiddleware, shiftArrowMiddleware, transformOriginMiddleware } from \"./middleware\"\nimport { getPlacementDetails } from \"./placement\"\nimport type { MaybeElement, MaybeFn, MaybeRectElement, PositioningOptions } from \"./types\"\n\nconst defaultOptions: PositioningOptions = {\n  strategy: \"absolute\",\n  placement: \"bottom\",\n  listeners: true,\n  gutter: 8,\n  flip: true,\n  slide: true,\n  overlap: false,\n  sameWidth: false,\n  fitViewport: false,\n  overflowPadding: 8,\n  arrowPadding: 4,\n}\n\nfunction roundByDpr(win: Window, value: number) {\n  const dpr = win.devicePixelRatio || 1\n  return Math.round(value * dpr) / dpr\n}\n\nfunction getBoundaryMiddleware(opts: PositioningOptions) {\n  return runIfFn(opts.boundary)\n}\n\nfunction getArrowMiddleware(arrowElement: HTMLElement | null, opts: PositioningOptions) {\n  if (!arrowElement) return\n  return arrow({\n    element: arrowElement,\n    padding: opts.arrowPadding,\n  })\n}\n\nfunction getOffsetMiddleware(arrowElement: HTMLElement | null, opts: PositioningOptions) {\n  if (isNull(opts.offset ?? opts.gutter)) return\n  return offset(({ placement }) => {\n    const arrowOffset = (arrowElement?.clientHeight || 0) / 2\n\n    const gutter = opts.offset?.mainAxis ?? opts.gutter\n    const mainAxis = typeof gutter === \"number\" ? gutter + arrowOffset : gutter ?? arrowOffset\n\n    const { hasAlign } = getPlacementDetails(placement)\n    const shift = !hasAlign ? opts.shift : undefined\n    const crossAxis = opts.offset?.crossAxis ?? shift\n\n    return compact({\n      crossAxis: crossAxis,\n      mainAxis: mainAxis,\n      alignmentAxis: opts.shift,\n    })\n  })\n}\n\nfunction getFlipMiddleware(opts: PositioningOptions) {\n  if (!opts.flip) return\n  return flip({\n    boundary: getBoundaryMiddleware(opts),\n    padding: opts.overflowPadding,\n    fallbackPlacements: opts.flip === true ? undefined : opts.flip,\n  })\n}\n\nfunction getShiftMiddleware(opts: PositioningOptions) {\n  if (!opts.slide && !opts.overlap) return\n  return shift({\n    boundary: getBoundaryMiddleware(opts),\n    mainAxis: opts.slide,\n    crossAxis: opts.overlap,\n    padding: opts.overflowPadding,\n    limiter: limitShift(),\n  })\n}\n\nfunction getSizeMiddleware(opts: PositioningOptions) {\n  return size({\n    padding: opts.overflowPadding,\n    apply({ elements, rects, availableHeight, availableWidth }) {\n      const floating = elements.floating\n\n      const referenceWidth = Math.round(rects.reference.width)\n      availableWidth = Math.floor(availableWidth)\n      availableHeight = Math.floor(availableHeight)\n\n      floating.style.setProperty(\"--reference-width\", `${referenceWidth}px`)\n      floating.style.setProperty(\"--available-width\", `${availableWidth}px`)\n      floating.style.setProperty(\"--available-height\", `${availableHeight}px`)\n    },\n  })\n}\n\nfunction getAutoUpdateOptions(opts?: boolean | AutoUpdateOptions): AutoUpdateOptions {\n  if (!opts) return {}\n  if (opts === true) {\n    return { ancestorResize: true, ancestorScroll: true, elementResize: true, layoutShift: true }\n  }\n  return opts\n}\n\nfunction getPlacementImpl(referenceOrVirtual: MaybeRectElement, floating: MaybeElement, opts: PositioningOptions = {}) {\n  const reference = getAnchorElement(referenceOrVirtual, opts.getAnchorRect)\n  if (!floating || !reference) return\n  const options = Object.assign({}, defaultOptions, opts)\n\n  /* -----------------------------------------------------------------------------\n   * The middleware stack\n   * -----------------------------------------------------------------------------*/\n\n  const arrowEl = floating.querySelector<HTMLElement>(\"[data-part=arrow]\")\n\n  const middleware: (Middleware | undefined)[] = [\n    getOffsetMiddleware(arrowEl, options),\n    getFlipMiddleware(options),\n    getShiftMiddleware(options),\n    getArrowMiddleware(arrowEl, options),\n    shiftArrowMiddleware(arrowEl),\n    transformOriginMiddleware,\n    getSizeMiddleware(options),\n    rectMiddleware,\n  ]\n\n  /* -----------------------------------------------------------------------------\n   * The actual positioning function\n   * -----------------------------------------------------------------------------*/\n\n  const { placement, strategy, onComplete, onPositioned } = options\n\n  const updatePosition = async () => {\n    if (!reference || !floating) return\n\n    const pos = await computePosition(reference, floating, {\n      placement,\n      middleware,\n      strategy,\n    })\n\n    onComplete?.(pos)\n    onPositioned?.({ placed: true })\n\n    const win = getWindow(floating)\n    const x = roundByDpr(win, pos.x)\n    const y = roundByDpr(win, pos.y)\n\n    floating.style.setProperty(\"--x\", `${x}px`)\n    floating.style.setProperty(\"--y\", `${y}px`)\n\n    const contentEl = floating.firstElementChild\n\n    if (contentEl) {\n      const zIndex = win.getComputedStyle(contentEl).zIndex\n      floating.style.setProperty(\"--z-index\", zIndex)\n    }\n  }\n\n  const update = async () => {\n    if (opts.updatePosition) {\n      await opts.updatePosition({ updatePosition })\n      onPositioned?.({ placed: true })\n    } else {\n      await updatePosition()\n    }\n  }\n\n  const autoUpdateOptions = getAutoUpdateOptions(options.listeners)\n  const cancelAutoUpdate = options.listeners ? autoUpdate(reference, floating, update, autoUpdateOptions) : noop\n\n  update()\n\n  return () => {\n    cancelAutoUpdate?.()\n    onPositioned?.({ placed: false })\n  }\n}\n\nexport function getPlacement(\n  referenceOrFn: MaybeFn<MaybeRectElement>,\n  floatingOrFn: MaybeFn<MaybeElement>,\n  opts: PositioningOptions & { defer?: boolean } = {},\n) {\n  const { defer, ...options } = opts\n  const func = defer ? raf : (v: any) => v()\n  const cleanups: (VoidFunction | undefined)[] = []\n  cleanups.push(\n    func(() => {\n      const reference = typeof referenceOrFn === \"function\" ? referenceOrFn() : referenceOrFn\n      const floating = typeof floatingOrFn === \"function\" ? floatingOrFn() : floatingOrFn\n      cleanups.push(getPlacementImpl(reference, floating, options))\n    }),\n  )\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n", "import { isHTMLElement } from \"@zag-js/dom-query\"\nimport type { AnchorRect, MaybeRectElement } from \"./types\"\n\nexport function createDOMRect(x = 0, y = 0, width = 0, height = 0) {\n  if (typeof DOMRect === \"function\") {\n    return new DOMRect(x, y, width, height)\n  }\n  const rect = {\n    x,\n    y,\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n  }\n  return { ...rect, toJSON: () => rect }\n}\n\nfunction getDOMRect(anchorRect?: AnchorRect | null) {\n  if (!anchorRect) return createDOMRect()\n  const { x, y, width, height } = anchorRect\n  return createDOMRect(x, y, width, height)\n}\n\nexport function getAnchorElement(\n  anchorElement: MaybeRectElement,\n  getAnchorRect?: (anchor: MaybeRectElement) => AnchorRect | null,\n) {\n  return {\n    contextElement: isHTMLElement(anchorElement) ? anchorElement : undefined,\n    getBoundingClientRect: () => {\n      const anchor = anchorElement\n      const anchorRect = getAnchorRect?.(anchor)\n      if (anchorRect || !anchor) {\n        return getDOMRect(anchorRect)\n      }\n      return anchor.getBoundingClientRect()\n    },\n  }\n}\n", "import type { Coords, Middleware } from \"@floating-ui/dom\"\nimport type { PlacementSide } from \"./types\"\n\n/* -----------------------------------------------------------------------------\n * Shared middleware utils\n * -----------------------------------------------------------------------------*/\n\nconst toVar = (value: string) => ({ variable: value, reference: `var(${value})` })\n\nexport const cssVars = {\n  arrowSize: toVar(\"--arrow-size\"),\n  arrowSizeHalf: toVar(\"--arrow-size-half\"),\n  arrowBg: toVar(\"--arrow-background\"),\n  transformOrigin: toVar(\"--transform-origin\"),\n  arrowOffset: toVar(\"--arrow-offset\"),\n}\n\n/* -----------------------------------------------------------------------------\n * Transform Origin Middleware\n * -----------------------------------------------------------------------------*/\n\nconst getTransformOrigin = (arrow?: Partial<Coords>) => ({\n  top: \"bottom center\",\n  \"top-start\": arrow ? `${arrow.x}px bottom` : \"left bottom\",\n  \"top-end\": arrow ? `${arrow.x}px bottom` : \"right bottom\",\n  bottom: \"top center\",\n  \"bottom-start\": arrow ? `${arrow.x}px top` : \"top left\",\n  \"bottom-end\": arrow ? `${arrow.x}px top` : \"top right\",\n  left: \"right center\",\n  \"left-start\": arrow ? `right ${arrow.y}px` : \"right top\",\n  \"left-end\": arrow ? `right ${arrow.y}px` : \"right bottom\",\n  right: \"left center\",\n  \"right-start\": arrow ? `left ${arrow.y}px` : \"left top\",\n  \"right-end\": arrow ? `left ${arrow.y}px` : \"left bottom\",\n})\n\nexport const transformOriginMiddleware: Middleware = {\n  name: \"transformOrigin\",\n  fn({ placement, elements, middlewareData }) {\n    const { arrow } = middlewareData\n    const transformOrigin = getTransformOrigin(arrow)[placement]\n\n    const { floating } = elements\n    floating.style.setProperty(cssVars.transformOrigin.variable, transformOrigin)\n\n    return {\n      data: { transformOrigin },\n    }\n  },\n}\n\n/* -----------------------------------------------------------------------------\n * Rect Middleware (to expose the rect data)\n * -----------------------------------------------------------------------------*/\n\nexport const rectMiddleware: Middleware = {\n  name: \"rects\",\n  fn({ rects }) {\n    return {\n      data: rects,\n    }\n  },\n}\n\n/* -----------------------------------------------------------------------------\n * Arrow Middleware\n * -----------------------------------------------------------------------------*/\n\nexport const shiftArrowMiddleware = (arrowEl: HTMLElement | null): Middleware | undefined => {\n  if (!arrowEl) return\n  return {\n    name: \"shiftArrow\",\n    fn({ placement, middlewareData }) {\n      if (!middlewareData.arrow) return {}\n      const { x, y } = middlewareData.arrow\n      const dir = placement.split(\"-\")[0] as PlacementSide\n\n      Object.assign(arrowEl.style, {\n        left: x != null ? `${x}px` : \"\",\n        top: y != null ? `${y}px` : \"\",\n        [dir]: `calc(100% + ${cssVars.arrowOffset.reference})`,\n      })\n\n      return {}\n    },\n  }\n}\n", "import type { Placement } from \"@floating-ui/dom\"\nimport type { PlacementAlign, PlacementSide } from \"./types\"\n\nexport function isValidPlacement(v: string): v is Placement {\n  return /^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(v)\n}\n\nexport function getPlacementDetails(placement: Placement) {\n  const [side, align] = placement.split(\"-\") as [PlacementSide, PlacementAlign | undefined]\n  return { side, align, hasAlign: align != null }\n}\n\nexport function getPlacementSide(placement: Placement): PlacementSide {\n  return placement.split(\"-\")[0] as PlacementSide\n}\n", "import type { Placement } from \"@floating-ui/dom\"\nimport { cssVars } from \"./middleware\"\nimport type { PositioningOptions } from \"./types\"\n\nexport interface GetPlacementStylesOptions {\n  placement?: Placement\n}\n\nconst ARROW_FLOATING_STYLE = {\n  bottom: \"rotate(45deg)\",\n  left: \"rotate(135deg)\",\n  top: \"rotate(225deg)\",\n  right: \"rotate(315deg)\",\n} as const\n\nexport function getPlacementStyles(\n  options: Pick<PositioningOptions, \"placement\" | \"sameWidth\" | \"fitViewport\" | \"strategy\"> = {},\n) {\n  const { placement, sameWidth, fitViewport, strategy = \"absolute\" } = options\n\n  return {\n    arrow: {\n      position: \"absolute\",\n      width: cssVars.arrowSize.reference,\n      height: cssVars.arrowSize.reference,\n      [cssVars.arrowSizeHalf.variable]: `calc(${cssVars.arrowSize.reference} / 2)`,\n      [cssVars.arrowOffset.variable]: `calc(${cssVars.arrowSizeHalf.reference} * -1)`,\n    } as const,\n\n    arrowTip: {\n      transform: placement ? ARROW_FLOATING_STYLE[placement.split(\"-\")[0]] : undefined,\n      background: cssVars.arrowBg.reference,\n      top: \"0\",\n      left: \"0\",\n      width: \"100%\",\n      height: \"100%\",\n      position: \"absolute\",\n      zIndex: \"inherit\",\n    } as const,\n\n    floating: {\n      position: strategy,\n      isolation: \"isolate\",\n      minWidth: sameWidth ? undefined : \"max-content\",\n      width: sameWidth ? \"var(--reference-width)\" : undefined,\n      maxWidth: fitViewport ? \"var(--available-width)\" : undefined,\n      maxHeight: fitViewport ? \"var(--available-height)\" : undefined,\n      top: \"0px\",\n      left: \"0px\",\n      // move off-screen if placement is not defined\n      transform: placement ? \"translate3d(var(--x), var(--y), 0)\" : \"translate3d(0, -100vh, 0)\",\n      zIndex: \"var(--z-index)\",\n    } as const,\n  }\n}\n", "import { addDomEvent, fireCustomEvent, isContextMenuEvent } from \"@zag-js/dom-event\"\nimport { contains, getDocument, getEventTarget, getWindow, isFocusable, isHTMLElement, raf } from \"@zag-js/dom-query\"\nimport { callAll } from \"@zag-js/utils\"\nimport { getWindowFrames } from \"./get-window-frames\"\n\nexport interface InteractOutsideHandlers {\n  /**\n   * Function called when the pointer is pressed down outside the component\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void\n  /**\n   * Function called when the focus is moved outside the component\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void\n  /**\n   * Function called when an interaction happens outside the component\n   */\n  onInteractOutside?: (event: InteractOutsideEvent) => void\n}\n\nexport interface InteractOutsideOptions extends InteractOutsideHandlers {\n  exclude?: (target: HTMLElement) => boolean\n  defer?: boolean\n}\n\nexport interface EventDetails<T> {\n  originalEvent: T\n  contextmenu: boolean\n  focusable: boolean\n}\n\nconst POINTER_OUTSIDE_EVENT = \"pointerdown.outside\"\nconst FOCUS_OUTSIDE_EVENT = \"focus.outside\"\n\nexport type PointerDownOutsideEvent = CustomEvent<EventDetails<PointerEvent>>\n\nexport type FocusOutsideEvent = CustomEvent<EventDetails<FocusEvent>>\n\nexport type InteractOutsideEvent = PointerDownOutsideEvent | FocusOutsideEvent\n\nexport type MaybeElement = HTMLElement | null | undefined\nexport type NodeOrFn = MaybeElement | (() => MaybeElement)\n\nfunction isComposedPathFocusable(composedPath: EventTarget[]) {\n  for (const node of composedPath) {\n    if (isHTMLElement(node) && isFocusable(node)) return true\n  }\n  return false\n}\n\nconst isPointerEvent = (event: Event): event is PointerEvent => \"clientY\" in event\n\nfunction isEventPointWithin(node: MaybeElement, event: Event) {\n  if (!isPointerEvent(event) || !node) return false\n\n  const rect = node.getBoundingClientRect()\n  if (rect.width === 0 || rect.height === 0) return false\n\n  return (\n    rect.top <= event.clientY &&\n    event.clientY <= rect.top + rect.height &&\n    rect.left <= event.clientX &&\n    event.clientX <= rect.left + rect.width\n  )\n}\n\nfunction isEventWithinScrollbar(event: Event): boolean {\n  const target = getEventTarget<HTMLElement>(event)\n  if (!target || !isPointerEvent(event)) return false\n\n  const isScrollableY = target.scrollHeight > target.clientHeight\n  const onScrollbarY = isScrollableY && event.clientX > target.clientWidth\n\n  const isScrollableX = target.scrollWidth > target.clientWidth\n  const onScrollbarX = isScrollableX && event.clientY > target.clientHeight\n\n  return onScrollbarY || onScrollbarX\n}\n\nfunction trackInteractOutsideImpl(node: MaybeElement, options: InteractOutsideOptions) {\n  const { exclude, onFocusOutside, onPointerDownOutside, onInteractOutside, defer } = options\n\n  if (!node) return\n\n  const doc = getDocument(node)\n  const win = getWindow(node)\n  const frames = getWindowFrames(win)\n\n  function isEventOutside(event: Event): boolean {\n    const target = getEventTarget(event)\n    if (!isHTMLElement(target)) return false\n    if (contains(node, target)) return false\n    if (isEventPointWithin(node, event)) return false\n    if (isEventWithinScrollbar(event)) return false\n    return !exclude?.(target)\n  }\n\n  let clickHandler: VoidFunction\n\n  function onPointerDown(event: PointerEvent) {\n    //\n    function handler() {\n      const func = defer ? raf : (v: any) => v()\n      const composedPath = event.composedPath?.() ?? [event.target]\n      func(() => {\n        if (!node || !isEventOutside(event)) return\n\n        if (onPointerDownOutside || onInteractOutside) {\n          const handler = callAll(onPointerDownOutside, onInteractOutside) as EventListener\n          node.addEventListener(POINTER_OUTSIDE_EVENT, handler, { once: true })\n        }\n\n        fireCustomEvent(node, POINTER_OUTSIDE_EVENT, {\n          bubbles: false,\n          cancelable: true,\n          detail: {\n            originalEvent: event,\n            contextmenu: isContextMenuEvent(event),\n            focusable: isComposedPathFocusable(composedPath),\n          },\n        })\n      })\n    }\n\n    if (event.pointerType === \"touch\") {\n      frames.removeEventListener(\"click\", handler)\n      doc.removeEventListener(\"click\", handler)\n\n      clickHandler = handler\n\n      doc.addEventListener(\"click\", handler, { once: true })\n      frames.addEventListener(\"click\", handler, { once: true })\n    } else {\n      handler()\n    }\n  }\n  const cleanups = new Set<VoidFunction>()\n\n  const timer = setTimeout(() => {\n    cleanups.add(frames.addEventListener(\"pointerdown\", onPointerDown, true))\n    cleanups.add(addDomEvent(doc, \"pointerdown\", onPointerDown, true))\n  }, 0)\n\n  function onFocusin(event: FocusEvent) {\n    //\n    const func = defer ? raf : (v: any) => v()\n    func(() => {\n      if (!node || !isEventOutside(event)) return\n\n      if (onFocusOutside || onInteractOutside) {\n        const handler = callAll(onFocusOutside, onInteractOutside) as EventListener\n        node.addEventListener(FOCUS_OUTSIDE_EVENT, handler, { once: true })\n      }\n\n      fireCustomEvent(node, FOCUS_OUTSIDE_EVENT, {\n        bubbles: false,\n        cancelable: true,\n        detail: {\n          originalEvent: event,\n          contextmenu: false,\n          focusable: isFocusable(getEventTarget(event)),\n        },\n      })\n    })\n  }\n\n  cleanups.add(addDomEvent(doc, \"focusin\", onFocusin, true))\n  cleanups.add(frames.addEventListener(\"focusin\", onFocusin, true))\n\n  return () => {\n    clearTimeout(timer)\n    if (clickHandler) {\n      frames.removeEventListener(\"click\", clickHandler)\n      doc.removeEventListener(\"click\", clickHandler)\n    }\n    cleanups.forEach((fn) => fn())\n  }\n}\n\nexport function trackInteractOutside(nodeOrFn: NodeOrFn, options: InteractOutsideOptions) {\n  const { defer } = options\n  const func = defer ? raf : (v: any) => v()\n  const cleanups: (VoidFunction | undefined)[] = []\n  cleanups.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn\n      cleanups.push(trackInteractOutsideImpl(node, options))\n    }),\n  )\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n", "export function getWindowFrames(win: Window) {\n  const frames = {\n    each(cb: (win: Window) => void) {\n      for (let i = 0; i < win.frames?.length; i += 1) {\n        const frame = win.frames[i]\n        if (frame) cb(frame)\n      }\n    },\n    addEventListener(event: string, listener: any, options?: any) {\n      frames.each((frame) => {\n        try {\n          frame.document.addEventListener(event, listener, options)\n        } catch {}\n      })\n      return () => {\n        try {\n          frames.removeEventListener(event, listener, options)\n        } catch {}\n      }\n    },\n    removeEventListener(event: string, listener: any, options?: any) {\n      frames.each((frame) => {\n        try {\n          frame.document.removeEventListener(event, listener, options)\n        } catch {}\n      })\n    },\n  }\n  return frames\n}\n", "import { contains, getEventTarget, isHTMLElement, raf } from \"@zag-js/dom-query\"\nimport {\n  trackInteractOutside,\n  type FocusOutsideEvent,\n  type InteractOutsideHandlers,\n  type PointerDownOutsideEvent,\n} from \"@zag-js/interact-outside\"\nimport { isFunction, warn, type MaybeFunction } from \"@zag-js/utils\"\nimport { trackEscapeKeydown } from \"./escape-keydown\"\nimport { layerStack, type Layer } from \"./layer-stack\"\nimport { assignPointerEventToLayers, clearPointerEvent, disablePointerEventsOutside } from \"./pointer-event-outside\"\n\ntype MaybeElement = HTMLElement | null\ntype Container = MaybeElement | Array<MaybeElement>\ntype NodeOrFn = MaybeFunction<MaybeElement>\n\nexport interface DismissableElementHandlers extends InteractOutsideHandlers {\n  /**\n   * Function called when the escape key is pressed\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void\n}\n\nexport interface PersistentElementOptions {\n  /**\n   * Returns the persistent elements that:\n   * - should not have pointer-events disabled\n   * - should not trigger the dismiss event\n   */\n  persistentElements?: Array<() => Element | null>\n}\n\nexport interface DismissableElementOptions extends DismissableElementHandlers, PersistentElementOptions {\n  /**\n   * Whether to log debug information\n   */\n  debug?: boolean\n  /**\n   * Whether to block pointer events outside the dismissable element\n   */\n  pointerBlocking?: boolean\n  /**\n   * Function called when the dismissable element is dismissed\n   */\n  onDismiss: VoidFunction\n  /**\n   * Exclude containers from the interact outside event\n   */\n  exclude?: MaybeFunction<Container>\n  /**\n   * Defer the interact outside event to the next frame\n   */\n  defer?: boolean\n}\n\nfunction trackDismissableElementImpl(node: MaybeElement, options: DismissableElementOptions) {\n  if (!node) {\n    warn(\"[@zag-js/dismissable] node is `null` or `undefined`\")\n    return\n  }\n\n  const { onDismiss, pointerBlocking, exclude: excludeContainers, debug } = options\n\n  const layer: Layer = { dismiss: onDismiss, node, pointerBlocking }\n\n  layerStack.add(layer)\n  assignPointerEventToLayers()\n\n  function onPointerDownOutside(event: PointerDownOutsideEvent) {\n    const target = getEventTarget(event.detail.originalEvent)\n    if (layerStack.isBelowPointerBlockingLayer(node!) || layerStack.isInBranch(target)) return\n    options.onPointerDownOutside?.(event)\n    options.onInteractOutside?.(event)\n    if (event.defaultPrevented) return\n    if (debug) {\n      console.log(\"onPointerDownOutside:\", event.detail.originalEvent)\n    }\n    onDismiss?.()\n  }\n\n  function onFocusOutside(event: FocusOutsideEvent) {\n    const target = getEventTarget(event.detail.originalEvent)\n    if (layerStack.isInBranch(target)) return\n    options.onFocusOutside?.(event)\n    options.onInteractOutside?.(event)\n    if (event.defaultPrevented) return\n    if (debug) {\n      console.log(\"onFocusOutside:\", event.detail.originalEvent)\n    }\n    onDismiss?.()\n  }\n\n  function onEscapeKeyDown(event: KeyboardEvent) {\n    if (!layerStack.isTopMost(node!)) return\n    options.onEscapeKeyDown?.(event)\n    if (!event.defaultPrevented && onDismiss) {\n      event.preventDefault()\n      onDismiss()\n    }\n  }\n\n  function exclude(target: Element) {\n    if (!node) return false\n    const containers = typeof excludeContainers === \"function\" ? excludeContainers() : excludeContainers\n    const _containers = Array.isArray(containers) ? containers : [containers]\n    const persistentElements = options.persistentElements?.map((fn) => fn()).filter(isHTMLElement)\n    if (persistentElements) _containers.push(...persistentElements)\n    return _containers.some((node) => contains(node, target)) || layerStack.isInNestedLayer(node, target)\n  }\n\n  const cleanups = [\n    pointerBlocking ? disablePointerEventsOutside(node, options.persistentElements) : undefined,\n    trackEscapeKeydown(node, onEscapeKeyDown),\n    trackInteractOutside(node, { exclude, onFocusOutside, onPointerDownOutside, defer: options.defer }),\n  ]\n\n  return () => {\n    layerStack.remove(node!)\n    // re-assign pointer event to remaining layers\n    assignPointerEventToLayers()\n    // remove pointer event from removed layer\n    clearPointerEvent(node!)\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n\nexport function trackDismissableElement(nodeOrFn: NodeOrFn, options: DismissableElementOptions) {\n  const { defer } = options\n  const func = defer ? raf : (v: any) => v()\n  const cleanups: (VoidFunction | undefined)[] = []\n  cleanups.push(\n    func(() => {\n      const node = isFunction(nodeOrFn) ? nodeOrFn() : nodeOrFn\n      cleanups.push(trackDismissableElementImpl(node, options))\n    }),\n  )\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n\nexport function trackDismissableBranch(nodeOrFn: NodeOrFn, options: { defer?: boolean } = {}) {\n  const { defer } = options\n  const func = defer ? raf : (v: any) => v()\n  const cleanups: (VoidFunction | undefined)[] = []\n\n  cleanups.push(\n    func(() => {\n      const node = isFunction(nodeOrFn) ? nodeOrFn() : nodeOrFn\n      if (!node) {\n        warn(\"[@zag-js/dismissable] branch node is `null` or `undefined`\")\n        return\n      }\n      layerStack.addBranch(node)\n      cleanups.push(() => {\n        layerStack.removeBranch(node)\n      })\n    }),\n  )\n\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n", "import { addDomEvent } from \"@zag-js/dom-event\"\nimport { getDocument } from \"@zag-js/dom-query\"\n\nexport function trackEscapeKeydown(node: HTMLElement, fn?: (event: KeyboardEvent) => void) {\n  const handleKeyDown = (event: KeyboardEvent) => {\n    if (event.key !== \"Escape\") return\n    if (event.isComposing) return\n    fn?.(event)\n  }\n\n  return addDomEvent(getDocument(node), \"keydown\", handleKeyDown, { capture: true })\n}\n", "import { contains } from \"@zag-js/dom-query\"\n\nexport interface Layer {\n  dismiss: VoidFunction\n  node: HTMLElement\n  pointerBlocking?: boolean\n}\n\nexport const layerStack = {\n  layers: [] as Layer[],\n  branches: [] as HTMLElement[],\n  count(): number {\n    return this.layers.length\n  },\n  pointerBlockingLayers(): Layer[] {\n    return this.layers.filter((layer) => layer.pointerBlocking)\n  },\n  topMostPointerBlockingLayer(): Layer | undefined {\n    return [...this.pointerBlockingLayers()].slice(-1)[0]\n  },\n  hasPointerBlockingLayer(): boolean {\n    return this.pointerBlockingLayers().length > 0\n  },\n  isBelowPointerBlockingLayer(node: HTMLElement) {\n    const index = this.indexOf(node)\n    const highestBlockingIndex = this.topMostPointerBlockingLayer()\n      ? this.indexOf(this.topMostPointerBlockingLayer()?.node)\n      : -1\n    return index < highestBlockingIndex\n  },\n  isTopMost(node: HTMLElement | null) {\n    const layer = this.layers[this.count() - 1]\n    return layer?.node === node\n  },\n  getNestedLayers(node: HTMLElement) {\n    return Array.from(this.layers).slice(this.indexOf(node) + 1)\n  },\n  isInNestedLayer(node: HTMLElement, target: HTMLElement | EventTarget | null) {\n    return this.getNestedLayers(node).some((layer) => contains(layer.node, target))\n  },\n  isInBranch(target: HTMLElement | EventTarget | null) {\n    return Array.from(this.branches).some((branch) => contains(branch, target))\n  },\n  add(layer: Layer) {\n    const num = this.layers.push(layer)\n    layer.node.style.setProperty(\"--layer-index\", `${num}`)\n  },\n  addBranch(node: HTMLElement) {\n    this.branches.push(node)\n  },\n  remove(node: HTMLElement) {\n    const index = this.indexOf(node)\n    if (index < 0) return\n\n    // dismiss nested layers\n    if (index < this.count() - 1) {\n      const _layers = this.getNestedLayers(node)\n      _layers.forEach((layer) => layer.dismiss())\n    }\n    // remove this layer\n    this.layers.splice(index, 1)\n    node.style.removeProperty(\"--layer-index\")\n  },\n  removeBranch(node: HTMLElement) {\n    const index = this.branches.indexOf(node)\n    if (index >= 0) this.branches.splice(index, 1)\n  },\n  indexOf(node: HTMLElement | undefined) {\n    return this.layers.findIndex((layer) => layer.node === node)\n  },\n  dismiss(node: HTMLElement) {\n    this.layers[this.indexOf(node)]?.dismiss()\n  },\n  clear() {\n    this.remove(this.layers[0].node)\n  },\n}\n", "import { getDocument, setStyle, waitForElements } from \"@zag-js/dom-query\"\nimport { layerStack } from \"./layer-stack\"\n\nlet originalBodyPointerEvents: string\n\nexport function assignPointerEventToLayers() {\n  layerStack.layers.forEach(({ node }) => {\n    node.style.pointerEvents = layerStack.isBelowPointerBlockingLayer(node) ? \"none\" : \"auto\"\n  })\n}\n\nexport function clearPointerEvent(node: HTMLElement) {\n  node.style.pointerEvents = \"\"\n}\n\nexport function disablePointerEventsOutside(node: HTMLElement, peristentElements?: Array<() => Element | null>) {\n  const doc = getDocument(node)\n\n  const cleanups: VoidFunction[] = []\n\n  if (layerStack.hasPointerBlockingLayer() && !doc.body.hasAttribute(\"data-inert\")) {\n    originalBodyPointerEvents = document.body.style.pointerEvents\n    queueMicrotask(() => {\n      doc.body.style.pointerEvents = \"none\"\n      doc.body.setAttribute(\"data-inert\", \"\")\n    })\n  }\n\n  if (peristentElements) {\n    const persistedCleanup = waitForElements(peristentElements, (el) => {\n      cleanups.push(setStyle(el, { pointerEvents: \"auto\" }))\n    })\n    cleanups.push(persistedCleanup)\n  }\n\n  return () => {\n    if (layerStack.hasPointerBlockingLayer()) return\n    queueMicrotask(() => {\n      doc.body.style.pointerEvents = originalBodyPointerEvents\n      doc.body.removeAttribute(\"data-inert\")\n      if (doc.body.style.length === 0) doc.body.removeAttribute(\"style\")\n    })\n    cleanups.forEach((fn) => fn())\n  }\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"color-picker\", [\n  \"root\",\n  \"label\",\n  \"control\",\n  \"trigger\",\n  \"positioner\",\n  \"content\",\n  \"area\",\n  \"areaThumb\",\n  \"areaBackground\",\n  \"channelSlider\",\n  \"channelSliderTrack\",\n  \"channelSliderThumb\",\n  \"channelInput\",\n  \"transparencyGrid\",\n  \"swatchGroup\",\n  \"swatchTrigger\",\n  \"swatchIndicator\",\n  \"swatch\",\n  \"eyeDropperTrigger\",\n  \"formatTrigger\",\n  \"formatSelect\",\n])\n\nexport const parts = anatomy.build()\n", "import { getColorAreaGradient, normalizeColor } from \"@zag-js/color-utils\"\nimport {\n  getEventKey,\n  getEventPoint,\n  getEventStep,\n  isLeftClick,\n  isModifierKey,\n  type EventKeyMap,\n} from \"@zag-js/dom-event\"\nimport { dataAttr, query, visuallyHiddenStyle } from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./color-picker.anatomy\"\nimport { dom } from \"./color-picker.dom\"\nimport type {\n  AreaProps,\n  ColorFormat,\n  MachineApi,\n  Send,\n  State,\n  SwatchTriggerProps,\n  SwatchTriggerState,\n} from \"./color-picker.types\"\nimport { getChannelDisplayColor } from \"./utils/get-channel-display-color\"\nimport { getChannelRange, getChannelValue } from \"./utils/get-channel-input-value\"\nimport { getSliderBackground } from \"./utils/get-slider-background\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const value = state.context.value\n  const areaValue = state.context.areaValue\n  const valueAsString = state.context.valueAsString\n\n  const disabled = state.context.isDisabled\n  const interactive = state.context.isInteractive\n\n  const dragging = state.hasTag(\"dragging\")\n  const open = state.hasTag(\"open\")\n  const focused = state.hasTag(\"focused\")\n\n  const getAreaChannels = (props: AreaProps) => {\n    const channels = areaValue.getChannels()\n    return {\n      xChannel: props.xChannel ?? channels[1],\n      yChannel: props.yChannel ?? channels[2],\n    }\n  }\n\n  const currentPlacement = state.context.currentPlacement\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: currentPlacement,\n  })\n\n  function getSwatchTriggerState(props: SwatchTriggerProps): SwatchTriggerState {\n    const color = normalizeColor(props.value).toFormat(state.context.format)\n    return {\n      value: color,\n      valueAsString: color.toString(\"hex\"),\n      checked: color.isEqual(value),\n      disabled: props.disabled || !interactive,\n    }\n  }\n\n  return {\n    dragging,\n    open,\n    valueAsString,\n    value,\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send({ type: nextOpen ? \"OPEN\" : \"CLOSE\" })\n    },\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value: normalizeColor(value), src: \"set-color\" })\n    },\n    getChannelValue(channel) {\n      return getChannelValue(value, channel)\n    },\n    setChannelValue(channel, channelValue) {\n      const color = value.withChannelValue(channel, channelValue)\n      send({ type: \"VALUE.SET\", value: color, src: \"set-channel\" })\n    },\n    format: state.context.format,\n    setFormat(format) {\n      const formatValue = value.toFormat(format)\n      send({ type: \"VALUE.SET\", value: formatValue, src: \"set-format\" })\n    },\n    alpha: value.getChannelValue(\"alpha\"),\n    setAlpha(alphaValue) {\n      const color = value.withChannelValue(\"alpha\", alphaValue)\n      send({ type: \"VALUE.SET\", value: color, src: \"set-alpha\" })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-readonly\": dataAttr(state.context.readOnly),\n        style: {\n          \"--value\": value.toString(\"css\"),\n        },\n      })\n    },\n\n    getLabelProps() {\n      return normalize.element({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        id: dom.getLabelId(state.context),\n        htmlFor: dom.getHiddenInputId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-readonly\": dataAttr(state.context.readOnly),\n        \"data-focus\": dataAttr(focused),\n        onClick(event) {\n          event.preventDefault()\n          const inputEl = query(dom.getControlEl(state.context), \"[data-channel=hex]\")\n          inputEl?.focus({ preventScroll: true })\n        },\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        id: dom.getControlId(state.context),\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-readonly\": dataAttr(state.context.readOnly),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-focus\": dataAttr(focused),\n      })\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        id: dom.getTriggerId(state.context),\n        dir: state.context.dir,\n        disabled: disabled,\n        \"aria-label\": `select color. current color is ${valueAsString}`,\n        \"aria-controls\": dom.getContentId(state.context),\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-readonly\": dataAttr(state.context.readOnly),\n        \"data-placement\": currentPlacement,\n        \"aria-expanded\": dataAttr(open),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-focus\": dataAttr(focused),\n        type: \"button\",\n        onClick() {\n          if (!interactive) return\n          send({ type: \"TRIGGER.CLICK\" })\n        },\n        onBlur() {\n          if (!interactive) return\n          send({ type: \"TRIGGER.BLUR\" })\n        },\n        style: {\n          position: \"relative\",\n        },\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        id: dom.getPositionerId(state.context),\n        dir: state.context.dir,\n        style: popperStyles.floating,\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        id: dom.getContentId(state.context),\n        dir: state.context.dir,\n        \"data-placement\": currentPlacement,\n        \"data-state\": open ? \"open\" : \"closed\",\n        hidden: !open,\n      })\n    },\n\n    getAreaProps(props = {}) {\n      const { xChannel, yChannel } = getAreaChannels(props)\n      const { areaStyles } = getColorAreaGradient(areaValue, {\n        xChannel,\n        yChannel,\n        dir: state.context.dir,\n      })\n\n      return normalize.element({\n        ...parts.area.attrs,\n        id: dom.getAreaId(state.context),\n        role: \"group\",\n        onPointerDown(event) {\n          if (!interactive) return\n          if (!isLeftClick(event)) return\n          if (isModifierKey(event)) return\n\n          const point = getEventPoint(event)\n          const channel = { xChannel, yChannel }\n\n          send({ type: \"AREA.POINTER_DOWN\", point, channel, id: \"area\" })\n          event.preventDefault()\n        },\n        style: {\n          position: \"relative\",\n          touchAction: \"none\",\n          forcedColorAdjust: \"none\",\n          ...areaStyles,\n        },\n      })\n    },\n\n    getAreaBackgroundProps(props = {}) {\n      const { xChannel, yChannel } = getAreaChannels(props)\n      const { areaGradientStyles } = getColorAreaGradient(areaValue, {\n        xChannel,\n        yChannel,\n        dir: state.context.dir,\n      })\n\n      return normalize.element({\n        ...parts.areaBackground.attrs,\n        id: dom.getAreaGradientId(state.context),\n        style: {\n          position: \"relative\",\n          touchAction: \"none\",\n          forcedColorAdjust: \"none\",\n          ...areaGradientStyles,\n        },\n      })\n    },\n\n    getAreaThumbProps(props = {}) {\n      const { xChannel, yChannel } = getAreaChannels(props)\n      const channel = { xChannel, yChannel }\n\n      const xPercent = areaValue.getChannelValuePercent(xChannel)\n      const yPercent = 1 - areaValue.getChannelValuePercent(yChannel)\n\n      const xValue = areaValue.getChannelValue(xChannel)\n      const yValue = areaValue.getChannelValue(yChannel)\n\n      return normalize.element({\n        ...parts.areaThumb.attrs,\n        id: dom.getAreaThumbId(state.context),\n        dir: state.context.dir,\n        tabIndex: disabled ? undefined : 0,\n        \"data-disabled\": dataAttr(disabled),\n        role: \"slider\",\n        \"aria-valuemin\": 0,\n        \"aria-valuemax\": 100,\n        \"aria-valuenow\": xValue,\n        \"aria-label\": `${xChannel} and ${yChannel}`,\n        \"aria-roledescription\": \"2d slider\",\n        \"aria-valuetext\": `${xChannel} ${xValue}, ${yChannel} ${yValue}`,\n        style: {\n          position: \"absolute\",\n          left: `${xPercent * 100}%`,\n          top: `${yPercent * 100}%`,\n          transform: \"translate(-50%, -50%)\",\n          touchAction: \"none\",\n          forcedColorAdjust: \"none\",\n          background: areaValue.withChannelValue(\"alpha\", 1).toString(\"css\"),\n        },\n        onFocus() {\n          if (!interactive) return\n          send({ type: \"AREA.FOCUS\", id: \"area\", channel })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n\n          const step = getEventStep(event)\n\n          const keyMap: EventKeyMap = {\n            ArrowUp() {\n              send({ type: \"AREA.ARROW_UP\", channel, step })\n            },\n            ArrowDown() {\n              send({ type: \"AREA.ARROW_DOWN\", channel, step })\n            },\n            ArrowLeft() {\n              send({ type: \"AREA.ARROW_LEFT\", channel, step })\n            },\n            ArrowRight() {\n              send({ type: \"AREA.ARROW_RIGHT\", channel, step })\n            },\n            PageUp() {\n              send({ type: \"AREA.PAGE_UP\", channel, step })\n            },\n            PageDown() {\n              send({ type: \"AREA.PAGE_DOWN\", channel, step })\n            },\n            Escape(event) {\n              event.stopPropagation()\n            },\n          }\n\n          const exec = keyMap[getEventKey(event, state.context)]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n          }\n        },\n      })\n    },\n\n    getTransparencyGridProps(props = {}) {\n      const { size = \"12px\" } = props\n      return normalize.element({\n        ...parts.transparencyGrid.attrs,\n        style: {\n          \"--size\": size,\n          width: \"100%\",\n          height: \"100%\",\n          position: \"absolute\",\n          backgroundColor: \"#fff\",\n          backgroundImage: \"conic-gradient(#eeeeee 0 25%, transparent 0 50%, #eeeeee 0 75%, transparent 0)\",\n          backgroundSize: \"var(--size) var(--size)\",\n          inset: \"0px\",\n          zIndex: \"auto\",\n          pointerEvents: \"none\",\n        },\n      })\n    },\n\n    getChannelSliderProps(props) {\n      const { orientation = \"horizontal\", channel } = props\n      return normalize.element({\n        ...parts.channelSlider.attrs,\n        \"data-channel\": channel,\n        \"data-orientation\": orientation,\n        role: \"presentation\",\n        onPointerDown(event) {\n          if (!interactive) return\n          if (!isLeftClick(event)) return\n          if (isModifierKey(event)) return\n\n          const point = getEventPoint(event)\n          send({ type: \"CHANNEL_SLIDER.POINTER_DOWN\", channel, point, id: channel, orientation })\n\n          event.preventDefault()\n        },\n        style: {\n          position: \"relative\",\n          touchAction: \"none\",\n        },\n      })\n    },\n\n    getChannelSliderTrackProps(props) {\n      const { orientation = \"horizontal\", channel } = props\n\n      return normalize.element({\n        ...parts.channelSliderTrack.attrs,\n        id: dom.getChannelSliderId(state.context, channel),\n        role: \"group\",\n        \"data-channel\": channel,\n        \"data-orientation\": orientation,\n        style: {\n          position: \"relative\",\n          forcedColorAdjust: \"none\",\n          backgroundImage: getSliderBackground({\n            orientation,\n            channel,\n            dir: state.context.dir,\n            value: areaValue,\n          }),\n        },\n      })\n    },\n\n    getChannelSliderThumbProps(props) {\n      const { orientation = \"horizontal\", channel } = props\n      const { minValue, maxValue, step: stepValue } = areaValue.getChannelRange(channel)\n      const channelValue = areaValue.getChannelValue(channel)\n\n      const offset = (channelValue - minValue) / (maxValue - minValue)\n\n      const placementStyles =\n        orientation === \"horizontal\"\n          ? { left: `${offset * 100}%`, top: \"50%\" }\n          : { top: `${offset * 100}%`, left: \"50%\" }\n\n      return normalize.element({\n        ...parts.channelSliderThumb.attrs,\n        id: dom.getChannelSliderThumbId(state.context, channel),\n        role: \"slider\",\n        \"aria-label\": channel,\n        tabIndex: disabled ? undefined : 0,\n        \"data-channel\": channel,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-orientation\": orientation,\n        \"aria-disabled\": dataAttr(disabled),\n        \"aria-orientation\": orientation,\n        \"aria-valuemax\": maxValue,\n        \"aria-valuemin\": minValue,\n        \"aria-valuenow\": channelValue,\n        \"aria-valuetext\": `${channel} ${channelValue}`,\n        style: {\n          forcedColorAdjust: \"none\",\n          position: \"absolute\",\n          background: getChannelDisplayColor(areaValue, channel).toString(\"css\"),\n          ...placementStyles,\n        },\n        onFocus() {\n          if (!interactive) return\n          send({ type: \"CHANNEL_SLIDER.FOCUS\", channel })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n\n          const step = getEventStep(event) * stepValue\n\n          const keyMap: EventKeyMap = {\n            ArrowUp() {\n              send({ type: \"CHANNEL_SLIDER.ARROW_UP\", channel, step })\n            },\n            ArrowDown() {\n              send({ type: \"CHANNEL_SLIDER.ARROW_DOWN\", channel, step })\n            },\n            ArrowLeft() {\n              send({ type: \"CHANNEL_SLIDER.ARROW_LEFT\", channel, step })\n            },\n            ArrowRight() {\n              send({ type: \"CHANNEL_SLIDER.ARROW_RIGHT\", channel, step })\n            },\n            PageUp() {\n              send({ type: \"CHANNEL_SLIDER.PAGE_UP\", channel })\n            },\n            PageDown() {\n              send({ type: \"CHANNEL_SLIDER.PAGE_DOWN\", channel })\n            },\n            Home() {\n              send({ type: \"CHANNEL_SLIDER.HOME\", channel })\n            },\n            End() {\n              send({ type: \"CHANNEL_SLIDER.END\", channel })\n            },\n            Escape(event) {\n              event.stopPropagation()\n            },\n          }\n\n          const exec = keyMap[getEventKey(event, state.context)]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n          }\n        },\n      })\n    },\n\n    getChannelInputProps(props) {\n      const { channel } = props\n      const isTextField = channel === \"hex\" || channel === \"css\"\n      const range = getChannelRange(value, channel)\n\n      return normalize.input({\n        ...parts.channelInput.attrs,\n        dir: state.context.dir,\n        type: isTextField ? \"text\" : \"number\",\n        \"data-channel\": channel,\n        \"aria-label\": channel,\n        spellCheck: false,\n        autoComplete: \"off\",\n        disabled: disabled,\n        \"data-disabled\": dataAttr(disabled),\n        readOnly: state.context.readOnly,\n        defaultValue: getChannelValue(value, channel),\n        min: range?.minValue,\n        max: range?.maxValue,\n        step: range?.step,\n        onBeforeInput(event) {\n          if (isTextField || !interactive) return\n          const value = event.currentTarget.value\n          if (value.match(/[^0-9.]/g)) {\n            event.preventDefault()\n          }\n        },\n        onFocus(event) {\n          if (!interactive) return\n          send({ type: \"CHANNEL_INPUT.FOCUS\", channel })\n          event.target.select()\n        },\n        onBlur(event) {\n          if (!interactive) return\n          const value = isTextField ? event.currentTarget.value : event.currentTarget.valueAsNumber\n          send({ type: \"CHANNEL_INPUT.BLUR\", channel, value, isTextField })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n          if (event.key === \"Enter\") {\n            const value = isTextField ? event.currentTarget.value : event.currentTarget.valueAsNumber\n            send({ type: \"CHANNEL_INPUT.CHANGE\", channel, value, isTextField })\n            event.preventDefault()\n          }\n        },\n        style: {\n          appearance: \"none\",\n          WebkitAppearance: \"none\",\n          MozAppearance: \"textfield\",\n        },\n      })\n    },\n\n    getHiddenInputProps() {\n      return normalize.input({\n        type: \"text\",\n        disabled: disabled,\n        name: state.context.name,\n        id: dom.getHiddenInputId(state.context),\n        style: visuallyHiddenStyle,\n        defaultValue: valueAsString,\n      })\n    },\n\n    getEyeDropperTriggerProps() {\n      return normalize.button({\n        ...parts.eyeDropperTrigger.attrs,\n        type: \"button\",\n        dir: state.context.dir,\n        disabled: disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"aria-label\": \"Pick a color from the screen\",\n        onClick() {\n          if (!interactive) return\n          send(\"EYEDROPPER.CLICK\")\n        },\n      })\n    },\n\n    getSwatchGroupProps() {\n      return normalize.element({\n        ...parts.swatchGroup.attrs,\n        role: \"group\",\n      })\n    },\n\n    getSwatchTriggerState,\n\n    getSwatchTriggerProps(props) {\n      const swatchState = getSwatchTriggerState(props)\n      return normalize.button({\n        ...parts.swatchTrigger.attrs,\n        disabled: swatchState.disabled,\n        dir: state.context.dir,\n        type: \"button\",\n        \"aria-label\": `select ${swatchState.valueAsString} as the color`,\n        \"data-state\": swatchState.checked ? \"checked\" : \"unchecked\",\n        \"data-value\": swatchState.valueAsString,\n        \"data-disabled\": dataAttr(swatchState.disabled),\n        onClick() {\n          if (swatchState.disabled) return\n          send({ type: \"SWATCH_TRIGGER.CLICK\", value: swatchState.value })\n        },\n        style: {\n          position: \"relative\",\n        },\n      })\n    },\n\n    getSwatchIndicatorProps(props) {\n      const swatchState = getSwatchTriggerState(props)\n      return normalize.element({\n        ...parts.swatchIndicator.attrs,\n        dir: state.context.dir,\n        hidden: !swatchState.checked,\n      })\n    },\n\n    getSwatchProps(props) {\n      const { respectAlpha = true } = props\n      const swatchState = getSwatchTriggerState(props)\n      return normalize.element({\n        ...parts.swatch.attrs,\n        dir: state.context.dir,\n        \"data-state\": swatchState.checked ? \"checked\" : \"unchecked\",\n        \"data-value\": swatchState.valueAsString,\n        style: {\n          position: \"relative\",\n          background: swatchState.value.toString(respectAlpha ? \"css\" : \"hex\"),\n        },\n      })\n    },\n\n    getFormatTriggerProps() {\n      return normalize.button({\n        ...parts.formatTrigger.attrs,\n        dir: state.context.dir,\n        type: \"button\",\n        \"aria-label\": `change color format to ${getNextFormat(state.context.format)}`,\n        onClick(event) {\n          if (event.currentTarget.disabled) return\n          const nextFormat = getNextFormat(state.context.format)\n          send({ type: \"FORMAT.SET\", format: nextFormat, src: \"format-trigger\" })\n        },\n      })\n    },\n\n    getFormatSelectProps() {\n      return normalize.select({\n        ...parts.formatSelect.attrs,\n        \"aria-label\": \"change color format\",\n        dir: state.context.dir,\n        defaultValue: state.context.format,\n        disabled: disabled,\n        onChange(event) {\n          const format = assertFormat(event.currentTarget.value)\n          send({ type: \"FORMAT.SET\", format, src: \"format-select\" })\n        },\n      })\n    },\n  }\n}\n\nconst formats: ColorFormat[] = [\"hsba\", \"hsla\", \"rgba\"]\nconst formatRegex = new RegExp(`^(${formats.join(\"|\")})$`)\n\nfunction getNextFormat(format: ColorFormat) {\n  const index = formats.indexOf(format)\n  return formats[index + 1] ?? formats[0]\n}\n\nfunction assertFormat(format: string) {\n  if (formatRegex.test(format)) return format as ColorFormat\n  throw new Error(`Unsupported color format: ${format}`)\n}\n", "import type { ColorChannel } from \"@zag-js/color-utils\"\nimport { getRelativePoint, type Point } from \"@zag-js/dom-event\"\nimport { createScope, queryAll } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./color-picker.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `color-picker:${ctx.id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `color-picker:${ctx.id}:label`,\n  getHiddenInputId: (ctx: Ctx) => `color-picker:${ctx.id}:hidden-input`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `color-picker:${ctx.id}:control`,\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `color-picker:${ctx.id}:trigger`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `color-picker:${ctx.id}:content`,\n  getPositionerId: (ctx: Ctx) => `color-picker:${ctx.id}:positioner`,\n  getFormatSelectId: (ctx: Ctx) => `color-picker:${ctx.id}:format-select`,\n\n  getAreaId: (ctx: Ctx) => ctx.ids?.area ?? `color-picker:${ctx.id}:area`,\n  getAreaGradientId: (ctx: Ctx) => ctx.ids?.areaGradient ?? `color-picker:${ctx.id}:area-gradient`,\n  getAreaThumbId: (ctx: Ctx) => ctx.ids?.areaThumb ?? `color-picker:${ctx.id}:area-thumb`,\n\n  getChannelSliderId: (ctx: Ctx, channel: ColorChannel) =>\n    ctx.ids?.channelSliderTrack?.(channel) ?? `color-picker:${ctx.id}:slider-track:${channel}`,\n  getChannelSliderThumbId: (ctx: Ctx, channel: ColorChannel) =>\n    ctx.ids?.channelSliderThumb?.(channel) ?? `color-picker:${ctx.id}:slider-thumb:${channel}`,\n\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getAreaThumbEl: (ctx: Ctx) => dom.getById(ctx, dom.getAreaThumbId(ctx)),\n  getChannelSliderThumbEl: (ctx: Ctx, channel: ColorChannel) =>\n    dom.getById(ctx, dom.getChannelSliderThumbId(ctx, channel)),\n  getChannelInputEl: (ctx: Ctx, channel: string): HTMLInputElement[] => {\n    return [\n      ...queryAll<HTMLInputElement>(dom.getContentEl(ctx), `input[data-channel=\"${channel}\"]`),\n      ...queryAll<HTMLInputElement>(dom.getControlEl(ctx), `input[data-channel=\"${channel}\"]`),\n    ]\n  },\n  getFormatSelectEl: (ctx: Ctx) => dom.getById<HTMLSelectElement>(ctx, dom.getFormatSelectId(ctx)),\n\n  getHiddenInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getHiddenInputId(ctx)),\n  getAreaEl: (ctx: Ctx) => dom.getById(ctx, dom.getAreaId(ctx)),\n  getAreaValueFromPoint(ctx: Ctx, point: Point) {\n    const areaEl = dom.getAreaEl(ctx)\n    if (!areaEl) return\n    const { percent } = getRelativePoint(point, areaEl)\n    return percent\n  },\n\n  getControlEl: (ctx: Ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getChannelSliderTrackEl: (ctx: Ctx, channel: ColorChannel) => {\n    return dom.getById(ctx, dom.getChannelSliderId(ctx, channel))\n  },\n  getChannelSliderValueFromPoint(ctx: Ctx, point: Point, channel: ColorChannel) {\n    const trackEl = dom.getChannelSliderTrackEl(ctx, channel)\n    if (!trackEl) return\n    const { percent } = getRelativePoint(point, trackEl)\n    return percent\n  },\n  getChannelInputEls: (ctx: Ctx) => {\n    return [\n      ...queryAll<HTMLInputElement>(dom.getContentEl(ctx), \"input[data-channel]\"),\n      ...queryAll<HTMLInputElement>(dom.getControlEl(ctx), \"input[data-channel]\"),\n    ]\n  },\n})\n", "import { parseColor, type Color, type ColorChannel } from \"@zag-js/color-utils\"\n\nexport function getChannelDisplayColor(color: Color, channel: ColorChannel) {\n  switch (channel) {\n    case \"hue\":\n      return parseColor(`hsl(${color.getChannelValue(\"hue\")}, 100%, 50%)`)\n    case \"lightness\":\n    case \"brightness\":\n    case \"saturation\":\n    case \"red\":\n    case \"green\":\n    case \"blue\":\n      return color.withChannelValue(\"alpha\", 1)\n    case \"alpha\": {\n      return color\n    }\n    default:\n      throw new Error(\"Unknown color channel: \" + channel)\n  }\n}\n", "import { parseColor, type Color, type ColorChannelRange } from \"@zag-js/color-utils\"\nimport type { ExtendedColorChannel } from \"../color-picker.types\"\n\nexport function getChannelValue(color: Color, channel: ExtendedColorChannel | null | undefined): string {\n  if (channel == null) return \"\"\n\n  if (channel === \"hex\") {\n    return color.toString(\"hex\")\n  }\n\n  if (channel === \"css\") {\n    return color.toString(\"css\")\n  }\n\n  if (channel in color) {\n    return color.getChannelValue(channel).toString()\n  }\n\n  const isHSL = color.getFormat() === \"hsla\"\n\n  switch (channel) {\n    case \"hue\":\n      return isHSL\n        ? color.toFormat(\"hsla\").getChannelValue(\"hue\").toString()\n        : color.toFormat(\"hsba\").getChannelValue(\"hue\").toString()\n\n    case \"saturation\":\n      return isHSL\n        ? color.toFormat(\"hsla\").getChannelValue(\"saturation\").toString()\n        : color.toFormat(\"hsba\").getChannelValue(\"saturation\").toString()\n\n    case \"lightness\":\n      return color.toFormat(\"hsla\").getChannelValue(\"lightness\").toString()\n\n    case \"brightness\":\n      return color.toFormat(\"hsba\").getChannelValue(\"brightness\").toString()\n\n    case \"red\":\n    case \"green\":\n    case \"blue\":\n      return color.toFormat(\"rgba\").getChannelValue(channel).toString()\n\n    default:\n      return color.getChannelValue(channel).toString()\n  }\n}\n\nexport function getChannelRange(color: Color, channel: ExtendedColorChannel): ColorChannelRange | undefined {\n  switch (channel) {\n    case \"hex\":\n      const minColor = parseColor(\"#000000\")\n      const maxColor = parseColor(\"#FFFFFF\")\n      return {\n        minValue: minColor.toHexInt(),\n        maxValue: maxColor.toHexInt(),\n        pageSize: 10,\n        step: 1,\n      }\n\n    case \"css\":\n      return undefined\n\n    case \"hue\":\n    case \"saturation\":\n    case \"lightness\":\n      return color.toFormat(\"hsla\").getChannelRange(channel)\n\n    case \"brightness\":\n      return color.toFormat(\"hsba\").getChannelRange(channel)\n\n    case \"red\":\n    case \"green\":\n    case \"blue\":\n      return color.toFormat(\"rgba\").getChannelRange(channel)\n\n    default:\n      return color.getChannelRange(channel)\n  }\n}\n", "import type { ChannelProps, Color, MachineContext } from \"../color-picker.types\"\n\nfunction getSliderBackgroundDirection(orientation: \"vertical\" | \"horizontal\", dir: \"ltr\" | \"rtl\") {\n  if (orientation === \"vertical\") {\n    return \"top\"\n  } else if (dir === \"ltr\") {\n    return \"right\"\n  } else {\n    return \"left\"\n  }\n}\n\ninterface SliderBackgroundProps extends Required<ChannelProps> {\n  value: Color\n  dir: MachineContext[\"dir\"]\n}\n\nexport const getSliderBackground = (props: SliderBackgroundProps) => {\n  const { channel, value, dir } = props\n  const bgDirection = getSliderBackgroundDirection(props.orientation, dir!)\n  const { minValue, maxValue } = value.getChannelRange(channel)\n\n  switch (channel) {\n    case \"hue\":\n      return `linear-gradient(to ${bgDirection}, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)`\n    case \"lightness\": {\n      let start = value.withChannelValue(channel, minValue).toString(\"css\")\n      let middle = value.withChannelValue(channel, (maxValue - minValue) / 2).toString(\"css\")\n      let end = value.withChannelValue(channel, maxValue).toString(\"css\")\n      return `linear-gradient(to ${bgDirection}, ${start}, ${middle}, ${end})`\n    }\n    case \"saturation\":\n    case \"brightness\":\n    case \"red\":\n    case \"green\":\n    case \"blue\":\n    case \"alpha\": {\n      let start = value.withChannelValue(channel, minValue).toString(\"css\")\n      let end = value.withChannelValue(channel, maxValue).toString(\"css\")\n      return `linear-gradient(to ${bgDirection}, ${start}, ${end})`\n    }\n    default:\n      throw new Error(\"Unknown color channel: \" + channel)\n  }\n}\n", "import { parseColor, type Color } from \"@zag-js/color-utils\"\nimport { createMachine, guards } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { trackPointerMove } from \"@zag-js/dom-event\"\nimport { getInitialFocus, raf } from \"@zag-js/dom-query\"\nimport { dispatchInputValueEvent, trackFormControl } from \"@zag-js/form-utils\"\nimport { getPlacement } from \"@zag-js/popper\"\nimport { disableTextSelection } from \"@zag-js/text-selection\"\nimport { compact, tryCatch } from \"@zag-js/utils\"\nimport { dom } from \"./color-picker.dom\"\nimport { parse } from \"./color-picker.parse\"\nimport type {\n  ColorFormat,\n  ColorType,\n  ExtendedColorChannel,\n  MachineContext,\n  MachineState,\n  UserDefinedContext,\n} from \"./color-picker.types\"\nimport { getChannelValue } from \"./utils/get-channel-input-value\"\n\nconst { and } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"color-picker\",\n      initial: ctx.open ? \"open\" : \"idle\",\n      context: {\n        dir: \"ltr\",\n        value: parse(\"#000000\"),\n        format: \"rgba\",\n        disabled: false,\n        closeOnSelect: false,\n        ...ctx,\n        activeId: null,\n        activeChannel: null,\n        activeOrientation: null,\n        fieldsetDisabled: false,\n        restoreFocus: true,\n        positioning: {\n          ...ctx.positioning,\n          placement: \"bottom\",\n        },\n      },\n\n      computed: {\n        isRtl: (ctx) => ctx.dir === \"rtl\",\n        isDisabled: (ctx) => !!ctx.disabled || ctx.fieldsetDisabled,\n        isInteractive: (ctx) => !(ctx.isDisabled || ctx.readOnly),\n        valueAsString: (ctx) => ctx.value.toString(ctx.format),\n        areaValue: (ctx) => {\n          const format = ctx.format.startsWith(\"hsl\") ? \"hsla\" : \"hsba\"\n          return ctx.value.toFormat(format)\n        },\n      },\n\n      activities: [\"trackFormControl\"],\n\n      watch: {\n        value: [\"syncInputElements\"],\n        format: [\"syncFormatSelectElement\"],\n        open: [\"toggleVisibility\"],\n      },\n\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setValue\"],\n        },\n        \"FORMAT.SET\": {\n          actions: [\"setFormat\"],\n        },\n        \"CHANNEL_INPUT.CHANGE\": {\n          actions: [\"setChannelColorFromInput\"],\n        },\n        \"EYEDROPPER.CLICK\": {\n          actions: [\"openEyeDropper\"],\n        },\n      },\n\n      states: {\n        idle: {\n          tags: [\"closed\"],\n          on: {\n            \"CONTROLLED.OPEN\": {\n              target: \"open\",\n              actions: [\"setInitialFocus\"],\n            },\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"setInitialFocus\"],\n              },\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"setInitialFocus\"],\n              },\n            ],\n            \"CHANNEL_INPUT.FOCUS\": {\n              target: \"focused\",\n              actions: [\"setActiveChannel\"],\n            },\n          },\n        },\n\n        focused: {\n          tags: [\"closed\", \"focused\"],\n          on: {\n            \"CONTROLLED.OPEN\": {\n              target: \"open\",\n              actions: [\"setInitialFocus\"],\n            },\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"setInitialFocus\"],\n              },\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"setInitialFocus\"],\n              },\n            ],\n            \"CHANNEL_INPUT.FOCUS\": {\n              actions: [\"setActiveChannel\"],\n            },\n            \"CHANNEL_INPUT.BLUR\": {\n              target: \"idle\",\n              actions: [\"setChannelColorFromInput\"],\n            },\n            \"TRIGGER.BLUR\": {\n              target: \"idle\",\n            },\n          },\n        },\n\n        open: {\n          tags: [\"open\"],\n          activities: [\"trackPositioning\", \"trackDismissableElement\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"setReturnFocus\"],\n              },\n              {\n                target: \"idle\",\n              },\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            \"AREA.POINTER_DOWN\": {\n              target: \"open:dragging\",\n              actions: [\"setActiveChannel\", \"setAreaColorFromPoint\", \"focusAreaThumb\"],\n            },\n            \"AREA.FOCUS\": {\n              actions: [\"setActiveChannel\"],\n            },\n            \"CHANNEL_SLIDER.POINTER_DOWN\": {\n              target: \"open:dragging\",\n              actions: [\"setActiveChannel\", \"setChannelColorFromPoint\", \"focusChannelThumb\"],\n            },\n            \"CHANNEL_SLIDER.FOCUS\": {\n              actions: [\"setActiveChannel\"],\n            },\n            \"AREA.ARROW_LEFT\": {\n              actions: [\"decrementXChannel\"],\n            },\n            \"AREA.ARROW_RIGHT\": {\n              actions: [\"incrementXChannel\"],\n            },\n            \"AREA.ARROW_UP\": {\n              actions: [\"incrementYChannel\"],\n            },\n            \"AREA.ARROW_DOWN\": {\n              actions: [\"decrementYChannel\"],\n            },\n            \"AREA.PAGE_UP\": {\n              actions: [\"incrementXChannel\"],\n            },\n            \"AREA.PAGE_DOWN\": {\n              actions: [\"decrementXChannel\"],\n            },\n            \"CHANNEL_SLIDER.ARROW_LEFT\": {\n              actions: [\"decrementChannel\"],\n            },\n            \"CHANNEL_SLIDER.ARROW_RIGHT\": {\n              actions: [\"incrementChannel\"],\n            },\n            \"CHANNEL_SLIDER.ARROW_UP\": {\n              actions: [\"incrementChannel\"],\n            },\n            \"CHANNEL_SLIDER.ARROW_DOWN\": {\n              actions: [\"decrementChannel\"],\n            },\n            \"CHANNEL_SLIDER.PAGE_UP\": {\n              actions: [\"incrementChannel\"],\n            },\n            \"CHANNEL_SLIDER.PAGE_DOWN\": {\n              actions: [\"decrementChannel\"],\n            },\n            \"CHANNEL_SLIDER.HOME\": {\n              actions: [\"setChannelToMin\"],\n            },\n            \"CHANNEL_SLIDER.END\": {\n              actions: [\"setChannelToMax\"],\n            },\n            \"CHANNEL_INPUT.BLUR\": {\n              actions: [\"setChannelColorFromInput\"],\n            },\n            INTERACT_OUTSIDE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"setReturnFocus\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            \"SWATCH_TRIGGER.CLICK\": [\n              {\n                guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n                actions: [\"setValue\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"setValue\", \"invokeOnClose\", \"setReturnFocus\"],\n              },\n              {\n                actions: [\"setValue\"],\n              },\n            ],\n          },\n        },\n\n        \"open:dragging\": {\n          tags: [\"open\"],\n          exit: [\"clearActiveChannel\"],\n          activities: [\"trackPointerMove\", \"disableTextSelection\", \"trackPositioning\", \"trackDismissableElement\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"setReturnFocus\"],\n              },\n              {\n                target: \"idle\",\n              },\n            ],\n            \"AREA.POINTER_MOVE\": {\n              actions: [\"setAreaColorFromPoint\", \"focusAreaThumb\"],\n            },\n            \"AREA.POINTER_UP\": {\n              target: \"open\",\n              actions: [\"invokeOnChangeEnd\"],\n            },\n            \"CHANNEL_SLIDER.POINTER_MOVE\": {\n              actions: [\"setChannelColorFromPoint\", \"focusChannelThumb\"],\n            },\n            \"CHANNEL_SLIDER.POINTER_UP\": {\n              target: \"open\",\n              actions: [\"invokeOnChangeEnd\"],\n            },\n            INTERACT_OUTSIDE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"setReturnFocus\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        closeOnSelect: (ctx) => !!ctx.closeOnSelect,\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n        shouldRestoreFocus: (ctx) => !!ctx.restoreFocus,\n      },\n      activities: {\n        trackPositioning(ctx) {\n          ctx.currentPlacement = ctx.positioning.placement\n          const anchorEl = dom.getTriggerEl(ctx)\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(anchorEl, getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        trackDismissableElement(ctx, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(getContentEl, {\n            exclude: dom.getTriggerEl(ctx),\n            defer: true,\n            onInteractOutside(event) {\n              ctx.onInteractOutside?.(event)\n              if (event.defaultPrevented) return\n              ctx.restoreFocus = !(event.detail.focusable || event.detail.contextmenu)\n            },\n            onPointerDownOutside: ctx.onPointerDownOutside,\n            onFocusOutside: ctx.onFocusOutside,\n            onDismiss() {\n              send({ type: \"INTERACT_OUTSIDE\" })\n            },\n          })\n        },\n        trackFormControl(ctx, _evt, { send, initialContext }) {\n          const inputEl = dom.getHiddenInputEl(ctx)\n          return trackFormControl(inputEl, {\n            onFieldsetDisabledChange(disabled) {\n              ctx.fieldsetDisabled = disabled\n            },\n            onFormReset() {\n              send({ type: \"VALUE.SET\", value: initialContext.value, src: \"form.reset\" })\n            },\n          })\n        },\n        trackPointerMove(ctx, _evt, { send }) {\n          return trackPointerMove(dom.getDoc(ctx), {\n            onPointerMove({ point }) {\n              const type = ctx.activeId === \"area\" ? \"AREA.POINTER_MOVE\" : \"CHANNEL_SLIDER.POINTER_MOVE\"\n              send({ type, point })\n            },\n            onPointerUp() {\n              const type = ctx.activeId === \"area\" ? \"AREA.POINTER_UP\" : \"CHANNEL_SLIDER.POINTER_UP\"\n              send({ type })\n            },\n          })\n        },\n        disableTextSelection(ctx) {\n          return disableTextSelection({ doc: dom.getDoc(ctx), target: dom.getContentEl(ctx) })\n        },\n      },\n      actions: {\n        openEyeDropper(ctx) {\n          const isSupported = \"EyeDropper\" in dom.getWin(ctx)\n          if (!isSupported) return\n          const win = dom.getWin(ctx)\n          const picker = new win.EyeDropper()\n          picker\n            .open()\n            .then(({ sRGBHex }) => {\n              const format = ctx.value.getFormat()\n              const color = parseColor(sRGBHex).toFormat(format) as Color\n              set.value(ctx, color)\n              ctx.onValueChangeEnd?.({ value: ctx.value, valueAsString: ctx.valueAsString })\n            })\n            .catch(() => void 0)\n        },\n        setActiveChannel(ctx, evt) {\n          ctx.activeId = evt.id\n          if (evt.channel) ctx.activeChannel = evt.channel\n          if (evt.orientation) ctx.activeOrientation = evt.orientation\n        },\n        clearActiveChannel(ctx) {\n          ctx.activeChannel = null\n          ctx.activeId = null\n          ctx.activeOrientation = null\n        },\n        setAreaColorFromPoint(ctx, evt) {\n          const { xChannel, yChannel } = evt.channel || ctx.activeChannel\n\n          const percent = dom.getAreaValueFromPoint(ctx, evt.point)\n          if (!percent) return\n\n          const xValue = ctx.areaValue.getChannelPercentValue(xChannel, percent.x)\n          const yValue = ctx.areaValue.getChannelPercentValue(yChannel, 1 - percent.y)\n\n          const color = ctx.areaValue.withChannelValue(xChannel, xValue).withChannelValue(yChannel, yValue)\n          set.value(ctx, color)\n        },\n        setChannelColorFromPoint(ctx, evt) {\n          const channel = evt.channel || ctx.activeId\n\n          const percent = dom.getChannelSliderValueFromPoint(ctx, evt.point, channel)\n          if (!percent) return\n\n          const orientation = ctx.activeOrientation || \"horizontal\"\n          const channelPercent = orientation === \"horizontal\" ? percent.x : percent.y\n\n          const value = ctx.areaValue.getChannelPercentValue(channel, channelPercent)\n          const color = ctx.areaValue.withChannelValue(channel, value)\n          set.value(ctx, color)\n        },\n        setValue(ctx, evt) {\n          set.value(ctx, evt.value)\n        },\n        setFormat(ctx, evt) {\n          set.format(ctx, evt.format)\n        },\n        syncInputElements(ctx) {\n          sync.inputs(ctx)\n        },\n        invokeOnChangeEnd(ctx) {\n          invoke.changeEnd(ctx)\n        },\n        setChannelColorFromInput(ctx, evt) {\n          const { channel, isTextField, value } = evt\n          const currentAlpha = ctx.value.getChannelValue(\"alpha\")\n\n          // handle other text channels\n          let color: Color\n\n          // handle alpha channel\n          if (channel === \"alpha\") {\n            //\n            let valueAsNumber = parseFloat(value)\n            valueAsNumber = Number.isNaN(valueAsNumber) ? currentAlpha : valueAsNumber\n            color = ctx.value.withChannelValue(\"alpha\", valueAsNumber)\n            //\n          } else if (isTextField) {\n            //\n            color = tryCatch(\n              () => parse(value).withChannelValue(\"alpha\", currentAlpha),\n              () => ctx.value,\n            )\n            //\n          } else {\n            //\n            const current = ctx.value.toFormat(ctx.format)\n            const valueAsNumber = Number.isNaN(value) ? current.getChannelValue(channel) : value\n            color = current.withChannelValue(channel, valueAsNumber)\n            //\n          }\n\n          // sync channel input value immediately (in event user types native css color, we need to convert it to the current channel format)\n          sync.inputs(ctx, color)\n\n          // set new color\n          set.value(ctx, color)\n        },\n        incrementChannel(ctx, evt) {\n          const color = ctx.value.incrementChannel(evt.channel, evt.step)\n          set.value(ctx, color)\n        },\n        decrementChannel(ctx, evt) {\n          const color = ctx.value.decrementChannel(evt.channel, evt.step)\n          set.value(ctx, color)\n        },\n        incrementXChannel(ctx, evt) {\n          const { xChannel } = evt.channel\n          const color = ctx.areaValue.incrementChannel(xChannel, evt.step)\n          set.value(ctx, color)\n        },\n        decrementXChannel(ctx, evt) {\n          const { xChannel } = evt.channel\n          const color = ctx.areaValue.decrementChannel(xChannel, evt.step)\n          set.value(ctx, color)\n        },\n        incrementYChannel(ctx, evt) {\n          const { yChannel } = evt.channel\n          const color = ctx.areaValue.incrementChannel(yChannel, evt.step)\n          set.value(ctx, color)\n        },\n        decrementYChannel(ctx, evt) {\n          const { yChannel } = evt.channel\n          const color = ctx.areaValue.decrementChannel(yChannel, evt.step)\n          set.value(ctx, color)\n        },\n        setChannelToMax(ctx, evt) {\n          const range = ctx.value.getChannelRange(evt.channel)\n          const color = ctx.value.withChannelValue(evt.channel, range.maxValue)\n          set.value(ctx, color)\n        },\n        setChannelToMin(ctx, evt) {\n          const range = ctx.value.getChannelRange(evt.channel)\n          const color = ctx.value.withChannelValue(evt.channel, range.minValue)\n          set.value(ctx, color)\n        },\n        focusAreaThumb(ctx) {\n          raf(() => {\n            dom.getAreaThumbEl(ctx)?.focus({ preventScroll: true })\n          })\n        },\n        focusChannelThumb(ctx, evt) {\n          raf(() => {\n            dom.getChannelSliderThumbEl(ctx, evt.channel)?.focus({ preventScroll: true })\n          })\n        },\n        setInitialFocus(ctx) {\n          raf(() => {\n            const element = getInitialFocus({\n              root: dom.getContentEl(ctx),\n              getInitialEl: ctx.initialFocusEl,\n            })\n            element?.focus({ preventScroll: true })\n          })\n        },\n        setReturnFocus(ctx) {\n          raf(() => {\n            dom.getTriggerEl(ctx)?.focus({ preventScroll: true })\n          })\n        },\n        syncFormatSelectElement(ctx) {\n          sync.formatSelect(ctx)\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n      },\n      compareFns: {\n        value: (a, b) => a.isEqual(b),\n      },\n    },\n  )\n}\n\nconst sync = {\n  // sync channel inputs\n  inputs(ctx: MachineContext, color?: Color) {\n    const channelInputs = dom.getChannelInputEls(ctx)\n    raf(() => {\n      channelInputs.forEach((inputEl) => {\n        const channel = inputEl.dataset.channel as ExtendedColorChannel | null\n        dom.setValue(inputEl, getChannelValue(color || ctx.value, channel))\n      })\n    })\n  },\n  // sync format select\n  formatSelect(ctx: MachineContext) {\n    const selectEl = dom.getFormatSelectEl(ctx)\n    raf(() => {\n      dom.setValue(selectEl, ctx.format)\n    })\n  },\n}\n\nconst invoke = {\n  changeEnd(ctx: MachineContext) {\n    const value = ctx.value.toFormat(ctx.format)\n    ctx.onValueChangeEnd?.({\n      value,\n      valueAsString: ctx.valueAsString,\n    })\n  },\n  change(ctx: MachineContext) {\n    const value = ctx.value.toFormat(ctx.format)\n    ctx.onValueChange?.({\n      value,\n      valueAsString: ctx.valueAsString,\n    })\n\n    dispatchInputValueEvent(dom.getHiddenInputEl(ctx), { value: ctx.valueAsString })\n  },\n  formatChange(ctx: MachineContext) {\n    ctx.onFormatChange?.({ format: ctx.format })\n  },\n}\n\nconst set = {\n  value(ctx: MachineContext, color: Color | ColorType | undefined) {\n    if (!color || ctx.value.isEqual(color)) return\n    ctx.value = color\n    invoke.change(ctx)\n  },\n  format(ctx: MachineContext, format: ColorFormat) {\n    if (ctx.format === format) return\n    ctx.format = format\n    invoke.formatChange(ctx)\n  },\n}\n", "import { parseColor, type Color } from \"@zag-js/color-utils\"\n\nexport const parse = (colorString: string): Color => {\n  return parseColor(colorString)\n}\n", "import { anatomy as anatomy$1 } from '@zag-js/color-picker';\n\nconst anatomy = anatomy$1.extendWith(\"valueText\", \"view\");\n\nexport { anatomy };\n", "export function hash(str: string) {\n  let i\n  let l\n  let hval = 2166136261\n\n  for (i = 0, l = str.length; i < l; i++) {\n    hval ^= str.charCodeAt(i)\n    hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24)\n  }\n  return `00000${(hval >>> 0).toString(36)}`.slice(-6)\n}\n", "import { hash } from \"./hash\"\nimport type { CollectionItem, CollectionNode, CollectionOptions, CollectionSearchOptions } from \"./types\"\n\nconst isObject = (v: any): v is Record<string, any> => typeof v === \"object\" && v !== null && !Array.isArray(v)\n\nconst hasKey = <T>(obj: T, key: string): obj is T & Record<string, any> =>\n  Object.prototype.hasOwnProperty.call(obj, key)\n\nconst fallback = {\n  itemToValue(item: any) {\n    if (typeof item === \"string\") return item\n    if (isObject(item) && hasKey(item, \"value\")) return item.value\n    return \"\"\n  },\n  itemToString(item: any) {\n    if (typeof item === \"string\") return item\n    if (isObject(item) && hasKey(item, \"label\")) return item.label\n    return fallback.itemToValue(item)\n  },\n  itemToDisabled(item: any) {\n    if (isObject(item) && hasKey(item, \"disabled\")) return !!item.disabled\n    return false\n  },\n}\n\nexport class Collection<T extends CollectionItem = CollectionItem> {\n  /**\n   * The collection nodes\n   */\n  private nodes = new Map<string, CollectionNode<T>>()\n\n  /**\n   * The set of disabled values\n   */\n  private disabledValues = new Set<string>()\n\n  /**\n   * The first value in the collection (without accounting for disabled items)\n   */\n  private _firstValue: string | null = null\n\n  /**\n   * The last value in the collection (without accounting for disabled items)\n   */\n  private _lastValue: string | null = null\n\n  private hash: string = \"\"\n\n  constructor(private options: CollectionOptions<T>) {\n    this.iterate()\n  }\n\n  isEqual = (other: Collection<T>) => {\n    return this.hash === other.hash\n  }\n\n  /**\n   * Iterate over the collection items and create a map of nodes\n   */\n  private iterate = (): Collection<T> => {\n    const { items } = this.options\n\n    const hashSet = new Set<string>()\n\n    for (let i = 0; i < items.length; i++) {\n      const item = items[i]\n\n      const value = this.itemToValue(item)\n      const label = this.itemToString(item)\n      const disabled = this.itemToDisabled(item)\n\n      hashSet.add(JSON.stringify({ value, label, disabled }))\n\n      const node: CollectionNode<T> = {\n        // freeze item to prevent mutation by frameworks like Solid.js\n        item: Object.freeze(item),\n        index: i,\n        label,\n        value: value,\n        previousValue: this.itemToValue(items[i - 1]) ?? null,\n        nextValue: this.itemToValue(items[i + 1]) ?? null,\n      }\n\n      this.nodes.set(value, node)\n\n      if (disabled) {\n        this.disabledValues.add(value)\n      }\n\n      if (i === 0) {\n        this._firstValue = value\n      }\n\n      if (i === items.length - 1) {\n        this._lastValue = value\n      }\n    }\n\n    this.hash = hash(Array.from(hashSet).join(\"\"))\n\n    return this\n  }\n\n  /**\n   * Function to update the collection items\n   */\n  setItems = (items: T[] | readonly T[]) => {\n    this.options.items = items\n    return this.iterate()\n  }\n\n  /**\n   * Get the item based on its value\n   */\n  item = (value: string | null): T | null => {\n    if (value === null) return null\n    return this.nodes.get(value)?.item ?? null\n  }\n\n  /**\n   * Get the items based on its values\n   */\n  items = (values: string[]): T[] => {\n    return values.map((value) => this.item(value)!).filter(Boolean)\n  }\n\n  /**\n   * Get the item based on its index\n   */\n  at = (index: number): T | null => {\n    for (const node of this.nodes.values()) {\n      if (node.index === index) {\n        return node.item\n      }\n    }\n    return null\n  }\n\n  private sortFn = (valueA: string, valueB: string): number => {\n    const nodeA = this.nodes.get(valueA)\n    const nodeB = this.nodes.get(valueB)\n    return (nodeA?.index ?? 0) - (nodeB?.index ?? 0)\n  }\n\n  /**\n   * Sort the values based on their index\n   */\n  sort = (values: string[]): string[] => {\n    return [...values].sort(this.sortFn)\n  }\n\n  /**\n   * Convert an item to a value\n   */\n  itemToValue = (item: T): string => {\n    if (!item) return \"\"\n    return this.options.itemToValue?.(item) ?? fallback.itemToValue(item)\n  }\n\n  /**\n   * Convert an item to a string\n   */\n  itemToString = (item: T | null): string => {\n    if (!item) return \"\"\n    return this.options.itemToString?.(item) ?? fallback.itemToString(item)\n  }\n\n  /**\n   * Whether an item is disabled\n   */\n  itemToDisabled = (item: T | null): boolean => {\n    if (!item) return false\n    return this.options.isItemDisabled?.(item) ?? fallback.itemToDisabled(item)\n  }\n\n  /**\n   * Convert a value to a string\n   */\n  valueToString = (value: string | null): string => {\n    if (value == null) return \"\"\n    return this.nodes.get(value)?.label ?? \"\"\n  }\n\n  /**\n   * Convert an array of items to a string\n   */\n  itemsToString = (item: T[], separator = \", \"): string => {\n    return item\n      .map((item) => this.itemToString(item))\n      .filter(Boolean)\n      .join(separator)\n  }\n\n  /**\n   * Whether the collection has a value\n   */\n  has = (value: string | null): boolean => {\n    if (value == null) return false\n    return this.nodes.has(value)\n  }\n\n  /**\n   * Returns the number of items in the collection\n   */\n  count = (): number => {\n    return this.nodes.size\n  }\n\n  /**\n   * Returns the first value in the collection\n   */\n  first = (): string | null => {\n    let firstValue = this._firstValue\n    while (firstValue != null) {\n      let item = this.nodes.get(firstValue)\n      if (item != null && !this.disabledValues.has(item.value)) {\n        return firstValue\n      }\n      firstValue = item?.nextValue ?? null\n    }\n    return null\n  }\n\n  /**\n   * Returns the last value in the collection\n   */\n  last = (): string | null => {\n    let lastValue = this._lastValue\n    while (lastValue != null) {\n      let item = this.nodes.get(lastValue)\n      if (item != null && !this.disabledValues.has(item.value)) {\n        return lastValue\n      }\n      lastValue = item?.previousValue ?? null\n    }\n    return null\n  }\n\n  /**\n   * Returns the next value in the collection\n   */\n  next = (value: string | null): string | null => {\n    if (value == null) return null\n\n    const item = this.nodes.get(value)\n    let nextValue = item?.nextValue ?? null\n\n    while (nextValue != null) {\n      let item = this.nodes.get(nextValue)\n      if (item != null && !this.disabledValues.has(item.value)) {\n        return nextValue\n      }\n      nextValue = item?.nextValue ?? null\n    }\n    return null\n  }\n\n  /**\n   * Returns the previous value in the collection\n   */\n  prev = (value: string | null): string | null => {\n    if (value == null) return null\n\n    const item = this.nodes.get(value)\n    let previousValue = item?.previousValue ?? null\n\n    while (previousValue != null) {\n      let item = this.nodes.get(previousValue)\n      if (item != null && !this.disabledValues.has(item.value)) {\n        return previousValue\n      }\n      previousValue = item?.previousValue ?? null\n    }\n    return null\n  }\n\n  /**\n   * Whether an item is disabled\n   */\n  isItemDisabled = (item: T): boolean => {\n    return this.disabledValues.has(this.itemToValue(item))\n  }\n\n  /**\n   * Returns the array of collection nodes\n   */\n  toArray = (): CollectionNode<T>[] => {\n    return Array.from(this.nodes.values())\n  }\n\n  /**\n   * Get the index of an item based on its key\n   */\n  indexOf = (value: string | null): number => {\n    if (value == null) return -1\n    return this.nodes.get(value)?.index ?? -1\n  }\n\n  private getByText = (text: string, currentValue: string | null): CollectionNode<T> | undefined => {\n    const index = this.indexOf(currentValue)\n    let nodes = currentValue != null ? wrap(this.toArray(), index) : this.toArray()\n\n    const isSingleKey = text.length === 1\n\n    if (isSingleKey) {\n      nodes = nodes.filter((node) => node.value !== currentValue)\n    }\n\n    return nodes.find((node) => match(node.label, text))\n  }\n\n  /**\n   * Search for a value based on a query\n   */\n  search = (queryString: string, options: CollectionSearchOptions): string | null => {\n    const { state, currentValue, timeout = 350 } = options\n\n    const search = state.keysSoFar + queryString\n    const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0])\n\n    const query = isRepeated ? search[0] : search\n\n    const value = this.getByText(query, currentValue)?.value ?? null\n\n    function cleanup() {\n      clearTimeout(state.timer)\n      state.timer = -1\n    }\n\n    function update(value: string) {\n      state.keysSoFar = value\n      cleanup()\n\n      if (value !== \"\") {\n        state.timer = +setTimeout(() => {\n          update(\"\")\n          cleanup()\n        }, timeout)\n      }\n    }\n\n    update(search)\n\n    return value\n  }\n\n  toJSON = () => {\n    return {\n      size: this.count(),\n      first: this.first(),\n      last: this.last(),\n    }\n  }\n}\n\nconst match = (label: string, query: string) => {\n  return label.toLowerCase().startsWith(query.toLowerCase())\n}\n\nconst wrap = <T>(v: T[], idx: number) => {\n  return v.map((_, index) => v[(Math.max(idx, 0) + index) % v.length])\n}\n", "// Credits: https://github.com/adobe/react-spectrum/blob/main/packages/@react-aria/overlays/src/ariaHideOutside.ts\nimport { raf } from \"@zag-js/dom-query\"\n\nconst refCountMap = new WeakMap<Element, number>()\nconst observerStack: any[] = []\n\nexport interface AriaHiddenOptions {\n  rootEl?: HTMLElement\n  defer?: boolean\n}\n\ntype MaybeElement = HTMLElement | null\ntype Targets = Array<MaybeElement>\ntype TargetsOrFn = Targets | (() => Targets)\n\nfunction ariaHiddenImpl(targets: Targets, options: AriaHiddenOptions = {}) {\n  const { rootEl } = options\n\n  const exclude = targets.filter(Boolean) as HTMLElement[]\n  if (exclude.length === 0) return\n\n  const doc = exclude[0].ownerDocument || document\n  const win = doc.defaultView ?? window\n\n  const visibleNodes = new Set<Element>(exclude)\n  const hiddenNodes = new Set<Element>()\n\n  const root = rootEl ?? doc.body\n\n  let walk = (root: Element) => {\n    // Keep live announcer and top layer elements (e.g. toasts) visible.\n    for (let element of root.querySelectorAll(\"[data-live-announcer], [data-zag-top-layer]\")) {\n      visibleNodes.add(element)\n    }\n\n    let acceptNode = (node: Element) => {\n      // Skip this node and its children if it is one of the target nodes, or a live announcer.\n      // Also skip children of already hidden nodes, as aria-hidden is recursive. An exception is\n      // made for elements with role=\"row\" since VoiceOver on iOS has issues hiding elements with role=\"row\".\n      // For that case we want to hide the cells inside as well (https://bugs.webkit.org/show_bug.cgi?id=222623).\n      if (\n        visibleNodes.has(node) ||\n        (hiddenNodes.has(node.parentElement!) && node.parentElement!.getAttribute(\"role\") !== \"row\")\n      ) {\n        return NodeFilter.FILTER_REJECT\n      }\n\n      // Skip this node but continue to children if one of the targets is inside the node.\n      for (let target of visibleNodes) {\n        if (node.contains(target)) {\n          return NodeFilter.FILTER_SKIP\n        }\n      }\n\n      return NodeFilter.FILTER_ACCEPT\n    }\n\n    let walker = doc.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, { acceptNode })\n\n    // TreeWalker does not include the root.\n    let acceptRoot = acceptNode(root)\n    if (acceptRoot === NodeFilter.FILTER_ACCEPT) {\n      hide(root)\n    }\n\n    if (acceptRoot !== NodeFilter.FILTER_REJECT) {\n      let node = walker.nextNode() as Element\n      while (node != null) {\n        hide(node)\n        node = walker.nextNode() as Element\n      }\n    }\n  }\n\n  let hide = (node: Element) => {\n    let refCount = refCountMap.get(node) ?? 0\n\n    // If already aria-hidden, and the ref count is zero, then this element\n    // was already hidden and there's nothing for us to do.\n    if (node.getAttribute(\"aria-hidden\") === \"true\" && refCount === 0) {\n      return\n    }\n\n    if (refCount === 0) {\n      node.setAttribute(\"aria-hidden\", \"true\")\n    }\n\n    hiddenNodes.add(node)\n    refCountMap.set(node, refCount + 1)\n  }\n\n  if (observerStack.length) {\n    observerStack[observerStack.length - 1].disconnect()\n  }\n\n  walk(root)\n\n  const observer = new win.MutationObserver((changes) => {\n    for (let change of changes) {\n      if (change.type !== \"childList\" || change.addedNodes.length === 0) {\n        continue\n      }\n\n      // If the parent element of the added nodes is not within one of the targets,\n      // and not already inside a hidden node, hide all of the new children.\n      if (![...visibleNodes, ...hiddenNodes].some((node) => node.contains(change.target))) {\n        for (let node of change.removedNodes) {\n          if (node instanceof win.Element) {\n            visibleNodes.delete(node)\n            hiddenNodes.delete(node)\n          }\n        }\n\n        for (let node of change.addedNodes) {\n          if (\n            (node instanceof win.HTMLElement || node instanceof win.SVGElement) &&\n            (node.dataset.liveAnnouncer === \"true\" || node.dataset.zagTopLayer === \"true\")\n          ) {\n            visibleNodes.add(node)\n          } else if (node instanceof win.Element) {\n            walk(node)\n          }\n        }\n      }\n    }\n  })\n\n  observer.observe(root, { childList: true, subtree: true })\n\n  let observerWrapper = {\n    observe() {\n      observer.observe(root, { childList: true, subtree: true })\n    },\n    disconnect() {\n      observer.disconnect()\n    },\n  }\n\n  observerStack.push(observerWrapper)\n\n  return () => {\n    observer.disconnect()\n\n    for (let node of hiddenNodes) {\n      let count = refCountMap.get(node)\n      if (count === 1) {\n        node.removeAttribute(\"aria-hidden\")\n        refCountMap.delete(node)\n      } else {\n        refCountMap.set(node, count! - 1)\n      }\n    }\n\n    // Remove this observer from the stack, and start the previous one.\n    if (observerWrapper === observerStack[observerStack.length - 1]) {\n      observerStack.pop()\n      if (observerStack.length) {\n        observerStack[observerStack.length - 1].observe()\n      }\n    } else {\n      observerStack.splice(observerStack.indexOf(observerWrapper), 1)\n    }\n  }\n}\n\nexport function ariaHidden(targetsOrFn: TargetsOrFn, options: AriaHiddenOptions = {}) {\n  const { defer } = options\n  const func = defer ? raf : (v: any) => v()\n  const cleanups: (VoidFunction | undefined)[] = []\n  cleanups.push(\n    func(() => {\n      const targets = typeof targetsOrFn === \"function\" ? targetsOrFn() : targetsOrFn\n      cleanups.push(ariaHiddenImpl(targets, options))\n    }),\n  )\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n  }\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"combobox\").parts(\n  \"root\",\n  \"clearTrigger\",\n  \"content\",\n  \"control\",\n  \"input\",\n  \"item\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n  \"itemIndicator\",\n  \"itemText\",\n  \"label\",\n  \"list\",\n  \"positioner\",\n  \"trigger\",\n)\nexport const parts = anatomy.build()\n", "import { Collection, type CollectionItem, type CollectionOptions } from \"@zag-js/collection\"\nimport { ref } from \"@zag-js/core\"\n\nexport const collection = <T extends CollectionItem>(options: CollectionOptions<T>): Collection<T> => {\n  return ref(new Collection(options))\n}\n\ncollection.empty = (): Collection<CollectionItem> => {\n  return ref(new Collection<CollectionItem>({ items: [] }))\n}\n", "import { clickIfLink, getEventKey, isContextMenuEvent, isLeftClick, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr, isComposingEvent, isDownloadingEvent, isOpeningInNewTab } from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./combobox.anatomy\"\nimport { dom } from \"./combobox.dom\"\nimport type { CollectionItem, ItemProps, ItemState, MachineApi, Send, State } from \"./combobox.types\"\n\nexport function connect<T extends PropTypes, V extends CollectionItem>(\n  state: State,\n  send: Send,\n  normalize: NormalizeProps<T>,\n): MachineApi<T, V> {\n  const translations = state.context.translations\n  const collection = state.context.collection\n\n  const disabled = state.context.disabled\n  const interactive = state.context.isInteractive\n  const invalid = state.context.invalid\n  const readOnly = state.context.readOnly\n\n  const open = state.hasTag(\"open\")\n  const focused = state.hasTag(\"focused\")\n  const composite = state.context.composite\n  const highlightedValue = state.context.highlightedValue\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement,\n  })\n\n  function getItemState(props: ItemProps): ItemState {\n    const { item } = props\n    const disabled = collection.isItemDisabled(item)\n    const value = collection.itemToValue(item)\n    return {\n      value,\n      disabled: Boolean(disabled || disabled),\n      highlighted: highlightedValue === value,\n      selected: state.context.value.includes(value),\n    }\n  }\n\n  return {\n    focused,\n    open,\n    inputValue: state.context.inputValue,\n    highlightedValue,\n    highlightedItem: state.context.highlightedItem,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    hasSelectedItems: state.context.hasSelectedItems,\n    selectedItems: state.context.selectedItems,\n    collection: state.context.collection,\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options })\n    },\n    setCollection(collection) {\n      send({ type: \"COLLECTION.SET\", value: collection })\n    },\n    setHighlightValue(value) {\n      send({ type: \"HIGHLIGHTED_VALUE.SET\", value })\n    },\n    selectValue(value) {\n      send({ type: \"ITEM.SELECT\", value })\n    },\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value })\n    },\n    setInputValue(value) {\n      send({ type: \"INPUT_VALUE.SET\", value })\n    },\n    clearValue(value) {\n      if (value != null) {\n        send({ type: \"ITEM.CLEAR\", value })\n      } else {\n        send(\"VALUE.CLEAR\")\n      }\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus()\n    },\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n      })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        htmlFor: dom.getInputId(state.context),\n        id: dom.getLabelId(state.context),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused),\n        onClick(event) {\n          if (composite) return\n          event.preventDefault()\n          dom.getTriggerEl(state.context)?.focus({ preventScroll: true })\n        },\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        id: dom.getControlId(state.context),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-focus\": dataAttr(focused),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        id: dom.getPositionerId(state.context),\n        style: popperStyles.floating,\n      })\n    },\n\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-invalid\": dataAttr(invalid),\n        name: state.context.name,\n        form: state.context.form,\n        disabled: disabled,\n        autoFocus: state.context.autoFocus,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        autoCapitalize: \"none\",\n        spellCheck: \"false\",\n        readOnly: readOnly,\n        placeholder: state.context.placeholder,\n        id: dom.getInputId(state.context),\n        type: \"text\",\n        role: \"combobox\",\n        defaultValue: state.context.inputValue,\n        \"aria-autocomplete\": state.context.autoComplete ? \"both\" : \"list\",\n        \"aria-controls\": dom.getContentId(state.context),\n        \"aria-expanded\": open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-activedescendant\": highlightedValue ? dom.getItemId(state.context, highlightedValue) : undefined,\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!state.context.openOnClick) return\n          if (!interactive) return\n          send(\"INPUT.CLICK\")\n        },\n        onFocus() {\n          if (disabled) return\n          send(\"INPUT.FOCUS\")\n        },\n        onBlur() {\n          if (disabled) return\n          send(\"INPUT.BLUR\")\n        },\n        onChange(event) {\n          send({ type: \"INPUT.CHANGE\", value: event.currentTarget.value })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n\n          if (event.ctrlKey || event.shiftKey || isComposingEvent(event)) return\n\n          const openOnKeyPress = state.context.openOnKeyPress\n          const isModifierKey = event.ctrlKey || event.metaKey || event.shiftKey\n          const keypress = true\n\n          const keymap: EventKeyMap = {\n            ArrowDown(event) {\n              if (!openOnKeyPress && !open) return\n              send({ type: event.altKey ? \"OPEN\" : \"INPUT.ARROW_DOWN\", keypress })\n              event.preventDefault()\n            },\n            ArrowUp() {\n              if (!openOnKeyPress && !open) return\n              send({ type: event.altKey ? \"CLOSE\" : \"INPUT.ARROW_UP\", keypress })\n              event.preventDefault()\n            },\n            Home(event) {\n              if (isModifierKey) return\n              send({ type: \"INPUT.HOME\", keypress })\n              if (open) {\n                event.preventDefault()\n              }\n            },\n            End(event) {\n              if (isModifierKey) return\n              send({ type: \"INPUT.END\", keypress })\n              if (open) {\n                event.preventDefault()\n              }\n            },\n            Enter(event) {\n              send({ type: \"INPUT.ENTER\", keypress })\n              if (open) {\n                event.preventDefault()\n              }\n              const itemEl = dom.getHighlightedItemEl(state.context)\n              clickIfLink(itemEl)\n            },\n            Escape() {\n              send({ type: \"INPUT.ESCAPE\", keypress })\n              event.preventDefault()\n            },\n          }\n\n          const key = getEventKey(event, state.context)\n          const exec = keymap[key]\n          exec?.(event)\n        },\n      })\n    },\n\n    getTriggerProps(props = {}) {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: state.context.dir,\n        id: dom.getTriggerId(state.context),\n        \"aria-haspopup\": composite ? \"listbox\" : \"dialog\",\n        type: \"button\",\n        tabIndex: props.focusable ? undefined : -1,\n        \"aria-label\": translations.triggerLabel,\n        \"aria-expanded\": open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-controls\": open ? dom.getContentId(state.context) : undefined,\n        disabled,\n        \"data-focusable\": dataAttr(props.focusable),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-disabled\": dataAttr(disabled),\n        onFocus() {\n          if (!props.focusable) return\n          send({ type: \"INPUT.FOCUS\", src: \"trigger\" })\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n          if (!isLeftClick(event)) return\n          send(\"TRIGGER.CLICK\")\n        },\n        onPointerDown(event) {\n          if (!interactive) return\n          if (event.pointerType === \"touch\") return\n          event.preventDefault()\n          queueMicrotask(() => {\n            dom.getInputEl(state.context)?.focus({ preventScroll: true })\n          })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (composite) return\n\n          const keyMap: EventKeyMap = {\n            ArrowDown() {\n              send({ type: \"INPUT.ARROW_DOWN\", src: \"trigger\" })\n            },\n            ArrowUp() {\n              send({ type: \"INPUT.ARROW_UP\", src: \"trigger\" })\n            },\n          }\n\n          const key = getEventKey(event, state.context)\n          const exec = keyMap[key]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n          }\n        },\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        dir: state.context.dir,\n        id: dom.getContentId(state.context),\n        role: !composite ? \"dialog\" : \"listbox\",\n        tabIndex: -1,\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-multiselectable\": state.context.multiple && composite ? true : undefined,\n        onPointerDown(event) {\n          // prevent options or elements within listbox from taking focus\n          event.preventDefault()\n        },\n      })\n    },\n\n    getListProps() {\n      return normalize.element({\n        ...parts.list.attrs,\n        role: !composite ? \"listbox\" : undefined,\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-multiselectable\": state.context.multiple && !composite ? true : undefined,\n      })\n    },\n\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getClearTriggerId(state.context),\n        type: \"button\",\n        tabIndex: -1,\n        disabled: disabled,\n        \"aria-label\": translations.clearTriggerLabel,\n        \"aria-controls\": dom.getInputId(state.context),\n        hidden: !state.context.value.length,\n        onPointerDown(event) {\n          event.preventDefault()\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n          send({ type: \"VALUE.CLEAR\", src: \"clear-trigger\" })\n        },\n      })\n    },\n\n    getItemState,\n\n    getItemProps(props) {\n      const itemState = getItemState(props)\n      const value = itemState.value\n\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, value),\n        role: \"option\",\n        tabIndex: -1,\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"aria-selected\": itemState.highlighted,\n        \"aria-disabled\": itemState.disabled,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-value\": itemState.value,\n        onPointerMove() {\n          if (itemState.disabled) return\n          if (itemState.highlighted) return\n          send({ type: \"ITEM.POINTER_MOVE\", value })\n        },\n        onPointerLeave() {\n          if (props.persistFocus) return\n          if (itemState.disabled) return\n          const mouseMoved = state.previousEvent.type.includes(\"POINTER\")\n          if (!mouseMoved) return\n          send({ type: \"ITEM.POINTER_LEAVE\", value })\n        },\n        onPointerUp(event) {\n          if (isDownloadingEvent(event)) return\n          if (isOpeningInNewTab(event)) return\n          if (isContextMenuEvent(event)) return\n          if (itemState.disabled) return\n          send({ type: \"ITEM.CLICK\", src: \"pointerup\", value })\n        },\n        onTouchEnd(event) {\n          // prevent clicking elements behind content\n          event.preventDefault()\n          event.stopPropagation()\n        },\n      })\n    },\n\n    getItemTextProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n      })\n    },\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.selected,\n      })\n    },\n\n    getItemGroupProps(props) {\n      const { id } = props\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupId(state.context, id),\n        \"aria-labelledby\": dom.getItemGroupLabelId(state.context, id),\n      })\n    },\n\n    getItemGroupLabelProps(props) {\n      const { htmlFor } = props\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupLabelId(state.context, htmlFor),\n        role: \"group\",\n      })\n    },\n  }\n}\n", "import { createScope, query } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./combobox.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `combobox:${ctx.id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `combobox:${ctx.id}:label`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `combobox:${ctx.id}:control`,\n  getInputId: (ctx: Ctx) => ctx.ids?.input ?? `combobox:${ctx.id}:input`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `combobox:${ctx.id}:content`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `combobox:${ctx.id}:popper`,\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `combobox:${ctx.id}:toggle-btn`,\n  getClearTriggerId: (ctx: Ctx) => ctx.ids?.clearTrigger ?? `combobox:${ctx.id}:clear-btn`,\n  getItemGroupId: (ctx: Ctx, id: string | number) => ctx.ids?.itemGroup?.(id) ?? `combobox:${ctx.id}:optgroup:${id}`,\n  getItemGroupLabelId: (ctx: Ctx, id: string | number) =>\n    ctx.ids?.itemGroupLabel?.(id) ?? `combobox:${ctx.id}:optgroup-label:${id}`,\n  getItemId: (ctx: Ctx, id: string) => `combobox:${ctx.id}:option:${id}`,\n\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getInputId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getControlEl: (ctx: Ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getClearTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getClearTriggerId(ctx)),\n  getHighlightedItemEl: (ctx: Ctx) => {\n    const value = ctx.highlightedValue\n    if (value == null) return\n    return query(dom.getContentEl(ctx), `[role=option][data-value=\"${CSS.escape(value)}\"`)\n  },\n\n  focusInputEl: (ctx: Ctx) => {\n    const inputEl = dom.getInputEl(ctx)\n    if (dom.getActiveElement(ctx) === inputEl) return\n    inputEl?.focus({ preventScroll: true })\n  },\n  focusTriggerEl: (ctx: Ctx) => {\n    const triggerEl = dom.getTriggerEl(ctx)\n    if (dom.getActiveElement(ctx) === triggerEl) return\n    triggerEl?.focus({ preventScroll: true })\n  },\n})\n", "import { ariaHidden } from \"@zag-js/aria-hidden\"\nimport { createMachine, guards } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { observeAttributes, observeChildren, raf, scrollIntoView } from \"@zag-js/dom-query\"\nimport { getPlacement } from \"@zag-js/popper\"\nimport { addOrRemove, compact, isArray, isBoolean, isEqual, match } from \"@zag-js/utils\"\nimport { collection } from \"./combobox.collection\"\nimport { dom } from \"./combobox.dom\"\nimport type { CollectionItem, MachineContext, MachineState, UserDefinedContext } from \"./combobox.types\"\n\nconst { and, not } = guards\n\nexport function machine<T extends CollectionItem>(userContext: UserDefinedContext<T>) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"combobox\",\n      initial: ctx.open ? \"suggesting\" : \"idle\",\n      context: {\n        loopFocus: true,\n        openOnClick: false,\n        value: [],\n        highlightedValue: null,\n        inputValue: \"\",\n        allowCustomValue: false,\n        closeOnSelect: !ctx.multiple,\n        inputBehavior: \"none\",\n        selectionBehavior: \"replace\",\n        openOnKeyPress: true,\n        openOnChange: true,\n        composite: true,\n        readOnly: false,\n        disabled: false,\n        ...ctx,\n        highlightedItem: null,\n        selectedItems: [],\n        valueAsString: \"\",\n        collection: ctx.collection ?? collection.empty(),\n        positioning: {\n          placement: \"bottom\",\n          flip: false,\n          sameWidth: true,\n          ...ctx.positioning,\n        },\n        translations: {\n          triggerLabel: \"Toggle suggestions\",\n          clearTriggerLabel: \"Clear value\",\n          ...ctx.translations,\n        },\n      },\n\n      created: [\"syncInitialValues\", \"syncSelectionBehavior\"],\n\n      computed: {\n        isInputValueEmpty: (ctx) => ctx.inputValue.length === 0,\n        isInteractive: (ctx) => !(ctx.readOnly || ctx.disabled),\n        autoComplete: (ctx) => ctx.inputBehavior === \"autocomplete\",\n        autoHighlight: (ctx) => ctx.inputBehavior === \"autohighlight\",\n        hasSelectedItems: (ctx) => ctx.value.length > 0,\n      },\n\n      watch: {\n        value: [\"syncSelectedItems\"],\n        inputValue: [\"syncInputValue\"],\n        highlightedValue: [\"syncHighlightedItem\", \"autofillInputValue\"],\n        multiple: [\"syncSelectionBehavior\"],\n        open: [\"toggleVisibility\"],\n      },\n\n      on: {\n        \"HIGHLIGHTED_VALUE.SET\": {\n          actions: [\"setHighlightedItem\"],\n        },\n        \"ITEM.SELECT\": {\n          actions: [\"selectItem\"],\n        },\n        \"ITEM.CLEAR\": {\n          actions: [\"clearItem\"],\n        },\n        \"VALUE.SET\": {\n          actions: [\"setSelectedItems\"],\n        },\n        \"INPUT_VALUE.SET\": {\n          actions: \"setInputValue\",\n        },\n        \"COLLECTION.SET\": {\n          actions: [\"setCollection\"],\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"],\n        },\n      },\n\n      states: {\n        idle: {\n          tags: [\"idle\", \"closed\"],\n          entry: [\"scrollContentToTop\", \"clearHighlightedItem\"],\n          on: {\n            \"CONTROLLED.OPEN\": {\n              target: \"interacting\",\n            },\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n            ],\n            \"INPUT.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n            ],\n            \"INPUT.FOCUS\": {\n              target: \"focused\",\n            },\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"invokeOnOpen\"],\n              },\n            ],\n            \"VALUE.CLEAR\": {\n              target: \"focused\",\n              actions: [\"clearInputValue\", \"clearSelectedItems\", \"setInitialFocus\"],\n            },\n          },\n        },\n\n        focused: {\n          tags: [\"focused\", \"closed\"],\n          entry: [\"scrollContentToTop\", \"clearHighlightedItem\"],\n          on: {\n            \"CONTROLLED.OPEN\": [\n              {\n                guard: \"isChangeEvent\",\n                target: \"suggesting\",\n              },\n              {\n                target: \"interacting\",\n              },\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: and(\"isOpenControlled\", \"openOnChange\"),\n                actions: [\"setInputValue\", \"invokeOnOpen\", \"highlightFirstItemIfNeeded\"],\n              },\n              {\n                guard: \"openOnChange\",\n                target: \"suggesting\",\n                actions: [\"setInputValue\", \"invokeOnOpen\", \"highlightFirstItemIfNeeded\"],\n              },\n              {\n                actions: \"setInputValue\",\n              },\n            ],\n            \"LAYER.INTERACT_OUTSIDE\": {\n              target: \"idle\",\n            },\n            \"INPUT.ESCAPE\": {\n              guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n              actions: \"revertInputValue\",\n            },\n            \"INPUT.BLUR\": {\n              target: \"idle\",\n            },\n            \"INPUT.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n            ],\n            \"INPUT.ARROW_DOWN\": [\n              // == group 1 ==\n              {\n                guard: and(\"isOpenControlled\", \"autoComplete\"),\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: [\"invokeOnOpen\"],\n              },\n              // == group 2 ==\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"highlightFirstOrSelectedItem\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightFirstOrSelectedItem\", \"invokeOnOpen\"],\n              },\n            ],\n            \"INPUT.ARROW_UP\": [\n              // == group 1 ==\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: \"invokeOnOpen\",\n              },\n              // == group 2 ==\n              {\n                target: \"interacting\",\n                actions: [\"highlightLastOrSelectedItem\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightLastOrSelectedItem\", \"invokeOnOpen\"],\n              },\n            ],\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"invokeOnOpen\"],\n              },\n            ],\n            \"VALUE.CLEAR\": {\n              actions: [\"clearInputValue\", \"clearSelectedItems\"],\n            },\n          },\n        },\n\n        interacting: {\n          tags: [\"open\", \"focused\"],\n          entry: [\"setInitialFocus\"],\n          activities: [\"scrollToHighlightedItem\", \"trackDismissableLayer\", \"computePlacement\", \"hideOtherElements\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                guard: \"restoreFocus\",\n                target: \"focused\",\n                actions: [\"setFinalFocus\"],\n              },\n              {\n                target: \"idle\",\n              },\n            ],\n            \"INPUT.HOME\": {\n              actions: [\"highlightFirstItem\"],\n            },\n            \"INPUT.END\": {\n              actions: [\"highlightLastItem\"],\n            },\n            \"INPUT.ARROW_DOWN\": [\n              {\n                guard: and(\"autoComplete\", \"isLastItemHighlighted\"),\n                actions: [\"clearHighlightedItem\", \"scrollContentToTop\"],\n              },\n              {\n                actions: [\"highlightNextItem\"],\n              },\n            ],\n            \"INPUT.ARROW_UP\": [\n              {\n                guard: and(\"autoComplete\", \"isFirstItemHighlighted\"),\n                actions: \"clearHighlightedItem\",\n              },\n              {\n                actions: \"highlightPrevItem\",\n              },\n            ],\n            \"INPUT.ENTER\": [\n              {\n                guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"setFinalFocus\"],\n              },\n              {\n                actions: [\"selectHighlightedItem\"],\n              },\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"autoComplete\",\n                target: \"suggesting\",\n                actions: [\"setInputValue\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"suggesting\",\n                actions: [\"clearHighlightedItem\", \"setInputValue\", \"invokeOnOpen\"],\n              },\n            ],\n            \"ITEM.POINTER_MOVE\": {\n              actions: [\"setHighlightedItem\"],\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: [\"clearHighlightedItem\"],\n            },\n            \"ITEM.CLICK\": [\n              {\n                guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n                actions: [\"selectItem\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectItem\", \"invokeOnClose\", \"setFinalFocus\"],\n              },\n              {\n                actions: [\"selectItem\"],\n              },\n            ],\n            \"LAYER.ESCAPE\": [\n              {\n                guard: and(\"isOpenControlled\", \"autoComplete\"),\n                actions: [\"syncInputValue\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"autoComplete\",\n                target: \"focused\",\n                actions: [\"syncInputValue\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"setFinalFocus\"],\n              },\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"focused\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n            \"LAYER.INTERACT_OUTSIDE\": [\n              // == group 1 ==\n              {\n                guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"allowCustomValue\")),\n                actions: [\"revertInputValue\", \"invokeOnClose\"],\n              },\n              {\n                guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n                target: \"idle\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"],\n              },\n              // == group 2 ==\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"idle\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"setFinalFocus\"],\n              },\n            ],\n            \"VALUE.CLEAR\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\", \"setFinalFocus\"],\n              },\n            ],\n          },\n        },\n\n        suggesting: {\n          tags: [\"open\", \"focused\"],\n          activities: [\n            \"trackDismissableLayer\",\n            \"scrollToHighlightedItem\",\n            \"computePlacement\",\n            \"trackChildNodes\",\n            \"hideOtherElements\",\n          ],\n          entry: [\"setInitialFocus\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                guard: \"restoreFocus\",\n                target: \"focused\",\n                actions: [\"setFinalFocus\"],\n              },\n              {\n                target: \"idle\",\n              },\n            ],\n            CHILDREN_CHANGE: {\n              actions: [\"highlightFirstItem\"],\n            },\n            \"INPUT.ARROW_DOWN\": {\n              target: \"interacting\",\n              actions: [\"highlightNextItem\"],\n            },\n            \"INPUT.ARROW_UP\": {\n              target: \"interacting\",\n              actions: [\"highlightPrevItem\"],\n            },\n            \"INPUT.HOME\": {\n              target: \"interacting\",\n              actions: [\"highlightFirstItem\"],\n            },\n            \"INPUT.END\": {\n              target: \"interacting\",\n              actions: [\"highlightLastItem\"],\n            },\n            \"INPUT.ENTER\": [\n              {\n                guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"setFinalFocus\"],\n              },\n              {\n                actions: [\"selectHighlightedItem\"],\n              },\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"autoHighlight\",\n                actions: [\"setInputValue\"],\n              },\n              {\n                actions: [\"setInputValue\"],\n              },\n            ],\n            \"LAYER.ESCAPE\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            \"ITEM.POINTER_MOVE\": {\n              target: \"interacting\",\n              actions: [\"setHighlightedItem\"],\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: [\"clearHighlightedItem\"],\n            },\n            \"LAYER.INTERACT_OUTSIDE\": [\n              // == group 1 ==\n              {\n                guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"allowCustomValue\")),\n                actions: [\"revertInputValue\", \"invokeOnClose\"],\n              },\n              {\n                guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n                target: \"idle\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"],\n              },\n              // == group 2 ==\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            \"ITEM.CLICK\": [\n              {\n                guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n                actions: [\"selectItem\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectItem\", \"invokeOnClose\", \"setFinalFocus\"],\n              },\n              {\n                actions: [\"selectItem\"],\n              },\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"setFinalFocus\"],\n              },\n            ],\n            \"VALUE.CLEAR\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\", \"setFinalFocus\"],\n              },\n            ],\n          },\n        },\n      },\n    },\n\n    {\n      guards: {\n        isInputValueEmpty: (ctx) => ctx.isInputValueEmpty,\n        autoComplete: (ctx) => ctx.autoComplete && !ctx.multiple,\n        autoHighlight: (ctx) => ctx.autoHighlight,\n        isFirstItemHighlighted: (ctx) => ctx.collection.first() === ctx.highlightedValue,\n        isLastItemHighlighted: (ctx) => ctx.collection.last() === ctx.highlightedValue,\n        isCustomValue: (ctx) => ctx.inputValue !== ctx.valueAsString,\n        allowCustomValue: (ctx) => !!ctx.allowCustomValue,\n        hasHighlightedItem: (ctx) => ctx.highlightedValue != null,\n        closeOnSelect: (ctx) => !!ctx.closeOnSelect,\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n        openOnChange: (ctx, evt) => {\n          if (isBoolean(ctx.openOnChange)) return ctx.openOnChange\n          return !!ctx.openOnChange?.({ inputValue: evt.value })\n        },\n        restoreFocus: (_ctx, evt) => (evt.restoreFocus == null ? true : !!evt.restoreFocus),\n        isChangeEvent: (_ctx, evt) => evt.previousEvent?.type === \"INPUT.CHANGE\",\n      },\n\n      activities: {\n        trackDismissableLayer(ctx, _evt, { send }) {\n          if (ctx.disableLayer) return\n          const contentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(contentEl, {\n            defer: true,\n            exclude: () => [dom.getInputEl(ctx), dom.getTriggerEl(ctx), dom.getClearTriggerEl(ctx)],\n            onFocusOutside: ctx.onFocusOutside,\n            onPointerDownOutside: ctx.onPointerDownOutside,\n            onInteractOutside: ctx.onInteractOutside,\n            onEscapeKeyDown(event) {\n              event.preventDefault()\n              event.stopPropagation()\n              send(\"LAYER.ESCAPE\")\n            },\n            onDismiss() {\n              send({ type: \"LAYER.INTERACT_OUTSIDE\", restoreFocus: false })\n            },\n          })\n        },\n        hideOtherElements(ctx) {\n          return ariaHidden([dom.getInputEl(ctx), dom.getContentEl(ctx), dom.getTriggerEl(ctx)])\n        },\n        computePlacement(ctx) {\n          const controlEl = () => dom.getControlEl(ctx)\n          const positionerEl = () => dom.getPositionerEl(ctx)\n          ctx.currentPlacement = ctx.positioning.placement\n          return getPlacement(controlEl, positionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        // in event the options are fetched (async), we still want to auto-highlight the first option\n        trackChildNodes(ctx, _evt, { send }) {\n          if (!ctx.autoHighlight) return\n          const exec = () => send(\"CHILDREN_CHANGE\")\n          const contentEl = () => dom.getContentEl(ctx)\n          return observeChildren(contentEl, {\n            callback: exec,\n            defer: true,\n          })\n        },\n        scrollToHighlightedItem(ctx, _evt, { getState }) {\n          const inputEl = dom.getInputEl(ctx)\n\n          let cleanups: VoidFunction[] = []\n\n          const exec = (immediate: boolean) => {\n            const state = getState()\n\n            const pointer = state.event.type.includes(\"POINTER\")\n            if (pointer || !ctx.highlightedValue) return\n\n            const itemEl = dom.getHighlightedItemEl(ctx)\n            const contentEl = dom.getContentEl(ctx)\n\n            if (ctx.scrollToIndexFn) {\n              const highlightedIndex = ctx.collection.indexOf(ctx.highlightedValue)\n              ctx.scrollToIndexFn({ index: highlightedIndex, immediate })\n              return\n            }\n\n            const rafCleanup = raf(() => {\n              scrollIntoView(itemEl, { rootEl: contentEl, block: \"nearest\" })\n            })\n            cleanups.push(rafCleanup)\n          }\n\n          const rafCleanup = raf(() => exec(true))\n          cleanups.push(rafCleanup)\n\n          const observerCleanup = observeAttributes(inputEl, {\n            attributes: [\"aria-activedescendant\"],\n            callback: () => exec(false),\n          })\n          cleanups.push(observerCleanup)\n\n          return () => {\n            cleanups.forEach((cleanup) => cleanup())\n          }\n        },\n      },\n\n      actions: {\n        reposition(ctx, evt) {\n          const controlEl = () => dom.getControlEl(ctx)\n          const positionerEl = () => dom.getPositionerEl(ctx)\n          getPlacement(controlEl, positionerEl, {\n            ...ctx.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        setHighlightedItem(ctx, evt) {\n          if (evt.value == null) return\n          set.highlightedValue(ctx, evt.value)\n        },\n        clearHighlightedItem(ctx) {\n          set.highlightedValue(ctx, null, true)\n        },\n        selectHighlightedItem(ctx) {\n          set.value(ctx, ctx.highlightedValue)\n        },\n        selectItem(ctx, evt) {\n          if (evt.value == null) return\n          set.value(ctx, evt.value)\n        },\n        clearItem(ctx, evt) {\n          if (evt.value == null) return\n          const value = ctx.value.filter((v) => v !== evt.value)\n          set.value(ctx, value)\n        },\n        setInitialFocus(ctx) {\n          raf(() => {\n            dom.focusInputEl(ctx)\n          })\n        },\n        setFinalFocus(ctx) {\n          raf(() => {\n            const triggerEl = dom.getTriggerEl(ctx)\n            if (triggerEl?.dataset.focusable == null) {\n              dom.focusInputEl(ctx)\n            } else {\n              dom.focusTriggerEl(ctx)\n            }\n          })\n        },\n        syncInputValue(ctx) {\n          const inputEl = dom.getInputEl(ctx)\n          if (!inputEl) return\n\n          inputEl.value = ctx.inputValue\n\n          queueMicrotask(() => {\n            const { selectionStart, selectionEnd } = inputEl\n\n            if (Math.abs((selectionEnd ?? 0) - (selectionStart ?? 0)) !== 0) return\n            if (selectionStart !== 0) return\n\n            inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length)\n          })\n        },\n        setInputValue(ctx, evt) {\n          set.inputValue(ctx, evt.value)\n        },\n        clearInputValue(ctx) {\n          set.inputValue(ctx, \"\")\n        },\n        revertInputValue(ctx) {\n          const inputValue = match(ctx.selectionBehavior, {\n            replace: ctx.hasSelectedItems ? ctx.valueAsString : \"\",\n            preserve: ctx.inputValue,\n            clear: \"\",\n          })\n\n          set.inputValue(ctx, inputValue)\n        },\n        syncInitialValues(ctx) {\n          const selectedItems = ctx.collection.items(ctx.value)\n          const valueAsString = ctx.collection.itemsToString(selectedItems)\n\n          ctx.highlightedItem = ctx.collection.item(ctx.highlightedValue)\n          ctx.selectedItems = selectedItems\n          ctx.valueAsString = valueAsString\n\n          ctx.inputValue = match(ctx.selectionBehavior, {\n            preserve: ctx.inputValue || valueAsString,\n            replace: valueAsString,\n            clear: \"\",\n          })\n        },\n        syncSelectionBehavior(ctx) {\n          if (ctx.multiple) {\n            ctx.selectionBehavior = \"clear\"\n          }\n        },\n        setSelectedItems(ctx, evt) {\n          if (!isArray(evt.value)) return\n          set.value(ctx, evt.value)\n        },\n        clearSelectedItems(ctx) {\n          set.value(ctx, [])\n        },\n        scrollContentToTop(ctx) {\n          if (ctx.scrollToIndexFn) {\n            ctx.scrollToIndexFn({ index: 0, immediate: true })\n          } else {\n            const contentEl = dom.getContentEl(ctx)\n            if (!contentEl) return\n            contentEl.scrollTop = 0\n          }\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        highlightFirstItem(ctx) {\n          raf(() => {\n            const value = ctx.collection.first()\n            set.highlightedValue(ctx, value)\n          })\n        },\n        highlightFirstItemIfNeeded(ctx) {\n          if (!ctx.autoHighlight) return\n          raf(() => {\n            const value = ctx.collection.first()\n            set.highlightedValue(ctx, value)\n          })\n        },\n        highlightLastItem(ctx) {\n          raf(() => {\n            const value = ctx.collection.last()\n            set.highlightedValue(ctx, value)\n          })\n        },\n        highlightNextItem(ctx) {\n          let value: string | null = null\n          if (ctx.highlightedValue) {\n            value = ctx.collection.next(ctx.highlightedValue)\n            if (!value && ctx.loopFocus) value = ctx.collection.first()\n          } else {\n            value = ctx.collection.first()\n          }\n          set.highlightedValue(ctx, value)\n        },\n        highlightPrevItem(ctx) {\n          let value: string | null = null\n          if (ctx.highlightedValue) {\n            value = ctx.collection.prev(ctx.highlightedValue)\n            if (!value && ctx.loopFocus) value = ctx.collection.last()\n          } else {\n            value = ctx.collection.last()\n          }\n          set.highlightedValue(ctx, value)\n        },\n        highlightFirstSelectedItem(ctx) {\n          raf(() => {\n            const [value] = ctx.collection.sort(ctx.value)\n            set.highlightedValue(ctx, value)\n          })\n        },\n        highlightFirstOrSelectedItem(ctx) {\n          raf(() => {\n            let value: string | null = null\n            if (ctx.hasSelectedItems) {\n              value = ctx.collection.sort(ctx.value)[0]\n            } else {\n              value = ctx.collection.first()\n            }\n            set.highlightedValue(ctx, value)\n          })\n        },\n        highlightLastOrSelectedItem(ctx) {\n          raf(() => {\n            let value: string | null = null\n            if (ctx.hasSelectedItems) {\n              value = ctx.collection.sort(ctx.value)[0]\n            } else {\n              value = ctx.collection.last()\n            }\n            set.highlightedValue(ctx, value)\n          })\n        },\n        autofillInputValue(ctx, evt) {\n          const inputEl = dom.getInputEl(ctx)\n          if (!ctx.autoComplete || !inputEl || !evt.keypress) return\n          const valueText = ctx.collection.valueToString(ctx.highlightedValue)\n          raf(() => {\n            inputEl.value = valueText || ctx.inputValue\n          })\n        },\n        setCollection(ctx, evt) {\n          ctx.collection = evt.value\n        },\n        syncSelectedItems(ctx) {\n          sync.valueChange(ctx)\n        },\n        syncHighlightedItem(ctx) {\n          sync.highlightChange(ctx)\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n      },\n    },\n  )\n}\n\nconst sync = {\n  valueChange: (ctx: MachineContext) => {\n    // side effect\n    const prevSelectedItems = ctx.selectedItems\n    ctx.selectedItems = ctx.value.map((v) => {\n      const foundItem = prevSelectedItems.find((item) => ctx.collection.itemToValue(item) === v)\n      if (foundItem) return foundItem\n      return ctx.collection.item(v)\n    })\n\n    // set valueAsString\n    const valueAsString = ctx.collection.itemsToString(ctx.selectedItems)\n    ctx.valueAsString = valueAsString\n\n    // set inputValue\n    let inputValue: string | undefined\n    if (ctx.getSelectionValue) {\n      //\n      inputValue = ctx.getSelectionValue({\n        inputValue: ctx.inputValue,\n        selectedItems: Array.from(ctx.selectedItems),\n        valueAsString,\n      })\n      //\n    } else {\n      //\n      inputValue = match(ctx.selectionBehavior, {\n        replace: ctx.valueAsString,\n        preserve: ctx.inputValue,\n        clear: \"\",\n      })\n    }\n\n    set.inputValue(ctx, inputValue)\n  },\n  highlightChange: (ctx: MachineContext) => {\n    ctx.highlightedItem = ctx.collection.item(ctx.highlightedValue)\n  },\n}\n\nconst invoke = {\n  valueChange: (ctx: MachineContext) => {\n    sync.valueChange(ctx)\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      items: Array.from(ctx.selectedItems),\n    })\n  },\n  highlightChange: (ctx: MachineContext) => {\n    sync.highlightChange(ctx)\n    ctx.onHighlightChange?.({\n      highlightedValue: ctx.highlightedValue,\n      highlightedItem: ctx.highlightedItem,\n    })\n  },\n  inputChange: (ctx: MachineContext) => {\n    ctx.onInputValueChange?.({ inputValue: ctx.inputValue })\n  },\n}\n\nconst set = {\n  value: (ctx: MachineContext, value: string | string[] | null | undefined, force = false) => {\n    if (isEqual(ctx.value, value)) return\n    if (value == null && !force) return\n    if (value == null && force) {\n      ctx.value = []\n      invoke.valueChange(ctx)\n      return\n    }\n    if (isArray(value)) {\n      ctx.value = value\n    } else if (value != null) {\n      ctx.value = ctx.multiple ? addOrRemove(ctx.value, value) : [value]\n    }\n    invoke.valueChange(ctx)\n  },\n  highlightedValue: (ctx: MachineContext, value: string | null | undefined, force = false) => {\n    if (isEqual(ctx.highlightedValue, value)) return\n    if (!value && !force) return\n    ctx.highlightedValue = value || null\n    invoke.highlightChange(ctx)\n  },\n  inputValue: (ctx: MachineContext, value: string) => {\n    if (isEqual(ctx.inputValue, value)) return\n    ctx.inputValue = value\n    invoke.inputChange(ctx)\n  },\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {CalendarDate, CalendarDateTime} from './CalendarDate';\n\nexport type Mutable<T> = {\n  -readonly[P in keyof T]: T[P]\n};\n\nexport function mod(amount: number, numerator: number): number {\n  return amount - numerator * Math.floor(amount / numerator);\n}\n\nexport function copy(date: CalendarDate): Mutable<CalendarDate> {\n  if (date.era) {\n    return new CalendarDate(date.calendar, date.era, date.year, date.month, date.day);\n  } else {\n    return new CalendarDate(date.calendar, date.year, date.month, date.day);\n  }\n}\n\nexport function copyDateTime(date: CalendarDateTime): Mutable<CalendarDateTime> {\n  if (date.era) {\n    return new CalendarDateTime(date.calendar, date.era, date.year, date.month, date.day, date.hour, date.minute, date.second, date.millisecond);\n  } else {\n    return new CalendarDateTime(date.calendar, date.year, date.month, date.day, date.hour, date.minute, date.second);\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, Calendar} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {mod, Mutable} from '../utils';\n\nconst EPOCH = 1721426; // 001/01/03 Julian C.E.\nexport function gregorianToJulianDay(era: string, year: number, month: number, day: number): number {\n  year = getExtendedYear(era, year);\n\n  let y1 = year - 1;\n  let monthOffset = -2;\n  if (month <= 2) {\n    monthOffset = 0;\n  } else if (isLeapYear(year)) {\n    monthOffset = -1;\n  }\n\n  return (\n    EPOCH -\n    1 +\n    365 * y1 +\n    Math.floor(y1 / 4) -\n    Math.floor(y1 / 100) +\n    Math.floor(y1 / 400) +\n    Math.floor((367 * month - 362) / 12 + monthOffset + day)\n  );\n}\n\nexport function isLeapYear(year: number): boolean {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\nexport function getExtendedYear(era: string, year: number): number {\n  return era === 'BC' ? 1 - year : year;\n}\n\nexport function fromExtendedYear(year: number): [string, number] {\n  let era = 'AD';\n  if (year <= 0) {\n    era = 'BC';\n    year = 1 - year;\n  }\n\n  return [era, year];\n}\n\nconst daysInMonth = {\n  standard: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n  leapyear: [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n};\n\n/**\n * The Gregorian calendar is the most commonly used calendar system in the world. It supports two eras: BC, and AD.\n * Years always contain 12 months, and 365 or 366 days depending on whether it is a leap year.\n */\nexport class GregorianCalendar implements Calendar {\n  identifier = 'gregory';\n\n  fromJulianDay(jd: number): CalendarDate {\n    let jd0 = jd;\n    let depoch = jd0 - EPOCH;\n    let quadricent = Math.floor(depoch / 146097);\n    let dqc = mod(depoch, 146097);\n    let cent = Math.floor(dqc / 36524);\n    let dcent = mod(dqc, 36524);\n    let quad = Math.floor(dcent / 1461);\n    let dquad = mod(dcent, 1461);\n    let yindex = Math.floor(dquad / 365);\n\n    let extendedYear = quadricent * 400 + cent * 100 + quad * 4 + yindex + (cent !== 4 && yindex !== 4 ? 1 : 0);\n    let [era, year] = fromExtendedYear(extendedYear);\n    let yearDay = jd0 - gregorianToJulianDay(era, year, 1, 1);\n    let leapAdj = 2;\n    if (jd0 < gregorianToJulianDay(era, year, 3, 1)) {\n      leapAdj = 0;\n    } else if (isLeapYear(year)) {\n      leapAdj = 1;\n    }\n    let month = Math.floor(((yearDay + leapAdj) * 12 + 373) / 367);\n    let day = jd0 - gregorianToJulianDay(era, year, month, 1) + 1;\n\n    return new CalendarDate(era, year, month, day);\n  }\n\n  toJulianDay(date: AnyCalendarDate): number {\n    return gregorianToJulianDay(date.era, date.year, date.month, date.day);\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    return daysInMonth[isLeapYear(date.year) ? 'leapyear' : 'standard'][date.month - 1];\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getMonthsInYear(date: AnyCalendarDate): number {\n    return 12;\n  }\n\n  getDaysInYear(date: AnyCalendarDate): number {\n    return isLeapYear(date.year) ? 366 : 365;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getYearsInEra(date: AnyCalendarDate): number {\n    return 9999;\n  }\n\n  getEras() {\n    return ['BC', 'AD'];\n  }\n\n  isInverseEra(date: AnyCalendarDate): boolean {\n    return date.era === 'BC';\n  }\n\n  balanceDate(date: Mutable<AnyCalendarDate>) {\n    if (date.year <= 0) {\n      date.era = date.era === 'BC' ? 'AD' : 'BC';\n      date.year = 1 - date.year;\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Data from https://github.com/unicode-cldr/cldr-core/blob/master/supplemental/weekData.json\n// Locales starting on Sunday have been removed for compression.\nexport const weekStartData = {\n  '001': 1,\n  AD: 1,\n  AE: 6,\n  AF: 6,\n  AI: 1,\n  AL: 1,\n  AM: 1,\n  AN: 1,\n  AR: 1,\n  AT: 1,\n  AU: 1,\n  AX: 1,\n  AZ: 1,\n  BA: 1,\n  BE: 1,\n  BG: 1,\n  BH: 6,\n  BM: 1,\n  BN: 1,\n  BY: 1,\n  CH: 1,\n  CL: 1,\n  CM: 1,\n  CN: 1,\n  CR: 1,\n  CY: 1,\n  CZ: 1,\n  DE: 1,\n  DJ: 6,\n  DK: 1,\n  DZ: 6,\n  EC: 1,\n  EE: 1,\n  EG: 6,\n  ES: 1,\n  FI: 1,\n  FJ: 1,\n  FO: 1,\n  FR: 1,\n  GB: 1,\n  GE: 1,\n  GF: 1,\n  GP: 1,\n  GR: 1,\n  HR: 1,\n  HU: 1,\n  IE: 1,\n  IQ: 6,\n  IR: 6,\n  IS: 1,\n  IT: 1,\n  JO: 6,\n  KG: 1,\n  KW: 6,\n  KZ: 1,\n  LB: 1,\n  LI: 1,\n  LK: 1,\n  LT: 1,\n  LU: 1,\n  LV: 1,\n  LY: 6,\n  MC: 1,\n  MD: 1,\n  ME: 1,\n  MK: 1,\n  MN: 1,\n  MQ: 1,\n  MV: 5,\n  MY: 1,\n  NL: 1,\n  NO: 1,\n  NZ: 1,\n  OM: 6,\n  PL: 1,\n  QA: 6,\n  RE: 1,\n  RO: 1,\n  RS: 1,\n  RU: 1,\n  SD: 6,\n  SE: 1,\n  SI: 1,\n  SK: 1,\n  SM: 1,\n  SY: 6,\n  TJ: 1,\n  TM: 1,\n  TR: 1,\n  UA: 1,\n  UY: 1,\n  UZ: 1,\n  VA: 1,\n  VN: 1,\n  XK: 1\n};\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AnyCalendarDate, AnyTime} from './types';\nimport {CalendarDate, CalendarDateTime, ZonedDateTime} from './CalendarDate';\nimport {fromAbsolute, toAbsolute, toCalendar, toCalendarDate} from './conversion';\nimport {weekStartData} from './weekStartData';\n\ntype DateValue = CalendarDate | CalendarDateTime | ZonedDateTime;\n\n/** Returns whether the given dates occur on the same day, regardless of the time or calendar system. */\nexport function isSameDay(a: DateValue, b: DateValue): boolean {\n  b = toCalendar(b, a.calendar);\n  return a.era === b.era && a.year === b.year && a.month === b.month && a.day === b.day;\n}\n\n/** Returns whether the given dates occur in the same month, using the calendar system of the first date. */\nexport function isSameMonth(a: DateValue, b: DateValue): boolean {\n  b = toCalendar(b, a.calendar);\n  // In the Japanese calendar, months can span multiple eras/years, so only compare the first of the month.\n  a = startOfMonth(a);\n  b = startOfMonth(b);\n  return a.era === b.era && a.year === b.year && a.month === b.month;\n}\n\n/** Returns whether the given dates occur in the same year, using the calendar system of the first date. */\nexport function isSameYear(a: DateValue, b: DateValue): boolean {\n  b = toCalendar(b, a.calendar);\n  a = startOfYear(a);\n  b = startOfYear(b);\n  return a.era === b.era && a.year === b.year;\n}\n\n/** Returns whether the given dates occur on the same day, and are of the same calendar system. */\nexport function isEqualDay(a: DateValue, b: DateValue): boolean {\n  return a.calendar.identifier === b.calendar.identifier && a.era === b.era && a.year === b.year && a.month === b.month && a.day === b.day;\n}\n\n/** Returns whether the given dates occur in the same month, and are of the same calendar system. */\nexport function isEqualMonth(a: DateValue, b: DateValue): boolean {\n  a = startOfMonth(a);\n  b = startOfMonth(b);\n  return a.calendar.identifier === b.calendar.identifier && a.era === b.era && a.year === b.year && a.month === b.month;\n}\n\n/** Returns whether the given dates occur in the same year, and are of the same calendar system. */\nexport function isEqualYear(a: DateValue, b: DateValue): boolean {\n  a = startOfYear(a);\n  b = startOfYear(b);\n  return a.calendar.identifier === b.calendar.identifier && a.era === b.era && a.year === b.year;\n}\n\n/** Returns whether the date is today in the given time zone. */\nexport function isToday(date: DateValue, timeZone: string): boolean {\n  return isSameDay(date, today(timeZone));\n}\n\n/**\n * Returns the day of week for the given date and locale. Days are numbered from zero to six,\n * where zero is the first day of the week in the given locale. For example, in the United States,\n * the first day of the week is Sunday, but in France it is Monday.\n */\nexport function getDayOfWeek(date: DateValue, locale: string): number {\n  let julian = date.calendar.toJulianDay(date);\n\n  // If julian is negative, then julian % 7 will be negative, so we adjust\n  // accordingly.  Julian day 0 is Monday.\n  let dayOfWeek = Math.ceil(julian + 1 - getWeekStart(locale)) % 7;\n  if (dayOfWeek < 0) {\n    dayOfWeek += 7;\n  }\n\n  return dayOfWeek;\n}\n\n/** Returns the current time in the given time zone. */\nexport function now(timeZone: string): ZonedDateTime {\n  return fromAbsolute(Date.now(), timeZone);\n}\n\n/** Returns today's date in the given time zone. */\nexport function today(timeZone: string): CalendarDate {\n  return toCalendarDate(now(timeZone));\n}\n\nexport function compareDate(a: AnyCalendarDate, b: AnyCalendarDate): number {\n  return a.calendar.toJulianDay(a) - b.calendar.toJulianDay(b);\n}\n\nexport function compareTime(a: AnyTime, b: AnyTime): number {\n  return timeToMs(a) - timeToMs(b);\n}\n\nfunction timeToMs(a: AnyTime): number {\n  return a.hour * 60 * 60 * 1000 + a.minute * 60 * 1000 + a.second * 1000 + a.millisecond;\n}\n\n/**\n * Returns the number of hours in the given date and time zone.\n * Usually this is 24, but it could be 23 or 25 if the date is on a daylight saving transition.\n */\nexport function getHoursInDay(a: CalendarDate, timeZone: string): number {\n  let ms = toAbsolute(a, timeZone);\n  let tomorrow = a.add({days: 1});\n  let tomorrowMs = toAbsolute(tomorrow, timeZone);\n  return (tomorrowMs - ms) / 3600000;\n}\n\nlet localTimeZone: string | null = null;\n\n/** Returns the time zone identifier for the current user. */\nexport function getLocalTimeZone(): string {\n  // TODO: invalidate this somehow?\n  if (localTimeZone == null) {\n    localTimeZone = new Intl.DateTimeFormat().resolvedOptions().timeZone;\n  }\n\n  return localTimeZone!;\n}\n\n/** Returns the first date of the month for the given date. */\nexport function startOfMonth(date: ZonedDateTime): ZonedDateTime;\nexport function startOfMonth(date: CalendarDateTime): CalendarDateTime;\nexport function startOfMonth(date: CalendarDate): CalendarDate;\nexport function startOfMonth(date: DateValue): DateValue;\nexport function startOfMonth(date: DateValue): DateValue {\n  // Use `subtract` instead of `set` so we don't get constrained in an era.\n  return date.subtract({days: date.day - 1});\n}\n\n/** Returns the last date of the month for the given date. */\nexport function endOfMonth(date: ZonedDateTime): ZonedDateTime;\nexport function endOfMonth(date: CalendarDateTime): CalendarDateTime;\nexport function endOfMonth(date: CalendarDate): CalendarDate;\nexport function endOfMonth(date: DateValue): DateValue;\nexport function endOfMonth(date: DateValue): DateValue {\n  return date.add({days: date.calendar.getDaysInMonth(date) - date.day});\n}\n\n/** Returns the first day of the year for the given date. */\nexport function startOfYear(date: ZonedDateTime): ZonedDateTime;\nexport function startOfYear(date: CalendarDateTime): CalendarDateTime;\nexport function startOfYear(date: CalendarDate): CalendarDate;\nexport function startOfYear(date: DateValue): DateValue;\nexport function startOfYear(date: DateValue): DateValue {\n  return startOfMonth(date.subtract({months: date.month - 1}));\n}\n\n/** Returns the last day of the year for the given date. */\nexport function endOfYear(date: ZonedDateTime): ZonedDateTime;\nexport function endOfYear(date: CalendarDateTime): CalendarDateTime;\nexport function endOfYear(date: CalendarDate): CalendarDate;\nexport function endOfYear(date: DateValue): DateValue;\nexport function endOfYear(date: DateValue): DateValue {\n  return endOfMonth(date.add({months: date.calendar.getMonthsInYear(date) - date.month}));\n}\n\nexport function getMinimumMonthInYear(date: AnyCalendarDate) {\n  if (date.calendar.getMinimumMonthInYear) {\n    return date.calendar.getMinimumMonthInYear(date);\n  }\n\n  return 1;\n}\n\nexport function getMinimumDayInMonth(date: AnyCalendarDate) {\n  if (date.calendar.getMinimumDayInMonth) {\n    return date.calendar.getMinimumDayInMonth(date);\n  }\n\n  return 1;\n}\n\n/** Returns the first date of the week for the given date and locale. */\nexport function startOfWeek(date: ZonedDateTime, locale: string): ZonedDateTime;\nexport function startOfWeek(date: CalendarDateTime, locale: string): CalendarDateTime;\nexport function startOfWeek(date: CalendarDate, locale: string): CalendarDate;\nexport function startOfWeek(date: DateValue, locale: string): DateValue;\nexport function startOfWeek(date: DateValue, locale: string): DateValue {\n  let dayOfWeek = getDayOfWeek(date, locale);\n  return date.subtract({days: dayOfWeek});\n}\n\n/** Returns the last date of the week for the given date and locale. */\nexport function endOfWeek(date: ZonedDateTime, locale: string): ZonedDateTime;\nexport function endOfWeek(date: CalendarDateTime, locale: string): CalendarDateTime;\nexport function endOfWeek(date: CalendarDate, locale: string): CalendarDate;\nexport function endOfWeek(date: DateValue, locale: string): DateValue {\n  return startOfWeek(date, locale).add({days: 6});\n}\n\nconst cachedRegions = new Map<string, string>();\n\nfunction getRegion(locale: string): string | undefined {\n  // If the Intl.Locale API is available, use it to get the region for the locale.\n  // @ts-ignore\n  if (Intl.Locale) {\n    // Constructing an Intl.Locale is expensive, so cache the result.\n    let region = cachedRegions.get(locale);\n    if (!region) {\n      // @ts-ignore\n      region = new Intl.Locale(locale).maximize().region;\n      if (region) {\n        cachedRegions.set(locale, region);\n      }\n    }\n    return region;\n  }\n\n  // If not, just try splitting the string.\n  // If the second part of the locale string is 'u',\n  // then this is a unicode extension, so ignore it.\n  // Otherwise, it should be the region.\n  let part = locale.split('-')[1];\n  return part === 'u' ? undefined : part;\n}\n\nfunction getWeekStart(locale: string): number {\n  // TODO: use Intl.Locale for this once browsers support the weekInfo property\n  // https://github.com/tc39/proposal-intl-locale-info\n  let region = getRegion(locale);\n  return region ? weekStartData[region] || 0 : 0;\n}\n\n/** Returns the number of weeks in the given month and locale. */\nexport function getWeeksInMonth(date: DateValue, locale: string): number {\n  let days = date.calendar.getDaysInMonth(date);\n  return Math.ceil((getDayOfWeek(startOfMonth(date), locale) + days) / 7);\n}\n\n/** Returns the lesser of the two provider dates. */\nexport function minDate<A extends DateValue, B extends DateValue>(a: A, b: B): A | B {\n  if (a && b) {\n    return a.compare(b) <= 0 ? a : b;\n  }\n\n  return a || b;\n}\n\n/** Returns the greater of the two provider dates. */\nexport function maxDate<A extends DateValue, B extends DateValue>(a: A, b: B): A | B {\n  if (a && b) {\n    return a.compare(b) >= 0 ? a : b;\n  }\n\n  return a || b;\n}\n\nconst WEEKEND_DATA = {\n  AF: [4, 5],\n  AE: [5, 6],\n  BH: [5, 6],\n  DZ: [5, 6],\n  EG: [5, 6],\n  IL: [5, 6],\n  IQ: [5, 6],\n  IR: [5, 5],\n  JO: [5, 6],\n  KW: [5, 6],\n  LY: [5, 6],\n  OM: [5, 6],\n  QA: [5, 6],\n  SA: [5, 6],\n  SD: [5, 6],\n  SY: [5, 6],\n  YE: [5, 6]\n};\n\n/** Returns whether the given date is on a weekend in the given locale. */\nexport function isWeekend(date: DateValue, locale: string): boolean {\n  let julian = date.calendar.toJulianDay(date);\n\n  // If julian is negative, then julian % 7 will be negative, so we adjust\n  // accordingly.  Julian day 0 is Monday.\n  let dayOfWeek = Math.ceil(julian + 1) % 7;\n  if (dayOfWeek < 0) {\n    dayOfWeek += 7;\n  }\n\n  let region = getRegion(locale);\n  // Use Intl.Locale for this once weekInfo is supported.\n  // https://github.com/tc39/proposal-intl-locale-info\n  let [start, end] = WEEKEND_DATA[region!] || [6, 0];\n  return dayOfWeek === start || dayOfWeek === end;\n}\n\n/** Returns whether the given date is on a weekday in the given locale. */\nexport function isWeekday(date: DateValue, locale: string): boolean {\n  return !isWeekend(date, locale);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from the TC39 Temporal proposal.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, AnyDateTime, AnyTime, Calendar, DateFields, Disambiguation, TimeFields} from './types';\nimport {CalendarDate, CalendarDateTime, Time, ZonedDateTime} from './CalendarDate';\nimport {constrain} from './manipulation';\nimport {getExtendedYear, GregorianCalendar} from './calendars/GregorianCalendar';\nimport {getLocalTimeZone} from './queries';\nimport {Mutable} from './utils';\n\nexport function epochFromDate(date: AnyDateTime) {\n  date = toCalendar(date, new GregorianCalendar());\n  let year = getExtendedYear(date.era, date.year);\n  return epochFromParts(year, date.month, date.day, date.hour, date.minute, date.second, date.millisecond);\n}\n\nfunction epochFromParts(year: number, month: number, day: number, hour: number, minute: number, second: number, millisecond: number) {\n  // Note: Date.UTC() interprets one and two-digit years as being in the\n  // 20th century, so don't use it\n  let date = new Date();\n  date.setUTCHours(hour, minute, second, millisecond);\n  date.setUTCFullYear(year, month - 1, day);\n  return date.getTime();\n}\n\nexport function getTimeZoneOffset(ms: number, timeZone: string) {\n  // Fast path for UTC.\n  if (timeZone === 'UTC') {\n    return 0;\n  }\n\n  // Fast path: for local timezone after 1970, use native Date.\n  if (ms > 0 && timeZone === getLocalTimeZone()) {\n    return new Date(ms).getTimezoneOffset() * -60 * 1000;\n  }\n\n  let {year, month, day, hour, minute, second} = getTimeZoneParts(ms, timeZone);\n  let utc = epochFromParts(year, month, day, hour, minute, second, 0);\n  return utc - Math.floor(ms / 1000) * 1000;\n}\n\nconst formattersByTimeZone = new Map<string, Intl.DateTimeFormat>();\n\nfunction getTimeZoneParts(ms: number, timeZone: string) {\n  let formatter = formattersByTimeZone.get(timeZone);\n  if (!formatter) {\n    formatter = new Intl.DateTimeFormat('en-US', {\n      timeZone,\n      hour12: false,\n      era: 'short',\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n\n    formattersByTimeZone.set(timeZone, formatter);\n  }\n\n  let parts = formatter.formatToParts(new Date(ms));\n  let namedParts: {[name: string]: string} = {};\n  for (let part of parts) {\n    if (part.type !== 'literal') {\n      namedParts[part.type] = part.value;\n    }\n  }\n\n\n  return {\n    // Firefox returns B instead of BC... https://bugzilla.mozilla.org/show_bug.cgi?id=1752253\n    year: namedParts.era === 'BC' || namedParts.era === 'B' ? -namedParts.year + 1 : +namedParts.year,\n    month: +namedParts.month,\n    day: +namedParts.day,\n    hour: namedParts.hour === '24' ? 0 : +namedParts.hour, // bugs.chromium.org/p/chromium/issues/detail?id=1045791\n    minute: +namedParts.minute,\n    second: +namedParts.second\n  };\n}\n\nconst DAYMILLIS = 86400000;\n\nexport function possibleAbsolutes(date: CalendarDateTime, timeZone: string): number[] {\n  let ms = epochFromDate(date);\n  let earlier = ms - getTimeZoneOffset(ms - DAYMILLIS, timeZone);\n  let later = ms - getTimeZoneOffset(ms + DAYMILLIS, timeZone);\n  return getValidWallTimes(date, timeZone, earlier, later);\n}\n\nfunction getValidWallTimes(date: CalendarDateTime, timeZone: string, earlier: number, later: number): number[] {\n  let found = earlier === later ? [earlier] : [earlier, later];\n  return found.filter(absolute => isValidWallTime(date, timeZone, absolute));\n}\n\nfunction isValidWallTime(date: CalendarDateTime, timeZone: string, absolute: number) {\n  let parts = getTimeZoneParts(absolute, timeZone);\n  return date.year === parts.year\n    && date.month === parts.month\n    && date.day === parts.day\n    && date.hour === parts.hour\n    && date.minute === parts.minute\n    && date.second === parts.second;\n}\n\nexport function toAbsolute(date: CalendarDate | CalendarDateTime, timeZone: string, disambiguation: Disambiguation = 'compatible'): number {\n  let dateTime = toCalendarDateTime(date);\n\n  // Fast path: if the time zone is UTC, use native Date.\n  if (timeZone === 'UTC') {\n    return epochFromDate(dateTime);\n  }\n\n  // Fast path: if the time zone is the local timezone and disambiguation is compatible, use native Date.\n  if (timeZone === getLocalTimeZone() && disambiguation === 'compatible') {\n    dateTime = toCalendar(dateTime, new GregorianCalendar());\n\n    // Don't use Date constructor here because two-digit years are interpreted in the 20th century.\n    let date = new Date();\n    let year = getExtendedYear(dateTime.era, dateTime.year);\n    date.setFullYear(year, dateTime.month - 1, dateTime.day);\n    date.setHours(dateTime.hour, dateTime.minute, dateTime.second, dateTime.millisecond);\n    return date.getTime();\n  }\n\n  let ms = epochFromDate(dateTime);\n  let offsetBefore = getTimeZoneOffset(ms - DAYMILLIS, timeZone);\n  let offsetAfter = getTimeZoneOffset(ms + DAYMILLIS, timeZone);\n  let valid = getValidWallTimes(dateTime, timeZone, ms - offsetBefore, ms - offsetAfter);\n\n  if (valid.length === 1) {\n    return valid[0];\n  }\n\n  if (valid.length > 1) {\n    switch (disambiguation) {\n      // 'compatible' means 'earlier' for \"fall back\" transitions\n      case 'compatible':\n      case 'earlier':\n        return valid[0];\n      case 'later':\n        return valid[valid.length - 1];\n      case 'reject':\n        throw new RangeError('Multiple possible absolute times found');\n    }\n  }\n\n  switch (disambiguation) {\n    case 'earlier':\n      return Math.min(ms - offsetBefore, ms - offsetAfter);\n    // 'compatible' means 'later' for \"spring forward\" transitions\n    case 'compatible':\n    case 'later':\n      return Math.max(ms - offsetBefore, ms - offsetAfter);\n    case 'reject':\n      throw new RangeError('No such absolute time found');\n  }\n}\n\nexport function toDate(dateTime: CalendarDate | CalendarDateTime, timeZone: string, disambiguation: Disambiguation = 'compatible'): Date {\n  return new Date(toAbsolute(dateTime, timeZone, disambiguation));\n}\n\n/**\n * Takes a Unix epoch (milliseconds since 1970) and converts it to the provided time zone.\n */\nexport function fromAbsolute(ms: number, timeZone: string): ZonedDateTime {\n  let offset = getTimeZoneOffset(ms, timeZone);\n  let date = new Date(ms + offset);\n  let year = date.getUTCFullYear();\n  let month = date.getUTCMonth() + 1;\n  let day = date.getUTCDate();\n  let hour = date.getUTCHours();\n  let minute = date.getUTCMinutes();\n  let second = date.getUTCSeconds();\n  let millisecond = date.getUTCMilliseconds();\n\n  return new ZonedDateTime(year, month, day, timeZone, offset, hour, minute, second, millisecond);\n}\n\n/**\n * Takes a `Date` object and converts it to the provided time zone.\n */\nexport function fromDate(date: Date, timeZone: string): ZonedDateTime {\n  return fromAbsolute(date.getTime(), timeZone);\n}\n\nexport function fromDateToLocal(date: Date): ZonedDateTime {\n  return fromDate(date, getLocalTimeZone());\n}\n\n/** Converts a value with date components such as a `CalendarDateTime` or `ZonedDateTime` into a `CalendarDate`. */\nexport function toCalendarDate(dateTime: AnyCalendarDate): CalendarDate {\n  return new CalendarDate(dateTime.calendar, dateTime.era, dateTime.year, dateTime.month, dateTime.day);\n}\n\nexport function toDateFields(date: AnyCalendarDate): DateFields {\n  return {\n    era: date.era,\n    year: date.year,\n    month: date.month,\n    day: date.day\n  };\n}\n\nexport function toTimeFields(date: AnyTime): TimeFields {\n  return {\n    hour: date.hour,\n    minute: date.minute,\n    second: date.second,\n    millisecond: date.millisecond\n  };\n}\n\n/**\n * Converts a date value to a `CalendarDateTime`. An optional `Time` value can be passed to set the time\n * of the resulting value, otherwise it will default to midnight.\n */\nexport function toCalendarDateTime(date: CalendarDate | CalendarDateTime | ZonedDateTime, time?: AnyTime): CalendarDateTime {\n  let hour = 0, minute = 0, second = 0, millisecond = 0;\n  if ('timeZone' in date) {\n    ({hour, minute, second, millisecond} = date);\n  } else if ('hour' in date && !time) {\n    return date;\n  }\n\n  if (time) {\n    ({hour, minute, second, millisecond} = time);\n  }\n\n  return new CalendarDateTime(\n    date.calendar,\n    date.era,\n    date.year,\n    date.month,\n    date.day,\n    hour,\n    minute,\n    second,\n    millisecond\n  );\n}\n\n/** Extracts the time components from a value containing a date and time. */\nexport function toTime(dateTime: CalendarDateTime | ZonedDateTime): Time {\n  return new Time(dateTime.hour, dateTime.minute, dateTime.second, dateTime.millisecond);\n}\n\n/** Converts a date from one calendar system to another. */\nexport function toCalendar<T extends AnyCalendarDate>(date: T, calendar: Calendar): T {\n  if (date.calendar.identifier === calendar.identifier) {\n    return date;\n  }\n\n  let calendarDate = calendar.fromJulianDay(date.calendar.toJulianDay(date));\n  let copy: Mutable<T> = date.copy();\n  copy.calendar = calendar;\n  copy.era = calendarDate.era;\n  copy.year = calendarDate.year;\n  copy.month = calendarDate.month;\n  copy.day = calendarDate.day;\n  constrain(copy);\n  return copy;\n}\n\n/**\n * Converts a date value to a `ZonedDateTime` in the provided time zone. The `disambiguation` option can be set\n * to control how values that fall on daylight saving time changes are interpreted.\n */\nexport function toZoned(date: CalendarDate | CalendarDateTime | ZonedDateTime, timeZone: string, disambiguation?: Disambiguation): ZonedDateTime {\n  if (date instanceof ZonedDateTime) {\n    if (date.timeZone === timeZone) {\n      return date;\n    }\n\n    return toTimeZone(date, timeZone);\n  }\n\n  let ms = toAbsolute(date, timeZone, disambiguation);\n  return fromAbsolute(ms, timeZone);\n}\n\nexport function zonedToDate(date: ZonedDateTime) {\n  let ms = epochFromDate(date) - date.offset;\n  return new Date(ms);\n}\n\n/** Converts a `ZonedDateTime` from one time zone to another. */\nexport function toTimeZone(date: ZonedDateTime, timeZone: string): ZonedDateTime {\n  let ms = epochFromDate(date) - date.offset;\n  return toCalendar(fromAbsolute(ms, timeZone), date.calendar);\n}\n\n/** Converts the given `ZonedDateTime` into the user's local time zone. */\nexport function toLocalTimeZone(date: ZonedDateTime): ZonedDateTime {\n  return toTimeZone(date, getLocalTimeZone());\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AnyCalendarDate, AnyDateTime, AnyTime, CycleOptions, CycleTimeOptions, DateDuration, DateField, DateFields, DateTimeDuration, Disambiguation, TimeDuration, TimeField, TimeFields} from './types';\nimport {CalendarDate, CalendarDateTime, Time, ZonedDateTime} from './CalendarDate';\nimport {epochFromDate, fromAbsolute, toAbsolute, toCalendar, toCalendarDateTime} from './conversion';\nimport {GregorianCalendar} from './calendars/GregorianCalendar';\nimport {Mutable} from './utils';\n\nconst ONE_HOUR = 3600000;\n\nexport function add(date: CalendarDateTime, duration: DateTimeDuration): CalendarDateTime;\nexport function add(date: CalendarDate, duration: DateDuration): CalendarDate;\nexport function add(date: CalendarDate | CalendarDateTime, duration: DateTimeDuration): CalendarDate | CalendarDateTime;\nexport function add(date: CalendarDate | CalendarDateTime, duration: DateTimeDuration) {\n  let mutableDate: Mutable<AnyCalendarDate | AnyDateTime> = date.copy();\n  let days = 'hour' in mutableDate ? addTimeFields(mutableDate, duration) : 0;\n\n  addYears(mutableDate, duration.years || 0);\n  if (mutableDate.calendar.balanceYearMonth) {\n    mutableDate.calendar.balanceYearMonth(mutableDate, date);\n  }\n\n  mutableDate.month += duration.months || 0;\n\n  balanceYearMonth(mutableDate);\n  constrainMonthDay(mutableDate);\n\n  mutableDate.day += (duration.weeks || 0) * 7;\n  mutableDate.day += duration.days || 0;\n  mutableDate.day += days;\n\n  balanceDay(mutableDate);\n\n  if (mutableDate.calendar.balanceDate) {\n    mutableDate.calendar.balanceDate(mutableDate);\n  }\n\n  // Constrain in case adding ended up with a date outside the valid range for the calendar system.\n  // The behavior here is slightly different than when constraining in the `set` function in that\n  // we adjust smaller fields to their minimum/maximum values rather than constraining each field\n  // individually. This matches the general behavior of `add` vs `set` regarding how fields are balanced.\n  if (mutableDate.year < 1) {\n    mutableDate.year = 1;\n    mutableDate.month = 1;\n    mutableDate.day = 1;\n  }\n\n  let maxYear = mutableDate.calendar.getYearsInEra(mutableDate);\n  if (mutableDate.year > maxYear) {\n    let isInverseEra = mutableDate.calendar.isInverseEra?.(mutableDate);\n    mutableDate.year = maxYear;\n    mutableDate.month = isInverseEra ? 1 : mutableDate.calendar.getMonthsInYear(mutableDate);\n    mutableDate.day = isInverseEra ? 1 : mutableDate.calendar.getDaysInMonth(mutableDate);\n  }\n\n  if (mutableDate.month < 1) {\n    mutableDate.month = 1;\n    mutableDate.day = 1;\n  }\n\n  let maxMonth = mutableDate.calendar.getMonthsInYear(mutableDate);\n  if (mutableDate.month > maxMonth) {\n    mutableDate.month = maxMonth;\n    mutableDate.day = mutableDate.calendar.getDaysInMonth(mutableDate);\n  }\n\n  mutableDate.day = Math.max(1, Math.min(mutableDate.calendar.getDaysInMonth(mutableDate), mutableDate.day));\n  return mutableDate;\n}\n\nfunction addYears(date: Mutable<AnyCalendarDate>, years: number) {\n  if (date.calendar.isInverseEra?.(date)) {\n    years = -years;\n  }\n\n  date.year += years;\n}\n\nfunction balanceYearMonth(date: Mutable<AnyCalendarDate>) {\n  while (date.month < 1) {\n    addYears(date, -1);\n    date.month += date.calendar.getMonthsInYear(date);\n  }\n\n  let monthsInYear = 0;\n  while (date.month > (monthsInYear = date.calendar.getMonthsInYear(date))) {\n    date.month -= monthsInYear;\n    addYears(date, 1);\n  }\n}\n\nfunction balanceDay(date: Mutable<AnyCalendarDate>) {\n  while (date.day < 1) {\n    date.month--;\n    balanceYearMonth(date);\n    date.day += date.calendar.getDaysInMonth(date);\n  }\n\n  while (date.day > date.calendar.getDaysInMonth(date)) {\n    date.day -= date.calendar.getDaysInMonth(date);\n    date.month++;\n    balanceYearMonth(date);\n  }\n}\n\nfunction constrainMonthDay(date: Mutable<AnyCalendarDate>) {\n  date.month = Math.max(1, Math.min(date.calendar.getMonthsInYear(date), date.month));\n  date.day = Math.max(1, Math.min(date.calendar.getDaysInMonth(date), date.day));\n}\n\nexport function constrain(date: Mutable<AnyCalendarDate>) {\n  if (date.calendar.constrainDate) {\n    date.calendar.constrainDate(date);\n  }\n\n  date.year = Math.max(1, Math.min(date.calendar.getYearsInEra(date), date.year));\n  constrainMonthDay(date);\n}\n\nexport function invertDuration(duration: DateTimeDuration): DateTimeDuration {\n  let inverseDuration = {};\n  for (let key in duration) {\n    if (typeof duration[key] === 'number') {\n      inverseDuration[key] = -duration[key];\n    }\n  }\n\n  return inverseDuration;\n}\n\nexport function subtract(date: CalendarDateTime, duration: DateTimeDuration): CalendarDateTime;\nexport function subtract(date: CalendarDate, duration: DateDuration): CalendarDate;\nexport function subtract(date: CalendarDate | CalendarDateTime, duration: DateTimeDuration): CalendarDate | CalendarDateTime {\n  return add(date, invertDuration(duration));\n}\n\nexport function set(date: CalendarDateTime, fields: DateFields): CalendarDateTime;\nexport function set(date: CalendarDate, fields: DateFields): CalendarDate;\nexport function set(date: CalendarDate | CalendarDateTime, fields: DateFields) {\n  let mutableDate: Mutable<AnyCalendarDate> = date.copy();\n\n  if (fields.era != null) {\n    mutableDate.era = fields.era;\n  }\n\n  if (fields.year != null) {\n    mutableDate.year = fields.year;\n  }\n\n  if (fields.month != null) {\n    mutableDate.month = fields.month;\n  }\n\n  if (fields.day != null) {\n    mutableDate.day = fields.day;\n  }\n\n  constrain(mutableDate);\n  return mutableDate;\n}\n\nexport function setTime(value: CalendarDateTime, fields: TimeFields): CalendarDateTime;\nexport function setTime(value: Time, fields: TimeFields): Time;\nexport function setTime(value: Time | CalendarDateTime, fields: TimeFields) {\n  let mutableValue: Mutable<Time | CalendarDateTime> = value.copy();\n\n  if (fields.hour != null) {\n    mutableValue.hour = fields.hour;\n  }\n\n  if (fields.minute != null) {\n    mutableValue.minute = fields.minute;\n  }\n\n  if (fields.second != null) {\n    mutableValue.second = fields.second;\n  }\n\n  if (fields.millisecond != null) {\n    mutableValue.millisecond = fields.millisecond;\n  }\n\n  constrainTime(mutableValue);\n  return mutableValue;\n}\n\nfunction balanceTime(time: Mutable<AnyTime>): number {\n  time.second += Math.floor(time.millisecond / 1000);\n  time.millisecond = nonNegativeMod(time.millisecond, 1000);\n\n  time.minute += Math.floor(time.second / 60);\n  time.second = nonNegativeMod(time.second, 60);\n\n  time.hour += Math.floor(time.minute / 60);\n  time.minute = nonNegativeMod(time.minute, 60);\n\n  let days = Math.floor(time.hour / 24);\n  time.hour = nonNegativeMod(time.hour, 24);\n\n  return days;\n}\n\nexport function constrainTime(time: Mutable<AnyTime>) {\n  time.millisecond = Math.max(0, Math.min(time.millisecond, 1000));\n  time.second = Math.max(0, Math.min(time.second, 59));\n  time.minute = Math.max(0, Math.min(time.minute, 59));\n  time.hour = Math.max(0, Math.min(time.hour, 23));\n}\n\nfunction nonNegativeMod(a: number, b: number) {\n  let result = a % b;\n  if (result < 0) {\n    result += b;\n  }\n  return result;\n}\n\nfunction addTimeFields(time: Mutable<AnyTime>, duration: TimeDuration): number {\n  time.hour += duration.hours || 0;\n  time.minute += duration.minutes || 0;\n  time.second += duration.seconds || 0;\n  time.millisecond += duration.milliseconds || 0;\n  return balanceTime(time);\n}\n\nexport function addTime(time: Time, duration: TimeDuration): Time {\n  let res = time.copy();\n  addTimeFields(res, duration);\n  return res;\n}\n\nexport function subtractTime(time: Time, duration: TimeDuration): Time {\n  return addTime(time, invertDuration(duration));\n}\n\nexport function cycleDate(value: CalendarDateTime, field: DateField, amount: number, options?: CycleOptions): CalendarDateTime;\nexport function cycleDate(value: CalendarDate, field: DateField, amount: number, options?: CycleOptions): CalendarDate;\nexport function cycleDate(value: CalendarDate | CalendarDateTime, field: DateField, amount: number, options?: CycleOptions) {\n  let mutable: Mutable<CalendarDate | CalendarDateTime> = value.copy();\n\n  switch (field) {\n    case 'era': {\n      let eras = value.calendar.getEras();\n      let eraIndex = eras.indexOf(value.era);\n      if (eraIndex < 0) {\n        throw new Error('Invalid era: ' + value.era);\n      }\n      eraIndex = cycleValue(eraIndex, amount, 0, eras.length - 1, options?.round);\n      mutable.era = eras[eraIndex];\n\n      // Constrain the year and other fields within the era, so the era doesn't change when we balance below.\n      constrain(mutable);\n      break;\n    }\n    case 'year': {\n      if (mutable.calendar.isInverseEra?.(mutable)) {\n        amount = -amount;\n      }\n\n      // The year field should not cycle within the era as that can cause weird behavior affecting other fields.\n      // We need to also allow values < 1 so that decrementing goes to the previous era. If we get -Infinity back\n      // we know we wrapped around after reaching 9999 (the maximum), so set the year back to 1.\n      mutable.year = cycleValue(value.year, amount, -Infinity, 9999, options?.round);\n      if (mutable.year === -Infinity) {\n        mutable.year = 1;\n      }\n\n      if (mutable.calendar.balanceYearMonth) {\n        mutable.calendar.balanceYearMonth(mutable, value);\n      }\n      break;\n    }\n    case 'month':\n      mutable.month = cycleValue(value.month, amount, 1, value.calendar.getMonthsInYear(value), options?.round);\n      break;\n    case 'day':\n      mutable.day = cycleValue(value.day, amount, 1, value.calendar.getDaysInMonth(value), options?.round);\n      break;\n    default:\n      throw new Error('Unsupported field ' + field);\n  }\n\n  if (value.calendar.balanceDate) {\n    value.calendar.balanceDate(mutable);\n  }\n\n  constrain(mutable);\n  return mutable;\n}\n\nexport function cycleTime(value: CalendarDateTime, field: TimeField, amount: number, options?: CycleTimeOptions): CalendarDateTime;\nexport function cycleTime(value: Time, field: TimeField, amount: number, options?: CycleTimeOptions): Time;\nexport function cycleTime(value: Time | CalendarDateTime, field: TimeField, amount: number, options?: CycleTimeOptions) {\n  let mutable: Mutable<Time | CalendarDateTime> = value.copy();\n\n  switch (field) {\n    case 'hour': {\n      let hours = value.hour;\n      let min = 0;\n      let max = 23;\n      if (options?.hourCycle === 12) {\n        let isPM = hours >= 12;\n        min = isPM ? 12 : 0;\n        max = isPM ? 23 : 11;\n      }\n      mutable.hour = cycleValue(hours, amount, min, max, options?.round);\n      break;\n    }\n    case 'minute':\n      mutable.minute = cycleValue(value.minute, amount, 0, 59, options?.round);\n      break;\n    case 'second':\n      mutable.second = cycleValue(value.second, amount, 0, 59, options?.round);\n      break;\n    case 'millisecond':\n      mutable.millisecond = cycleValue(value.millisecond, amount, 0, 999, options?.round);\n      break;\n    default:\n      throw new Error('Unsupported field ' + field);\n  }\n\n  return mutable;\n}\n\nfunction cycleValue(value: number, amount: number, min: number, max: number, round = false) {\n  if (round) {\n    value += Math.sign(amount);\n\n    if (value < min) {\n      value = max;\n    }\n\n    let div = Math.abs(amount);\n    if (amount > 0) {\n      value = Math.ceil(value / div) * div;\n    } else {\n      value = Math.floor(value / div) * div;\n    }\n\n    if (value > max) {\n      value = min;\n    }\n  } else {\n    value += amount;\n    if (value < min) {\n      value = max - (min - value - 1);\n    } else if (value > max) {\n      value = min + (value - max - 1);\n    }\n  }\n\n  return value;\n}\n\nexport function addZoned(dateTime: ZonedDateTime, duration: DateTimeDuration): ZonedDateTime {\n  let ms: number;\n  if ((duration.years != null && duration.years !== 0) || (duration.months != null && duration.months !== 0) || (duration.weeks != null && duration.weeks !== 0) || (duration.days != null && duration.days !== 0)) {\n    let res = add(toCalendarDateTime(dateTime), {\n      years: duration.years,\n      months: duration.months,\n      weeks: duration.weeks,\n      days: duration.days\n    });\n\n    // Changing the date may change the timezone offset, so we need to recompute\n    // using the 'compatible' disambiguation.\n    ms = toAbsolute(res, dateTime.timeZone);\n  } else {\n    // Otherwise, preserve the offset of the original date.\n    ms = epochFromDate(dateTime) - dateTime.offset;\n  }\n\n  // Perform time manipulation in milliseconds rather than on the original time fields to account for DST.\n  // For example, adding one hour during a DST transition may result in the hour field staying the same or\n  // skipping an hour. This results in the offset field changing value instead of the specified field.\n  ms += duration.milliseconds || 0;\n  ms += (duration.seconds || 0) * 1000;\n  ms += (duration.minutes || 0) * 60 * 1000;\n  ms += (duration.hours || 0) * 60 * 60 * 1000;\n\n  let res = fromAbsolute(ms, dateTime.timeZone);\n  return toCalendar(res, dateTime.calendar);\n}\n\nexport function subtractZoned(dateTime: ZonedDateTime, duration: DateTimeDuration): ZonedDateTime {\n  return addZoned(dateTime, invertDuration(duration));\n}\n\nexport function cycleZoned(dateTime: ZonedDateTime, field: DateField | TimeField, amount: number, options?: CycleTimeOptions): ZonedDateTime {\n  // For date fields, we want the time to remain consistent and the UTC offset to potentially change to account for DST changes.\n  // For time fields, we want the time to change by the amount given. This may result in the hour field staying the same, but the UTC\n  // offset changing in the case of a backward DST transition, or skipping an hour in the case of a forward DST transition.\n  switch (field) {\n    case 'hour': {\n      let min = 0;\n      let max = 23;\n      if (options?.hourCycle === 12) {\n        let isPM = dateTime.hour >= 12;\n        min = isPM ? 12 : 0;\n        max = isPM ? 23 : 11;\n      }\n\n      // The minimum and maximum hour may be affected by daylight saving time.\n      // For example, it might jump forward at midnight, and skip 1am.\n      // Or it might end at midnight and repeat the 11pm hour. To handle this, we get\n      // the possible absolute times for the min and max, and find the maximum range\n      // that is within the current day.\n      let plainDateTime = toCalendarDateTime(dateTime);\n      let minDate = toCalendar(setTime(plainDateTime, {hour: min}), new GregorianCalendar());\n      let minAbsolute = [toAbsolute(minDate, dateTime.timeZone, 'earlier'), toAbsolute(minDate, dateTime.timeZone, 'later')]\n        .filter(ms => fromAbsolute(ms, dateTime.timeZone).day === minDate.day)[0];\n\n      let maxDate = toCalendar(setTime(plainDateTime, {hour: max}), new GregorianCalendar());\n      let maxAbsolute = [toAbsolute(maxDate, dateTime.timeZone, 'earlier'), toAbsolute(maxDate, dateTime.timeZone, 'later')]\n        .filter(ms => fromAbsolute(ms, dateTime.timeZone).day === maxDate.day).pop()!;\n\n      // Since hours may repeat, we need to operate on the absolute time in milliseconds.\n      // This is done in hours from the Unix epoch so that cycleValue works correctly,\n      // and then converted back to milliseconds.\n      let ms = epochFromDate(dateTime) - dateTime.offset;\n      let hours = Math.floor(ms / ONE_HOUR);\n      let remainder = ms % ONE_HOUR;\n      ms = cycleValue(\n        hours,\n        amount,\n        Math.floor(minAbsolute / ONE_HOUR),\n        Math.floor(maxAbsolute / ONE_HOUR),\n        options?.round\n      ) * ONE_HOUR + remainder;\n\n      // Now compute the new timezone offset, and convert the absolute time back to local time.\n      return toCalendar(fromAbsolute(ms, dateTime.timeZone), dateTime.calendar);\n    }\n    case 'minute':\n    case 'second':\n    case 'millisecond':\n      // @ts-ignore\n      return cycleTime(dateTime, field, amount, options);\n    case 'era':\n    case 'year':\n    case 'month':\n    case 'day': {\n      let res = cycleDate(toCalendarDateTime(dateTime), field, amount, options);\n      let ms = toAbsolute(res, dateTime.timeZone);\n      return toCalendar(fromAbsolute(ms, dateTime.timeZone), dateTime.calendar);\n    }\n    default:\n      throw new Error('Unsupported field ' + field);\n  }\n}\n\nexport function setZoned(dateTime: ZonedDateTime, fields: DateFields & TimeFields, disambiguation?: Disambiguation): ZonedDateTime {\n  // Set the date/time fields, and recompute the UTC offset to account for DST changes.\n  // We also need to validate by converting back to a local time in case hours are skipped during forward DST transitions.\n  let plainDateTime = toCalendarDateTime(dateTime);\n  let res = setTime(set(plainDateTime, fields), fields);\n\n  // If the resulting plain date time values are equal, return the original time.\n  // We don't want to change the offset when setting the time to the same value.\n  if (res.compare(plainDateTime) === 0) {\n    return dateTime;\n  }\n\n  let ms = toAbsolute(res, dateTime.timeZone, disambiguation);\n  return toCalendar(fromAbsolute(ms, dateTime.timeZone), dateTime.calendar);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AnyDateTime, DateTimeDuration, Disambiguation} from './types';\nimport {CalendarDate, CalendarDateTime, Time, ZonedDateTime} from './CalendarDate';\nimport {epochFromDate, fromAbsolute, possibleAbsolutes, toAbsolute, toCalendar, toCalendarDateTime, toTimeZone} from './conversion';\nimport {getLocalTimeZone} from './queries';\nimport {GregorianCalendar} from './calendars/GregorianCalendar';\nimport {Mutable} from './utils';\n\nconst TIME_RE = /^(\\d{2})(?::(\\d{2}))?(?::(\\d{2}))?(\\.\\d+)?$/;\nconst DATE_RE = /^(\\d{4})-(\\d{2})-(\\d{2})$/;\nconst DATE_TIME_RE = /^(\\d{4})-(\\d{2})-(\\d{2})(?:T(\\d{2}))?(?::(\\d{2}))?(?::(\\d{2}))?(\\.\\d+)?$/;\nconst ZONED_DATE_TIME_RE = /^(\\d{4})-(\\d{2})-(\\d{2})(?:T(\\d{2}))?(?::(\\d{2}))?(?::(\\d{2}))?(\\.\\d+)?(?:([+-]\\d{2})(?::?(\\d{2}))?)?\\[(.*?)\\]$/;\nconst ABSOLUTE_RE = /^(\\d{4})-(\\d{2})-(\\d{2})(?:T(\\d{2}))?(?::(\\d{2}))?(?::(\\d{2}))?(\\.\\d+)?(?:(?:([+-]\\d{2})(?::?(\\d{2}))?)|Z)$/;\nconst DATE_TIME_DURATION_RE =\n    /^((?<negative>-)|\\+)?P((?<years>\\d*)Y)?((?<months>\\d*)M)?((?<weeks>\\d*)W)?((?<days>\\d*)D)?((?<time>T)((?<hours>\\d*[.,]?\\d{1,9})H)?((?<minutes>\\d*[.,]?\\d{1,9})M)?((?<seconds>\\d*[.,]?\\d{1,9})S)?)?$/;\nconst requiredDurationTimeGroups = ['hours', 'minutes', 'seconds'];\nconst requiredDurationGroups = ['years', 'months', 'weeks', 'days', ...requiredDurationTimeGroups];\n\n/** Parses an ISO 8601 time string. */\nexport function parseTime(value: string): Time {\n  let m = value.match(TIME_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 time string: ' + value);\n  }\n\n  return new Time(\n    parseNumber(m[1], 0, 23),\n    m[2] ? parseNumber(m[2], 0, 59) : 0,\n    m[3] ? parseNumber(m[3], 0, 59) : 0,\n    m[4] ? parseNumber(m[4], 0, Infinity) * 1000 : 0\n  );\n}\n\n/** Parses an ISO 8601 date string, with no time components. */\nexport function parseDate(value: string): CalendarDate {\n  let m = value.match(DATE_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 date string: ' + value);\n  }\n\n  let date: Mutable<CalendarDate> = new CalendarDate(\n    parseNumber(m[1], 0, 9999),\n    parseNumber(m[2], 1, 12),\n    1\n  );\n\n  date.day = parseNumber(m[3], 0, date.calendar.getDaysInMonth(date));\n  return date as CalendarDate;\n}\n\n/** Parses an ISO 8601 date and time string, with no time zone. */\nexport function parseDateTime(value: string): CalendarDateTime {\n  let m = value.match(DATE_TIME_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 date time string: ' + value);\n  }\n\n  let date: Mutable<CalendarDateTime> = new CalendarDateTime(\n    parseNumber(m[1], 1, 9999),\n    parseNumber(m[2], 1, 12),\n    1,\n    m[4] ? parseNumber(m[4], 0, 23) : 0,\n    m[5] ? parseNumber(m[5], 0, 59) : 0,\n    m[6] ? parseNumber(m[6], 0, 59) : 0,\n    m[7] ? parseNumber(m[7], 0, Infinity) * 1000 : 0\n  );\n\n  date.day = parseNumber(m[3], 0, date.calendar.getDaysInMonth(date));\n  return date as CalendarDateTime;\n}\n\n/**\n * Parses an ISO 8601 date and time string with a time zone extension and optional UTC offset\n * (e.g. \"2021-11-07T00:45[America/Los_Angeles]\" or \"2021-11-07T00:45-07:00[America/Los_Angeles]\").\n * Ambiguous times due to daylight saving time transitions are resolved according to the `disambiguation`\n * parameter.\n */\nexport function parseZonedDateTime(value: string, disambiguation?: Disambiguation): ZonedDateTime {\n  let m = value.match(ZONED_DATE_TIME_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 date time string: ' + value);\n  }\n\n  let date: Mutable<ZonedDateTime> = new ZonedDateTime(\n    parseNumber(m[1], 1, 9999),\n    parseNumber(m[2], 1, 12),\n    1,\n    m[10],\n    0,\n    m[4] ? parseNumber(m[4], 0, 23) : 0,\n    m[5] ? parseNumber(m[5], 0, 59) : 0,\n    m[6] ? parseNumber(m[6], 0, 59) : 0,\n    m[7] ? parseNumber(m[7], 0, Infinity) * 1000 : 0\n  );\n\n  date.day = parseNumber(m[3], 0, date.calendar.getDaysInMonth(date));\n\n  let plainDateTime = toCalendarDateTime(date as ZonedDateTime);\n\n  let ms: number;\n  if (m[8]) {\n    date.offset = parseNumber(m[8], -23, 23) * 60 * 60 * 1000 + parseNumber(m[9] ?? '0', 0, 59) * 60 * 1000;\n    ms = epochFromDate(date as ZonedDateTime) - date.offset;\n\n    // Validate offset against parsed date.\n    let absolutes = possibleAbsolutes(plainDateTime, date.timeZone);\n    if (!absolutes.includes(ms)) {\n      throw new Error(`Offset ${offsetToString(date.offset)} is invalid for ${dateTimeToString(date)} in ${date.timeZone}`);\n    }\n  } else {\n    // Convert to absolute and back to fix invalid times due to DST.\n    ms = toAbsolute(toCalendarDateTime(plainDateTime), date.timeZone, disambiguation);\n  }\n\n  return fromAbsolute(ms, date.timeZone);\n}\n\n/**\n * Parses an ISO 8601 date and time string with a UTC offset (e.g. \"2021-11-07T07:45:00Z\"\n * or \"2021-11-07T07:45:00-07:00\"). The result is converted to the provided time zone.\n */\nexport function parseAbsolute(value: string, timeZone: string): ZonedDateTime {\n  let m = value.match(ABSOLUTE_RE);\n  if (!m) {\n    throw new Error('Invalid ISO 8601 date time string: ' + value);\n  }\n\n  let date: Mutable<ZonedDateTime> = new ZonedDateTime(\n    parseNumber(m[1], 1, 9999),\n    parseNumber(m[2], 1, 12),\n    1,\n    timeZone,\n    0,\n    m[4] ? parseNumber(m[4], 0, 23) : 0,\n    m[5] ? parseNumber(m[5], 0, 59) : 0,\n    m[6] ? parseNumber(m[6], 0, 59) : 0,\n    m[7] ? parseNumber(m[7], 0, Infinity) * 1000 : 0\n  );\n\n  date.day = parseNumber(m[3], 0, date.calendar.getDaysInMonth(date));\n\n  if (m[8]) {\n    date.offset = parseNumber(m[8], -23, 23) * 60 * 60 * 1000 + parseNumber(m[9] ?? '0', 0, 59) * 60 * 1000;\n  }\n\n  return toTimeZone(date as ZonedDateTime, timeZone);\n}\n\n/**\n * Parses an ISO 8601 date and time string with a UTC offset (e.g. \"2021-11-07T07:45:00Z\"\n * or \"2021-11-07T07:45:00-07:00\"). The result is converted to the user's local time zone.\n */\nexport function parseAbsoluteToLocal(value: string): ZonedDateTime {\n  return parseAbsolute(value, getLocalTimeZone());\n}\n\nfunction parseNumber(value: string, min: number, max: number) {\n  let val = Number(value);\n  if (val < min || val > max) {\n    throw new RangeError(`Value out of range: ${min} <= ${val} <= ${max}`);\n  }\n\n  return val;\n}\n\nexport function timeToString(time: Time): string {\n  return `${String(time.hour).padStart(2, '0')}:${String(time.minute).padStart(2, '0')}:${String(time.second).padStart(2, '0')}${time.millisecond ? String(time.millisecond / 1000).slice(1) : ''}`;\n}\n\nexport function dateToString(date: CalendarDate): string {\n  let gregorianDate = toCalendar(date, new GregorianCalendar());\n  return `${String(gregorianDate.year).padStart(4, '0')}-${String(gregorianDate.month).padStart(2, '0')}-${String(gregorianDate.day).padStart(2, '0')}`;\n}\n\nexport function dateTimeToString(date: AnyDateTime): string {\n  // @ts-ignore\n  return `${dateToString(date)}T${timeToString(date)}`;\n}\n\nfunction offsetToString(offset: number) {\n  let sign = Math.sign(offset) < 0 ? '-' : '+';\n  offset = Math.abs(offset);\n  let offsetHours = Math.floor(offset / (60 * 60 * 1000));\n  let offsetMinutes = (offset % (60 * 60 * 1000)) / (60 * 1000);\n  return `${sign}${String(offsetHours).padStart(2, '0')}:${String(offsetMinutes).padStart(2, '0')}`;\n}\n\nexport function zonedDateTimeToString(date: ZonedDateTime): string {\n  return `${dateTimeToString(date)}${offsetToString(date.offset)}[${date.timeZone}]`;\n}\n\n/**\n * Parses an ISO 8601 duration string (e.g. \"P3Y6M6W4DT12H30M5S\").\n * @param value An ISO 8601 duration string.\n * @returns A DateTimeDuration object.\n */\nexport function parseDuration(value: string): Required<DateTimeDuration> {\n  const match = value.match(DATE_TIME_DURATION_RE);\n\n  if (!match) {\n    throw new Error(`Invalid ISO 8601 Duration string: ${value}`);\n  }\n\n  const parseDurationGroup = (\n    group: string | undefined,\n    isNegative: boolean,\n    min: number,\n    max: number\n  ): number => {\n    if (!group) {\n      return 0;\n    }\n    try {\n      const sign = isNegative ? -1 : 1;\n      return sign * parseNumber(group.replace(',', '.'), min, max);\n    } catch {\n      throw new Error(`Invalid ISO 8601 Duration string: ${value}`);\n    }\n  };\n\n  const isNegative = !!match.groups?.negative;\n\n  const hasRequiredGroups = requiredDurationGroups.some(group => match.groups?.[group]);\n\n  if (!hasRequiredGroups) {\n    throw new Error(`Invalid ISO 8601 Duration string: ${value}`);\n  }\n\n  const durationStringIncludesTime = match.groups?.time;\n\n  if (durationStringIncludesTime) {\n    const hasRequiredDurationTimeGroups = requiredDurationTimeGroups.some(group => match.groups?.[group]);\n    if (!hasRequiredDurationTimeGroups) {\n      throw new Error(`Invalid ISO 8601 Duration string: ${value}`);\n    }\n  }\n\n  const duration: Mutable<DateTimeDuration> = {\n    years: parseDurationGroup(match.groups?.years, isNegative, 0, 9999),\n    months: parseDurationGroup(match.groups?.months, isNegative, 0, 12),\n    weeks: parseDurationGroup(match.groups?.weeks, isNegative, 0, Infinity),\n    days: parseDurationGroup(match.groups?.days, isNegative, 0, 31),\n    hours: parseDurationGroup(match.groups?.hours, isNegative, 0, 23),\n    minutes: parseDurationGroup(match.groups?.minutes, isNegative, 0, 59),\n    seconds: parseDurationGroup(match.groups?.seconds, isNegative, 0, 59)\n  };\n\n  if (duration.hours !== undefined && ((duration.hours % 1) !== 0) && (duration.minutes || duration.seconds)) {\n    throw new Error(`Invalid ISO 8601 Duration string: ${value} - only the smallest unit can be fractional`);\n  }\n\n  if (duration.minutes !== undefined && ((duration.minutes % 1) !== 0) && duration.seconds) {\n    throw new Error(`Invalid ISO 8601 Duration string: ${value} - only the smallest unit can be fractional`);\n  }\n\n  return duration as Required<DateTimeDuration>;\n}\n", "export function _check_private_redeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nexport { _check_private_redeclaration as _ };\n", "import { _check_private_redeclaration } from \"./_check_private_redeclaration.js\";\n\nexport function _class_private_field_init(obj, privateMap, value) {\n    _check_private_redeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nexport { _class_private_field_init as _ };\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {add, addTime, addZoned, constrain, constrainTime, cycleDate, cycleTime, cycleZoned, set, setTime, setZoned, subtract, subtractTime, subtractZoned} from './manipulation';\nimport {AnyCalendarDate, AnyTime, Calendar, CycleOptions, CycleTimeOptions, DateDuration, DateField, DateFields, DateTimeDuration, Disambiguation, TimeDuration, TimeField, TimeFields} from './types';\nimport {compareDate, compareTime} from './queries';\nimport {dateTimeToString, dateToString, timeToString, zonedDateTimeToString} from './string';\nimport {GregorianCalendar} from './calendars/GregorianCalendar';\nimport {toCalendarDateTime, toDate, toZoned, zonedToDate} from './conversion';\n\nfunction shiftArgs(args: any[]) {\n  let calendar: Calendar = typeof args[0] === 'object'\n    ? args.shift()\n    : new GregorianCalendar();\n\n  let era: string;\n  if (typeof args[0] === 'string') {\n    era = args.shift();\n  } else {\n    let eras = calendar.getEras();\n    era = eras[eras.length - 1];\n  }\n\n  let year = args.shift();\n  let month = args.shift();\n  let day = args.shift();\n\n  return [calendar, era, year, month, day];\n}\n\n/** A CalendarDate represents a date without any time components in a specific calendar system. */\nexport class CalendarDate {\n  // This prevents TypeScript from allowing other types with the same fields to match.\n  // i.e. a ZonedDateTime should not be be passable to a parameter that expects CalendarDate.\n  // If that behavior is desired, use the AnyCalendarDate interface instead.\n  // @ts-ignore\n  #type;\n  /** The calendar system associated with this date, e.g. Gregorian. */\n  public readonly calendar: Calendar;\n  /** The calendar era for this date, e.g. \"BC\" or \"AD\". */\n  public readonly era: string;\n  /** The year of this date within the era. */\n  public readonly year: number;\n  /**\n   * The month number within the year. Note that some calendar systems such as Hebrew\n   * may have a variable number of months per year. Therefore, month numbers may not\n   * always correspond to the same month names in different years.\n   */\n  public readonly month: number;\n  /** The day number within the month. */\n  public readonly day: number;\n\n  constructor(year: number, month: number, day: number);\n  constructor(era: string, year: number, month: number, day: number);\n  constructor(calendar: Calendar, year: number, month: number, day: number);\n  constructor(calendar: Calendar, era: string, year: number, month: number, day: number);\n  constructor(...args: any[]) {\n    let [calendar, era, year, month, day] = shiftArgs(args);\n    this.calendar = calendar;\n    this.era = era;\n    this.year = year;\n    this.month = month;\n    this.day = day;\n\n    constrain(this);\n  }\n\n  /** Returns a copy of this date. */\n  copy(): CalendarDate {\n    if (this.era) {\n      return new CalendarDate(this.calendar, this.era, this.year, this.month, this.day);\n    } else {\n      return new CalendarDate(this.calendar, this.year, this.month, this.day);\n    }\n  }\n\n  /** Returns a new `CalendarDate` with the given duration added to it. */\n  add(duration: DateDuration): CalendarDate {\n    return add(this, duration);\n  }\n\n  /** Returns a new `CalendarDate` with the given duration subtracted from it. */\n  subtract(duration: DateDuration): CalendarDate {\n    return subtract(this, duration);\n  }\n\n  /** Returns a new `CalendarDate` with the given fields set to the provided values. Other fields will be constrained accordingly. */\n  set(fields: DateFields): CalendarDate {\n    return set(this, fields);\n  }\n\n  /**\n   * Returns a new `CalendarDate` with the given field adjusted by a specified amount.\n   * When the resulting value reaches the limits of the field, it wraps around.\n   */\n  cycle(field: DateField, amount: number, options?: CycleOptions): CalendarDate {\n    return cycleDate(this, field, amount, options);\n  }\n\n  /** Converts the date to a native JavaScript Date object, with the time set to midnight in the given time zone. */\n  toDate(timeZone: string): Date {\n    return toDate(this, timeZone);\n  }\n\n  /** Converts the date to an ISO 8601 formatted string. */\n  toString(): string {\n    return dateToString(this);\n  }\n\n  /** Compares this date with another. A negative result indicates that this date is before the given one, and a positive date indicates that it is after. */\n  compare(b: AnyCalendarDate): number {\n    return compareDate(this, b);\n  }\n}\n\n/** A Time represents a clock time without any date components. */\nexport class Time {\n  // This prevents TypeScript from allowing other types with the same fields to match.\n  // @ts-ignore\n  #type;\n  /** The hour, numbered from 0 to 23. */\n  public readonly hour: number;\n  /** The minute in the hour. */\n  public readonly minute: number;\n  /** The second in the minute. */\n  public readonly second: number;\n  /** The millisecond in the second. */\n  public readonly millisecond: number;\n\n  constructor(\n    hour: number = 0,\n    minute: number = 0,\n    second: number = 0,\n    millisecond: number = 0\n  ) {\n    this.hour = hour;\n    this.minute = minute;\n    this.second = second;\n    this.millisecond = millisecond;\n    constrainTime(this);\n  }\n\n  /** Returns a copy of this time. */\n  copy(): Time {\n    return new Time(this.hour, this.minute, this.second, this.millisecond);\n  }\n\n  /** Returns a new `Time` with the given duration added to it. */\n  add(duration: TimeDuration) {\n    return addTime(this, duration);\n  }\n\n  /** Returns a new `Time` with the given duration subtracted from it. */\n  subtract(duration: TimeDuration) {\n    return subtractTime(this, duration);\n  }\n\n  /** Returns a new `Time` with the given fields set to the provided values. Other fields will be constrained accordingly. */\n  set(fields: TimeFields) {\n    return setTime(this, fields);\n  }\n\n  /**\n   * Returns a new `Time` with the given field adjusted by a specified amount.\n   * When the resulting value reaches the limits of the field, it wraps around.\n   */\n  cycle(field: TimeField, amount: number, options?: CycleTimeOptions) {\n    return cycleTime(this, field, amount, options);\n  }\n\n  /** Converts the time to an ISO 8601 formatted string. */\n  toString() {\n    return timeToString(this);\n  }\n\n  /** Compares this time with another. A negative result indicates that this time is before the given one, and a positive time indicates that it is after. */\n  compare(b: AnyTime) {\n    return compareTime(this, b);\n  }\n}\n\n/** A CalendarDateTime represents a date and time without a time zone, in a specific calendar system. */\nexport class CalendarDateTime {\n  // This prevents TypeScript from allowing other types with the same fields to match.\n  // @ts-ignore\n  #type;\n  /** The calendar system associated with this date, e.g. Gregorian. */\n  public readonly calendar: Calendar;\n  /** The calendar era for this date, e.g. \"BC\" or \"AD\". */\n  public readonly era: string;\n  /** The year of this date within the era. */\n  public readonly year: number;\n  /**\n   * The month number within the year. Note that some calendar systems such as Hebrew\n   * may have a variable number of months per year. Therefore, month numbers may not\n   * always correspond to the same month names in different years.\n   */\n  public readonly month: number;\n  /** The day number within the month. */\n  public readonly day: number;\n  /** The hour in the day, numbered from 0 to 23. */\n  public readonly hour: number;\n  /** The minute in the hour. */\n  public readonly minute: number;\n  /** The second in the minute. */\n  public readonly second: number;\n  /** The millisecond in the second. */\n  public readonly millisecond: number;\n\n  constructor(year: number, month: number, day: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(era: string, year: number, month: number, day: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(calendar: Calendar, year: number, month: number, day: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(calendar: Calendar, era: string, year: number, month: number, day: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(...args: any[]) {\n    let [calendar, era, year, month, day] = shiftArgs(args);\n    this.calendar = calendar;\n    this.era = era;\n    this.year = year;\n    this.month = month;\n    this.day = day;\n    this.hour = args.shift() || 0;\n    this.minute = args.shift() || 0;\n    this.second = args.shift() || 0;\n    this.millisecond = args.shift() || 0;\n\n    constrain(this);\n  }\n\n  /** Returns a copy of this date. */\n  copy(): CalendarDateTime {\n    if (this.era) {\n      return new CalendarDateTime(this.calendar, this.era, this.year, this.month, this.day, this.hour, this.minute, this.second, this.millisecond);\n    } else {\n      return new CalendarDateTime(this.calendar, this.year, this.month, this.day, this.hour, this.minute, this.second, this.millisecond);\n    }\n  }\n\n  /** Returns a new `CalendarDateTime` with the given duration added to it. */\n  add(duration: DateTimeDuration): CalendarDateTime {\n    return add(this, duration);\n  }\n\n  /** Returns a new `CalendarDateTime` with the given duration subtracted from it. */\n  subtract(duration: DateTimeDuration): CalendarDateTime {\n    return subtract(this, duration);\n  }\n\n  /** Returns a new `CalendarDateTime` with the given fields set to the provided values. Other fields will be constrained accordingly. */\n  set(fields: DateFields & TimeFields): CalendarDateTime {\n    return set(setTime(this, fields), fields);\n  }\n\n  /**\n   * Returns a new `CalendarDateTime` with the given field adjusted by a specified amount.\n   * When the resulting value reaches the limits of the field, it wraps around.\n   */\n  cycle(field: DateField | TimeField, amount: number, options?: CycleTimeOptions): CalendarDateTime {\n    switch (field) {\n      case 'era':\n      case 'year':\n      case 'month':\n      case 'day':\n        return cycleDate(this, field, amount, options);\n      default:\n        return cycleTime(this, field, amount, options);\n    }\n  }\n\n  /** Converts the date to a native JavaScript Date object in the given time zone. */\n  toDate(timeZone: string, disambiguation?: Disambiguation): Date {\n    return toDate(this, timeZone, disambiguation);\n  }\n\n  /** Converts the date to an ISO 8601 formatted string. */\n  toString(): string {\n    return dateTimeToString(this);\n  }\n\n  /** Compares this date with another. A negative result indicates that this date is before the given one, and a positive date indicates that it is after. */\n  compare(b: CalendarDate | CalendarDateTime | ZonedDateTime): number {\n    let res = compareDate(this, b);\n    if (res === 0) {\n      return compareTime(this, toCalendarDateTime(b));\n    }\n\n    return res;\n  }\n}\n\n/** A ZonedDateTime represents a date and time in a specific time zone and calendar system. */\nexport class ZonedDateTime {\n  // This prevents TypeScript from allowing other types with the same fields to match.\n  // @ts-ignore\n  #type;\n  /** The calendar system associated with this date, e.g. Gregorian. */\n  public readonly calendar: Calendar;\n  /** The calendar era for this date, e.g. \"BC\" or \"AD\". */\n  public readonly era: string;\n  /** The year of this date within the era. */\n  public readonly year: number;\n  /**\n   * The month number within the year. Note that some calendar systems such as Hebrew\n   * may have a variable number of months per year. Therefore, month numbers may not\n   * always correspond to the same month names in different years.\n   */\n  public readonly month: number;\n  /** The day number within the month. */\n  public readonly day: number;\n  /** The hour in the day, numbered from 0 to 23. */\n  public readonly hour: number;\n  /** The minute in the hour. */\n  public readonly minute: number;\n  /** The second in the minute. */\n  public readonly second: number;\n  /** The millisecond in the second. */\n  public readonly millisecond: number;\n  /** The IANA time zone identifier that this date and time is represented in. */\n  public readonly timeZone: string;\n  /** The UTC offset for this time, in milliseconds. */\n  public readonly offset: number;\n\n  constructor(year: number, month: number, day: number, timeZone: string, offset: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(era: string, year: number, month: number, day: number, timeZone: string, offset: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(calendar: Calendar, year: number, month: number, day: number, timeZone: string, offset: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(calendar: Calendar, era: string, year: number, month: number, day: number, timeZone: string, offset: number, hour?: number, minute?: number, second?: number, millisecond?: number);\n  constructor(...args: any[]) {\n    let [calendar, era, year, month, day] = shiftArgs(args);\n    let timeZone = args.shift();\n    let offset = args.shift();\n    this.calendar = calendar;\n    this.era = era;\n    this.year = year;\n    this.month = month;\n    this.day = day;\n    this.timeZone = timeZone;\n    this.offset = offset;\n    this.hour = args.shift() || 0;\n    this.minute = args.shift() || 0;\n    this.second = args.shift() || 0;\n    this.millisecond = args.shift() || 0;\n\n    constrain(this);\n  }\n\n  /** Returns a copy of this date. */\n  copy(): ZonedDateTime {\n    if (this.era) {\n      return new ZonedDateTime(this.calendar, this.era, this.year, this.month, this.day, this.timeZone, this.offset, this.hour, this.minute, this.second, this.millisecond);\n    } else {\n      return new ZonedDateTime(this.calendar, this.year, this.month, this.day, this.timeZone, this.offset, this.hour, this.minute, this.second, this.millisecond);\n    }\n  }\n\n  /** Returns a new `ZonedDateTime` with the given duration added to it. */\n  add(duration: DateTimeDuration) {\n    return addZoned(this, duration);\n  }\n\n  /** Returns a new `ZonedDateTime` with the given duration subtracted from it. */\n  subtract(duration: DateTimeDuration) {\n    return subtractZoned(this, duration);\n  }\n\n  /** Returns a new `ZonedDateTime` with the given fields set to the provided values. Other fields will be constrained accordingly. */\n  set(fields: DateFields & TimeFields, disambiguation?: Disambiguation) {\n    return setZoned(this, fields, disambiguation);\n  }\n\n  /**\n   * Returns a new `ZonedDateTime` with the given field adjusted by a specified amount.\n   * When the resulting value reaches the limits of the field, it wraps around.\n   */\n  cycle(field: DateField | TimeField, amount: number, options?: CycleTimeOptions) {\n    return cycleZoned(this, field, amount, options);\n  }\n\n  /** Converts the date to a native JavaScript Date object. */\n  toDate() {\n    return zonedToDate(this);\n  }\n\n   /** Converts the date to an ISO 8601 formatted string, including the UTC offset and time zone identifier. */\n  toString() {\n    return zonedDateTimeToString(this);\n  }\n\n   /** Converts the date to an ISO 8601 formatted string in UTC. */\n  toAbsoluteString() {\n    return this.toDate().toISOString();\n  }\n\n  /** Compares this date with another. A negative result indicates that this date is before the given one, and a positive date indicates that it is after. */\n  compare(b: CalendarDate | CalendarDateTime | ZonedDateTime) {\n    // TODO: Is this a bad idea??\n    return this.toDate().getTime() - toZoned(b, this.timeZone).toDate().getTime();\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from ICU.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, Calendar} from '../types';\nimport {CalendarDate} from '../CalendarDate';\nimport {mod, Mutable} from '../utils';\n\nconst HEBREW_EPOCH = 347997;\n\n// Hebrew date calculations are performed in terms of days, hours, and\n// \"parts\" (or halakim), which are 1/1080 of an hour, or 3 1/3 seconds.\nconst HOUR_PARTS = 1080;\nconst DAY_PARTS  = 24 * HOUR_PARTS;\n\n// An approximate value for the length of a lunar month.\n// It is used to calculate the approximate year and month of a given\n// absolute date.\nconst MONTH_DAYS = 29;\nconst MONTH_FRACT = 12 * HOUR_PARTS + 793;\nconst MONTH_PARTS = MONTH_DAYS * DAY_PARTS + MONTH_FRACT;\n\nfunction isLeapYear(year: number) {\n  return mod(year * 7 + 1, 19) < 7;\n}\n\n// Test for delay of start of new year and to avoid\n// Sunday, Wednesday, and Friday as start of the new year.\nfunction hebrewDelay1(year: number) {\n  let months = Math.floor((235 * year - 234) / 19);\n  let parts = 12084 + 13753 * months;\n  let day = months * 29 + Math.floor(parts / 25920);\n\n  if (mod(3 * (day + 1), 7) < 3) {\n    day += 1;\n  }\n\n  return day;\n}\n\n// Check for delay in start of new year due to length of adjacent years\nfunction hebrewDelay2(year: number) {\n  let last = hebrewDelay1(year - 1);\n  let present = hebrewDelay1(year);\n  let next = hebrewDelay1(year + 1);\n\n  if (next - present === 356) {\n    return 2;\n  }\n\n  if (present - last === 382) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction startOfYear(year: number) {\n  return hebrewDelay1(year) + hebrewDelay2(year);\n}\n\nfunction getDaysInYear(year: number) {\n  return startOfYear(year + 1) - startOfYear(year);\n}\n\nfunction getYearType(year: number) {\n  let yearLength = getDaysInYear(year);\n\n  if (yearLength > 380) {\n    yearLength -= 30; // Subtract length of leap month.\n  }\n\n  switch (yearLength) {\n    case 353:\n      return 0; // deficient\n    case 354:\n      return 1; // normal\n    case 355:\n      return 2; // complete\n  }\n}\n\nfunction getDaysInMonth(year: number, month: number): number {\n  // Normalize month numbers from 1 - 13, even on non-leap years\n  if (month >= 6 && !isLeapYear(year)) {\n    month++;\n  }\n\n  // First of all, dispose of fixed-length 29 day months\n  if (month === 4 || month === 7 || month === 9 || month === 11 || month === 13) {\n    return 29;\n  }\n\n  let yearType = getYearType(year);\n\n  // If it's Heshvan, days depend on length of year\n  if (month === 2) {\n    return yearType === 2 ? 30 : 29;\n  }\n\n  // Similarly, Kislev varies with the length of year\n  if (month === 3) {\n    return yearType === 0 ? 29 : 30;\n  }\n\n  // Adar I only exists in leap years\n  if (month === 6) {\n    return isLeapYear(year) ? 30 : 0;\n  }\n\n  return 30;\n}\n\n/**\n * The Hebrew calendar is used in Israel and around the world by the Jewish faith.\n * Years include either 12 or 13 months depending on whether it is a leap year.\n * In leap years, an extra month is inserted at month 6.\n */\nexport class HebrewCalendar implements Calendar {\n  identifier = 'hebrew';\n\n  fromJulianDay(jd: number): CalendarDate {\n    let d = jd - HEBREW_EPOCH;\n    let m = (d * DAY_PARTS) / MONTH_PARTS;           // Months (approx)\n    let year = Math.floor((19 * m + 234) / 235) + 1; // Years (approx)\n    let ys = startOfYear(year);                      // 1st day of year\n    let dayOfYear = Math.floor(d - ys);\n\n    // Because of the postponement rules, it's possible to guess wrong.  Fix it.\n    while (dayOfYear < 1) {\n      year--;\n      ys = startOfYear(year);\n      dayOfYear = Math.floor(d - ys);\n    }\n\n    // Now figure out which month we're in, and the date within that month\n    let month = 1;\n    let monthStart = 0;\n    while (monthStart < dayOfYear) {\n      monthStart += getDaysInMonth(year, month);\n      month++;\n    }\n\n    month--;\n    monthStart -= getDaysInMonth(year, month);\n\n    let day = dayOfYear - monthStart;\n    return new CalendarDate(this, year, month, day);\n  }\n\n  toJulianDay(date: AnyCalendarDate) {\n    let jd = startOfYear(date.year);\n    for (let month = 1; month < date.month; month++) {\n      jd += getDaysInMonth(date.year, month);\n    }\n\n    return jd + date.day + HEBREW_EPOCH;\n  }\n\n  getDaysInMonth(date: AnyCalendarDate): number {\n    return getDaysInMonth(date.year, date.month);\n  }\n\n  getMonthsInYear(date: AnyCalendarDate): number {\n    return isLeapYear(date.year) ? 13 : 12;\n  }\n\n  getDaysInYear(date: AnyCalendarDate): number {\n    return getDaysInYear(date.year);\n  }\n\n  getYearsInEra(): number {\n    // 6239 gregorian\n    return 9999;\n  }\n\n  getEras() {\n    return ['AM'];\n  }\n\n  balanceYearMonth(date: Mutable<AnyCalendarDate>, previousDate: AnyCalendarDate) {\n    // Keep date in the same month when switching between leap years and non leap years\n    if (previousDate.year !== date.year) {\n      if (isLeapYear(previousDate.year) && !isLeapYear(date.year) && previousDate.month > 6) {\n        date.month--;\n      } else if (!isLeapYear(previousDate.year) && isLeapYear(date.year) && previousDate.month > 6) {\n        date.month++;\n      }\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nlet formatterCache = new Map<string, Intl.DateTimeFormat>();\n\ninterface ResolvedDateTimeFormatOptions extends Intl.ResolvedDateTimeFormatOptions {\n  hourCycle?: Intl.DateTimeFormatOptions['hourCycle']\n}\n\ninterface DateRangeFormatPart extends Intl.DateTimeFormatPart {\n  source: 'startRange' | 'endRange' | 'shared'\n}\n\n/** A wrapper around Intl.DateTimeFormat that fixes various browser bugs, and polyfills new features. */\nexport class DateFormatter implements Intl.DateTimeFormat {\n  private formatter: Intl.DateTimeFormat;\n  private options: Intl.DateTimeFormatOptions;\n  private resolvedHourCycle: Intl.DateTimeFormatOptions['hourCycle'];\n\n  constructor(locale: string, options: Intl.DateTimeFormatOptions = {}) {\n    this.formatter = getCachedDateFormatter(locale, options);\n    this.options = options;\n  }\n\n  /** Formats a date as a string according to the locale and format options passed to the constructor. */\n  format(value: Date): string {\n    return this.formatter.format(value);\n  }\n\n  /** Formats a date to an array of parts such as separators, numbers, punctuation, and more. */\n  formatToParts(value: Date): Intl.DateTimeFormatPart[] {\n    return this.formatter.formatToParts(value);\n  }\n\n  /** Formats a date range as a string. */\n  formatRange(start: Date, end: Date): string {\n    // @ts-ignore\n    if (typeof this.formatter.formatRange === 'function') {\n      // @ts-ignore\n      return this.formatter.formatRange(start, end);\n    }\n\n    if (end < start) {\n      throw new RangeError('End date must be >= start date');\n    }\n\n    // Very basic fallback for old browsers.\n    return `${this.formatter.format(start)}  ${this.formatter.format(end)}`;\n  }\n\n  /** Formats a date range as an array of parts. */\n  formatRangeToParts(start: Date, end: Date): DateRangeFormatPart[] {\n    // @ts-ignore\n    if (typeof this.formatter.formatRangeToParts === 'function') {\n      // @ts-ignore\n      return this.formatter.formatRangeToParts(start, end);\n    }\n\n    if (end < start) {\n      throw new RangeError('End date must be >= start date');\n    }\n\n    let startParts = this.formatter.formatToParts(start);\n    let endParts = this.formatter.formatToParts(end);\n    return [\n      ...startParts.map(p => ({...p, source: 'startRange'} as DateRangeFormatPart)),\n      {type: 'literal', value: '  ', source: 'shared'},\n      ...endParts.map(p => ({...p, source: 'endRange'} as DateRangeFormatPart))\n    ];\n  }\n\n  /** Returns the resolved formatting options based on the values passed to the constructor. */\n  resolvedOptions(): ResolvedDateTimeFormatOptions {\n    let resolvedOptions = this.formatter.resolvedOptions() as ResolvedDateTimeFormatOptions;\n    if (hasBuggyResolvedHourCycle()) {\n      if (!this.resolvedHourCycle) {\n        this.resolvedHourCycle = getResolvedHourCycle(resolvedOptions.locale, this.options);\n      }\n      resolvedOptions.hourCycle = this.resolvedHourCycle;\n      resolvedOptions.hour12 = this.resolvedHourCycle === 'h11' || this.resolvedHourCycle === 'h12';\n    }\n\n    // Safari uses a different name for the Ethiopic (Amete Alem) calendar.\n    // https://bugs.webkit.org/show_bug.cgi?id=241564\n    if (resolvedOptions.calendar === 'ethiopic-amete-alem') {\n      resolvedOptions.calendar = 'ethioaa';\n    }\n\n    return resolvedOptions;\n  }\n}\n\n// There are multiple bugs involving the hour12 and hourCycle options in various browser engines.\n//   - Chrome [1] (and the ECMA 402 spec [2]) resolve hour12: false in English and other locales to h24 (24:00 - 23:59)\n//     rather than h23 (00:00 - 23:59). Same can happen with hour12: true in French, which Chrome resolves to h11 (00:00 - 11:59)\n//     rather than h12 (12:00 - 11:59).\n//   - WebKit returns an incorrect hourCycle resolved option in the French locale due to incorrect parsing of 'h' literal\n//     in the resolved pattern. It also formats incorrectly when specifying the hourCycle option for the same reason. [3]\n// [1] https://bugs.chromium.org/p/chromium/issues/detail?id=1045791\n// [2] https://github.com/tc39/ecma402/issues/402\n// [3] https://bugs.webkit.org/show_bug.cgi?id=229313\n\n// https://github.com/unicode-org/cldr/blob/018b55eff7ceb389c7e3fc44e2f657eae3b10b38/common/supplemental/supplementalData.xml#L4774-L4802\nconst hour12Preferences = {\n  true: {\n    // Only Japanese uses the h11 style for 12 hour time. All others use h12.\n    ja: 'h11'\n  },\n  false: {\n    // All locales use h23 for 24 hour time. None use h24.\n  }\n};\n\nfunction getCachedDateFormatter(locale: string, options: Intl.DateTimeFormatOptions = {}): Intl.DateTimeFormat {\n  // Work around buggy hour12 behavior in Chrome / ECMA 402 spec by using hourCycle instead.\n  // Only apply the workaround if the issue is detected, because the hourCycle option is buggy in Safari.\n  if (typeof options.hour12 === 'boolean' && hasBuggyHour12Behavior()) {\n    options = {...options};\n    let pref = hour12Preferences[String(options.hour12)][locale.split('-')[0]];\n    let defaultHourCycle = options.hour12 ? 'h12' : 'h23';\n    options.hourCycle = pref ?? defaultHourCycle;\n    delete options.hour12;\n  }\n\n  let cacheKey = locale + (options ? Object.entries(options).sort((a, b) => a[0] < b[0] ? -1 : 1).join() : '');\n  if (formatterCache.has(cacheKey)) {\n    return formatterCache.get(cacheKey)!;\n  }\n\n  let numberFormatter = new Intl.DateTimeFormat(locale, options);\n  formatterCache.set(cacheKey, numberFormatter);\n  return numberFormatter;\n}\n\nlet _hasBuggyHour12Behavior: boolean | null = null;\nfunction hasBuggyHour12Behavior() {\n  if (_hasBuggyHour12Behavior == null) {\n    _hasBuggyHour12Behavior = new Intl.DateTimeFormat('en-US', {\n      hour: 'numeric',\n      hour12: false\n    }).format(new Date(2020, 2, 3, 0)) === '24';\n  }\n\n  return _hasBuggyHour12Behavior;\n}\n\nlet _hasBuggyResolvedHourCycle: boolean | null = null;\nfunction hasBuggyResolvedHourCycle() {\n  if (_hasBuggyResolvedHourCycle == null) {\n    _hasBuggyResolvedHourCycle = (new Intl.DateTimeFormat('fr', {\n      hour: 'numeric',\n      hour12: false\n    }).resolvedOptions() as ResolvedDateTimeFormatOptions).hourCycle === 'h12';\n  }\n\n  return _hasBuggyResolvedHourCycle;\n}\n\nfunction getResolvedHourCycle(locale: string, options: Intl.DateTimeFormatOptions) {\n  if (!options.timeStyle && !options.hour) {\n    return undefined;\n  }\n\n  // Work around buggy results in resolved hourCycle and hour12 options in WebKit.\n  // Format the minimum possible hour and maximum possible hour in a day and parse the results.\n  locale = locale.replace(/(-u-)?-nu-[a-zA-Z0-9]+/, '');\n  locale += (locale.includes('-u-') ? '' : '-u') + '-nu-latn';\n  let formatter = getCachedDateFormatter(locale, {\n    ...options,\n    timeZone: undefined // use local timezone\n  });\n\n  let min = parseInt(formatter.formatToParts(new Date(2020, 2, 3, 0)).find(p => p.type === 'hour')!.value, 10);\n  let max = parseInt(formatter.formatToParts(new Date(2020, 2, 3, 23)).find(p => p.type === 'hour')!.value, 10);\n\n  if (min === 0 && max === 23) {\n    return 'h23';\n  }\n\n  if (min === 24 && max === 23) {\n    return 'h24';\n  }\n\n  if (min === 0 && max === 11) {\n    return 'h11';\n  }\n\n  if (min === 12 && max === 11) {\n    return 'h12';\n  }\n\n  throw new Error('Unexpected hour cycle result');\n}\n", "import {\n  type DateDuration,\n  type DateValue,\n  maxDate,\n  minDate,\n  startOfMonth,\n  startOfWeek,\n  startOfYear,\n  toCalendarDate,\n} from \"@internationalized/date\"\n\n/* -----------------------------------------------------------------------------\n * Align date to start, end, or center of a duration\n * -----------------------------------------------------------------------------*/\n\nexport function alignCenter(\n  date: DateValue,\n  duration: DateDuration,\n  locale: string,\n  min?: DateValue,\n  max?: DateValue,\n): DateValue {\n  let halfDuration: DateDuration = {}\n  for (let key in duration) {\n    halfDuration[key] = Math.floor(duration[key] / 2)\n    if (halfDuration[key] > 0 && duration[key] % 2 === 0) {\n      halfDuration[key]--\n    }\n  }\n\n  let aligned = alignStart(date, duration, locale).subtract(halfDuration)\n  return constrainStart(date, aligned, duration, locale, min, max)\n}\n\nexport function alignStart(\n  date: DateValue,\n  duration: DateDuration,\n  locale: string,\n  min?: DateValue,\n  max?: DateValue,\n): DateValue {\n  // align to the start of the largest unit\n  let aligned = date\n  if (duration.years) {\n    aligned = startOfYear(date)\n  } else if (duration.months) {\n    aligned = startOfMonth(date)\n  } else if (duration.weeks) {\n    aligned = startOfWeek(date, locale)\n  }\n\n  return constrainStart(date, aligned, duration, locale, min, max)\n}\n\nexport function alignEnd(\n  date: DateValue,\n  duration: DateDuration,\n  locale: string,\n  min?: DateValue,\n  max?: DateValue,\n): DateValue {\n  let d: DateDuration = { ...duration }\n  // subtract 1 from the smallest unit\n  if (d.days) {\n    d.days--\n  } else if (d.weeks) {\n    d.weeks--\n  } else if (d.months) {\n    d.months--\n  } else if (d.years) {\n    d.years--\n  }\n\n  let aligned = alignStart(date, duration, locale).subtract(d)\n  return constrainStart(date, aligned, duration, locale, min, max)\n}\n\n/* -----------------------------------------------------------------------------\n * Constrain a date to a min/max range\n * -----------------------------------------------------------------------------*/\n\nexport function constrainStart(\n  date: DateValue,\n  aligned: DateValue,\n  duration: DateDuration,\n  locale: string,\n  min?: DateValue,\n  max?: DateValue,\n): DateValue {\n  if (min && date.compare(min) >= 0) {\n    aligned = maxDate(aligned, alignStart(toCalendarDate(min), duration, locale))\n  }\n\n  if (max && date.compare(max) <= 0) {\n    aligned = minDate(aligned, alignEnd(toCalendarDate(max), duration, locale))\n  }\n\n  return aligned\n}\n\nexport function constrainValue(date: DateValue, minValue?: DateValue, maxValue?: DateValue): DateValue {\n  if (minValue) {\n    date = maxDate(date, toCalendarDate(minValue))\n  }\n  if (maxValue) {\n    date = minDate(date, toCalendarDate(maxValue))\n  }\n  return date\n}\n", "import type { DateDuration, DateValue } from \"@internationalized/date\"\nimport { alignCenter, alignEnd, alignStart } from \"./constrain\"\nimport type { DateAlignment } from \"./types\"\n\nexport function alignDate(\n  date: DateValue,\n  alignment: DateAlignment,\n  duration: DateDuration,\n  locale: string,\n  min?: DateValue | undefined,\n  max?: DateValue | undefined,\n) {\n  switch (alignment) {\n    case \"start\":\n      return alignStart(date, duration, locale, min, max)\n    case \"end\":\n      return alignEnd(date, duration, locale, min, max)\n    case \"center\":\n    default:\n      return alignCenter(date, duration, locale, min, max)\n  }\n}\n\nexport function alignStartDate(\n  date: DateValue,\n  startDate: DateValue,\n  endDate: DateValue,\n  duration: DateDuration,\n  locale: string,\n  min?: DateValue | undefined,\n  max?: DateValue | undefined,\n) {\n  if (date.compare(startDate) < 0) {\n    return alignEnd(date, duration, locale, min, max)\n  }\n  if (date.compare(endDate) > 0) {\n    return alignStart(date, duration, locale, min, max)\n  }\n  return startDate\n}\n", "import { type DateValue, isSameDay, isToday } from \"@internationalized/date\"\nimport type { DateAvailableFn } from \"./types\"\n\nexport function isTodayDate(date: DateValue, timeZone: string) {\n  return isToday(date, timeZone)\n}\n\nexport function isDateEqual(dateA: DateValue, dateB?: DateValue | null) {\n  return dateB != null && isSameDay(dateA, dateB)\n}\n\nexport function isDateInvalid(date: DateValue, minValue?: DateValue | null, maxValue?: DateValue | null) {\n  return (minValue != null && date.compare(minValue) < 0) || (maxValue != null && date.compare(maxValue) > 0)\n}\n\nexport function isDateDisabled(\n  date: DateValue,\n  startDate: DateValue,\n  endDate: DateValue,\n  minValue?: DateValue | null,\n  maxValue?: DateValue | null,\n) {\n  return isDateOutsideVisibleRange(date, startDate, endDate) || isDateInvalid(date, minValue, maxValue)\n}\n\nexport function isDateUnavailable(\n  date: DateValue | null,\n  isUnavailable: DateAvailableFn | undefined,\n  locale: string,\n  minValue?: DateValue | null,\n  maxValue?: DateValue | null,\n) {\n  if (!date) {\n    return false\n  }\n  if (isUnavailable?.(date, locale)) {\n    return true\n  }\n  return isDateInvalid(date, minValue, maxValue)\n}\n\nexport function isDateOutsideVisibleRange(date: DateValue, startDate: DateValue, endDate: DateValue) {\n  return date.compare(startDate) < 0 || date.compare(endDate) > 0\n}\n\nexport function isPreviousVisibleRangeInvalid(\n  startDate: DateValue,\n  minValue?: DateValue | null,\n  maxValue?: DateValue | null,\n) {\n  const prevDate = startDate.subtract({ days: 1 })\n  return isSameDay(prevDate, startDate) || isDateInvalid(prevDate, minValue, maxValue)\n}\n\nexport function isNextVisibleRangeInvalid(\n  endDate: DateValue,\n  minValue?: DateValue | null,\n  maxValue?: DateValue | null,\n) {\n  const nextDate = endDate.add({ days: 1 })\n  return isSameDay(nextDate, endDate) || isDateInvalid(nextDate, minValue, maxValue)\n}\n", "import type { DateDuration, DateValue } from \"@internationalized/date\"\n\nexport function getUnitDuration(duration: DateDuration) {\n  let d = { ...duration }\n  for (let key in d) {\n    d[key] = 1\n  }\n  return d\n}\n\nexport function getEndDate(startDate: DateValue, duration: DateDuration) {\n  let d = { ...duration }\n  if (d.days) {\n    d.days--\n  } else {\n    d.days = -1\n  }\n  return startDate.add(d)\n}\n", "import type { DateValue, DateFormatter } from \"@internationalized/date\"\n\nexport function formatRange(\n  startDate: DateValue,\n  endDate: DateValue,\n  formatter: DateFormatter,\n  toString: (start: string, end: string) => string,\n  timeZone: string,\n) {\n  let parts = formatter.formatRangeToParts(startDate.toDate(timeZone), endDate.toDate(timeZone))\n\n  let separatorIndex = -1\n\n  for (let i = 0; i < parts.length; i++) {\n    let part = parts[i]\n    if (part.source === \"shared\" && part.type === \"literal\") {\n      separatorIndex = i\n    } else if (part.source === \"endRange\") {\n      break\n    }\n  }\n\n  let start = \"\"\n  let end = \"\"\n\n  for (let i = 0; i < parts.length; i++) {\n    if (i < separatorIndex) {\n      start += parts[i].value\n    } else if (i > separatorIndex) {\n      end += parts[i].value\n    }\n  }\n\n  return toString(start, end)\n}\n", "import { type DateValue, isSameDay } from \"@internationalized/date\"\nimport { formatRange } from \"./format-range\"\nimport { getDayFormatter } from \"./get-day-formatter\"\n\nexport function formatSelectedDate(startDate: DateValue, endDate: DateValue | null, locale: string, timeZone: string) {\n  let start = startDate\n  let end = endDate ?? startDate\n\n  let formatter = getDayFormatter(locale, timeZone)\n\n  if (isSameDay(start, end)) {\n    return formatter.format(start.toDate(timeZone))\n  }\n\n  return formatRange(start, end, formatter, (start, end) => `${start}  ${end}`, timeZone)\n}\n", "import { DateFormatter, toCalendarDateTime, today } from \"@internationalized/date\"\nimport { getEraFormat } from \"./get-era-format\"\n\nexport function getDayFormatter(locale: string, timeZone: string) {\n  const date = toCalendarDateTime(today(timeZone))\n  return new DateFormatter(locale, {\n    weekday: \"long\",\n    month: \"long\",\n    year: \"numeric\",\n    day: \"numeric\",\n    era: getEraFormat(date),\n    timeZone,\n  })\n}\n", "import type { DateValue } from \"@internationalized/date\"\n\nexport function getEraFormat(date: DateValue | undefined): \"short\" | undefined {\n  return date?.calendar.identifier === \"gregory\" && date.era === \"BC\" ? \"short\" : undefined\n}\n", "import { type DateValue, endOfMonth, isSameDay, startOfMonth } from \"@internationalized/date\"\nimport { getDayFormatter } from \"./get-day-formatter\"\nimport { getMonthFormatter } from \"./get-month-formatter\"\n\nexport function formatVisibleRange(startDate: DateValue, endDate: DateValue | null, locale: string, timeZone: string) {\n  const start = startDate\n  const end = endDate ?? startDate\n\n  const dayFormatter = getDayFormatter(locale, timeZone)\n\n  if (!isSameDay(start, startOfMonth(start))) {\n    return dayFormatter.formatRange(start.toDate(timeZone), end.toDate(timeZone))\n  }\n\n  const monthFormatter = getMonthFormatter(locale, timeZone)\n\n  if (isSameDay(end, endOfMonth(start))) {\n    return monthFormatter.format(start.toDate(timeZone))\n  }\n\n  if (isSameDay(end, endOfMonth(end))) {\n    return monthFormatter.formatRange(start.toDate(timeZone), end.toDate(timeZone))\n  }\n\n  return \"\"\n}\n", "import { today, toCalendarDate, DateFormatter } from \"@internationalized/date\"\nimport { getEraFormat } from \"./get-era-format\"\n\nexport function getMonthFormatter(locale: string, timeZone: string) {\n  const date = toCalendarDate(today(timeZone))\n  return new DateFormatter(locale, {\n    month: \"long\",\n    year: \"numeric\",\n    era: getEraFormat(date),\n    calendar: date?.calendar.identifier,\n    timeZone: timeZone,\n  })\n}\n", "export function getDecadeRange(year: number) {\n  const computedYear = year - (year % 10) - 1\n\n  const years: number[] = []\n\n  for (let i = 0; i < 12; i += 1) {\n    const value = computedYear + i\n    years.push(value)\n  }\n\n  return years\n}\n", "import { type DateValue, getWeeksInMonth, isSameDay, getDayOfWeek, startOfMonth } from \"@internationalized/date\"\nimport { getStartOfWeek } from \"./get-start-of-week\"\n\nexport function getDaysInWeek(weekIndex: number, from: DateValue, locale: string, firstDayOfWeek?: number) {\n  const weekDate = from.add({ weeks: weekIndex })\n  const dates: DateValue[] = []\n  let date = getStartOfWeek(weekDate, locale, firstDayOfWeek)\n  while (dates.length < 7) {\n    dates.push(date)\n    let nextDate = date.add({ days: 1 })\n    if (isSameDay(date, nextDate)) {\n      break\n    }\n    date = nextDate\n  }\n  return dates\n}\n\nexport function getCustomWeeksInMonth(from: DateValue, locale: string, firstDayOfWeek?: number) {\n  if (firstDayOfWeek == null) {\n    return getWeeksInMonth(from, locale)\n  }\n  const paddingDays = (getDayOfWeek(startOfMonth(from), locale) - firstDayOfWeek + 7) % 7\n\n  return Math.ceil((paddingDays + from.calendar.getDaysInMonth(from)) / 7)\n}\n\nexport function getMonthDays(from: DateValue, locale: string, numOfWeeks?: number, firstDayOfWeek?: number) {\n  const monthWeeks = numOfWeeks ?? getCustomWeeksInMonth(from, locale, firstDayOfWeek)\n\n  const weeks = [...new Array(monthWeeks).keys()]\n  return weeks.map((week) => getDaysInWeek(week, from, locale, firstDayOfWeek))\n}\n", "import { type DateValue, getDayOfWeek } from \"@internationalized/date\"\n\nexport function getStartOfWeek(date: DateValue, locale: string, firstDayOfWeek: number = 0) {\n  const day = getDayOfWeek(date, locale)\n  const diff = (day - firstDayOfWeek + 7) % 7\n  return date.subtract({ days: diff })\n}\n", "export function getMonthNames(locale: string, format: Intl.DateTimeFormatOptions[\"month\"] = \"long\") {\n  const date = new Date(2021, 0, 1)\n  const monthNames: string[] = []\n  for (let i = 0; i < 12; i++) {\n    monthNames.push(date.toLocaleString(locale, { month: format }))\n    date.setMonth(date.getMonth() + 1)\n  }\n  return monthNames\n}\n", "import { type DateValue, DateFormatter } from \"@internationalized/date\"\n\nexport function getWeekdayFormats(locale: string, timeZone: string) {\n  const longFormat = new DateFormatter(locale, { weekday: \"long\", timeZone })\n  const shortFormat = new DateFormatter(locale, { weekday: \"short\", timeZone })\n  const narrowFormat = new DateFormatter(locale, { weekday: \"narrow\", timeZone })\n  return <T extends DateValue | Date>(value: T) => {\n    const date = value instanceof Date ? value : value.toDate(timeZone)\n    return {\n      value,\n      short: shortFormat.format(date),\n      long: longFormat.format(date),\n      narrow: narrowFormat.format(date),\n    }\n  }\n}\n", "import type { DateValue } from \"@internationalized/date\"\nimport { getWeekdayFormats } from \"./get-weekday-formats\"\nimport { getStartOfWeek } from \"./get-start-of-week\"\n\nexport function getWeekDays(date: DateValue, startOfWeekProp: number | undefined, timeZone: string, locale: string) {\n  const firstDayOfWeek = getStartOfWeek(date, locale, startOfWeekProp)\n  const weeks = [...new Array(7).keys()]\n  const format = getWeekdayFormats(locale, timeZone)\n  return weeks.map((index) => format(firstDayOfWeek.add({ days: index })))\n}\n", "export interface YearsRange {\n  from: number\n  to: number\n}\n\nexport function getYearsRange(range: YearsRange) {\n  const years: number[] = []\n\n  for (let year = range.from; year <= range.to; year += 1) {\n    years.push(year)\n  }\n\n  return years\n}\n", "import {\n  type Calendar,\n  type DateValue,\n  getLocalTimeZone,\n  toCalendar,\n  toCalendarDateTime,\n  today,\n} from \"@internationalized/date\"\nimport { constrainValue } from \"./constrain\"\nimport type { DateAvailableFn } from \"./types\"\n\nexport function getTodayDate(timeZone?: string) {\n  return today(timeZone ?? getLocalTimeZone())\n}\n\nexport function getNextDay(date: DateValue) {\n  return date.add({ days: 1 })\n}\n\nexport function getPreviousDay(date: DateValue) {\n  return date.subtract({ days: 1 })\n}\n\nexport function setMonth(date: DateValue, month: number) {\n  return date.set({ month })\n}\n\nexport function setYear(date: DateValue, year: number) {\n  return date.set({ year })\n}\n\nexport function setCalendar(date: DateValue, calendar: Calendar) {\n  return toCalendar(toCalendarDateTime(date), calendar)\n}\n\nexport function setDate(\n  date: DateValue,\n  startDate: DateValue,\n  isDateUnavailable: DateAvailableFn,\n  locale: string,\n  minValue: DateValue,\n  maxValue: DateValue,\n) {\n  let result: DateValue | undefined\n  result = constrainValue(date, minValue, maxValue)\n  result = getPreviousAvailableDate(date, startDate, locale, isDateUnavailable)\n  return result\n}\n\nexport function getPreviousAvailableDate(\n  date: DateValue,\n  minValue: DateValue,\n  locale: string,\n  isDateUnavailable?: DateAvailableFn,\n) {\n  if (!isDateUnavailable) {\n    return date\n  }\n\n  while (date.compare(minValue) >= 0 && isDateUnavailable(date, locale)) {\n    date = date.subtract({ days: 1 })\n  }\n\n  if (date.compare(minValue) >= 0) {\n    return date\n  }\n}\n", "import {\n  type DateDuration,\n  type DateValue,\n  endOfMonth,\n  endOfWeek,\n  startOfMonth,\n  startOfWeek,\n} from \"@internationalized/date\"\nimport { isDateInvalid } from \"./assertion\"\nimport { alignEnd, alignStart, constrainStart, constrainValue } from \"./constrain\"\nimport { getEndDate, getUnitDuration } from \"./duration\"\n\nexport interface AdjustDateParams {\n  startDate: DateValue\n  focusedDate: DateValue\n}\n\nexport interface AdjustDateReturn extends AdjustDateParams {\n  endDate: DateValue\n}\n\nexport function getAdjustedDateFn(\n  visibleDuration: DateDuration,\n  locale: string,\n  minValue?: DateValue,\n  maxValue?: DateValue,\n) {\n  return function getDate(options: AdjustDateParams): AdjustDateReturn {\n    const { startDate, focusedDate } = options\n    const endDate = getEndDate(startDate, visibleDuration)\n\n    // If the focused date was moved to an invalid value, it can't be focused, so constrain it.\n    if (isDateInvalid(focusedDate, minValue, maxValue)) {\n      return {\n        startDate,\n        focusedDate: constrainValue(focusedDate, minValue, maxValue),\n        endDate,\n      }\n    }\n\n    if (focusedDate.compare(startDate) < 0) {\n      return {\n        startDate: alignEnd(focusedDate, visibleDuration, locale, minValue, maxValue),\n        focusedDate: constrainValue(focusedDate, minValue, maxValue),\n        endDate,\n      }\n    }\n\n    if (focusedDate.compare(endDate) > 0) {\n      return {\n        startDate: alignStart(focusedDate, visibleDuration, locale, minValue, maxValue),\n        endDate,\n        focusedDate: constrainValue(focusedDate, minValue, maxValue),\n      }\n    }\n\n    return {\n      startDate,\n      endDate,\n      focusedDate: constrainValue(focusedDate, minValue, maxValue),\n    }\n  }\n}\n\n/* -----------------------------------------------------------------------------\n *  Get next and previous page (for date range)\n * -----------------------------------------------------------------------------*/\n\nexport function getNextPage(\n  focusedDate: DateValue,\n  startDate: DateValue,\n  visibleDuration: DateDuration,\n  locale: string,\n  minValue?: DateValue,\n  maxValue?: DateValue,\n) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue)\n  const start = startDate.add(visibleDuration)\n\n  return adjust({\n    focusedDate: focusedDate.add(visibleDuration),\n    startDate: alignStart(\n      constrainStart(focusedDate, start, visibleDuration, locale, minValue, maxValue),\n      visibleDuration,\n      locale,\n    ),\n  })\n}\n\nexport function getPreviousPage(\n  focusedDate: DateValue,\n  startDate: DateValue,\n  visibleDuration: DateDuration,\n  locale: string,\n  minValue?: DateValue,\n  maxValue?: DateValue,\n) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue)\n  let start = startDate.subtract(visibleDuration)\n\n  return adjust({\n    focusedDate: focusedDate.subtract(visibleDuration),\n    startDate: alignStart(\n      constrainStart(focusedDate, start, visibleDuration, locale, minValue, maxValue),\n      visibleDuration,\n      locale,\n    ),\n  })\n}\n\n/* -----------------------------------------------------------------------------\n * Get the next and previous row (for date range)\n * -----------------------------------------------------------------------------*/\n\nexport function getNextRow(\n  focusedDate: DateValue,\n  startDate: DateValue,\n  visibleDuration: DateDuration,\n  locale: string,\n  minValue?: DateValue,\n  maxValue?: DateValue,\n) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue)\n\n  if (visibleDuration.days) {\n    return getNextPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue)\n  }\n\n  if (visibleDuration.weeks || visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: focusedDate.add({ weeks: 1 }),\n      startDate,\n    })\n  }\n}\n\nexport function getPreviousRow(\n  focusedDate: DateValue,\n  startDate: DateValue,\n  visibleDuration: DateDuration,\n  locale: string,\n  minValue?: DateValue,\n  maxValue?: DateValue,\n) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue)\n\n  if (visibleDuration.days) {\n    return getPreviousPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue)\n  }\n\n  if (visibleDuration.weeks || visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: focusedDate.subtract({ weeks: 1 }),\n      startDate,\n    })\n  }\n}\n\n/* -----------------------------------------------------------------------------\n * Get start and end date for a date section\n * -----------------------------------------------------------------------------*/\n\nexport function getSectionStart(\n  focusedDate: DateValue,\n  startDate: DateValue,\n  visibleDuration: DateDuration,\n  locale: string,\n  minValue?: DateValue,\n  maxValue?: DateValue,\n) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue)\n\n  if (visibleDuration.days) {\n    return adjust({\n      focusedDate: startDate,\n      startDate,\n    })\n  }\n\n  if (visibleDuration.weeks) {\n    return adjust({\n      focusedDate: startOfWeek(focusedDate, locale),\n      startDate,\n    })\n  }\n\n  if (visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: startOfMonth(focusedDate),\n      startDate,\n    })\n  }\n}\n\nexport function getSectionEnd(\n  focusedDate: DateValue,\n  startDate: DateValue,\n  visibleDuration: DateDuration,\n  locale: string,\n  minValue?: DateValue,\n  maxValue?: DateValue,\n) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue)\n  const endDate = getEndDate(startDate, visibleDuration)\n\n  if (visibleDuration.days) {\n    return adjust({\n      focusedDate: endDate,\n      startDate,\n    })\n  }\n\n  if (visibleDuration.weeks) {\n    return adjust({\n      //@ts-expect-error - endOfWeek is loosely typed\n      focusedDate: endOfWeek(focusedDate, locale),\n      startDate,\n    })\n  }\n\n  if (visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: endOfMonth(focusedDate),\n      startDate,\n    })\n  }\n}\n\nexport function getNextSection(\n  focusedDate: DateValue,\n  startDate: DateValue,\n  larger: boolean,\n  visibleDuration: DateDuration,\n  locale: string,\n  minValue?: DateValue,\n  maxValue?: DateValue,\n) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue)\n\n  if (!larger && !visibleDuration.days) {\n    return adjust({\n      focusedDate: focusedDate.add(getUnitDuration(visibleDuration)),\n      startDate,\n    })\n  }\n\n  if (visibleDuration.days) {\n    return getNextPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue)\n  }\n\n  if (visibleDuration.weeks) {\n    return adjust({\n      focusedDate: focusedDate.add({ months: 1 }),\n      startDate,\n    })\n  }\n\n  if (visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: focusedDate.add({ years: 1 }),\n      startDate,\n    })\n  }\n}\n\nexport function getPreviousSection(\n  focusedDate: DateValue,\n  startDate: DateValue,\n  larger: boolean,\n  visibleDuration: DateDuration,\n  locale: string,\n  minValue?: DateValue,\n  maxValue?: DateValue,\n) {\n  const adjust = getAdjustedDateFn(visibleDuration, locale, minValue, maxValue)\n\n  if (!larger && !visibleDuration.days) {\n    return adjust({\n      focusedDate: focusedDate.subtract(getUnitDuration(visibleDuration)),\n      startDate,\n    })\n  }\n\n  if (visibleDuration.days) {\n    return getPreviousPage(focusedDate, startDate, visibleDuration, locale, minValue, maxValue)\n  }\n\n  if (visibleDuration.weeks) {\n    return adjust({\n      focusedDate: focusedDate.subtract({ months: 1 }),\n      startDate,\n    })\n  }\n\n  if (visibleDuration.months || visibleDuration.years) {\n    return adjust({\n      focusedDate: focusedDate.subtract({ years: 1 }),\n      startDate,\n    })\n  }\n}\n", "import { CalendarDate, DateFormatter, type DateValue } from \"@internationalized/date\"\n\nconst isValidYear = (year: string | undefined): year is string => year != null && year.length === 4\nconst isValidMonth = (month: string | undefined): month is string => month != null && parseFloat(month) <= 12\nconst isValidDay = (day: string | undefined): day is string => day != null && parseFloat(day) <= 31\n\nexport function parseDateString(date: string, locale: string, timeZone: string): DateValue | undefined {\n  const regex = createRegex(locale, timeZone)\n\n  let { year, month, day } = extract(regex, date) ?? {}\n\n  const hasMatch = year != null || month != null || day != null\n\n  if (hasMatch) {\n    const curr = new Date()\n    year ||= curr.getFullYear().toString()\n    month ||= (curr.getMonth() + 1).toString()\n    day ||= curr.getDate().toString()\n  }\n\n  if (isValidYear(year) && isValidMonth(month) && isValidDay(day)) {\n    return new CalendarDate(+year, +month, +day)\n  }\n\n  // We should never get here, but just in case\n  const time = Date.parse(date)\n  if (!isNaN(time)) {\n    const date = new Date(time)\n    return new CalendarDate(date.getFullYear(), date.getMonth() + 1, date.getDate())\n  }\n}\n\nfunction createRegex(locale: string, timeZone: string) {\n  const formatter = new DateFormatter(locale, { day: \"numeric\", month: \"numeric\", year: \"numeric\", timeZone })\n  const parts = formatter.formatToParts(new Date(2000, 11, 25))\n  return parts.map(({ type, value }) => (type === \"literal\" ? `${value}?` : `((?!=<${type}>)\\\\d+)?`)).join(\"\")\n}\n\ninterface DateParts {\n  year: string\n  month: string\n  day: string\n}\n\nfunction extract(pattern: string | RegExp, str: string) {\n  const matches = str.match(pattern)\n  return pattern\n    .toString()\n    .match(/<(.+?)>/g)\n    ?.map((group) => {\n      const groupMatches = group.match(/<(.+)>/)\n      if (!groupMatches || groupMatches.length <= 0) {\n        return null\n      }\n      return group.match(/<(.+)>/)?.[1]\n    })\n    .reduce((acc, curr, index) => {\n      if (!curr) return acc\n      if (matches && matches.length > index) {\n        acc[curr] = matches[index + 1]\n      } else {\n        acc[curr] = null\n      }\n      return acc\n    }, {} as DateParts)\n}\n", "import {\n  endOfMonth,\n  endOfWeek,\n  endOfYear,\n  now,\n  startOfMonth,\n  startOfWeek,\n  startOfYear,\n  type DateValue,\n} from \"@internationalized/date\"\n\nexport type DateRangePreset =\n  | \"thisWeek\"\n  | \"lastWeek\"\n  | \"thisMonth\"\n  | \"lastMonth\"\n  | \"thisQuarter\"\n  | \"lastQuarter\"\n  | \"thisYear\"\n  | \"lastYear\"\n  | \"last3Days\"\n  | \"last7Days\"\n  | \"last14Days\"\n  | \"last30Days\"\n  | \"last90Days\"\n\nexport function getDateRangePreset(preset: DateRangePreset, locale: string, timeZone: string): [DateValue, DateValue] {\n  const today = now(timeZone)\n\n  switch (preset) {\n    case \"thisWeek\":\n      return [startOfWeek(today, locale), endOfWeek(today, locale)]\n    case \"thisMonth\":\n      return [startOfMonth(today), today]\n    case \"thisQuarter\":\n      return [startOfMonth(today).add({ months: -today.month % 3 }), today]\n    case \"thisYear\":\n      return [startOfYear(today), today]\n    case \"last3Days\":\n      return [today.add({ days: -2 }), today]\n    case \"last7Days\":\n      return [today.add({ days: -6 }), today]\n    case \"last14Days\":\n      return [today.add({ days: -13 }), today]\n    case \"last30Days\":\n      return [today.add({ days: -29 }), today]\n    case \"last90Days\":\n      return [today.add({ days: -89 }), today]\n    case \"lastMonth\":\n      return [startOfMonth(today.add({ months: -1 })), endOfMonth(today.add({ months: -1 }))]\n    case \"lastQuarter\":\n      return [\n        startOfMonth(today.add({ months: (-today.month % 3) - 3 })),\n        endOfMonth(today.add({ months: (-today.month % 3) - 1 })),\n      ]\n    case \"lastWeek\":\n      return [startOfWeek(today, locale).add({ weeks: -1 }), endOfWeek(today, locale).add({ weeks: -1 })]\n    case \"lastYear\":\n      return [startOfYear(today.add({ years: -1 })), endOfYear(today.add({ years: -1 }))]\n    default:\n      throw new Error(`Invalid date range preset: ${preset}`)\n  }\n}\n", "export interface LiveRegionOptions {\n  level: \"polite\" | \"assertive\"\n  document?: Document\n  root?: HTMLElement | null\n  delay?: number\n}\n\nexport type LiveRegion = ReturnType<typeof createLiveRegion>\n\nconst ID = \"__live-region__\"\n\nexport function createLiveRegion(opts: Partial<LiveRegionOptions> = {}) {\n  const { level = \"polite\", document: doc = document, root, delay: _delay = 0 } = opts\n\n  const win = doc.defaultView ?? window\n  const parent = root ?? doc.body\n\n  function announce(message: string, delay?: number) {\n    const oldRegion = doc.getElementById(ID)\n\n    // remove old region\n    oldRegion?.remove()\n\n    // Did an override level get set?\n    delay = delay ?? _delay\n\n    // create fresh region\n    const region = doc.createElement(\"span\")\n    region.id = ID\n    region.dataset.liveAnnouncer = \"true\"\n\n    // Determine redundant role\n    const role = level !== \"assertive\" ? \"status\" : \"alert\"\n\n    // add role and attributes\n    region.setAttribute(\"aria-live\", level)\n    region.setAttribute(\"role\", role)\n\n    // hide live region\n    Object.assign(region.style, {\n      border: \"0\",\n      clip: \"rect(0 0 0 0)\",\n      height: \"1px\",\n      margin: \"-1px\",\n      overflow: \"hidden\",\n      padding: \"0\",\n      position: \"absolute\",\n      width: \"1px\",\n      whiteSpace: \"nowrap\",\n      wordWrap: \"normal\",\n    })\n\n    parent.appendChild(region)\n\n    // populate region to trigger it\n    win.setTimeout(() => {\n      region.textContent = message\n    }, delay)\n  }\n\n  function destroy() {\n    const oldRegion = doc.getElementById(ID)\n    oldRegion?.remove()\n  }\n\n  return {\n    announce,\n    destroy,\n    toJSON() {\n      return ID\n    },\n  }\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"date-picker\").parts(\n  \"root\",\n  \"label\",\n  \"clearTrigger\",\n  \"content\",\n  \"control\",\n  \"input\",\n  \"monthSelect\",\n  \"nextTrigger\",\n  \"positioner\",\n  \"prevTrigger\",\n  \"rangeText\",\n  \"table\",\n  \"tableBody\",\n  \"tableCell\",\n  \"tableCellTrigger\",\n  \"tableHead\",\n  \"tableHeader\",\n  \"tableRow\",\n  \"trigger\",\n  \"viewTrigger\",\n  \"viewControl\",\n  \"yearSelect\",\n  \"presetTrigger\",\n)\n\nexport const parts = anatomy.build()\n", "import { DateFormatter, isEqualDay, isWeekend, type DateValue } from \"@internationalized/date\"\nimport {\n  constrainValue,\n  getDateRangePreset,\n  getDayFormatter,\n  getDaysInWeek,\n  getDecadeRange,\n  getMonthDays,\n  getMonthFormatter,\n  getMonthNames,\n  getTodayDate,\n  getUnitDuration,\n  getWeekDays,\n  isDateDisabled,\n  isDateEqual,\n  isDateInvalid,\n  isDateOutsideVisibleRange,\n  isDateUnavailable,\n  isTodayDate,\n  setMonth,\n  setYear,\n} from \"@zag-js/date-utils\"\nimport { getEventKey, getNativeEvent, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr, isComposingEvent } from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { chunk } from \"@zag-js/utils\"\nimport { parts } from \"./date-picker.anatomy\"\nimport { dom } from \"./date-picker.dom\"\nimport type {\n  DayTableCellProps,\n  DayTableCellState,\n  MachineApi,\n  Send,\n  State,\n  TableCellProps,\n  TableCellState,\n  TableProps,\n} from \"./date-picker.types\"\nimport {\n  adjustStartAndEndDate,\n  ensureValidCharacters,\n  getInputPlaceholder,\n  getLocaleSeparator,\n  getNextTriggerLabel,\n  getPrevTriggerLabel,\n  getRoleDescription,\n  getViewTriggerLabel,\n  isDateWithinRange,\n  isValidCharacter,\n} from \"./date-picker.utils\"\n\nconst pretty = (value: DateValue) => value.toString().split(\"T\")[0]\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const startValue = state.context.startValue\n  const endValue = state.context.endValue\n  const selectedValue = state.context.value\n  const focusedValue = state.context.focusedValue\n\n  const hoveredValue = state.context.hoveredValue\n  const hoveredRangeValue = hoveredValue ? adjustStartAndEndDate([selectedValue[0], hoveredValue]) : []\n\n  const disabled = state.context.disabled\n  const readOnly = state.context.readOnly\n  const interactive = state.context.isInteractive\n\n  const min = state.context.min\n  const max = state.context.max\n  const locale = state.context.locale\n  const timeZone = state.context.timeZone\n  const startOfWeek = state.context.startOfWeek\n\n  const focused = state.matches(\"focused\")\n  const open = state.matches(\"open\")\n\n  const isRangePicker = state.context.selectionMode === \"range\"\n  const isDateUnavailableFn = state.context.isDateUnavailable\n\n  const currentPlacement = state.context.currentPlacement\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: currentPlacement,\n  })\n\n  const separator = getLocaleSeparator(locale)\n\n  function getMonthWeeks(from = startValue) {\n    const numOfWeeks = state.context.fixedWeeks ? 6 : undefined\n    return getMonthDays(from, locale, numOfWeeks, startOfWeek)\n  }\n\n  function getMonths(props: { format?: \"short\" | \"long\" } = {}) {\n    const { format } = props\n    return getMonthNames(locale, format).map((label, index) => ({ label, value: index + 1 }))\n  }\n\n  function getYears() {\n    return getDecadeRange(focusedValue.year).map((year) => ({\n      label: year.toString(),\n      value: year,\n    }))\n  }\n\n  function isUnavailable(date: DateValue) {\n    return isDateUnavailable(date, isDateUnavailableFn, locale, min, max)\n  }\n\n  function focusMonth(month: number) {\n    const value = setMonth(startValue ?? getTodayDate(timeZone), month)\n    send({ type: \"FOCUS.SET\", value })\n  }\n\n  function focusYear(year: number) {\n    const value = setYear(startValue ?? getTodayDate(timeZone), year)\n    send({ type: \"FOCUS.SET\", value })\n  }\n\n  function getYearTableCellState(props: TableCellProps): TableCellState {\n    const { value, disabled } = props\n    const normalized = focusedValue.set({ year: value })\n    const cellState = {\n      focused: focusedValue.year === props.value,\n      selectable: !isDateInvalid(normalized, min, max),\n      selected: !!selectedValue.find((date) => date.year === value),\n      valueText: value.toString(),\n      get disabled() {\n        return disabled || !cellState.selectable\n      },\n    }\n    return cellState\n  }\n\n  function getMonthTableCellState(props: TableCellProps): TableCellState {\n    const { value, disabled } = props\n    const normalized = focusedValue.set({ month: value })\n    const formatter = getMonthFormatter(locale, timeZone)\n    const cellState = {\n      focused: focusedValue.month === props.value,\n      selectable: !isDateInvalid(normalized, min, max),\n      selected: !!selectedValue.find((date) => date.month === value && date.year === focusedValue.year),\n      valueText: formatter.format(normalized.toDate(timeZone)),\n      get disabled() {\n        return disabled || !cellState.selectable\n      },\n    }\n    return cellState\n  }\n\n  function getDayTableCellState(props: DayTableCellProps): DayTableCellState {\n    const { value, disabled, visibleRange = state.context.visibleRange } = props\n\n    const formatter = getDayFormatter(locale, timeZone)\n    const unitDuration = getUnitDuration(state.context.visibleDuration)\n\n    const end = visibleRange.start.add(unitDuration).subtract({ days: 1 })\n\n    const cellState = {\n      invalid: isDateInvalid(value, min, max),\n      disabled: disabled || isDateDisabled(value, visibleRange.start, end, min, max),\n      selected: selectedValue.some((date) => isDateEqual(value, date)),\n      unavailable: isDateUnavailable(value, isDateUnavailableFn, locale, min, max) && !disabled,\n      outsideRange: isDateOutsideVisibleRange(value, visibleRange.start, end),\n      inRange:\n        isRangePicker && (isDateWithinRange(value, selectedValue) || isDateWithinRange(value, hoveredRangeValue)),\n      firstInRange: isRangePicker && isDateEqual(value, selectedValue[0]),\n      lastInRange: isRangePicker && isDateEqual(value, selectedValue[1]),\n      today: isTodayDate(value, timeZone),\n      weekend: isWeekend(value, locale),\n      formattedDate: formatter.format(value.toDate(timeZone)),\n      get focused() {\n        return isDateEqual(value, focusedValue) && !cellState.outsideRange\n      },\n      get ariaLabel() {\n        if (cellState.unavailable) return `Not available. ${cellState.formattedDate}`\n        if (cellState.selected) return `Selected date. ${cellState.formattedDate}`\n        return `Choose ${cellState.formattedDate}`\n      },\n      get selectable() {\n        return !cellState.disabled && !cellState.unavailable\n      },\n    }\n    return cellState\n  }\n\n  function getTableId(props: TableProps) {\n    const { view = \"day\", id } = props\n    return [view, id].filter(Boolean).join(\" \")\n  }\n\n  return {\n    focused,\n    open,\n    view: state.context.view,\n    getRangePresetValue(preset) {\n      return getDateRangePreset(preset, locale, timeZone)\n    },\n    getDaysInWeek(week, from = startValue) {\n      return getDaysInWeek(week, from, locale, startOfWeek)\n    },\n    getOffset(duration) {\n      const from = startValue.add(duration)\n      return {\n        visibleRange: { start: from, end: endValue.add(duration) },\n        weeks: getMonthWeeks(from),\n      }\n    },\n    getMonthWeeks: getMonthWeeks,\n    isUnavailable,\n    weeks: getMonthWeeks(),\n    weekDays: getWeekDays(getTodayDate(timeZone), startOfWeek, timeZone, locale),\n    visibleRangeText: state.context.visibleRangeText,\n    value: selectedValue,\n    valueAsDate: selectedValue.map((date) => date.toDate(timeZone)),\n    valueAsString: selectedValue.map(pretty),\n    focusedValue: focusedValue,\n    focusedValueAsDate: focusedValue?.toDate(timeZone),\n    focusedValueAsString: pretty(focusedValue),\n    visibleRange: state.context.visibleRange,\n    selectToday() {\n      const value = constrainValue(getTodayDate(timeZone), min, max)\n      send({ type: \"VALUE.SET\", value })\n    },\n    setValue(values) {\n      const computedValue = values.map((date) => constrainValue(date, min, max))\n      send({ type: \"VALUE.SET\", value: computedValue })\n    },\n    clearValue() {\n      send(\"VALUE.CLEAR\")\n    },\n    setFocusedValue(value) {\n      send({ type: \"FOCUS.SET\", value })\n    },\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n    focusMonth,\n    focusYear,\n    getYears,\n    getMonths,\n    getYearsGrid(props = {}) {\n      const { columns = 1 } = props\n      return chunk(getYears(), columns)\n    },\n    getDecade() {\n      const years = getDecadeRange(focusedValue.year)\n      return { start: years.at(0), end: years.at(-1) }\n    },\n    getMonthsGrid(props = {}) {\n      const { columns = 1, format } = props\n      return chunk(getMonths({ format }), columns)\n    },\n    format(value, opts = { month: \"long\", year: \"numeric\" }) {\n      return new DateFormatter(locale, opts).format(value.toDate(timeZone))\n    },\n    setView(view) {\n      send({ type: \"VIEW.SET\", cell: view })\n    },\n    goToNext() {\n      send({ type: \"GOTO.NEXT\", view: state.context.view })\n    },\n    goToPrev() {\n      send({ type: \"GOTO.PREV\", view: state.context.view })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(disabled),\n        \"data-readonly\": dataAttr(readOnly),\n      })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        htmlFor: dom.getInputId(state.context, 0),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(disabled),\n        \"data-readonly\": dataAttr(readOnly),\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        id: dom.getControlId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getRangeTextProps() {\n      return normalize.element({\n        ...parts.rangeText.attrs,\n        dir: state.context.dir,\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        hidden: !open,\n        dir: state.context.dir,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-placement\": currentPlacement,\n        id: dom.getContentId(state.context),\n        role: \"application\",\n        \"aria-roledescription\": \"datepicker\",\n        \"aria-label\": \"calendar\",\n      })\n    },\n\n    getTableProps(props = {}) {\n      const { view = \"day\", columns = view === \"day\" ? 7 : 4 } = props\n      const uid = getTableId(props)\n      return normalize.element({\n        ...parts.table.attrs,\n        role: \"grid\",\n        \"data-columns\": columns,\n        \"aria-roledescription\": getRoleDescription(view),\n        id: dom.getTableId(state.context, uid),\n        \"aria-readonly\": ariaAttr(readOnly),\n        \"aria-disabled\": ariaAttr(disabled),\n        \"aria-multiselectable\": ariaAttr(state.context.selectionMode !== \"single\"),\n        \"data-view\": view,\n        dir: state.context.dir,\n        tabIndex: -1,\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n\n          const keyMap: EventKeyMap = {\n            Enter() {\n              // if focused date is unavailable, do nothing\n              if (isUnavailable(focusedValue)) return\n              send({ type: \"TABLE.ENTER\", view, columns, focus: true })\n            },\n            ArrowLeft() {\n              send({ type: \"TABLE.ARROW_LEFT\", view, columns, focus: true })\n            },\n            ArrowRight() {\n              send({ type: \"TABLE.ARROW_RIGHT\", view, columns, focus: true })\n            },\n            ArrowUp() {\n              send({ type: \"TABLE.ARROW_UP\", view, columns, focus: true })\n            },\n            ArrowDown() {\n              send({ type: \"TABLE.ARROW_DOWN\", view, columns, focus: true })\n            },\n            PageUp(event) {\n              send({ type: \"TABLE.PAGE_UP\", larger: event.shiftKey, view, columns, focus: true })\n            },\n            PageDown(event) {\n              send({ type: \"TABLE.PAGE_DOWN\", larger: event.shiftKey, view, columns, focus: true })\n            },\n            Home() {\n              send({ type: \"TABLE.HOME\", view, columns, focus: true })\n            },\n            End() {\n              send({ type: \"TABLE.END\", view, columns, focus: true })\n            },\n          }\n\n          const exec = keyMap[getEventKey(event, state.context)]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n            event.stopPropagation()\n          }\n        },\n        onPointerLeave() {\n          send({ type: \"TABLE.POINTER_LEAVE\" })\n        },\n        onPointerDown() {\n          send({ type: \"TABLE.POINTER_DOWN\", view })\n        },\n        onPointerUp() {\n          send({ type: \"TABLE.POINTER_UP\", view })\n        },\n      })\n    },\n\n    getTableHeadProps(props = {}) {\n      const { view = \"day\" } = props\n      return normalize.element({\n        ...parts.tableHead.attrs,\n        \"aria-hidden\": true,\n        dir: state.context.dir,\n        \"data-view\": view,\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getTableHeaderProps(props = {}) {\n      const { view = \"day\" } = props\n      return normalize.element({\n        ...parts.tableHeader.attrs,\n        dir: state.context.dir,\n        \"data-view\": view,\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getTableBodyProps(props = {}) {\n      const { view = \"day\" } = props\n      return normalize.element({\n        ...parts.tableBody.attrs,\n        \"data-view\": view,\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getTableRowProps(props = {}) {\n      const { view = \"day\" } = props\n      return normalize.element({\n        ...parts.tableRow.attrs,\n        \"aria-disabled\": ariaAttr(disabled),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-view\": view,\n      })\n    },\n\n    getDayTableCellState,\n\n    getDayTableCellProps(props) {\n      const { value } = props\n      const cellState = getDayTableCellState(props)\n      return normalize.element({\n        ...parts.tableCell.attrs,\n        role: \"gridcell\",\n        \"aria-disabled\": ariaAttr(!cellState.selectable),\n        \"aria-selected\": cellState.selected || cellState.inRange,\n        \"aria-invalid\": ariaAttr(cellState.invalid),\n        \"aria-current\": cellState.today ? \"date\" : undefined,\n        \"data-value\": value.toString(),\n      })\n    },\n\n    getDayTableCellTriggerProps(props) {\n      const { value } = props\n      const cellState = getDayTableCellState(props)\n      return normalize.element({\n        ...parts.tableCellTrigger.attrs,\n        id: dom.getCellTriggerId(state.context, value.toString()),\n        role: \"button\",\n        dir: state.context.dir,\n        tabIndex: cellState.focused ? 0 : -1,\n        \"aria-label\": cellState.ariaLabel,\n        \"aria-disabled\": ariaAttr(!cellState.selectable),\n        \"aria-invalid\": ariaAttr(cellState.invalid),\n        \"data-disabled\": dataAttr(!cellState.selectable),\n        \"data-selected\": dataAttr(cellState.selected),\n        \"data-value\": value.toString(),\n        \"data-view\": \"day\",\n        \"data-today\": dataAttr(cellState.today),\n        \"data-focus\": dataAttr(cellState.focused),\n        \"data-unavailable\": dataAttr(cellState.unavailable),\n        \"data-range-start\": dataAttr(cellState.firstInRange),\n        \"data-range-end\": dataAttr(cellState.lastInRange),\n        \"data-in-range\": dataAttr(cellState.inRange),\n        \"data-outside-range\": dataAttr(cellState.outsideRange),\n        \"data-weekend\": dataAttr(cellState.weekend),\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!cellState.selectable) return\n          send({ type: \"CELL.CLICK\", cell: \"day\", value })\n        },\n        onPointerMove(event) {\n          if (event.pointerType === \"touch\" || !cellState.selectable) return\n          const focus = event.currentTarget.ownerDocument.activeElement !== event.currentTarget\n          if (hoveredValue && isEqualDay(value, hoveredValue)) return\n          send({ type: \"CELL.POINTER_MOVE\", cell: \"day\", value, focus })\n        },\n      })\n    },\n\n    getMonthTableCellState,\n\n    getMonthTableCellProps(props) {\n      const { value, columns } = props\n      const cellState = getMonthTableCellState(props)\n      return normalize.element({\n        ...parts.tableCell.attrs,\n        dir: state.context.dir,\n        colSpan: columns,\n        role: \"gridcell\",\n        \"aria-selected\": ariaAttr(cellState.selected),\n        \"data-selected\": dataAttr(cellState.selected),\n        \"aria-disabled\": ariaAttr(!cellState.selectable),\n        \"data-value\": value,\n      })\n    },\n\n    getMonthTableCellTriggerProps(props) {\n      const { value } = props\n      const cellState = getMonthTableCellState(props)\n      return normalize.element({\n        ...parts.tableCellTrigger.attrs,\n        dir: state.context.dir,\n        role: \"button\",\n        id: dom.getCellTriggerId(state.context, value.toString()),\n        \"data-selected\": dataAttr(cellState.selected),\n        \"aria-disabled\": ariaAttr(!cellState.selectable),\n        \"data-disabled\": dataAttr(!cellState.selectable),\n        \"data-focus\": dataAttr(cellState.focused),\n        \"aria-label\": cellState.valueText,\n        \"data-view\": \"month\",\n        \"data-value\": value,\n        tabIndex: cellState.focused ? 0 : -1,\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!cellState.selectable) return\n          send({ type: \"CELL.CLICK\", cell: \"month\", value })\n        },\n      })\n    },\n\n    getYearTableCellState,\n\n    getYearTableCellProps(props) {\n      const { value, columns } = props\n      const cellState = getYearTableCellState(props)\n      return normalize.element({\n        ...parts.tableCell.attrs,\n        dir: state.context.dir,\n        colSpan: columns,\n        role: \"gridcell\",\n        \"aria-selected\": ariaAttr(cellState.selected),\n        \"data-selected\": dataAttr(cellState.selected),\n        \"aria-disabled\": ariaAttr(!cellState.selectable),\n        \"data-value\": value,\n      })\n    },\n\n    getYearTableCellTriggerProps(props) {\n      const { value } = props\n      const cellState = getYearTableCellState(props)\n      return normalize.element({\n        ...parts.tableCellTrigger.attrs,\n        dir: state.context.dir,\n        role: \"button\",\n        id: dom.getCellTriggerId(state.context, value.toString()),\n        \"data-selected\": dataAttr(cellState.selected),\n        \"data-focus\": dataAttr(cellState.focused),\n        \"aria-disabled\": ariaAttr(!cellState.selectable),\n        \"data-disabled\": dataAttr(!cellState.selectable),\n        \"aria-label\": cellState.valueText,\n        \"data-value\": value,\n        \"data-view\": \"year\",\n        tabIndex: cellState.focused ? 0 : -1,\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!cellState.selectable) return\n          send({ type: \"CELL.CLICK\", cell: \"year\", value })\n        },\n      })\n    },\n\n    getNextTriggerProps(props = {}) {\n      const { view = \"day\" } = props\n      const isDisabled = disabled || !state.context.isNextVisibleRangeValid\n      return normalize.button({\n        ...parts.nextTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getNextTriggerId(state.context, view),\n        type: \"button\",\n        \"aria-label\": getNextTriggerLabel(view),\n        disabled: isDisabled,\n        \"data-disabled\": dataAttr(isDisabled),\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send({ type: \"GOTO.NEXT\", view })\n        },\n      })\n    },\n\n    getPrevTriggerProps(props = {}) {\n      const { view = \"day\" } = props\n      const isDisabled = disabled || !state.context.isPrevVisibleRangeValid\n      return normalize.button({\n        ...parts.prevTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getPrevTriggerId(state.context, view),\n        type: \"button\",\n        \"aria-label\": getPrevTriggerLabel(view),\n        disabled: isDisabled,\n        \"data-disabled\": dataAttr(isDisabled),\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send({ type: \"GOTO.PREV\", view })\n        },\n      })\n    },\n\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        id: dom.getClearTriggerId(state.context),\n        dir: state.context.dir,\n        type: \"button\",\n        \"aria-label\": \"Clear dates\",\n        hidden: !state.context.value.length,\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send(\"VALUE.CLEAR\")\n        },\n      })\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        id: dom.getTriggerId(state.context),\n        dir: state.context.dir,\n        type: \"button\",\n        \"data-placement\": currentPlacement,\n        \"aria-label\": open ? \"Close calendar\" : \"Open calendar\",\n        \"aria-controls\": dom.getContentId(state.context),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-haspopup\": \"grid\",\n        disabled,\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n          send(\"TRIGGER.CLICK\")\n        },\n      })\n    },\n\n    getViewTriggerProps(props = {}) {\n      const { view = \"day\" } = props\n      return normalize.button({\n        ...parts.viewTrigger.attrs,\n        \"data-view\": view,\n        dir: state.context.dir,\n        id: dom.getViewTriggerId(state.context, view),\n        type: \"button\",\n        disabled,\n        \"aria-label\": getViewTriggerLabel(state.context.view),\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n          send(\"VIEW.CHANGE\")\n        },\n      })\n    },\n\n    getViewControlProps(props = {}) {\n      const { view = \"day\" } = props\n      return normalize.element({\n        ...parts.viewControl.attrs,\n        \"data-view\": view,\n        dir: state.context.dir,\n      })\n    },\n\n    getInputProps(props = {}) {\n      const { index = 0 } = props\n\n      return normalize.input({\n        ...parts.input.attrs,\n        id: dom.getInputId(state.context, index),\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        spellCheck: \"false\",\n        dir: state.context.dir,\n        name: state.context.name,\n        \"data-state\": open ? \"open\" : \"closed\",\n        readOnly,\n        disabled,\n        placeholder: getInputPlaceholder(locale),\n        defaultValue: state.context.formattedValue[index],\n        onBeforeInput(event) {\n          const { data } = getNativeEvent(event)\n          if (!isValidCharacter(data, separator)) {\n            event.preventDefault()\n          }\n        },\n        onFocus() {\n          send({ type: \"INPUT.FOCUS\", index })\n        },\n        onBlur(event) {\n          send({ type: \"INPUT.BLUR\", value: event.currentTarget.value, index })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n          if (isComposingEvent(event)) return\n          if (event.key !== \"Enter\") return\n          if (isUnavailable(state.context.focusedValue)) return\n          send({ type: \"INPUT.ENTER\", value: event.currentTarget.value, index })\n          event.preventDefault()\n        },\n        onChange(event) {\n          const { value } = event.target\n          send({ type: \"INPUT.CHANGE\", value: ensureValidCharacters(value, separator), index })\n        },\n      })\n    },\n\n    getMonthSelectProps() {\n      return normalize.select({\n        ...parts.monthSelect.attrs,\n        id: dom.getMonthSelectId(state.context),\n        \"aria-label\": \"Select month\",\n        disabled,\n        dir: state.context.dir,\n        defaultValue: startValue.month,\n        onChange(event) {\n          focusMonth(Number(event.currentTarget.value))\n        },\n      })\n    },\n\n    getYearSelectProps() {\n      return normalize.select({\n        ...parts.yearSelect.attrs,\n        id: dom.getYearSelectId(state.context),\n        disabled,\n        \"aria-label\": \"Select year\",\n        dir: state.context.dir,\n        defaultValue: startValue.year,\n        onChange(event) {\n          focusYear(Number(event.currentTarget.value))\n        },\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        id: dom.getPositionerId(state.context),\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        style: popperStyles.floating,\n      })\n    },\n\n    getPresetTriggerProps(props) {\n      const value = Array.isArray(props.value) ? props.value : getDateRangePreset(props.value, locale, timeZone)\n      return normalize.button({\n        ...parts.presetTrigger.attrs,\n        \"aria-label\": Array.isArray(props.value)\n          ? `select ${value[0].toString()} to ${value[1].toString()}`\n          : `select ${value}`,\n        type: \"button\",\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send({ type: \"PRESET.CLICK\", value })\n        },\n      })\n    },\n  }\n}\n", "import { createScope, query, queryAll } from \"@zag-js/dom-query\"\nimport type { DateView, MachineContext as Ctx } from \"./date-picker.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `datepicker:${ctx.id}`,\n  getTableId: (ctx: Ctx, id: string) => ctx.ids?.table?.(id) ?? `datepicker:${ctx.id}:table:${id}`,\n  getTableHeaderId: (ctx: Ctx, id: string) => ctx.ids?.tableHeader?.(id) ?? `datepicker:${ctx.id}:thead`,\n  getTableBodyId: (ctx: Ctx, id: string) => ctx.ids?.tableBody?.(id) ?? `datepicker:${ctx.id}:tbody`,\n  getTableRowId: (ctx: Ctx, id: string) => ctx.ids?.tableRow?.(id) ?? `datepicker:${ctx.id}:tr:${id}`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `datepicker:${ctx.id}:content`,\n  getCellTriggerId: (ctx: Ctx, id: string) => ctx.ids?.cellTrigger?.(id) ?? `datepicker:${ctx.id}:cell-trigger:${id}`,\n  getPrevTriggerId: (ctx: Ctx, view: DateView) => ctx.ids?.prevTrigger?.(view) ?? `datepicker:${ctx.id}:prev:${view}`,\n  getNextTriggerId: (ctx: Ctx, view: DateView) => ctx.ids?.nextTrigger?.(view) ?? `datepicker:${ctx.id}:next:${view}`,\n  getViewTriggerId: (ctx: Ctx, view: DateView) => ctx.ids?.viewTrigger?.(view) ?? `datepicker:${ctx.id}:view:${view}`,\n  getClearTriggerId: (ctx: Ctx) => ctx.ids?.clearTrigger ?? `datepicker:${ctx.id}:clear`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `datepicker:${ctx.id}:control`,\n  getInputId: (ctx: Ctx, index: number) => ctx.ids?.input?.(index) ?? `datepicker:${ctx.id}:input:${index}`,\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `datepicker:${ctx.id}:trigger`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `datepicker:${ctx.id}:positioner`,\n  getMonthSelectId: (ctx: Ctx) => ctx.ids?.monthSelect ?? `datepicker:${ctx.id}:month-select`,\n  getYearSelectId: (ctx: Ctx) => ctx.ids?.yearSelect ?? `datepicker:${ctx.id}:year-select`,\n\n  getFocusedCell: (ctx: Ctx, view = ctx.view) =>\n    query(\n      dom.getContentEl(ctx),\n      `[data-part=table-cell-trigger][data-view=${view}][data-focus]:not([data-outside-range])`,\n    ),\n  getTriggerEl: (ctx: Ctx) => dom.getById<HTMLButtonElement>(ctx, dom.getTriggerId(ctx)),\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getInputEls: (ctx: Ctx) => queryAll<HTMLInputElement>(dom.getControlEl(ctx), `[data-part=input]`),\n  getYearSelectEl: (ctx: Ctx) => dom.getById<HTMLSelectElement>(ctx, dom.getYearSelectId(ctx)),\n  getMonthSelectEl: (ctx: Ctx) => dom.getById<HTMLSelectElement>(ctx, dom.getMonthSelectId(ctx)),\n  getClearTriggerEl: (ctx: Ctx) => dom.getById<HTMLButtonElement>(ctx, dom.getClearTriggerId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getControlEl: (ctx: Ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n})\n", "import { DateFormatter, type DateValue } from \"@internationalized/date\"\nimport { match } from \"@zag-js/utils\"\nimport type { DateView } from \"./date-picker.types\"\n\nexport function adjustStartAndEndDate(value: DateValue[]) {\n  const [startDate, endDate] = value\n  if (!startDate || !endDate) return value\n  return startDate.compare(endDate) <= 0 ? value : [endDate, startDate]\n}\n\nexport function isDateWithinRange(date: DateValue, value: (DateValue | null)[]) {\n  const [startDate, endDate] = value\n  if (!startDate || !endDate) return false\n  return startDate.compare(date) <= 0 && endDate.compare(date) >= 0\n}\n\nexport function sortDates(values: DateValue[]) {\n  return values.sort((a, b) => a.compare(b))\n}\n\nexport function getNextTriggerLabel(view: DateView) {\n  return match(view, {\n    year: \"Switch to next decade\",\n    month: \"Switch to next year\",\n    day: \"Switch to next month\",\n  })\n}\n\nexport function getPrevTriggerLabel(view: DateView) {\n  return match(view, {\n    year: \"Switch to previous decade\",\n    month: \"Switch to previous year\",\n    day: \"Switch to previous month\",\n  })\n}\n\nexport function getRoleDescription(view: DateView) {\n  return match(view, {\n    year: \"calendar decade\",\n    month: \"calendar year\",\n    day: \"calendar month\",\n  })\n}\n\nexport function getViewTriggerLabel(view: DateView) {\n  return match(view, {\n    year: \"Switch to month view\",\n    month: \"Switch to day view\",\n    day: \"Switch to year view\",\n  })\n}\n\nconst PLACEHOLDERS = { day: \"dd\", month: \"mm\", year: \"yyyy\" }\n\nexport function getInputPlaceholder(locale: string) {\n  return new DateFormatter(locale)\n    .formatToParts(new Date())\n    .map((item) => PLACEHOLDERS[item.type] ?? item.value)\n    .join(\"\")\n}\n\nexport const isValidCharacter = (char: string | null, separator: string) => {\n  if (!char) return true\n  return /\\d/.test(char) || char === separator || char.length !== 1\n}\n\nexport const ensureValidCharacters = (value: string, separator: string) => {\n  return value\n    .split(\"\")\n    .filter((char) => isValidCharacter(char, separator))\n    .join(\"\")\n}\n\nexport function getLocaleSeparator(locale: string) {\n  const dateFormatter = new Intl.DateTimeFormat(locale)\n  const parts = dateFormatter.formatToParts(new Date())\n  const literalPart = parts.find((part) => part.type === \"literal\")\n  return literalPart ? literalPart.value : \"/\"\n}\n", "import { DateFormatter } from \"@internationalized/date\"\nimport { createMachine, guards } from \"@zag-js/core\"\nimport {\n  alignDate,\n  constrainValue,\n  formatSelectedDate,\n  getAdjustedDateFn,\n  getDecadeRange,\n  getEndDate,\n  getNextDay,\n  getNextPage,\n  getNextSection,\n  getPreviousDay,\n  getPreviousPage,\n  getPreviousSection,\n  getTodayDate,\n  isDateEqual,\n  isDateOutsideVisibleRange,\n  isNextVisibleRangeInvalid,\n  isPreviousVisibleRangeInvalid,\n  parseDateString,\n  type AdjustDateReturn,\n} from \"@zag-js/date-utils\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { raf } from \"@zag-js/dom-query\"\nimport { createLiveRegion } from \"@zag-js/live-region\"\nimport { getPlacement } from \"@zag-js/popper\"\nimport { disableTextSelection, restoreTextSelection } from \"@zag-js/text-selection\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./date-picker.dom\"\nimport type { DateValue, DateView, MachineContext, MachineState, UserDefinedContext } from \"./date-picker.types\"\nimport { adjustStartAndEndDate, sortDates } from \"./date-picker.utils\"\n\nconst { and } = guards\n\nconst transformContext = (ctx: Partial<MachineContext>): MachineContext => {\n  const locale = ctx.locale || \"en-US\"\n  const timeZone = ctx.timeZone || \"UTC\"\n  const selectionMode = ctx.selectionMode || \"single\"\n  const numOfMonths = ctx.numOfMonths || 1\n\n  // sort and constrain dates\n  const value = sortDates(ctx.value || []).map((date) => constrainValue(date, ctx.min, ctx.max))\n\n  // get initial focused value\n  let focusedValue = value[0] || ctx.focusedValue || getTodayDate(timeZone)\n  focusedValue = constrainValue(focusedValue, ctx.min, ctx.max)\n\n  // get initial start value for visible range\n  const startValue = alignDate(focusedValue, \"start\", { months: numOfMonths }, locale)\n\n  return {\n    locale,\n    numOfMonths,\n    focusedValue,\n    startValue,\n    timeZone,\n    value,\n    selectionMode,\n    view: \"day\",\n    activeIndex: 0,\n    hoveredValue: null,\n    closeOnSelect: true,\n    disabled: false,\n    readOnly: false,\n    ...ctx,\n    positioning: {\n      placement: \"bottom\",\n      ...ctx.positioning,\n    },\n  } as MachineContext\n}\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"datepicker\",\n      initial: ctx.open ? \"open\" : \"idle\",\n      context: transformContext(ctx),\n      computed: {\n        valueAsString: (ctx) => ctx.value.map((date) => formatSelectedDate(date, null, ctx.locale, ctx.timeZone)),\n        isInteractive: (ctx) => !ctx.disabled && !ctx.readOnly,\n        visibleDuration: (ctx) => ({ months: ctx.numOfMonths }),\n        endValue: (ctx) => getEndDate(ctx.startValue, ctx.visibleDuration),\n        visibleRange: (ctx) => ({ start: ctx.startValue, end: ctx.endValue }),\n        visibleRangeText(ctx) {\n          const formatter = new DateFormatter(ctx.locale, { month: \"long\", year: \"numeric\", timeZone: ctx.timeZone })\n          const start = formatter.format(ctx.startValue.toDate(ctx.timeZone))\n          const end = formatter.format(ctx.endValue.toDate(ctx.timeZone))\n          const formatted = ctx.selectionMode === \"range\" ? `${start} - ${end}` : start\n          return { start, end, formatted }\n        },\n        isPrevVisibleRangeValid: (ctx) => !isPreviousVisibleRangeInvalid(ctx.startValue, ctx.min, ctx.max),\n        isNextVisibleRangeValid: (ctx) => !isNextVisibleRangeInvalid(ctx.endValue, ctx.min, ctx.max),\n        formattedValue(ctx) {\n          const opts = { timeZone: ctx.timeZone, day: \"2-digit\", month: \"2-digit\", year: \"numeric\" } as const\n          const formatter = new DateFormatter(ctx.locale, opts)\n          return ctx.value.map((date) => ctx.format?.(date) ?? formatter.format(date.toDate(ctx.timeZone)))\n        },\n      },\n\n      activities: [\"setupLiveRegion\"],\n\n      created: [\"setStartValue\"],\n\n      watch: {\n        locale: [\"setStartValue\"],\n        focusedValue: [\n          \"setStartValue\",\n          \"syncMonthSelectElement\",\n          \"syncYearSelectElement\",\n          \"focusActiveCellIfNeeded\",\n          \"setHoveredValueIfKeyboard\",\n        ],\n        value: [\"syncInputElement\"],\n        valueAsString: [\"announceValueText\"],\n        view: [\"focusActiveCell\"],\n        open: [\"toggleVisibility\"],\n      },\n\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setDateValue\", \"setFocusedDate\"],\n        },\n        \"VIEW.SET\": {\n          actions: [\"setView\"],\n        },\n        \"FOCUS.SET\": {\n          actions: [\"setFocusedDate\"],\n        },\n        \"VALUE.CLEAR\": {\n          actions: [\"clearDateValue\", \"clearFocusedDate\", \"focusFirstInputElement\"],\n        },\n        \"INPUT.CHANGE\": {\n          actions: [\"focusParsedDate\"],\n        },\n        \"INPUT.ENTER\": {\n          actions: [\"focusParsedDate\", \"selectFocusedDate\"],\n        },\n        \"INPUT.FOCUS\": {\n          actions: [\"setActiveIndex\"],\n        },\n        \"INPUT.BLUR\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"setActiveIndexToStart\", \"selectParsedDate\", \"invokeOnClose\"],\n          },\n          {\n            target: \"idle\",\n            actions: [\"setActiveIndexToStart\", \"selectParsedDate\"],\n          },\n        ],\n        \"PRESET.CLICK\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"setDateValue\", \"setFocusedDate\", \"invokeOnClose\"],\n          },\n          {\n            target: \"focused\",\n            actions: [\"setDateValue\", \"setFocusedDate\", \"focusInputElement\"],\n          },\n        ],\n        \"GOTO.NEXT\": [\n          {\n            guard: \"isYearView\",\n            actions: [\"focusNextDecade\", \"announceVisibleRange\"],\n          },\n          {\n            guard: \"isMonthView\",\n            actions: [\"focusNextYear\", \"announceVisibleRange\"],\n          },\n          {\n            actions: [\"focusNextPage\"],\n          },\n        ],\n        \"GOTO.PREV\": [\n          {\n            guard: \"isYearView\",\n            actions: [\"focusPreviousDecade\", \"announceVisibleRange\"],\n          },\n          {\n            guard: \"isMonthView\",\n            actions: [\"focusPreviousYear\", \"announceVisibleRange\"],\n          },\n          {\n            actions: [\"focusPreviousPage\"],\n          },\n        ],\n      },\n\n      states: {\n        idle: {\n          tags: \"closed\",\n          on: {\n            \"CONTROLLED.OPEN\": {\n              target: \"open\",\n              actions: [\"focusFirstSelectedDate\", \"focusActiveCell\"],\n            },\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"focusFirstSelectedDate\", \"focusActiveCell\", \"invokeOnOpen\"],\n              },\n            ],\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"focusFirstSelectedDate\", \"focusActiveCell\", \"invokeOnOpen\"],\n              },\n            ],\n          },\n        },\n\n        focused: {\n          tags: \"closed\",\n          on: {\n            \"CONTROLLED.OPEN\": {\n              target: \"open\",\n              actions: [\"focusFirstSelectedDate\", \"focusActiveCell\"],\n            },\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"focusFirstSelectedDate\", \"focusActiveCell\", \"invokeOnOpen\"],\n              },\n            ],\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"focusFirstSelectedDate\", \"focusActiveCell\", \"invokeOnOpen\"],\n              },\n            ],\n          },\n        },\n\n        open: {\n          tags: \"open\",\n          activities: [\"trackDismissableElement\", \"trackPositioning\"],\n          exit: [\"clearHoveredDate\", \"resetView\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                guard: and(\"shouldRestoreFocus\", \"isInteractOutsideEvent\"),\n                target: \"focused\",\n                actions: [\"focusTriggerElement\"],\n              },\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"focusInputElement\"],\n              },\n              {\n                target: \"idle\",\n              },\n            ],\n            \"CELL.CLICK\": [\n              {\n                guard: \"isMonthView\",\n                actions: [\"setFocusedMonth\", \"setViewToDay\"],\n              },\n              {\n                guard: \"isYearView\",\n                actions: [\"setFocusedYear\", \"setViewToMonth\"],\n              },\n              {\n                guard: and(\"isRangePicker\", \"hasSelectedRange\"),\n                actions: [\n                  \"setActiveIndexToStart\",\n                  \"clearDateValue\",\n                  \"setFocusedDate\",\n                  \"setSelectedDate\",\n                  \"setActiveIndexToEnd\",\n                ],\n              },\n              // === Grouped transitions (based on `closeOnSelect` and `isOpenControlled`) ===\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\", \"closeOnSelect\", \"isOpenControlled\"),\n                actions: [\n                  \"setFocusedDate\",\n                  \"setSelectedDate\",\n                  \"setActiveIndexToStart\",\n                  \"invokeOnClose\",\n                  \"setRestoreFocus\",\n                ],\n              },\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\", \"closeOnSelect\"),\n                target: \"focused\",\n                actions: [\n                  \"setFocusedDate\",\n                  \"setSelectedDate\",\n                  \"setActiveIndexToStart\",\n                  \"invokeOnClose\",\n                  \"focusInputElement\",\n                ],\n              },\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\"),\n                actions: [\"setFocusedDate\", \"setSelectedDate\", \"setActiveIndexToStart\", \"clearHoveredDate\"],\n              },\n              // ===\n              {\n                guard: \"isRangePicker\",\n                actions: [\"setFocusedDate\", \"setSelectedDate\", \"setActiveIndexToEnd\"],\n              },\n              {\n                guard: \"isMultiPicker\",\n                actions: [\"setFocusedDate\", \"toggleSelectedDate\"],\n              },\n              // === Grouped transitions (based on `closeOnSelect` and `isOpenControlled`) ===\n              {\n                guard: and(\"closeOnSelect\", \"isOpenControlled\"),\n                actions: [\"setFocusedDate\", \"setSelectedDate\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"setFocusedDate\", \"setSelectedDate\", \"invokeOnClose\", \"focusInputElement\"],\n              },\n              {\n                actions: [\"setFocusedDate\", \"setSelectedDate\"],\n              },\n              // ===\n            ],\n            \"CELL.POINTER_MOVE\": {\n              guard: and(\"isRangePicker\", \"isSelectingEndDate\"),\n              actions: [\"setHoveredDate\", \"setFocusedDate\"],\n            },\n            \"TABLE.POINTER_LEAVE\": {\n              guard: \"isRangePicker\",\n              actions: [\"clearHoveredDate\"],\n            },\n            \"TABLE.POINTER_DOWN\": {\n              actions: [\"disableTextSelection\"],\n            },\n            \"TABLE.POINTER_UP\": {\n              actions: [\"enableTextSelection\"],\n            },\n            \"TABLE.ESCAPE\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"focusFirstSelectedDate\", \"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"focusFirstSelectedDate\", \"invokeOnClose\", \"focusTriggerElement\"],\n              },\n            ],\n            \"TABLE.ENTER\": [\n              {\n                guard: \"isMonthView\",\n                actions: \"setViewToDay\",\n              },\n              {\n                guard: \"isYearView\",\n                actions: \"setViewToMonth\",\n              },\n              {\n                guard: and(\"isRangePicker\", \"hasSelectedRange\"),\n                actions: [\"setActiveIndexToStart\", \"clearDateValue\", \"setSelectedDate\", \"setActiveIndexToEnd\"],\n              },\n              // === Grouped transitions (based on `closeOnSelect` and `isOpenControlled`) ===\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\", \"closeOnSelect\", \"isOpenControlled\"),\n                actions: [\"setSelectedDate\", \"setActiveIndexToStart\", \"invokeOnClose\"],\n              },\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\", \"closeOnSelect\"),\n                target: \"focused\",\n                actions: [\"setSelectedDate\", \"setActiveIndexToStart\", \"invokeOnClose\", \"focusInputElement\"],\n              },\n              {\n                guard: and(\"isRangePicker\", \"isSelectingEndDate\"),\n                actions: [\"setSelectedDate\", \"setActiveIndexToStart\"],\n              },\n              // ===\n              {\n                guard: \"isRangePicker\",\n                actions: [\"setSelectedDate\", \"setActiveIndexToEnd\", \"focusNextDay\"],\n              },\n              {\n                guard: \"isMultiPicker\",\n                actions: [\"toggleSelectedDate\"],\n              },\n              // === Grouped transitions (based on `closeOnSelect` and `isOpenControlled`) ===\n              {\n                guard: and(\"closeOnSelect\", \"isOpenControlled\"),\n                actions: [\"selectFocusedDate\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectFocusedDate\", \"invokeOnClose\", \"focusInputElement\"],\n              },\n              {\n                actions: [\"selectFocusedDate\"],\n              },\n              // ===\n            ],\n            \"TABLE.ARROW_RIGHT\": [\n              {\n                guard: \"isMonthView\",\n                actions: \"focusNextMonth\",\n              },\n              {\n                guard: \"isYearView\",\n                actions: \"focusNextYear\",\n              },\n              {\n                actions: [\"focusNextDay\", \"setHoveredDate\"],\n              },\n            ],\n            \"TABLE.ARROW_LEFT\": [\n              {\n                guard: \"isMonthView\",\n                actions: \"focusPreviousMonth\",\n              },\n              {\n                guard: \"isYearView\",\n                actions: \"focusPreviousYear\",\n              },\n              {\n                actions: [\"focusPreviousDay\"],\n              },\n            ],\n            \"TABLE.ARROW_UP\": [\n              {\n                guard: \"isMonthView\",\n                actions: \"focusPreviousMonthColumn\",\n              },\n              {\n                guard: \"isYearView\",\n                actions: \"focusPreviousYearColumn\",\n              },\n              {\n                actions: [\"focusPreviousWeek\"],\n              },\n            ],\n            \"TABLE.ARROW_DOWN\": [\n              {\n                guard: \"isMonthView\",\n                actions: \"focusNextMonthColumn\",\n              },\n              {\n                guard: \"isYearView\",\n                actions: \"focusNextYearColumn\",\n              },\n              {\n                actions: [\"focusNextWeek\"],\n              },\n            ],\n            \"TABLE.PAGE_UP\": {\n              actions: [\"focusPreviousSection\"],\n            },\n            \"TABLE.PAGE_DOWN\": {\n              actions: [\"focusNextSection\"],\n            },\n            \"TABLE.HOME\": [\n              {\n                guard: \"isMonthView\",\n                actions: [\"focusFirstMonth\"],\n              },\n              {\n                guard: \"isYearView\",\n                actions: [\"focusFirstYear\"],\n              },\n              {\n                actions: [\"focusSectionStart\"],\n              },\n            ],\n            \"TABLE.END\": [\n              {\n                guard: \"isMonthView\",\n                actions: [\"focusLastMonth\"],\n              },\n              {\n                guard: \"isYearView\",\n                actions: [\"focusLastYear\"],\n              },\n              {\n                actions: [\"focusSectionEnd\"],\n              },\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            \"VIEW.CHANGE\": [\n              {\n                guard: \"isDayView\",\n                actions: [\"setViewToMonth\"],\n              },\n              {\n                guard: \"isMonthView\",\n                actions: [\"setViewToYear\"],\n              },\n            ],\n            INTERACT_OUTSIDE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setActiveIndexToStart\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"setActiveIndexToStart\", \"invokeOnClose\", \"focusTriggerElement\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"setActiveIndexToStart\", \"invokeOnClose\"],\n              },\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setActiveIndexToStart\", \"invokeOnClose\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"setActiveIndexToStart\", \"invokeOnClose\"],\n              },\n            ],\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isDayView: (ctx, evt) => (evt.view || ctx.view) === \"day\",\n        isMonthView: (ctx, evt) => (evt.view || ctx.view) === \"month\",\n        isYearView: (ctx, evt) => (evt.view || ctx.view) === \"year\",\n        isRangePicker: (ctx) => ctx.selectionMode === \"range\",\n        hasSelectedRange: (ctx) => ctx.value.length === 2,\n        isMultiPicker: (ctx) => ctx.selectionMode === \"multiple\",\n        shouldRestoreFocus: (ctx) => !!ctx.restoreFocus,\n        isSelectingEndDate: (ctx) => ctx.activeIndex === 1,\n        closeOnSelect: (ctx) => !!ctx.closeOnSelect,\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n        isInteractOutsideEvent: (_ctx, evt) => evt.previousEvent?.type === \"INTERACT_OUTSIDE\",\n      },\n      activities: {\n        trackPositioning(ctx) {\n          ctx.currentPlacement = ctx.positioning.placement\n          const anchorEl = dom.getControlEl(ctx)\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(anchorEl, getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        setupLiveRegion(ctx) {\n          const doc = dom.getDoc(ctx)\n          ctx.announcer = createLiveRegion({ level: \"assertive\", document: doc })\n          return () => ctx.announcer?.destroy?.()\n        },\n        trackDismissableElement(ctx, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(getContentEl, {\n            defer: true,\n            exclude: [...dom.getInputEls(ctx), dom.getTriggerEl(ctx), dom.getClearTriggerEl(ctx)],\n            onInteractOutside(event) {\n              ctx.restoreFocus = !event.detail.focusable\n            },\n            onDismiss() {\n              send({ type: \"INTERACT_OUTSIDE\" })\n            },\n            onEscapeKeyDown(event) {\n              event.preventDefault()\n              send({ type: \"TABLE.ESCAPE\", src: \"dismissable\" })\n            },\n          })\n        },\n      },\n      actions: {\n        setViewToDay(ctx) {\n          set.view(ctx, \"day\")\n        },\n        setViewToMonth(ctx) {\n          set.view(ctx, \"month\")\n        },\n        setViewToYear(ctx) {\n          set.view(ctx, \"year\")\n        },\n        setView(ctx, evt) {\n          set.view(ctx, evt.cell)\n        },\n        setRestoreFocus(ctx) {\n          ctx.restoreFocus = true\n        },\n        announceValueText(ctx) {\n          ctx.announcer?.announce(ctx.valueAsString.join(\",\"), 3000)\n        },\n        announceVisibleRange(ctx) {\n          const { formatted } = ctx.visibleRangeText\n          ctx.announcer?.announce(formatted)\n        },\n        disableTextSelection(ctx) {\n          disableTextSelection({ target: dom.getContentEl(ctx)!, doc: dom.getDoc(ctx) })\n        },\n        enableTextSelection(ctx) {\n          restoreTextSelection({ doc: dom.getDoc(ctx), target: dom.getContentEl(ctx)! })\n        },\n        focusFirstSelectedDate(ctx) {\n          if (!ctx.value.length) return\n          set.focusedValue(ctx, ctx.value[0])\n        },\n        syncInputElement(ctx) {\n          raf(() => {\n            const inputEls = dom.getInputEls(ctx)\n\n            inputEls.forEach((inputEl, index) => {\n              dom.setValue(inputEl, ctx.formattedValue[index] || \"\")\n            })\n          })\n        },\n        setFocusedDate(ctx, evt) {\n          const value = Array.isArray(evt.value) ? evt.value[0] : evt.value\n          set.focusedValue(ctx, value)\n        },\n        setFocusedMonth(ctx, evt) {\n          set.focusedValue(ctx, ctx.focusedValue.set({ month: evt.value }))\n        },\n        focusNextMonth(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.add({ months: 1 }))\n        },\n        focusPreviousMonth(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.subtract({ months: 1 }))\n        },\n        setFocusedYear(ctx, evt) {\n          set.focusedValue(ctx, ctx.focusedValue.set({ year: evt.value }))\n        },\n        setDateValue(ctx, evt) {\n          if (!Array.isArray(evt.value)) return\n          const value = evt.value.map((date: DateValue) => constrainValue(date, ctx.min, ctx.max))\n          set.value(ctx, value)\n        },\n        clearDateValue(ctx) {\n          set.value(ctx, [])\n        },\n        setSelectedDate(ctx, evt) {\n          const values = Array.from(ctx.value)\n          values[ctx.activeIndex] = evt.value ?? ctx.focusedValue\n          set.value(ctx, adjustStartAndEndDate(values))\n        },\n        toggleSelectedDate(ctx, evt) {\n          const currentValue = evt.value ?? ctx.focusedValue\n          const index = ctx.value.findIndex((date) => isDateEqual(date, currentValue))\n\n          if (index === -1) {\n            const values = [...ctx.value, currentValue]\n            set.value(ctx, sortDates(values))\n          } else {\n            const values = Array.from(ctx.value)\n            values.splice(index, 1)\n            set.value(ctx, sortDates(values))\n          }\n        },\n        setHoveredDate(ctx, evt) {\n          ctx.hoveredValue = evt.value\n        },\n        clearHoveredDate(ctx) {\n          ctx.hoveredValue = null\n        },\n        selectFocusedDate(ctx) {\n          const values = Array.from(ctx.value)\n          values[ctx.activeIndex] = ctx.focusedValue.copy()\n          set.value(ctx, adjustStartAndEndDate(values))\n        },\n        setPreviousDate(ctx) {\n          set.focusedValue(ctx, getPreviousDay(ctx.focusedValue))\n        },\n        setNextDate(ctx) {\n          set.focusedValue(ctx, getNextDay(ctx.focusedValue))\n        },\n        focusPreviousDay(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.subtract({ days: 1 }))\n        },\n        focusNextDay(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.add({ days: 1 }))\n        },\n        focusPreviousWeek(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.subtract({ weeks: 1 }))\n        },\n        focusNextWeek(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.add({ weeks: 1 }))\n        },\n        focusNextPage(ctx) {\n          const nextPage = getNextPage(\n            ctx.focusedValue,\n            ctx.startValue,\n            ctx.visibleDuration,\n            ctx.locale,\n            ctx.min,\n            ctx.max,\n          )\n\n          set.adjustedValue(ctx, nextPage)\n        },\n        focusPreviousPage(ctx) {\n          const previousPage = getPreviousPage(\n            ctx.focusedValue,\n            ctx.startValue,\n            ctx.visibleDuration,\n            ctx.locale,\n            ctx.min,\n            ctx.max,\n          )\n\n          set.adjustedValue(ctx, previousPage)\n        },\n        focusSectionStart(ctx) {\n          set.focusedValue(ctx, ctx.startValue.copy())\n        },\n        focusSectionEnd(ctx) {\n          set.focusedValue(ctx, ctx.endValue.copy())\n        },\n        focusNextSection(ctx, evt) {\n          const nextSection = getNextSection(\n            ctx.focusedValue,\n            ctx.startValue,\n            evt.larger,\n            ctx.visibleDuration,\n            ctx.locale,\n            ctx.min,\n            ctx.max,\n          )\n\n          if (!nextSection) return\n          set.adjustedValue(ctx, nextSection)\n        },\n        focusPreviousSection(ctx, evt) {\n          const previousSection = getPreviousSection(\n            ctx.focusedValue,\n            ctx.startValue,\n            evt.larger,\n            ctx.visibleDuration,\n            ctx.locale,\n            ctx.min,\n            ctx.max,\n          )\n\n          if (!previousSection) return\n          set.adjustedValue(ctx, previousSection)\n        },\n        focusNextYear(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.add({ years: 1 }))\n        },\n        focusPreviousYear(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.subtract({ years: 1 }))\n        },\n        focusNextDecade(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.add({ years: 10 }))\n        },\n        focusPreviousDecade(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.subtract({ years: 10 }))\n        },\n        clearFocusedDate(ctx) {\n          set.focusedValue(ctx, getTodayDate(ctx.timeZone))\n        },\n        focusPreviousMonthColumn(ctx, evt) {\n          set.focusedValue(ctx, ctx.focusedValue.subtract({ months: evt.columns }))\n        },\n        focusNextMonthColumn(ctx, evt) {\n          set.focusedValue(ctx, ctx.focusedValue.add({ months: evt.columns }))\n        },\n        focusPreviousYearColumn(ctx, evt) {\n          set.focusedValue(ctx, ctx.focusedValue.subtract({ years: evt.columns }))\n        },\n        focusNextYearColumn(ctx, evt) {\n          set.focusedValue(ctx, ctx.focusedValue.add({ years: evt.columns }))\n        },\n        focusFirstMonth(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.set({ month: 0 }))\n        },\n        focusLastMonth(ctx) {\n          set.focusedValue(ctx, ctx.focusedValue.set({ month: 12 }))\n        },\n        focusFirstYear(ctx) {\n          const range = getDecadeRange(ctx.focusedValue.year)\n          set.focusedValue(ctx, ctx.focusedValue.set({ year: range.at(0) }))\n        },\n        focusLastYear(ctx) {\n          const range = getDecadeRange(ctx.focusedValue.year)\n          set.focusedValue(ctx, ctx.focusedValue.set({ year: range.at(-1) }))\n        },\n        setActiveIndex(ctx, evt) {\n          ctx.activeIndex = evt.index\n        },\n        setActiveIndexToEnd(ctx) {\n          ctx.activeIndex = 1\n        },\n        setActiveIndexToStart(ctx) {\n          ctx.activeIndex = 0\n        },\n        focusActiveCell(ctx) {\n          raf(() => {\n            dom.getFocusedCell(ctx)?.focus({ preventScroll: true })\n          })\n        },\n        focusActiveCellIfNeeded(ctx, evt) {\n          if (!evt.focus) return\n          raf(() => {\n            dom.getFocusedCell(ctx)?.focus({ preventScroll: true })\n          })\n        },\n        setHoveredValueIfKeyboard(ctx, evt) {\n          if (!evt.type.startsWith(\"TABLE.ARROW\") || ctx.selectionMode !== \"range\" || ctx.activeIndex === 0) return\n          ctx.hoveredValue = ctx.focusedValue.copy()\n        },\n        focusTriggerElement(ctx) {\n          raf(() => {\n            dom.getTriggerEl(ctx)?.focus({ preventScroll: true })\n          })\n        },\n        focusFirstInputElement(ctx) {\n          raf(() => {\n            const inputEl = dom.getInputEls(ctx)[0]\n            inputEl?.focus({ preventScroll: true })\n          })\n        },\n        focusInputElement(ctx) {\n          raf(() => {\n            const inputEls = dom.getInputEls(ctx)\n\n            const lastIndexWithValue = inputEls.findLastIndex((inputEl) => inputEl.value !== \"\")\n            const indexToFocus = Math.max(lastIndexWithValue, 0)\n\n            const inputEl = inputEls[indexToFocus]\n            inputEl?.focus({ preventScroll: true })\n            // move cursor to the end\n            inputEl?.setSelectionRange(inputEl.value.length, inputEl.value.length)\n          })\n        },\n        syncMonthSelectElement(ctx) {\n          const monthSelectEl = dom.getMonthSelectEl(ctx)\n          if (!monthSelectEl) return\n          monthSelectEl.value = ctx.startValue.month.toString()\n        },\n        syncYearSelectElement(ctx) {\n          const yearSelectEl = dom.getYearSelectEl(ctx)\n          if (!yearSelectEl) return\n          yearSelectEl.value = ctx.startValue.year.toString()\n        },\n        focusParsedDate(ctx, evt) {\n          if (evt.index == null) return\n\n          const date = parseDateString(evt.value, ctx.locale, ctx.timeZone)\n          if (!date) return\n\n          set.focusedValue(ctx, date)\n        },\n        selectParsedDate(ctx, evt) {\n          if (evt.index == null) return\n\n          const date = parseDateString(evt.value, ctx.locale, ctx.timeZone)\n          if (!date) return\n\n          const values = Array.from(ctx.value)\n          values[evt.index] = date\n\n          set.value(ctx, values)\n        },\n        resetView(ctx, _evt, { initialContext }) {\n          set.view(ctx, initialContext.view)\n        },\n        setStartValue(ctx) {\n          const outside = isDateOutsideVisibleRange(ctx.focusedValue, ctx.startValue, ctx.endValue)\n          if (!outside) return\n          const startValue = alignDate(ctx.focusedValue, \"start\", { months: ctx.numOfMonths }, ctx.locale)\n          ctx.startValue = startValue\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n      },\n      compareFns: {\n        startValue: isDateEqual,\n        endValue: isDateEqual,\n        focusedValue: isDateEqual,\n        value: isDateEqualFn,\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change(ctx: MachineContext) {\n    const value = Array.from(ctx.value)\n    const valueAsString = value.map((date) => date.toString())\n    ctx.onValueChange?.({\n      value,\n      valueAsString,\n      view: ctx.view,\n    })\n  },\n  focusChange(ctx: MachineContext) {\n    const value = Array.from(ctx.value)\n    const valueAsString = value.map((date) => date.toString())\n    ctx.onFocusChange?.({\n      focusedValue: ctx.focusedValue,\n      value,\n      valueAsString,\n      view: ctx.view,\n    })\n  },\n  viewChange(ctx: MachineContext) {\n    ctx.onViewChange?.({ view: ctx.view })\n  },\n}\n\nconst isDateEqualFn = (a: DateValue[], b: DateValue[]) => {\n  if (a.length !== b.length) return false\n  return a.every((date, index) => isDateEqual(date, b[index]))\n}\n\nconst set = {\n  value(ctx: MachineContext, value: DateValue[]) {\n    if (isDateEqualFn(ctx.value, value)) return\n    ctx.value = value\n    invoke.change(ctx)\n  },\n\n  focusedValue(ctx: MachineContext, value: DateValue | undefined) {\n    if (!value || isDateEqual(ctx.focusedValue, value)) return\n\n    const adjustFn = getAdjustedDateFn(ctx.visibleDuration, ctx.locale, ctx.min, ctx.max)\n    const adjustedValue = adjustFn({\n      focusedDate: value,\n      startDate: ctx.startValue,\n    })\n\n    ctx.startValue = adjustedValue.startDate\n    ctx.focusedValue = adjustedValue.focusedDate\n\n    invoke.focusChange(ctx)\n  },\n\n  adjustedValue(ctx: MachineContext, value: AdjustDateReturn) {\n    ctx.startValue = value.startDate\n    if (isDateEqual(ctx.focusedValue, value.focusedDate)) return\n\n    ctx.focusedValue = value.focusedDate\n    invoke.focusChange(ctx)\n  },\n\n  view(ctx: MachineContext, value: DateView) {\n    if (isEqual(ctx.view, value)) return\n    ctx.view = value\n    invoke.viewChange(ctx)\n  },\n}\n", "import { CalendarDate, parseDate, type DateValue } from \"@internationalized/date\"\n\nexport function parse(value: string | Date): DateValue\nexport function parse(value: string[] | Date[]): DateValue[]\nexport function parse(value: any) {\n  if (Array.isArray(value)) {\n    return value.map((v) => parse(v))\n  }\n\n  if (value instanceof Date) {\n    return new CalendarDate(value.getFullYear(), value.getMonth() + 1, value.getDate()) as DateValue\n  }\n\n  return parseDate(value)\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type {\n  InputProps,\n  PresetTriggerProps,\n  TableCellProps,\n  TableProps,\n  UserDefinedContext,\n  ViewProps,\n} from \"./date-picker.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"closeOnSelect\",\n  \"dir\",\n  \"disabled\",\n  \"fixedWeeks\",\n  \"focusedValue\",\n  \"format\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"isDateUnavailable\",\n  \"isDateUnavailable\",\n  \"locale\",\n  \"max\",\n  \"min\",\n  \"modal\",\n  \"name\",\n  \"numOfMonths\",\n  \"onFocusChange\",\n  \"onOpenChange\",\n  \"onValueChange\",\n  \"onViewChange\",\n  \"open\",\n  \"open.controlled\",\n  \"positioning\",\n  \"readOnly\",\n  \"selectionMode\",\n  \"startOfWeek\",\n  \"timeZone\",\n  \"translations\",\n  \"value\",\n  \"view\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const inputProps = createProps<InputProps>()([\"index\"])\nexport const splitInputProps = createSplitProps<InputProps>(inputProps)\n\nexport const presetTriggerProps = createProps<PresetTriggerProps>()([\"value\"])\nexport const splitPresetTriggerProps = createSplitProps<PresetTriggerProps>(presetTriggerProps)\n\nexport const tableProps = createProps<TableProps>()([\"columns\", \"id\", \"view\"])\nexport const splitTableProps = createSplitProps<TableProps>(tableProps)\n\nexport const tableCellProps = createProps<TableCellProps>()([\"disabled\", \"value\", \"columns\"])\nexport const splitTableCellProps = createSplitProps<TableCellProps>(tableCellProps)\n\nexport const viewProps = createProps<ViewProps>()([\"view\"])\nexport const splitViewProps = createSplitProps<ViewProps>(viewProps)\n", "import { anatomy as anatomy$1 } from '@zag-js/date-picker';\n\nconst anatomy = anatomy$1.extendWith(\"view\");\n\nexport { anatomy };\n", "import { isIos } from \"@zag-js/dom-query\"\n\nconst LOCK_CLASSNAME = \"data-zag-scroll-lock\"\n\nfunction assignStyle(el: HTMLElement | null | undefined, style: Partial<CSSStyleDeclaration>) {\n  if (!el) return\n  const previousStyle = el.style.cssText\n  Object.assign(el.style, style)\n  return () => {\n    el.style.cssText = previousStyle\n  }\n}\n\nfunction setCSSProperty(el: HTMLElement | null | undefined, property: string, value: string) {\n  if (!el) return\n  const previousValue = el.style.getPropertyValue(property)\n  el.style.setProperty(property, value)\n  return () => {\n    if (previousValue) {\n      el.style.setProperty(property, previousValue)\n    } else {\n      el.style.removeProperty(property)\n    }\n  }\n}\n\nfunction getPaddingProperty(documentElement: HTMLElement) {\n  // RTL <body> scrollbar\n  const documentLeft = documentElement.getBoundingClientRect().left\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\"\n}\n\nexport function preventBodyScroll(_document?: Document) {\n  const doc = _document ?? document\n  const win = doc.defaultView ?? window\n\n  const { documentElement, body } = doc\n\n  const locked = body.hasAttribute(LOCK_CLASSNAME)\n  if (locked) return\n\n  body.setAttribute(LOCK_CLASSNAME, \"\")\n\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth\n  const setScrollbarWidthProperty = () => setCSSProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`)\n  const paddingProperty = getPaddingProperty(documentElement)\n\n  const setStyle = () =>\n    assignStyle(body, {\n      overflow: \"hidden\",\n      [paddingProperty]: `${scrollbarWidth}px`,\n    })\n\n  // Only iOS doesn't respect `overflow: hidden` on document.body\n  const setIOSStyle = () => {\n    const { scrollX, scrollY, visualViewport } = win\n\n    // iOS 12 does not support `visuaViewport`.\n    const offsetLeft = visualViewport?.offsetLeft ?? 0\n    const offsetTop = visualViewport?.offsetTop ?? 0\n\n    const restoreStyle = assignStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `${scrollbarWidth}px`,\n    })\n\n    return () => {\n      restoreStyle?.()\n      win.scrollTo({ left: scrollX, top: scrollY, behavior: \"instant\" })\n    }\n  }\n\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setIOSStyle() : setStyle()]\n\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n    body.removeAttribute(LOCK_CLASSNAME)\n  }\n}\n", "// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nconst candidateSelectors = [\n  'input:not([inert])',\n  'select:not([inert])',\n  'textarea:not([inert])',\n  'a[href]:not([inert])',\n  'button:not([inert])',\n  '[tabindex]:not(slot):not([inert])',\n  'audio[controls]:not([inert])',\n  'video[controls]:not([inert])',\n  '[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\n  'details>summary:first-of-type:not([inert])',\n  'details:not([inert])',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element?.getRootNode?.()\n    : (element) => element?.ownerDocument;\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nconst isInert = function (node, lookUp = true) {\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  const inertAtt = node?.getAttribute?.('inert');\n  const inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  const result = inert || (lookUp && node && isInert(node.parentNode)); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nconst isContentEditable = function (node) {\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  const attValue = node?.getAttribute?.('contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      const validShadowRoot =\n        !isInert(shadowRoot, false) &&\n        (!options.shadowRootFilter || options.shadowRootFilter(element));\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nconst hasTabIndex = function (node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nconst getTabIndex = function (node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if (\n      (/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        isContentEditable(node)) &&\n      !hasTabIndex(node)\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nconst getSortOrderTabIndex = function (node, isScope) {\n  const tabIndex = getTabIndex(node);\n\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n\n  return tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nconst isNodeAttached = function (node) {\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  let nodeRoot = node && getRootNode(node);\n  let nodeRootHost = nodeRoot?.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  let attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    attached = !!(\n      nodeRootHost?.ownerDocument?.contains(nodeRootHost) ||\n      node?.ownerDocument?.contains(node)\n    );\n\n    while (!attached && nodeRootHost) {\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = nodeRoot?.host;\n      attached = !!nodeRootHost?.ownerDocument?.contains(nodeRootHost);\n    }\n  }\n\n  return attached;\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (\n    !displayCheck ||\n    displayCheck === 'full' ||\n    displayCheck === 'legacy-full'\n  ) {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    // we must do an inert look up to filter out any elements inside an inert ancestor\n    //  because we're limited in the type of selectors we can use in JSDom (see related\n    //  note related to `candidateSelectors`)\n    isInert(node) ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabIndex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scopeParent;\n    const element = isScope ? item.scopeParent : item;\n    const candidateTabindex = getSortOrderTabIndex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorTabbable.bind(null, options),\n        flatten: false,\n        getShadowRoot: options.getShadowRoot,\n        shadowRootFilter: isValidShadowRootTabbable,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorFocusable.bind(null, options),\n        flatten: true,\n        getShadowRoot: options.getShadowRoot,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable, getTabIndex };\n", "import {\n  tabbable,\n  focusable,\n  isFocusable,\n  isTabbable,\n  getTabIndex,\n} from 'tabbable';\n\nconst activeFocusTraps = {\n  activateTrap(trapStack, trap) {\n    if (trapStack.length > 0) {\n      const activeTrap = trapStack[trapStack.length - 1];\n      if (activeTrap !== trap) {\n        activeTrap.pause();\n      }\n    }\n\n    const trapIndex = trapStack.indexOf(trap);\n    if (trapIndex === -1) {\n      trapStack.push(trap);\n    } else {\n      // move this existing trap to the front of the queue\n      trapStack.splice(trapIndex, 1);\n      trapStack.push(trap);\n    }\n  },\n\n  deactivateTrap(trapStack, trap) {\n    const trapIndex = trapStack.indexOf(trap);\n    if (trapIndex !== -1) {\n      trapStack.splice(trapIndex, 1);\n    }\n\n    if (trapStack.length > 0) {\n      trapStack[trapStack.length - 1].unpause();\n    }\n  },\n};\n\nconst isSelectableInput = function (node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n};\n\nconst isEscapeEvent = function (e) {\n  return e?.key === 'Escape' || e?.key === 'Esc' || e?.keyCode === 27;\n};\n\nconst isTabEvent = function (e) {\n  return e?.key === 'Tab' || e?.keyCode === 9;\n};\n\n// checks for TAB by default\nconst isKeyForward = function (e) {\n  return isTabEvent(e) && !e.shiftKey;\n};\n\n// checks for SHIFT+TAB by default\nconst isKeyBackward = function (e) {\n  return isTabEvent(e) && e.shiftKey;\n};\n\nconst delay = function (fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nconst findIndex = function (arr, fn) {\n  let idx = -1;\n\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nconst valueOrHandler = function (value, ...params) {\n  return typeof value === 'function' ? value(...params) : value;\n};\n\nconst getActualTarget = function (event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function'\n    ? event.composedPath()[0]\n    : event.target;\n};\n\n// NOTE: this must be _outside_ `createFocusTrap()` to make sure all traps in this\n//  current instance use the same stack if `userOptions.trapStack` isn't specified\nconst internalTrapStack = [];\n\nconst createFocusTrap = function (elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  const doc = userOptions?.document || document;\n\n  const trapStack = userOptions?.trapStack || internalTrapStack;\n\n  const config = {\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    isKeyForward,\n    isKeyBackward,\n    ...userOptions,\n  };\n\n  const state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   posTabIndexesFound: boolean,\n    //   firstTabbableNode: HTMLElement|undefined,\n    //   lastTabbableNode: HTMLElement|undefined,\n    //   firstDomTabbableNode: HTMLElement|undefined,\n    //   lastDomTabbableNode: HTMLElement|undefined,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [], // same order/length as `containers` list\n\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined,\n\n    // the most recent KeyboardEvent for the configured nav key (typically [SHIFT+]TAB), if any\n    recentNavEvent: undefined,\n  };\n\n  let trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n  const getOption = (configOverrideOptions, optionName, configOptionName) => {\n    return configOverrideOptions &&\n      configOverrideOptions[optionName] !== undefined\n      ? configOverrideOptions[optionName]\n      : config[configOptionName || optionName];\n  };\n\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @param {Event} [event] If available, and `element` isn't directly found in any container,\n   *  the event's composed path is used to see if includes any known trap containers in the\n   *  case where the element is inside a Shadow DOM.\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n  const findContainerIndex = function (element, event) {\n    const composedPath =\n      typeof event?.composedPath === 'function'\n        ? event.composedPath()\n        : undefined;\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(\n      ({ container, tabbableNodes }) =>\n        container.contains(element) ||\n        // fall back to explicit tabbable search which will take into consideration any\n        //  web components if the `tabbableOptions.getShadowRoot` option was used for\n        //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n        //  look inside web components even if open)\n        composedPath?.includes(container) ||\n        tabbableNodes.find((node) => node === element)\n    );\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  const getNodeForOption = function (optionName, ...params) {\n    let optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      optionValue = optionValue(...params);\n    }\n\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\n        `\\`${optionName}\\` was specified but was not a node, or did not return a node`\n      );\n    }\n\n    let node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\n          `\\`${optionName}\\` as selector refers to no known node`\n        );\n      }\n    }\n\n    return node;\n  };\n\n  const getInitialFocusNode = function () {\n    let node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined || !isFocusable(node, config.tabbableOptions)) {\n      // option not specified nor focusable: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        const firstTabbableGroup = state.tabbableGroups[0];\n        const firstTabbableNode =\n          firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error(\n        'Your focus-trap needs to have at least one focusable element'\n      );\n    }\n\n    return node;\n  };\n\n  const updateTabbableNodes = function () {\n    state.containerGroups = state.containers.map((container) => {\n      const tabbableNodes = tabbable(container, config.tabbableOptions);\n\n      // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes since nodes with negative `tabindex` attributes\n      //  are focusable but not tabbable\n      const focusableNodes = focusable(container, config.tabbableOptions);\n\n      const firstTabbableNode =\n        tabbableNodes.length > 0 ? tabbableNodes[0] : undefined;\n      const lastTabbableNode =\n        tabbableNodes.length > 0\n          ? tabbableNodes[tabbableNodes.length - 1]\n          : undefined;\n\n      const firstDomTabbableNode = focusableNodes.find((node) =>\n        isTabbable(node)\n      );\n      const lastDomTabbableNode = focusableNodes\n        .slice()\n        .reverse()\n        .find((node) => isTabbable(node));\n\n      const posTabIndexesFound = !!tabbableNodes.find(\n        (node) => getTabIndex(node) > 0\n      );\n\n      return {\n        container,\n        tabbableNodes,\n        focusableNodes,\n\n        /** True if at least one node with positive `tabindex` was found in this container. */\n        posTabIndexesFound,\n\n        /** First tabbable node in container, __tabindex__ order; `undefined` if none. */\n        firstTabbableNode,\n        /** Last tabbable node in container, __tabindex__ order; `undefined` if none. */\n        lastTabbableNode,\n\n        // NOTE: DOM order is NOT NECESSARILY \"document position\" order, but figuring that out\n        //  would require more than just https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n        //  because that API doesn't work with Shadow DOM as well as it should (@see\n        //  https://github.com/whatwg/dom/issues/320) and since this first/last is only needed, so far,\n        //  to address an edge case related to positive tabindex support, this seems like a much easier,\n        //  \"close enough most of the time\" alternative for positive tabindexes which should generally\n        //  be avoided anyway...\n        /** First tabbable node in container, __DOM__ order; `undefined` if none. */\n        firstDomTabbableNode,\n        /** Last tabbable node in container, __DOM__ order; `undefined` if none. */\n        lastDomTabbableNode,\n\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode(node, forward = true) {\n          const nodeIdx = tabbableNodes.indexOf(node);\n          if (nodeIdx < 0) {\n            // either not tabbable nor focusable, or was focused but not tabbable (negative tabindex):\n            //  since `node` should at least have been focusable, we assume that's the case and mimic\n            //  what browsers do, which is set focus to the next node in __document position order__,\n            //  regardless of positive tabindexes, if any -- and for reasons explained in the NOTE\n            //  above related to `firstDomTabbable` and `lastDomTabbable` properties, we fall back to\n            //  basic DOM order\n            if (forward) {\n              return focusableNodes\n                .slice(focusableNodes.indexOf(node) + 1)\n                .find((el) => isTabbable(el));\n            }\n\n            return focusableNodes\n              .slice(0, focusableNodes.indexOf(node))\n              .reverse()\n              .find((el) => isTabbable(el));\n          }\n\n          return tabbableNodes[nodeIdx + (forward ? 1 : -1)];\n        },\n      };\n    });\n\n    state.tabbableGroups = state.containerGroups.filter(\n      (group) => group.tabbableNodes.length > 0\n    );\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (\n      state.tabbableGroups.length <= 0 &&\n      !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error(\n        'Your focus-trap must have at least one container with at least one tabbable node in it at all times'\n      );\n    }\n\n    // NOTE: Positive tabindexes are only properly supported in single-container traps because\n    //  doing it across multiple containers where tabindexes could be all over the place\n    //  would require Tabbable to support multiple containers, would require additional\n    //  specialized Shadow DOM support, and would require Tabbable's multi-container support\n    //  to look at those containers in document position order rather than user-provided\n    //  order (as they are treated in Focus-trap, for legacy reasons). See discussion on\n    //  https://github.com/focus-trap/focus-trap/issues/375 for more details.\n    if (\n      state.containerGroups.find((g) => g.posTabIndexesFound) &&\n      state.containerGroups.length > 1\n    ) {\n      throw new Error(\n        \"At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.\"\n      );\n    }\n  };\n\n  /**\n   * Gets the current activeElement. If it's a web-component and has open shadow-root\n   * it will recursively search inside shadow roots for the \"true\" activeElement.\n   *\n   * @param {Document | ShadowRoot} el\n   *\n   * @returns {HTMLElement} The element that currently has the focus\n   **/\n  const getActiveElement = function (el) {\n    const activeElement = el.activeElement;\n\n    if (!activeElement) {\n      return;\n    }\n\n    if (\n      activeElement.shadowRoot &&\n      activeElement.shadowRoot.activeElement !== null\n    ) {\n      return getActiveElement(activeElement.shadowRoot);\n    }\n\n    return activeElement;\n  };\n\n  const tryFocus = function (node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === getActiveElement(document)) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({ preventScroll: !!config.preventScroll });\n    // NOTE: focus() API does not trigger focusIn event so set MRU node manually\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  const getReturnFocusNode = function (previousActiveElement) {\n    const node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  /**\n   * Finds the next node (in either direction) where focus should move according to a\n   *  keyboard focus-in event.\n   * @param {Object} params\n   * @param {Node} [params.target] Known target __from which__ to navigate, if any.\n   * @param {KeyboardEvent|FocusEvent} [params.event] Event to use if `target` isn't known (event\n   *  will be used to determine the `target`). Ignored if `target` is specified.\n   * @param {boolean} [params.isBackward] True if focus should move backward.\n   * @returns {Node|undefined} The next node, or `undefined` if a next node couldn't be\n   *  determined given the current state of the trap.\n   */\n  const findNextNavNode = function ({ target, event, isBackward = false }) {\n    target = target || getActualTarget(event);\n    updateTabbableNodes();\n\n    let destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      const containerIndex = findContainerIndex(target, event);\n      const containerGroup =\n        containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back into...\n        if (isBackward) {\n          // ...the last node in the last group\n          destinationNode =\n            state.tabbableGroups[state.tabbableGroups.length - 1]\n              .lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (isBackward) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        let startOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ firstTabbableNode }) => target === firstTabbableNode\n        );\n\n        if (\n          startOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target, config.tabbableOptions) &&\n              !isTabbable(target, config.tabbableOptions) &&\n              !containerGroup.nextTabbableNode(target, false)))\n        ) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          const destinationGroupIndex =\n            startOfGroupIndex === 0\n              ? state.tabbableGroups.length - 1\n              : startOfGroupIndex - 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n\n          destinationNode =\n            getTabIndex(target) >= 0\n              ? destinationGroup.lastTabbableNode\n              : destinationGroup.lastDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target, false);\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        let lastOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ lastTabbableNode }) => target === lastTabbableNode\n        );\n\n        if (\n          lastOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target, config.tabbableOptions) &&\n              !isTabbable(target, config.tabbableOptions) &&\n              !containerGroup.nextTabbableNode(target)))\n        ) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          const destinationGroupIndex =\n            lastOfGroupIndex === state.tabbableGroups.length - 1\n              ? 0\n              : lastOfGroupIndex + 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n\n          destinationNode =\n            getTabIndex(target) >= 0\n              ? destinationGroup.firstTabbableNode\n              : destinationGroup.firstDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target);\n        }\n      }\n    } else {\n      // no groups available\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    return destinationNode;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  const checkPointerDown = function (e) {\n    const target = getActualTarget(e);\n\n    if (findContainerIndex(target, e) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked (and if not focusable, to \"nothing\"); by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node), whether the\n        //  outside click was on a focusable node or not\n        returnFocus: config.returnFocusOnDeactivate,\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  // NOTE: the focusIn event is NOT cancelable, so if focus escapes, it may cause unexpected\n  //  scrolling if the node that got focused was out of view; there's nothing we can do to\n  //  prevent that from happening by the time we discover that focus escaped\n  const checkFocusIn = function (event) {\n    const target = getActualTarget(event);\n    const targetContained = findContainerIndex(target, event) >= 0;\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      event.stopImmediatePropagation();\n\n      // focus will escape if the MRU node had a positive tab index and user tried to nav forward;\n      //  it will also escape if the MRU node had a 0 tab index and user tried to nav backward\n      //  toward a node with a positive tab index\n      let nextNode; // next node to focus, if we find one\n      let navAcrossContainers = true;\n      if (state.mostRecentlyFocusedNode) {\n        if (getTabIndex(state.mostRecentlyFocusedNode) > 0) {\n          // MRU container index must be >=0 otherwise we wouldn't have it as an MRU node...\n          const mruContainerIdx = findContainerIndex(\n            state.mostRecentlyFocusedNode\n          );\n          // there MAY not be any tabbable nodes in the container if there are at least 2 containers\n          //  and the MRU node is focusable but not tabbable (focus-trap requires at least 1 container\n          //  with at least one tabbable node in order to function, so this could be the other container\n          //  with nothing tabbable in it)\n          const { tabbableNodes } = state.containerGroups[mruContainerIdx];\n          if (tabbableNodes.length > 0) {\n            // MRU tab index MAY not be found if the MRU node is focusable but not tabbable\n            const mruTabIdx = tabbableNodes.findIndex(\n              (node) => node === state.mostRecentlyFocusedNode\n            );\n            if (mruTabIdx >= 0) {\n              if (config.isKeyForward(state.recentNavEvent)) {\n                if (mruTabIdx + 1 < tabbableNodes.length) {\n                  nextNode = tabbableNodes[mruTabIdx + 1];\n                  navAcrossContainers = false;\n                }\n                // else, don't wrap within the container as focus should move to next/previous\n                //  container\n              } else {\n                if (mruTabIdx - 1 >= 0) {\n                  nextNode = tabbableNodes[mruTabIdx - 1];\n                  navAcrossContainers = false;\n                }\n                // else, don't wrap within the container as focus should move to next/previous\n                //  container\n              }\n              // else, don't find in container order without considering direction too\n            }\n          }\n          // else, no tabbable nodes in that container (which means we must have at least one other\n          //  container with at least one tabbable node in it, otherwise focus-trap would've thrown\n          //  an error the last time updateTabbableNodes() was run): find next node among all known\n          //  containers\n        } else {\n          // check to see if there's at least one tabbable node with a positive tab index inside\n          //  the trap because focus seems to escape when navigating backward from a tabbable node\n          //  with tabindex=0 when this is the case (instead of wrapping to the tabbable node with\n          //  the greatest positive tab index like it should)\n          if (\n            !state.containerGroups.some((g) =>\n              g.tabbableNodes.some((n) => getTabIndex(n) > 0)\n            )\n          ) {\n            // no containers with tabbable nodes with positive tab indexes which means the focus\n            //  escaped for some other reason and we should just execute the fallback to the\n            //  MRU node or initial focus node, if any\n            navAcrossContainers = false;\n          }\n        }\n      } else {\n        // no MRU node means we're likely in some initial condition when the trap has just\n        //  been activated and initial focus hasn't been given yet, in which case we should\n        //  fall through to trying to focus the initial focus node, which is what should\n        //  happen below at this point in the logic\n        navAcrossContainers = false;\n      }\n\n      if (navAcrossContainers) {\n        nextNode = findNextNavNode({\n          // move FROM the MRU node, not event-related node (which will be the node that is\n          //  outside the trap causing the focus escape we're trying to fix)\n          target: state.mostRecentlyFocusedNode,\n          isBackward: config.isKeyBackward(state.recentNavEvent),\n        });\n      }\n\n      if (nextNode) {\n        tryFocus(nextNode);\n      } else {\n        tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n      }\n    }\n\n    state.recentNavEvent = undefined; // clear\n  };\n\n  // Hijack key nav events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  const checkKeyNav = function (event, isBackward = false) {\n    state.recentNavEvent = event;\n\n    const destinationNode = findNextNavNode({ event, isBackward });\n    if (destinationNode) {\n      if (isTabEvent(event)) {\n        // since tab natively moves focus, we wouldn't have a destination node unless we\n        //  were on the edge of a container and had to move to the next/previous edge, in\n        //  which case we want to prevent default to keep the browser from moving focus\n        //  to where it normally would\n        event.preventDefault();\n      }\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  const checkKey = function (event) {\n    if (\n      isEscapeEvent(event) &&\n      valueOrHandler(config.escapeDeactivates, event) !== false\n    ) {\n      event.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (config.isKeyForward(event) || config.isKeyBackward(event)) {\n      checkKeyNav(event, config.isKeyBackward(event));\n    }\n  };\n\n  const checkClick = function (e) {\n    const target = getActualTarget(e);\n\n    if (findContainerIndex(target, e) >= 0) {\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  const addListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trapStack, trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus\n      ? delay(function () {\n          tryFocus(getInitialFocusNode());\n        })\n      : tryFocus(getInitialFocusNode());\n\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false,\n    });\n\n    return trap;\n  };\n\n  const removeListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  };\n\n  //\n  // MUTATION OBSERVER\n  //\n\n  const checkDomRemoval = function (mutations) {\n    const isFocusedNodeRemoved = mutations.some(function (mutation) {\n      const removedNodes = Array.from(mutation.removedNodes);\n      return removedNodes.some(function (node) {\n        return node === state.mostRecentlyFocusedNode;\n      });\n    });\n\n    // If the currently focused is removed then browsers will move focus to the\n    // <body> element. If this happens, try to move focus back into the trap.\n    if (isFocusedNodeRemoved) {\n      tryFocus(getInitialFocusNode());\n    }\n  };\n\n  // Use MutationObserver - if supported - to detect if focused node is removed\n  // from the DOM.\n  const mutationObserver =\n    typeof window !== 'undefined' && 'MutationObserver' in window\n      ? new MutationObserver(checkDomRemoval)\n      : undefined;\n\n  const updateObservedNodes = function () {\n    if (!mutationObserver) {\n      return;\n    }\n\n    mutationObserver.disconnect();\n    if (state.active && !state.paused) {\n      state.containers.map(function (container) {\n        mutationObserver.observe(container, {\n          subtree: true,\n          childList: true,\n        });\n      });\n    }\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n\n    get paused() {\n      return state.paused;\n    },\n\n    activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      const onActivate = getOption(activateOptions, 'onActivate');\n      const onPostActivate = getOption(activateOptions, 'onPostActivate');\n      const checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      onActivate?.();\n\n      const finishActivation = () => {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        updateObservedNodes();\n        onPostActivate?.();\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(\n          finishActivation,\n          finishActivation\n        );\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n\n    deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      const options = {\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus,\n        ...deactivateOptions,\n      };\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      updateObservedNodes();\n\n      activeFocusTraps.deactivateTrap(trapStack, trap);\n\n      const onDeactivate = getOption(options, 'onDeactivate');\n      const onPostDeactivate = getOption(options, 'onPostDeactivate');\n      const checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      const returnFocus = getOption(\n        options,\n        'returnFocus',\n        'returnFocusOnDeactivate'\n      );\n\n      onDeactivate?.();\n\n      const finishDeactivation = () => {\n        delay(() => {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          onPostDeactivate?.();\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(\n          getReturnFocusNode(state.nodeFocusedBeforeActivation)\n        ).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n\n    pause(pauseOptions) {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      const onPause = getOption(pauseOptions, 'onPause');\n      const onPostPause = getOption(pauseOptions, 'onPostPause');\n\n      state.paused = true;\n      onPause?.();\n\n      removeListeners();\n      updateObservedNodes();\n\n      onPostPause?.();\n      return this;\n    },\n\n    unpause(unpauseOptions) {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      const onUnpause = getOption(unpauseOptions, 'onUnpause');\n      const onPostUnpause = getOption(unpauseOptions, 'onPostUnpause');\n\n      state.paused = false;\n      onUnpause?.();\n\n      updateTabbableNodes();\n      addListeners();\n      updateObservedNodes();\n\n      onPostUnpause?.();\n      return this;\n    },\n\n    updateContainerElements(containerElements) {\n      const elementsAsArray = [].concat(containerElements).filter(Boolean);\n\n      state.containers = elementsAsArray.map((element) =>\n        typeof element === 'string' ? doc.querySelector(element) : element\n      );\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      updateObservedNodes();\n\n      return this;\n    },\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n\n  return trap;\n};\n\nexport { createFocusTrap };\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"dialog\").parts(\n  \"trigger\",\n  \"backdrop\",\n  \"positioner\",\n  \"content\",\n  \"title\",\n  \"description\",\n  \"closeTrigger\",\n)\n\nexport const parts = anatomy.build()\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./dialog.types\"\n\nexport const dom = createScope({\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `dialog:${ctx.id}:positioner`,\n  getBackdropId: (ctx: Ctx) => ctx.ids?.backdrop ?? `dialog:${ctx.id}:backdrop`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `dialog:${ctx.id}:content`,\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `dialog:${ctx.id}:trigger`,\n  getTitleId: (ctx: Ctx) => ctx.ids?.title ?? `dialog:${ctx.id}:title`,\n  getDescriptionId: (ctx: Ctx) => ctx.ids?.description ?? `dialog:${ctx.id}:description`,\n  getCloseTriggerId: (ctx: Ctx) => ctx.ids?.closeTrigger ?? `dialog:${ctx.id}:close`,\n\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getBackdropEl: (ctx: Ctx) => dom.getById(ctx, dom.getBackdropId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getTitleEl: (ctx: Ctx) => dom.getById(ctx, dom.getTitleId(ctx)),\n  getDescriptionEl: (ctx: Ctx) => dom.getById(ctx, dom.getDescriptionId(ctx)),\n  getCloseTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getCloseTriggerId(ctx)),\n})\n", "import type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./dialog.anatomy\"\nimport { dom } from \"./dialog.dom\"\nimport type { MachineApi, Send, State } from \"./dialog.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const ariaLabel = state.context[\"aria-label\"]\n  const open = state.matches(\"open\")\n  const rendered = state.context.renderedElements\n\n  return {\n    open,\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: state.context.dir,\n        id: dom.getTriggerId(state.context),\n        \"aria-haspopup\": \"dialog\",\n        type: \"button\",\n        \"aria-expanded\": open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-controls\": dom.getContentId(state.context),\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send(\"TOGGLE\")\n        },\n      })\n    },\n\n    getBackdropProps() {\n      return normalize.element({\n        ...parts.backdrop.attrs,\n        dir: state.context.dir,\n        hidden: !open,\n        id: dom.getBackdropId(state.context),\n        \"data-state\": open ? \"open\" : \"closed\",\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        id: dom.getPositionerId(state.context),\n        style: {\n          pointerEvents: open ? undefined : \"none\",\n        },\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        dir: state.context.dir,\n        role: state.context.role,\n        hidden: !open,\n        id: dom.getContentId(state.context),\n        tabIndex: -1,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-modal\": true,\n        \"aria-label\": ariaLabel || undefined,\n        \"aria-labelledby\": ariaLabel || !rendered.title ? undefined : dom.getTitleId(state.context),\n        \"aria-describedby\": rendered.description ? dom.getDescriptionId(state.context) : undefined,\n      })\n    },\n\n    getTitleProps() {\n      return normalize.element({\n        ...parts.title.attrs,\n        dir: state.context.dir,\n        id: dom.getTitleId(state.context),\n      })\n    },\n\n    getDescriptionProps() {\n      return normalize.element({\n        ...parts.description.attrs,\n        dir: state.context.dir,\n        id: dom.getDescriptionId(state.context),\n      })\n    },\n\n    getCloseTriggerProps() {\n      return normalize.button({\n        ...parts.closeTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getCloseTriggerId(state.context),\n        type: \"button\",\n        onClick(event) {\n          if (event.defaultPrevented) return\n          event.stopPropagation()\n          send(\"CLOSE\")\n        },\n      })\n    },\n  }\n}\n", "import { ariaHidden } from \"@zag-js/aria-hidden\"\nimport { createMachine } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { getInitialFocus, nextTick, raf } from \"@zag-js/dom-query\"\nimport { preventBodyScroll } from \"@zag-js/remove-scroll\"\nimport { compact } from \"@zag-js/utils\"\nimport { createFocusTrap, type FocusTrap } from \"focus-trap\"\nimport { dom } from \"./dialog.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./dialog.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"dialog\",\n      initial: ctx.open ? \"open\" : \"closed\",\n\n      context: {\n        role: \"dialog\",\n        renderedElements: {\n          title: true,\n          description: true,\n        },\n        modal: true,\n        trapFocus: true,\n        preventScroll: true,\n        closeOnInteractOutside: true,\n        closeOnEscape: true,\n        restoreFocus: true,\n        ...ctx,\n      },\n\n      created: [\"checkInitialFocusEl\"],\n\n      watch: {\n        open: [\"toggleVisibility\"],\n      },\n\n      states: {\n        open: {\n          entry: [\"checkRenderedElements\", \"syncZIndex\"],\n          activities: [\"trackDismissableElement\", \"trapFocus\", \"preventScroll\", \"hideContentBelow\"],\n          on: {\n            \"CONTROLLED.CLOSE\": {\n              target: \"closed\",\n              actions: [\"setFinalFocus\"],\n            },\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\", \"setFinalFocus\"],\n              },\n            ],\n            TOGGLE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\", \"setFinalFocus\"],\n              },\n            ],\n          },\n        },\n        closed: {\n          on: {\n            \"CONTROLLED.OPEN\": {\n              target: \"open\",\n            },\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\"],\n              },\n            ],\n            TOGGLE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\"],\n              },\n            ],\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n      },\n      activities: {\n        trackDismissableElement(ctx, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(getContentEl, {\n            defer: true,\n            pointerBlocking: ctx.modal,\n            exclude: [dom.getTriggerEl(ctx)],\n            onInteractOutside(event) {\n              ctx.onInteractOutside?.(event)\n              if (!ctx.closeOnInteractOutside || ctx.role === \"alertdialog\") {\n                event.preventDefault()\n              }\n            },\n            persistentElements: ctx.persistentElements,\n            onFocusOutside: ctx.onFocusOutside,\n            onPointerDownOutside: ctx.onPointerDownOutside,\n            onEscapeKeyDown(event) {\n              ctx.onEscapeKeyDown?.(event)\n              if (!ctx.closeOnEscape) {\n                event.preventDefault()\n              } else {\n                send({ type: \"CLOSE\", src: \"escape-key\" })\n              }\n            },\n            onDismiss() {\n              send({ type: \"CLOSE\", src: \"interact-outside\" })\n            },\n          })\n        },\n        preventScroll(ctx) {\n          if (!ctx.preventScroll) return\n          return preventBodyScroll(dom.getDoc(ctx))\n        },\n        trapFocus(ctx) {\n          if (!ctx.trapFocus || !ctx.modal) return\n          let trap: FocusTrap\n\n          const cleanup = nextTick(() => {\n            const contentEl = dom.getContentEl(ctx)\n            if (!contentEl) return\n            trap = createFocusTrap(contentEl, {\n              document: dom.getDoc(ctx),\n              escapeDeactivates: false,\n              preventScroll: true,\n              returnFocusOnDeactivate: false,\n              fallbackFocus: contentEl,\n              allowOutsideClick: true,\n              initialFocus: getInitialFocus({\n                root: contentEl,\n                getInitialEl: ctx.initialFocusEl,\n              }),\n            })\n\n            try {\n              trap.activate()\n            } catch {}\n          })\n          return () => {\n            trap?.deactivate()\n            cleanup()\n          }\n        },\n        hideContentBelow(ctx) {\n          if (!ctx.modal) return\n          const getElements = () => [dom.getContentEl(ctx)]\n          return ariaHidden(getElements, { defer: true })\n        },\n      },\n      actions: {\n        checkInitialFocusEl(ctx) {\n          if (!ctx.initialFocusEl && ctx.role === \"alertdialog\") {\n            ctx.initialFocusEl = () => dom.getCloseTriggerEl(ctx)\n          }\n        },\n        checkRenderedElements(ctx) {\n          raf(() => {\n            ctx.renderedElements.title = !!dom.getTitleEl(ctx)\n            ctx.renderedElements.description = !!dom.getDescriptionEl(ctx)\n          })\n        },\n        syncZIndex(ctx) {\n          raf(() => {\n            // sync z-index of positioner with content\n            const contentEl = dom.getContentEl(ctx)\n            if (!contentEl) return\n\n            const win = dom.getWin(ctx)\n            const styles = win.getComputedStyle(contentEl)\n\n            const elems = [dom.getPositionerEl(ctx), dom.getBackdropEl(ctx)]\n            elems.forEach((node) => {\n              node?.style.setProperty(\"--z-index\", styles.zIndex)\n            })\n          })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n        setFinalFocus(ctx) {\n          if (!ctx.restoreFocus) return\n          queueMicrotask(() => {\n            const el = ctx.finalFocusEl?.() ?? dom.getTriggerEl(ctx)\n            el?.focus({ preventScroll: true })\n          })\n        },\n      },\n    },\n  )\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./dialog.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"aria-label\",\n  \"closeOnEscape\",\n  \"closeOnInteractOutside\",\n  \"dir\",\n  \"finalFocusEl\",\n  \"getRootNode\",\n  \"getRootNode\",\n  \"id\",\n  \"id\",\n  \"ids\",\n  \"initialFocusEl\",\n  \"modal\",\n  \"onEscapeKeyDown\",\n  \"onFocusOutside\",\n  \"onInteractOutside\",\n  \"onOpenChange\",\n  \"onPointerDownOutside\",\n  \"open.controlled\",\n  \"open\",\n  \"persistentElements\",\n  \"preventScroll\",\n  \"restoreFocus\",\n  \"role\",\n  \"trapFocus\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"editable\").parts(\n  \"root\",\n  \"area\",\n  \"label\",\n  \"preview\",\n  \"input\",\n  \"editTrigger\",\n  \"submitTrigger\",\n  \"cancelTrigger\",\n  \"control\",\n)\nexport const parts = anatomy.build()\n", "import { type EventKeyMap } from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr, isComposingEvent, isModKey } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./editable.anatomy\"\nimport { dom } from \"./editable.dom\"\nimport type { MachineApi, Send, State } from \"./editable.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const disabled = state.context.disabled\n  const interactive = state.context.isInteractive\n  const readOnly = state.context.readOnly\n  const empty = state.context.isValueEmpty\n  const invalid = state.context.invalid\n\n  const autoResize = state.context.autoResize\n  const translations = state.context.translations\n\n  const editing = state.matches(\"edit\")\n\n  const placeholderProp = state.context.placeholder\n  const placeholder =\n    typeof placeholderProp === \"string\" ? { edit: placeholderProp, preview: placeholderProp } : placeholderProp\n\n  const value = state.context.value\n  const valueText = empty ? placeholder?.preview ?? \"\" : value\n\n  return {\n    editing,\n    empty,\n    value,\n    valueText,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value })\n    },\n    clearValue() {\n      send({ type: \"SET_VALUE\", value: \"\" })\n    },\n    edit() {\n      if (!interactive) return\n      send(\"EDIT\")\n    },\n    cancel() {\n      if (!interactive) return\n      send(\"CANCEL\")\n    },\n    submit() {\n      if (!interactive) return\n      send(\"SUBMIT\")\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        id: dom.getRootId(state.context),\n        dir: state.context.dir,\n      })\n    },\n\n    getAreaProps() {\n      return normalize.element({\n        ...parts.area.attrs,\n        id: dom.getAreaId(state.context),\n        dir: state.context.dir,\n        style: autoResize ? { display: \"inline-grid\" } : undefined,\n        \"data-focus\": dataAttr(editing),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-placeholder-shown\": dataAttr(empty),\n      })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        id: dom.getLabelId(state.context),\n        dir: state.context.dir,\n        htmlFor: dom.getInputId(state.context),\n        \"data-focus\": dataAttr(editing),\n        \"data-invalid\": dataAttr(invalid),\n        onClick() {\n          if (editing) return\n          const previewEl = dom.getPreviewEl(state.context)\n          previewEl?.focus({ preventScroll: true })\n        },\n      })\n    },\n\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        \"aria-label\": translations.input,\n        name: state.context.name,\n        form: state.context.form,\n        id: dom.getInputId(state.context),\n        hidden: autoResize ? undefined : !editing,\n        placeholder: placeholder?.edit,\n        maxLength: state.context.maxLength,\n        disabled: disabled,\n        \"data-disabled\": dataAttr(disabled),\n        readOnly: readOnly,\n        \"data-readonly\": dataAttr(readOnly),\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-invalid\": dataAttr(invalid),\n        defaultValue: value,\n        size: autoResize ? 1 : undefined,\n        onChange(event) {\n          send({ type: \"TYPE\", value: event.currentTarget.value })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (isComposingEvent(event)) return\n\n          const keyMap: EventKeyMap = {\n            Escape() {\n              send(\"CANCEL\")\n              event.preventDefault()\n            },\n            Enter(event) {\n              // when used as a textarea, we want to allow the user to enter a newline\n              if (event.currentTarget.localName === \"textarea\") {\n                isModKey(event) && send(\"ENTER\")\n                return\n              }\n\n              // when used as an input, we want to submit the form\n              if (event.currentTarget.localName === \"input\") {\n                if (!event.shiftKey && !event.metaKey) {\n                  send(\"ENTER\")\n                  event.preventDefault()\n                }\n              }\n            },\n          }\n\n          const exec = keyMap[event.key]\n\n          if (exec) {\n            exec(event)\n          }\n        },\n        style: autoResize\n          ? {\n              all: \"unset\",\n              gridArea: \"1 / 1 / auto / auto\",\n              visibility: !editing ? \"hidden\" : undefined,\n            }\n          : undefined,\n      })\n    },\n\n    getPreviewProps() {\n      return normalize.element({\n        id: dom.getPreviewId(state.context),\n        ...parts.preview.attrs,\n        dir: state.context.dir,\n        \"data-placeholder-shown\": dataAttr(empty),\n        \"aria-readonly\": ariaAttr(readOnly),\n        \"data-readonly\": dataAttr(disabled),\n        \"data-disabled\": dataAttr(disabled),\n        \"aria-disabled\": ariaAttr(disabled),\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-invalid\": dataAttr(invalid),\n        children: valueText,\n        hidden: autoResize ? undefined : editing,\n        tabIndex: interactive && state.context.isPreviewFocusable ? 0 : undefined,\n        onFocus() {\n          if (!interactive) return\n          send(\"FOCUS\")\n        },\n        onDoubleClick() {\n          if (!interactive) return\n          send(\"DBLCLICK\")\n        },\n        style: autoResize\n          ? {\n              whiteSpace: \"pre\",\n              userSelect: \"none\",\n              gridArea: \"1 / 1 / auto / auto\",\n              visibility: editing ? \"hidden\" : undefined,\n              // in event the preview overflow's the parent element\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n            }\n          : undefined,\n      })\n    },\n\n    getEditTriggerProps() {\n      return normalize.button({\n        ...parts.editTrigger.attrs,\n        id: dom.getEditTriggerId(state.context),\n        dir: state.context.dir,\n        \"aria-label\": translations.edit,\n        hidden: editing,\n        type: \"button\",\n        disabled: disabled,\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n          send(\"EDIT\")\n        },\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        id: dom.getControlId(state.context),\n        ...parts.control.attrs,\n        dir: state.context.dir,\n      })\n    },\n\n    getSubmitTriggerProps() {\n      return normalize.button({\n        ...parts.submitTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getSubmitTriggerId(state.context),\n        \"aria-label\": translations.submit,\n        hidden: !editing,\n        disabled: disabled,\n        type: \"button\",\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n          send(\"SUBMIT\")\n        },\n      })\n    },\n\n    getCancelTriggerProps() {\n      return normalize.button({\n        ...parts.cancelTrigger.attrs,\n        dir: state.context.dir,\n        \"aria-label\": translations.cancel,\n        id: dom.getCancelTriggerId(state.context),\n        hidden: !editing,\n        type: \"button\",\n        disabled: disabled,\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n          send(\"CANCEL\")\n        },\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./editable.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `editable:${ctx.id}`,\n  getAreaId: (ctx: Ctx) => ctx.ids?.area ?? `editable:${ctx.id}:area`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `editable:${ctx.id}:label`,\n  getPreviewId: (ctx: Ctx) => ctx.ids?.preview ?? `editable:${ctx.id}:preview`,\n  getInputId: (ctx: Ctx) => ctx.ids?.input ?? `editable:${ctx.id}:input`,\n  getControlId: (ctx: Ctx) => ctx.ids?.controls ?? `editable:${ctx.id}:controls`,\n  getSubmitTriggerId: (ctx: Ctx) => ctx.ids?.submitTrigger ?? `editable:${ctx.id}:submit`,\n  getCancelTriggerId: (ctx: Ctx) => ctx.ids?.cancelTrigger ?? `editable:${ctx.id}:cancel`,\n  getEditTriggerId: (ctx: Ctx) => ctx.ids?.editTrigger ?? `editable:${ctx.id}:edit`,\n\n  getInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getInputId(ctx)),\n  getPreviewEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getPreviewId(ctx)),\n  getSubmitTriggerEl: (ctx: Ctx) => dom.getById<HTMLButtonElement>(ctx, dom.getSubmitTriggerId(ctx)),\n  getCancelTriggerEl: (ctx: Ctx) => dom.getById<HTMLButtonElement>(ctx, dom.getCancelTriggerId(ctx)),\n  getEditTriggerEl: (ctx: Ctx) => dom.getById<HTMLButtonElement>(ctx, dom.getEditTriggerId(ctx)),\n})\n", "import { createMachine } from \"@zag-js/core\"\nimport { contains, raf } from \"@zag-js/dom-query\"\nimport { trackInteractOutside } from \"@zag-js/interact-outside\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./editable.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./editable.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"editable\",\n\n      initial: ctx.startWithEditView ? \"edit\" : \"preview\",\n      entry: ctx.startWithEditView ? [\"focusInput\"] : undefined,\n\n      context: {\n        activationMode: \"focus\",\n        submitMode: \"both\",\n        value: \"\",\n        previousValue: \"\",\n        selectOnFocus: true,\n        disabled: false,\n        readOnly: false,\n        ...ctx,\n        translations: {\n          input: \"editable input\",\n          edit: \"edit\",\n          submit: \"submit\",\n          cancel: \"cancel\",\n          ...ctx.translations,\n        },\n      },\n\n      watch: {\n        value: [\"syncInputValue\"],\n      },\n\n      computed: {\n        submitOnEnter: (ctx) => [\"both\", \"enter\"].includes(ctx.submitMode),\n        submitOnBlur: (ctx) => [\"both\", \"blur\"].includes(ctx.submitMode),\n        isInteractive: (ctx) => !(ctx.disabled || ctx.readOnly),\n        isValueEmpty: (ctx) => ctx.value === \"\",\n        isPreviewFocusable: (ctx) => ctx.activationMode === \"focus\",\n      },\n\n      on: {\n        SET_VALUE: {\n          actions: \"setValue\",\n        },\n      },\n\n      states: {\n        preview: {\n          // // https://bugzilla.mozilla.org/show_bug.cgi?id=559561\n          entry: [\"blurInputIfNeeded\"],\n          on: {\n            EDIT: {\n              target: \"edit\",\n              actions: [\"focusInput\", \"invokeOnEdit\"],\n            },\n            DBLCLICK: {\n              guard: \"activateOnDblClick\",\n              target: \"edit\",\n              actions: [\"focusInput\", \"invokeOnEdit\"],\n            },\n            FOCUS: {\n              guard: \"activateOnFocus\",\n              target: \"edit\",\n              actions: [\"setPreviousValue\", \"focusInput\", \"invokeOnEdit\"],\n            },\n          },\n        },\n\n        edit: {\n          activities: [\"trackInteractOutside\"],\n          on: {\n            TYPE: {\n              actions: \"setValue\",\n            },\n            BLUR: [\n              {\n                guard: \"submitOnBlur\",\n                target: \"preview\",\n                actions: [\"restoreFocus\", \"invokeOnSubmit\"],\n              },\n              {\n                target: \"preview\",\n                actions: [\"revertValue\", \"restoreFocus\", \"invokeOnCancel\"],\n              },\n            ],\n            CANCEL: {\n              target: \"preview\",\n              actions: [\"revertValue\", \"restoreFocus\", \"invokeOnCancel\"],\n            },\n            ENTER: {\n              guard: \"submitOnEnter\",\n              target: \"preview\",\n              actions: [\"setPreviousValue\", \"invokeOnSubmit\", \"restoreFocus\"],\n            },\n            SUBMIT: {\n              target: \"preview\",\n              actions: [\"setPreviousValue\", \"invokeOnSubmit\", \"restoreFocus\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        submitOnBlur: (ctx) => ctx.submitOnBlur,\n        submitOnEnter: (ctx) => ctx.submitOnEnter,\n        activateOnDblClick: (ctx) => ctx.activationMode === \"dblclick\",\n        activateOnFocus: (ctx) => ctx.activationMode === \"focus\",\n      },\n\n      activities: {\n        trackInteractOutside(ctx, _evt, { send }) {\n          return trackInteractOutside(dom.getInputEl(ctx), {\n            exclude(target) {\n              const ignore = [dom.getCancelTriggerEl(ctx), dom.getSubmitTriggerEl(ctx)]\n              return ignore.some((el) => contains(el, target))\n            },\n            onFocusOutside: ctx.onFocusOutside,\n            onPointerDownOutside: ctx.onPointerDownOutside,\n            onInteractOutside(event) {\n              ctx.onInteractOutside?.(event)\n              if (event.defaultPrevented) return\n              const { focusable } = event.detail\n              send({ type: \"BLUR\", src: \"interact-outside\", focusable })\n            },\n          })\n        },\n      },\n\n      actions: {\n        restoreFocus(ctx, evt) {\n          if (evt.focusable) return\n          raf(() => {\n            const finalEl = ctx.finalFocusEl?.() ?? dom.getEditTriggerEl(ctx)\n            finalEl?.focus({ preventScroll: true })\n          })\n        },\n        focusInput(ctx) {\n          raf(() => {\n            const inputEl = dom.getInputEl(ctx)\n            if (!inputEl) return\n            if (ctx.selectOnFocus) {\n              inputEl.select()\n            } else {\n              inputEl.focus({ preventScroll: true })\n            }\n          })\n        },\n        invokeOnCancel(ctx) {\n          ctx.onValueRevert?.({ value: ctx.previousValue })\n        },\n        invokeOnSubmit(ctx) {\n          ctx.onValueCommit?.({ value: ctx.value })\n        },\n        invokeOnEdit(ctx) {\n          ctx.onEdit?.()\n        },\n        syncInputValue(ctx) {\n          sync.value(ctx)\n        },\n        setValue(ctx, evt) {\n          const value = ctx.maxLength != null ? evt.value.slice(0, ctx.maxLength) : evt.value\n          set.value(ctx, value)\n        },\n        setPreviousValue(ctx) {\n          ctx.previousValue = ctx.value\n        },\n        revertValue(ctx) {\n          set.value(ctx, ctx.previousValue)\n        },\n        blurInputIfNeeded(ctx) {\n          dom.getInputEl(ctx)?.blur()\n        },\n      },\n    },\n  )\n}\n\nconst sync = {\n  value: (ctx: MachineContext) => {\n    const inputEl = dom.getInputEl(ctx)\n    dom.setValue(inputEl, ctx.value)\n  },\n}\n\nconst invoke = {\n  change(ctx: MachineContext) {\n    ctx.onValueChange?.({ value: ctx.value })\n    sync.value(ctx)\n  },\n}\n\nconst set = {\n  value(ctx: MachineContext, value: string) {\n    if (isEqual(ctx.value, value)) return\n    ctx.value = value\n    invoke.change(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./editable.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"activationMode\",\n  \"autoResize\",\n  \"dir\",\n  \"disabled\",\n  \"finalFocusEl\",\n  \"form\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"invalid\",\n  \"maxLength\",\n  \"name\",\n  \"onEdit\",\n  \"onFocusOutside\",\n  \"onInteractOutside\",\n  \"onPointerDownOutside\",\n  \"onValueChange\",\n  \"onValueCommit\",\n  \"onValueRevert\",\n  \"placeholder\",\n  \"readOnly\",\n  \"selectOnFocus\",\n  \"startWithEditView\",\n  \"submitMode\",\n  \"translations\",\n  \"value\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "type FormatOptions<T> = T extends Intl.NumberFormat\n  ? Intl.NumberFormatOptions\n  : T extends Intl.DateTimeFormat\n    ? Intl.DateTimeFormatOptions\n    : T extends Intl.RelativeTimeFormat\n      ? Intl.RelativeTimeFormatOptions\n      : T extends Intl.ListFormat\n        ? Intl.ListFormatOptions\n        : T extends Intl.PluralRules\n          ? Intl.PluralRulesOptions\n          : never\n\nexport function i18nCache<T extends abstract new (...args: any) => any>(Ins: T) {\n  const formatterCache = new Map<string, T>()\n\n  return function create(locale: string, options?: FormatOptions<InstanceType<T>>): InstanceType<T> {\n    const cacheKey =\n      locale +\n      (options\n        ? Object.entries(options)\n            .sort((a, b) => (a[0] < b[0] ? -1 : 1))\n            .join()\n        : \"\")\n\n    if (formatterCache.has(cacheKey)) {\n      return formatterCache.get(cacheKey) as any\n    }\n\n    // @ts-ignore\n    let formatter = new Ins(locale, options)\n    formatterCache.set(cacheKey, formatter)\n\n    return formatter as any\n  }\n}\n", "import { i18nCache } from \"./cache\"\n\nconst getNumberFormatter = i18nCache(Intl.NumberFormat)\n\nexport function formatNumber(v: number, locale: string, options: Intl.NumberFormatOptions = {}) {\n  const formatter = getNumberFormatter(locale, options)\n  return formatter.format(v)\n}\n", "import { formatNumber } from \"./format-number\"\n\nconst bitPrefixes = [\"\", \"kilo\", \"mega\", \"giga\", \"tera\"]\nconst bytePrefixes = [\"\", \"kilo\", \"mega\", \"giga\", \"tera\", \"peta\"]\n\nexport interface FormatBytesOptions {\n  unit?: \"bit\" | \"byte\"\n  unitDisplay?: \"long\" | \"short\" | \"narrow\"\n}\n\nexport const formatBytes = (bytes: number, locale = \"en-US\", options: FormatBytesOptions = {}) => {\n  if (isNaN(bytes)) return \"\"\n  if (bytes === 0) return \"0 B\"\n\n  const { unit = \"byte\", unitDisplay = \"short\" } = options\n\n  const prefix = unit === \"bit\" ? bitPrefixes : bytePrefixes\n  const index = Math.max(0, Math.min(Math.floor(Math.log10(bytes) / 3), prefix.length - 1))\n\n  const _unit = prefix[index] + unit\n  const _unitDisplay = unitDisplay || \"short\"\n\n  const v = parseFloat((bytes / Math.pow(1000, index)).toPrecision(3))\n\n  return formatNumber(v, locale, {\n    style: \"unit\",\n    unit: _unit,\n    unitDisplay: _unitDisplay,\n  })\n}\n", "const symbols = \"\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;\"\n\nfunction createRegEx(sign: string) {\n  return new RegExp(\"(^|>|\" + symbols + \")(\" + sign + \")($|<|\" + symbols + \")\", \"g\")\n}\n\n// prettier-ignore\nconst FORMATS = [\n\"G\",\"GG\",\"GGG\",\"GGGG\",\"GGGGG\",\n\"y\",\"yo\",\"yy\",\"yyy\",\"yyyy\",\n\"Y\",\"Yo\",\"YY\",\"YYY\",\"YYYY\",\n\"Q\",\"Qo\",\"QQ\",\"QQQ\",\"QQQQ\",\"QQQQQ\",\n\"M\",\"Mo\",\"MM\",\"MMM\",\"MMMM\",\"MMMMM\",\n\"E\",\"EE\",\"EEE\",\"EEEE\",\"EEEEE\",\"EEEEEE\",\n\"a\",\"aa\",\"aaa\",\"aaaa\",\"aaaaa\",\n\"d\",\"do\",\"dd\",\n\"D\",\"Do\",\"DD\",\"DDD\",\n\"w\",\"wo\",\"ww\",\n\"s\",\"so\",\"ss\",\n\"m\",\"mo\",\"mm\",\n\"h\",\"ho\",\"hh\",\n\"H\",\"Ho\",\"HH\",\n\"z\",\"zz\",\"zzz\",\"zzzz\",\n\"T\",\n] as const\n\ntype Format = (typeof FORMATS)[number]\n\ninterface FormatDateOptions {\n  locale: string\n  format: Format\n  timeZone?: string\n}\n\nfunction ordinal(num: string | number) {\n  const n = typeof num === \"string\" ? parseFloat(num) : num\n  let suffix = \"th\"\n  if (n % 10 === 1 && n % 100 !== 11) {\n    suffix = \"st\"\n  } else if (n % 10 === 2 && n % 100 !== 12) {\n    suffix = \"nd\"\n  } else if (n % 10 === 3 && n % 100 !== 13) {\n    suffix = \"rd\"\n  }\n  return `${n}${suffix}`\n}\n\nfunction pad(num: number, length: number) {\n  return String(num).padStart(length, \"0\")\n}\n\nfunction zone(str: string) {\n  return str.split(/AM|PM/)[1].trim()\n}\n\nfunction getFormat(date: Date, options: FormatDateOptions) {\n  const { locale, format, timeZone } = options\n\n  switch (format) {\n    // era\n    case \"G\":\n    case \"GG\":\n    case \"GGG\":\n      return date.toLocaleString(locale, { era: \"short\" })\n    case \"GGGG\":\n      return date.toLocaleString(locale, { era: \"long\" })\n    case \"GGGGG\":\n      return date.toLocaleString(locale, { era: \"narrow\" })\n\n    // year\n    case \"y\":\n    case \"Y\":\n      return date.getFullYear()\n    case \"yo\":\n    case \"Yo\":\n      return ordinal(date.toLocaleString(locale, { year: \"numeric\" }))\n    case \"yy\":\n    case \"YY\":\n      return date.toLocaleString(locale, { year: \"2-digit\" })\n    case \"yyy\":\n    case \"YYY\":\n      return date.toLocaleString(locale, { year: \"numeric\" }).padStart(3, \"0\")\n    case \"yyyy\":\n    case \"YYYY\":\n      return date.toLocaleString(locale, { year: \"numeric\" }).padStart(4, \"0\")\n\n    // quarter\n    case \"Q\":\n    case \"QQQQQ\":\n      return Math.ceil((date.getMonth() + 1) / 3)\n    case \"Qo\":\n      return ordinal(Math.ceil((date.getMonth() + 1) / 3))\n    case \"QQ\":\n      return pad(Math.ceil((date.getMonth() + 1) / 3), 2)\n    case \"QQQ\":\n      return `Q${Math.ceil((date.getMonth() + 1) / 3)}`\n    case \"QQQQ\": {\n      const base = ordinal(String(Math.ceil((date.getMonth() + 1) / 3)))\n      return `${base} quarter`\n    }\n\n    // month\n    case \"M\":\n      return date.getMonth() + 1\n    case \"Mo\":\n      return ordinal(date.getMonth() + 1)\n    case \"MM\":\n      return date.toLocaleString(locale, { month: \"2-digit\" })\n    case \"MMM\":\n      return date.toLocaleString(locale, { month: \"short\" })\n    case \"MMMM\":\n      return date.toLocaleString(locale, { month: \"long\" })\n    case \"MMMMM\":\n      return date.toLocaleString(locale, { month: \"narrow\" })\n\n    // week\n    case \"w\":\n      return Math.ceil(date.getDate() / 7)\n    case \"wo\":\n      return ordinal(Math.ceil(date.getDate() / 7))\n    case \"ww\":\n      return pad(Math.ceil(date.getDate() / 7), 2)\n\n    // day\n    case \"d\":\n    case \"D\":\n      return date.getDate()\n    case \"do\":\n    case \"Do\":\n      return ordinal(date.getDate())\n    case \"dd\":\n    case \"DD\":\n      return date.toLocaleString(locale, { day: \"2-digit\" })\n    case \"DDD\":\n      return pad(date.getDate(), 3)\n\n    // weekday\n    case \"E\":\n    case \"EE\":\n    case \"EEE\":\n      return date.toLocaleString(locale, { weekday: \"short\" })\n    case \"EEEE\":\n      return date.toLocaleString(locale, { weekday: \"long\" })\n    case \"EEEEE\":\n      return date.toLocaleString(locale, { weekday: \"narrow\" })\n    case \"EEEEEE\":\n      return date.toLocaleString(locale, { weekday: \"short\" }).slice(0, 2)\n\n    // hour\n    case \"h\":\n      return date.toLocaleString(locale, { hour: \"numeric\", hour12: true })\n    case \"ho\":\n      return ordinal(date.toLocaleString(locale, { hour: \"2-digit\", hour12: true }))\n    case \"hh\":\n      return date.toLocaleString(locale, { hour: \"2-digit\", hour12: true })\n    case \"H\":\n      return date.toLocaleString(locale, { hour: \"numeric\", hour12: false })\n    case \"Ho\":\n      return ordinal(+date.toLocaleString(locale, { hour: \"numeric\", hour12: false }))\n    case \"HH\":\n      return date.toLocaleString(locale, { hour: \"2-digit\", hour12: false })\n\n    // minute\n    case \"m\":\n      return date.toLocaleString(locale, { minute: \"numeric\" })\n    case \"mo\":\n      return ordinal(date.toLocaleString(locale, { minute: \"numeric\" }))\n    case \"mm\":\n      return date.toLocaleString(locale, { minute: \"2-digit\" })\n\n    // second\n    case \"s\":\n      return date.toLocaleString(locale, { second: \"numeric\" })\n    case \"so\":\n      return ordinal(date.toLocaleString(locale, { second: \"numeric\" }))\n    case \"ss\":\n      return date.toLocaleString(locale, { second: \"2-digit\" })\n\n    // timestamp\n    case \"T\":\n      return date.getTime()\n\n    // day period\n    case \"a\":\n    case \"aa\":\n    case \"aaa\":\n      return date.toLocaleString(locale, { hour: \"numeric\", hour12: true }).toLocaleUpperCase()\n    case \"aaaa\":\n      return date.toLocaleString(locale, { hour: \"numeric\", hour12: true }).toLocaleLowerCase()\n    case \"aaaaa\":\n      return date.toLocaleString(locale, { hour: \"numeric\", hour12: true }).charAt(0)\n\n    // TODO:Revise this\n    case \"z\":\n    case \"zz\":\n    case \"zzz\": {\n      return zone(date.toLocaleString(locale, { timeZone, timeZoneName: \"shortOffset\" }))\n    }\n    case \"zzzz\":\n      return zone(date.toLocaleString(locale, { timeZone, timeZoneName: \"longOffset\" }))\n\n    default:\n      throw new Error(`Unknown format: ${format}`)\n  }\n}\n\n/**\n * Formats a date using the given format string as defined in:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n */\nexport function formatDate(date: Date, format: string, locale: string, timeZone?: string) {\n  let result = format\n  for (const key of FORMATS) {\n    const res = getFormat(date, { locale, format: key, timeZone })\n    result = result.replace(createRegEx(key), \"$1\" + res + \"$3\")\n  }\n  return result\n}\n", "import { i18nCache } from \"./cache\"\n\nconst getListFormatter = i18nCache(Intl.ListFormat)\n\nexport function formatList(list: string[], locale: string, options: Intl.ListFormatOptions = {}) {\n  const formatter = getListFormatter(locale, options)\n  return formatter.format(list)\n}\n", "import { i18nCache } from \"./cache\"\n\nconst getRelativeTimeFormatter = i18nCache(Intl.RelativeTimeFormat)\n\nexport function formatRelativeTime(value: Date, locale: string, options: Intl.RelativeTimeFormatOptions = {}) {\n  const rtf = getRelativeTimeFormatter(locale, options)\n\n  const now = new Date()\n  const diff = getDistance(now, value)\n\n  if (diff.years > 0) return rtf.format(diff.years * diff.sign, \"year\")\n  if (diff.months > 0) return rtf.format(diff.months * diff.sign, \"month\")\n  if (diff.weeks > 0) return rtf.format(diff.weeks * diff.sign, \"week\")\n  if (diff.days > 0) return rtf.format(diff.days * diff.sign, \"day\")\n  if (diff.hours > 0) return rtf.format(diff.hours * diff.sign, \"hour\")\n  if (diff.minutes > 0) return rtf.format(diff.minutes * diff.sign, \"minute\")\n\n  return rtf.format(diff.seconds * diff.sign, \"second\")\n}\n\nconst SECOND_TO_MS = 1000\nconst MINUTE_TO_MS = 1000 * 60\nconst HOUR_TO_MS = 1000 * 60 * 60\nconst DAY_TO_MS = 1000 * 60 * 60 * 24\nconst WEEK_TO_MS = 1000 * 60 * 60 * 24 * 7\nconst MONTH_TO_MS = 1000 * 60 * 60 * 24 * 30\nconst YEAR_TO_MS = 1000 * 60 * 60 * 24 * 365\n\nfunction getDistance(startDate: Date, endDate: Date) {\n  const endTime = endDate.getTime()\n  const startTime = startDate.getTime()\n  const distance = Math.abs(endTime - startTime)\n\n  return {\n    sign: Math.sign(endTime - startTime),\n    days: Math.floor(distance / DAY_TO_MS),\n    hours: Math.floor((distance % DAY_TO_MS) / HOUR_TO_MS),\n    minutes: Math.floor((distance % HOUR_TO_MS) / MINUTE_TO_MS),\n    seconds: Math.floor((distance % MINUTE_TO_MS) / SECOND_TO_MS),\n    weeks: Math.floor(distance / WEEK_TO_MS),\n    months: Math.floor(distance / MONTH_TO_MS),\n    years: Math.floor(distance / YEAR_TO_MS),\n  }\n}\n", "const RTL_SCRIPTS = new Set([\n  \"Avst\",\n  \"Arab\",\n  \"Armi\",\n  \"Syrc\",\n  \"Samr\",\n  \"Mand\",\n  \"Thaa\",\n  \"Mend\",\n  \"Nkoo\",\n  \"Adlm\",\n  \"Rohg\",\n  \"Hebr\",\n])\n\nconst RTL_LANGS = new Set([\n  \"ae\",\n  \"ar\",\n  \"arc\",\n  \"bcc\",\n  \"bqi\",\n  \"ckb\",\n  \"dv\",\n  \"fa\",\n  \"glk\",\n  \"he\",\n  \"ku\",\n  \"mzn\",\n  \"nqo\",\n  \"pnb\",\n  \"ps\",\n  \"sd\",\n  \"ug\",\n  \"ur\",\n  \"yi\",\n])\n\nexport function isRTL(locale: string) {\n  if (Intl.Locale) {\n    const script = new Intl.Locale(locale).maximize().script ?? \"\"\n    return RTL_SCRIPTS.has(script)\n  }\n\n  const lang = locale.split(\"-\")[0]\n  return RTL_LANGS.has(lang)\n}\n\nexport function getLocaleDir(locale: string) {\n  return isRTL(locale) ? \"rtl\" : \"ltr\"\n}\n", "import { isRTL } from \"./is-rtl\"\n\nexport type Direction = \"rtl\" | \"ltr\"\n\nexport interface Locale {\n  locale: string\n  dir: Direction\n}\n\ndeclare global {\n  interface Navigator {\n    userLanguage?: string\n  }\n}\n\nexport function getDefaultLocale(): Locale {\n  let locale = (typeof navigator !== \"undefined\" && (navigator.language || navigator.userLanguage)) || \"en-US\"\n\n  try {\n    Intl.DateTimeFormat.supportedLocalesOf([locale])\n  } catch (_err) {\n    locale = \"en-US\"\n  }\n\n  return {\n    locale,\n    dir: isRTL(locale) ? \"rtl\" : \"ltr\",\n  }\n}\n", "import { getWindow } from \"@zag-js/dom-query\"\nimport { getDefaultLocale, type Locale } from \"./locale\"\n\nexport interface LocaleOptions {\n  locale?: string\n  getRootNode?: () => ShadowRoot | Document | Node\n  onLocaleChange?: (locale: Locale) => void\n}\n\nexport function trackLocale(options: LocaleOptions = {}) {\n  const { getRootNode, onLocaleChange } = options\n\n  onLocaleChange?.(getDefaultLocale())\n\n  const handleLocaleChange = () => {\n    onLocaleChange?.(getDefaultLocale())\n  }\n\n  const win = getRootNode ? getWindow(getRootNode()) : window\n\n  win.addEventListener(\"languagechange\", handleLocaleChange)\n\n  return () => {\n    win.removeEventListener(\"languagechange\", handleLocaleChange)\n  }\n}\n", "export function dataURItoBlob(uri: string): Blob {\n  const binary = atob(uri.split(\",\")[1])\n\n  // separate out the mime component\n  const mimeString = uri.split(\",\")[0].split(\":\")[1].split(\";\")[0]\n\n  // write the bytes of the string to an ArrayBuffer\n  const buffer = new ArrayBuffer(binary.length)\n\n  // create a view into the buffer\n  const intArray = new Uint8Array(buffer)\n\n  for (let i = 0; i < binary.length; i++) {\n    intArray[i] = binary.charCodeAt(i)\n  }\n\n  return new Blob([buffer], { type: mimeString })\n}\n", "export function isMSEdge(win: Window): win is Window & { navigator: { msSaveOrOpenBlob: Function } } {\n  // @ts-ignore\n  return Boolean(win.navigator && win.navigator.msSaveOrOpenBlob)\n}\n\ninterface DownloadFileOptions {\n  /**\n   * The name of the file\n   */\n  name?: string\n  /**\n   * The MIME type of the file\n   */\n  type?: string\n  /**\n   * The file contents\n   */\n  file: File | Blob | string\n  /**\n   * The window environment\n   */\n  win: typeof window\n}\n\nexport function downloadFile(options: DownloadFileOptions) {\n  const { file, win, type, name } = options\n\n  const doc = win.document\n\n  const obj = typeof file === \"string\" ? new Blob([file], { type }) : file\n  const fileName = typeof file === \"string\" ? name : file instanceof File ? file.name : undefined\n\n  if (isMSEdge(win)) {\n    win.navigator.msSaveOrOpenBlob(obj, fileName || \"file-download\")\n    return\n  }\n\n  const url = win.URL.createObjectURL(obj)\n\n  const anchor = doc.createElement(\"a\")\n  anchor.style.display = \"none\"\n  anchor.href = url\n  anchor.rel = \"noopener\"\n  anchor.download = fileName || \"file-download\"\n\n  doc.documentElement.appendChild(anchor)\n  anchor.click()\n\n  setTimeout(() => {\n    win.URL.revokeObjectURL(url)\n    anchor.remove()\n  }, 0)\n}\n", "function isMIMEType(v: string) {\n  return v === \"audio/*\" || v === \"video/*\" || v === \"image/*\" || v === \"text/*\" || /\\w+\\/[-+.\\w]+/g.test(v)\n}\n\nfunction isExt(v: string) {\n  return /^.*\\.[\\w]+$/.test(v)\n}\n\nexport function getAcceptAttrString(accept: Record<string, string[]> | string | undefined) {\n  if (!accept) return\n  if (typeof accept === \"string\") return accept\n  return Object.entries(accept)\n    .reduce((a, [mimeType, ext]) => [...a, mimeType, ...ext], [] as string[])\n    .filter((v) => isMIMEType(v) || isExt(v))\n    .join(\",\")\n}\n", "export const getFileDataUrl = async (file: File | Blob) => {\n  const reader = new FileReader()\n  return new Promise<string | undefined>((resolve, reject) => {\n    reader.onerror = () => {\n      reader.abort()\n      reject(new Error(\"There was an error reading a file\"))\n    }\n\n    reader.onloadend = () => {\n      const { result } = reader\n      if (result instanceof ArrayBuffer) {\n        reject(new Error(\"Expected DataURL as string from Blob/File, got ArrayBuffer\"))\n      } else {\n        resolve(result || undefined)\n      }\n    }\n\n    reader.readAsDataURL(file)\n  })\n}\n", "export const getTotalFileSize = (files: File[]) => {\n  return files.reduce((acc, file) => acc + file.size, 0)\n}\n", "export const isFileEqual = (file1: File, file2: File) => {\n  return file1.name === file2.name && file1.size === file2.size && file1.type === file2.type\n}\n", "import type { FileError } from \"./types\"\n\nconst isDefined = <T>(v: T | undefined): v is T => v !== undefined && v !== null\n\nexport function isValidFileSize(file: File, minSize?: number, maxSize?: number): [boolean, FileError | null] {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, \"FILE_TOO_LARGE\"]\n      if (file.size < minSize) return [false, \"FILE_TOO_SMALL\"]\n    } else if (isDefined(minSize) && file.size < minSize) {\n      return [false, \"FILE_TOO_SMALL\"]\n    } else if (isDefined(maxSize) && file.size > maxSize) {\n      return [false, \"FILE_TOO_LARGE\"]\n    }\n  }\n  return [true, null]\n}\n", "import type { FileError } from \"./types\"\n\nfunction isFileAccepted(file: File | null, accept: string[] | string | undefined) {\n  if (file && accept) {\n    const types = Array.isArray(accept) ? accept : accept.split(\",\")\n\n    const fileName = file.name || \"\"\n    const mimeType = (file.type || \"\").toLowerCase()\n    const baseMimeType = mimeType.replace(/\\/.*$/, \"\")\n\n    return types.some((type) => {\n      const validType = type.trim().toLowerCase()\n\n      if (validType.charAt(0) === \".\") {\n        return fileName.toLowerCase().endsWith(validType)\n      }\n\n      if (validType.endsWith(\"/*\")) {\n        return baseMimeType === validType.replace(/\\/.*$/, \"\")\n      }\n\n      return mimeType === validType\n    })\n  }\n  return true\n}\n\nexport function isValidFileType(file: File, accept: string | undefined): [boolean, FileError | null] {\n  const isAcceptable = file.type === \"application/x-moz-file\" || isFileAccepted(file, accept)\n  return [isAcceptable, isAcceptable ? null : \"FILE_INVALID_TYPE\"]\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"file-upload\").parts(\n  \"root\",\n  \"dropzone\",\n  \"item\",\n  \"itemDeleteTrigger\",\n  \"itemGroup\",\n  \"itemName\",\n  \"itemPreview\",\n  \"itemPreviewImage\",\n  \"itemSizeText\",\n  \"label\",\n  \"trigger\",\n)\n\nexport const parts = anatomy.build()\n", "import { contains, dataAttr, isSelfTarget, visuallyHiddenStyle } from \"@zag-js/dom-query\"\nimport { formatBytes } from \"@zag-js/i18n-utils\"\nimport { type NormalizeProps, type PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./file-upload.anatomy\"\nimport { dom } from \"./file-upload.dom\"\nimport { type MachineApi, type Send, type State } from \"./file-upload.types\"\nimport { isEventWithFiles } from \"./file-upload.utils\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const disabled = state.context.disabled\n  const allowDrop = state.context.allowDrop\n  const translations = state.context.translations\n\n  const dragging = state.matches(\"dragging\")\n  const focused = state.matches(\"focused\") && !disabled\n\n  return {\n    dragging: dragging,\n    focused: focused,\n    openFilePicker() {\n      send(\"OPEN\")\n    },\n    deleteFile(file) {\n      send({ type: \"FILE.DELETE\", file })\n    },\n    acceptedFiles: state.context.acceptedFiles,\n    rejectedFiles: state.context.rejectedFiles,\n    setFiles(files) {\n      const count = files.length\n      send({ type: \"FILES.SET\", files, count })\n    },\n    clearFiles() {\n      send({ type: \"FILES.CLEAR\" })\n    },\n    getFileSize(file) {\n      return formatBytes(file.size, state.context.locale)\n    },\n    createFileUrl(file: File, cb: (url: string) => void) {\n      const win = dom.getWin(state.context)\n      const url = win.URL.createObjectURL(file)\n      cb(url)\n      return () => win.URL.revokeObjectURL(url)\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging),\n      })\n    },\n\n    getDropzoneProps() {\n      return normalize.element({\n        ...parts.dropzone.attrs,\n        dir: state.context.dir,\n        id: dom.getDropzoneId(state.context),\n        tabIndex: disabled ? undefined : 0,\n        \"aria-disabled\": disabled,\n        \"aria-invalid\": state.context.invalid,\n        \"data-invalid\": dataAttr(state.context.invalid),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging),\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!isSelfTarget(event)) return\n          if (event.key !== \"Enter\" && event.key !== \" \") return\n          send({ type: \"DROPZONE.CLICK\", src: \"keydown\" })\n        },\n        onClick(event) {\n          const isLabel = event.currentTarget.localName === \"label\"\n          // prevent opening the file dialog when clicking on the label (to avoid double opening)\n          if (isLabel) event.preventDefault()\n          send(\"DROPZONE.CLICK\")\n        },\n        onDragOver(event) {\n          if (!allowDrop) return\n          event.preventDefault()\n          event.stopPropagation()\n          try {\n            event.dataTransfer.dropEffect = \"copy\"\n          } catch {}\n\n          const hasFiles = isEventWithFiles(event)\n          if (!hasFiles) return\n\n          const count = event.dataTransfer.items.length\n          send({ type: \"DROPZONE.DRAG_OVER\", count })\n        },\n        onDragLeave(event) {\n          if (!allowDrop || disabled) return\n          if (contains(event.currentTarget, event.relatedTarget)) return\n          send({ type: \"DROPZONE.DRAG_LEAVE\" })\n        },\n        onDrop(event) {\n          if (allowDrop) {\n            event.preventDefault()\n            event.stopPropagation()\n          }\n\n          const hasFiles = isEventWithFiles(event)\n          if (disabled || !hasFiles) return\n\n          send({ type: \"DROPZONE.DROP\", files: Array.from(event.dataTransfer.files) })\n        },\n        onFocus() {\n          send(\"DROPZONE.FOCUS\")\n        },\n        onBlur() {\n          send(\"DROPZONE.BLUR\")\n        },\n      })\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: state.context.dir,\n        id: dom.getTriggerId(state.context),\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        type: \"button\",\n        onClick(event) {\n          if (disabled) return\n          // if trigger is wrapped within the dropzone, stop propagation to avoid double opening\n          if (contains(dom.getDropzoneEl(state.context), event.currentTarget)) {\n            event.stopPropagation()\n          }\n          send(\"OPEN\")\n        },\n      })\n    },\n\n    getHiddenInputProps() {\n      return normalize.input({\n        id: dom.getHiddenInputId(state.context),\n        tabIndex: -1,\n        disabled,\n        type: \"file\",\n        capture: state.context.capture,\n        name: state.context.name,\n        accept: state.context.acceptAttr,\n        webkitdirectory: state.context.capture ? \"\" : undefined,\n        multiple: state.context.multiple || state.context.maxFiles > 1,\n        onClick(event) {\n          event.stopPropagation()\n          // allow for re-selection of the same file\n          event.currentTarget.value = \"\"\n        },\n        onChange(event) {\n          if (disabled) return\n          const { files } = event.currentTarget\n          send({ type: \"FILES.SET\", files: files ? Array.from(files) : [] })\n        },\n        style: visuallyHiddenStyle,\n      })\n    },\n\n    getItemGroupProps() {\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getItemProps(props) {\n      const { file } = props\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getItemNameProps(props) {\n      const { file } = props\n      return normalize.element({\n        ...parts.itemName.attrs,\n        dir: state.context.dir,\n        id: dom.getItemNameId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getItemSizeTextProps(props) {\n      const { file } = props\n      return normalize.element({\n        ...parts.itemSizeText.attrs,\n        dir: state.context.dir,\n        id: dom.getItemSizeTextId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getItemPreviewProps(props) {\n      const { file } = props\n      return normalize.element({\n        ...parts.itemPreview.attrs,\n        dir: state.context.dir,\n        id: dom.getItemPreviewId(state.context, file.name),\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getItemPreviewImageProps(props) {\n      const { file, url } = props\n      const isImage = file.type.startsWith(\"image/\")\n      if (!isImage) {\n        throw new Error(\"Preview Image is only supported for image files\")\n      }\n      return normalize.img({\n        ...parts.itemPreviewImage.attrs,\n        alt: translations.itemPreview(file),\n        src: url,\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getItemDeleteTriggerProps(props) {\n      const { file } = props\n      return normalize.button({\n        ...parts.itemDeleteTrigger.attrs,\n        dir: state.context.dir,\n        type: \"button\",\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"aria-label\": translations.deleteFile(file),\n        onClick() {\n          if (disabled) return\n          send({ type: \"FILE.DELETE\", file })\n        },\n      })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        id: dom.getLabelId(state.context),\n        htmlFor: dom.getHiddenInputId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./file-upload.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `file:${ctx.id}`,\n  getDropzoneId: (ctx: Ctx) => ctx.ids?.dropzone ?? `file:${ctx.id}:dropzone`,\n  getHiddenInputId: (ctx: Ctx) => ctx.ids?.hiddenInput ?? `file:${ctx.id}:input`,\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `file:${ctx.id}:trigger`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `file:${ctx.id}:label`,\n  getItemId: (ctx: Ctx, id: string) => ctx.ids?.item?.(id) ?? `file:${ctx.id}:item:${id}`,\n  getItemNameId: (ctx: Ctx, id: string) => ctx.ids?.itemName?.(id) ?? `file:${ctx.id}:item-name:${id}`,\n  getItemSizeTextId: (ctx: Ctx, id: string) => ctx.ids?.itemSizeText?.(id) ?? `file:${ctx.id}:item-size:${id}`,\n  getItemPreviewId: (ctx: Ctx, id: string) => ctx.ids?.itemPreview?.(id) ?? `file:${ctx.id}:item-preview:${id}`,\n\n  getHiddenInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getHiddenInputId(ctx)),\n  getDropzoneEl: (ctx: Ctx) => dom.getById(ctx, dom.getDropzoneId(ctx)),\n})\n", "import { isValidFileSize, isValidFileType, type FileError } from \"@zag-js/file-utils\"\nimport { type FileRejection, type MachineContext } from \"./file-upload.types\"\n\nexport function isEventWithFiles(event: Pick<DragEvent, \"dataTransfer\" | \"target\">) {\n  if (!event.dataTransfer) return !!event.target && \"files\" in event.target\n  return event.dataTransfer.types.some((type) => {\n    return type === \"Files\" || type === \"application/x-moz-file\"\n  })\n}\n\nexport function isFilesWithinRange(ctx: MachineContext, incomingCount: number) {\n  if (!ctx.multiple && incomingCount > 1) return false\n  if (!ctx.multiple && incomingCount + ctx.acceptedFiles.length === 2) return true\n  if (incomingCount + ctx.acceptedFiles.length > ctx.maxFiles) return false\n  return true\n}\n\nexport function getFilesFromEvent(ctx: MachineContext, files: File[]) {\n  const acceptedFiles: File[] = []\n  const rejectedFiles: FileRejection[] = []\n\n  files.forEach((file) => {\n    const [accepted, acceptError] = isValidFileType(file, ctx.acceptAttr)\n    const [sizeMatch, sizeError] = isValidFileSize(file, ctx.minFileSize, ctx.maxFileSize)\n\n    const validateErrors = ctx.validate?.(file)\n    const valid = validateErrors ? validateErrors.length === 0 : true\n\n    if (accepted && sizeMatch && valid) {\n      acceptedFiles.push(file)\n    } else {\n      const errors = [acceptError, sizeError]\n      if (!valid) errors.push(...(validateErrors ?? []))\n      rejectedFiles.push({ file, errors: errors.filter(Boolean) as FileError[] })\n    }\n  })\n\n  if (!isFilesWithinRange(ctx, acceptedFiles.length)) {\n    acceptedFiles.forEach((file) => {\n      rejectedFiles.push({ file, errors: [\"TOO_MANY_FILES\"] })\n    })\n    acceptedFiles.splice(0)\n  }\n\n  return {\n    acceptedFiles,\n    rejectedFiles,\n  }\n}\n", "import { createMachine, guards, ref } from \"@zag-js/core\"\nimport { raf } from \"@zag-js/dom-query\"\nimport { getAcceptAttrString, isFileEqual } from \"@zag-js/file-utils\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./file-upload.dom\"\nimport type { MachineContext, MachineState, FileRejection, UserDefinedContext } from \"./file-upload.types\"\nimport { getFilesFromEvent, isFilesWithinRange } from \"./file-upload.utils\"\n\nconst { not } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"fileupload\",\n      initial: \"idle\",\n      context: {\n        minFileSize: 0,\n        maxFileSize: Infinity,\n        maxFiles: 1,\n        allowDrop: true,\n        ...ctx,\n        acceptedFiles: ref([]),\n        rejectedFiles: ref([]),\n        invalid: false,\n        translations: {\n          itemPreview: (file) => `preview of ${file.name}`,\n          deleteFile: (file) => `delete file ${file.name}`,\n          ...ctx.translations,\n        },\n      },\n      computed: {\n        acceptAttr: (ctx) => getAcceptAttrString(ctx.accept),\n        multiple: (ctx) => ctx.maxFiles > 1,\n      },\n      on: {\n        \"FILES.SET\": {\n          actions: [\"setFilesFromEvent\"],\n        },\n        \"FILE.DELETE\": {\n          actions: [\"removeFile\"],\n        },\n        \"FILES.CLEAR\": {\n          actions: [\"clearFiles\"],\n        },\n      },\n      states: {\n        idle: {\n          on: {\n            OPEN: {\n              actions: [\"openFilePicker\"],\n            },\n            \"DROPZONE.CLICK\": {\n              actions: [\"openFilePicker\"],\n            },\n            \"DROPZONE.FOCUS\": \"focused\",\n            \"DROPZONE.DRAG_OVER\": [\n              {\n                guard: not(\"isWithinRange\"),\n                target: \"dragging\",\n                actions: [\"setInvalid\"],\n              },\n              { target: \"dragging\" },\n            ],\n          },\n        },\n        focused: {\n          on: {\n            \"DROPZONE.BLUR\": \"idle\",\n            OPEN: {\n              actions: [\"openFilePicker\"],\n            },\n            \"DROPZONE.CLICK\": {\n              actions: [\"openFilePicker\"],\n            },\n            \"DROPZONE.DRAG_OVER\": [\n              {\n                guard: not(\"isWithinRange\"),\n                target: \"dragging\",\n                actions: [\"setInvalid\"],\n              },\n              { target: \"dragging\" },\n            ],\n          },\n        },\n        dragging: {\n          on: {\n            \"DROPZONE.DROP\": {\n              target: \"idle\",\n              actions: [\"clearInvalid\", \"setFilesFromEvent\", \"syncInputElement\"],\n            },\n            \"DROPZONE.DRAG_LEAVE\": {\n              target: \"idle\",\n              actions: [\"clearInvalid\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isWithinRange: (ctx, evt) => isFilesWithinRange(ctx, evt.count),\n      },\n      actions: {\n        syncInputElement(ctx) {\n          const inputEl = dom.getHiddenInputEl(ctx)\n          if (!inputEl) return\n\n          const win = dom.getWin(ctx)\n          const dataTransfer = new win.DataTransfer()\n\n          ctx.acceptedFiles.forEach((v) => {\n            dataTransfer.items.add(v)\n          })\n\n          inputEl.files = dataTransfer.files\n        },\n        openFilePicker(ctx) {\n          raf(() => {\n            dom.getHiddenInputEl(ctx)?.click()\n          })\n        },\n        setInvalid(ctx) {\n          ctx.invalid = true\n        },\n        clearInvalid(ctx) {\n          ctx.invalid = false\n        },\n        setFilesFromEvent(ctx, evt) {\n          const result = getFilesFromEvent(ctx, evt.files)\n          const { acceptedFiles, rejectedFiles } = result\n\n          if (ctx.multiple) {\n            const files = ref([...ctx.acceptedFiles, ...acceptedFiles])\n            set.files(ctx, files, rejectedFiles)\n            return\n          }\n\n          if (acceptedFiles.length) {\n            const files = ref([acceptedFiles[0]])\n            set.files(ctx, files, rejectedFiles)\n          } else if (rejectedFiles.length) {\n            set.files(ctx, [], rejectedFiles)\n          }\n        },\n        removeFile(ctx, evt) {\n          const nextFiles = ctx.acceptedFiles.filter((file) => file !== evt.file)\n          ctx.acceptedFiles = ref(nextFiles)\n          invoke.change(ctx)\n        },\n        clearFiles(ctx) {\n          ctx.acceptedFiles = ref([])\n          ctx.rejectedFiles = ref([])\n          invoke.change(ctx)\n        },\n      },\n      compareFns: {\n        acceptedFiles: (a, b) => a.length === b.length && a.every((file, i) => isFileEqual(file, b[i])),\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change: (ctx: MachineContext) => {\n    ctx.onFileChange?.({\n      acceptedFiles: ctx.acceptedFiles,\n      rejectedFiles: ctx.rejectedFiles,\n    })\n  },\n  accept: (ctx: MachineContext) => {\n    ctx.onFileAccept?.({ files: ctx.acceptedFiles })\n  },\n  reject: (ctx: MachineContext) => {\n    ctx.onFileReject?.({ files: ctx.rejectedFiles })\n  },\n}\n\nconst set = {\n  files: (ctx: MachineContext, acceptedFiles: File[], rejectedFiles: FileRejection[]) => {\n    ctx.acceptedFiles = ref(acceptedFiles)\n    invoke.accept(ctx)\n\n    if (rejectedFiles) {\n      ctx.rejectedFiles = ref(rejectedFiles)\n      invoke.reject(ctx)\n    }\n\n    invoke.change(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ItemProps, UserDefinedContext } from \"./file-upload.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"accept\",\n  \"allowDrop\",\n  \"capture\",\n  \"dir\",\n  \"directory\",\n  \"disabled\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"locale\",\n  \"maxFiles\",\n  \"maxFileSize\",\n  \"minFileSize\",\n  \"name\",\n  \"onFileAccept\",\n  \"onFileReject\",\n  \"onFileChange\",\n  \"translations\",\n  \"validate\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"file\"])\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"hoverCard\").parts(\"arrow\", \"arrowTip\", \"trigger\", \"positioner\", \"content\")\nexport const parts = anatomy.build()\n", "import { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./hover-card.anatomy\"\nimport { dom } from \"./hover-card.dom\"\nimport type { MachineApi, Send, State } from \"./hover-card.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const open = state.hasTag(\"open\")\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement,\n  })\n\n  return {\n    open: open,\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options })\n    },\n\n    getArrowProps() {\n      return normalize.element({\n        id: dom.getArrowId(state.context),\n        ...parts.arrow.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrow,\n      })\n    },\n\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrowTip,\n      })\n    },\n\n    getTriggerProps() {\n      return normalize.element({\n        ...parts.trigger.attrs,\n        dir: state.context.dir,\n        \"data-placement\": state.context.currentPlacement,\n        id: dom.getTriggerId(state.context),\n        \"data-state\": open ? \"open\" : \"closed\",\n        onPointerEnter(event) {\n          if (event.pointerType === \"touch\") return\n          send({ type: \"POINTER_ENTER\", src: \"trigger\" })\n        },\n        onPointerLeave(event) {\n          if (event.pointerType === \"touch\") return\n          send({ type: \"POINTER_LEAVE\", src: \"trigger\" })\n        },\n        onFocus() {\n          send(\"TRIGGER_FOCUS\")\n        },\n        onBlur() {\n          send(\"TRIGGER_BLUR\")\n        },\n        onTouchStart(event) {\n          event.preventDefault()\n        },\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        id: dom.getPositionerId(state.context),\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        style: popperStyles.floating,\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        dir: state.context.dir,\n        id: dom.getContentId(state.context),\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-placement\": state.context.currentPlacement,\n        onPointerEnter(event) {\n          if (event.pointerType === \"touch\") return\n          send({ type: \"POINTER_ENTER\", src: \"content\" })\n        },\n        onPointerLeave(event) {\n          if (event.pointerType === \"touch\") return\n          send({ type: \"POINTER_LEAVE\", src: \"content\" })\n        },\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./hover-card.types\"\n\nexport const dom = createScope({\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `hover-card:${ctx.id}:trigger`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `hover-card:${ctx.id}:content`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `hover-card:${ctx.id}:popper`,\n  getArrowId: (ctx: Ctx) => ctx.ids?.arrow ?? `hover-card:${ctx.id}:arrow`,\n\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n})\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { getPlacement } from \"@zag-js/popper\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./hover-card.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./hover-card.types\"\n\nconst { not, and } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"hover-card\",\n      initial: ctx.open ? \"open\" : \"closed\",\n      context: {\n        openDelay: 700,\n        closeDelay: 300,\n        currentPlacement: undefined,\n        ...ctx,\n        positioning: {\n          placement: \"bottom\",\n          ...ctx.positioning,\n        },\n      },\n\n      watch: {\n        open: [\"toggleVisibility\"],\n      },\n\n      states: {\n        closed: {\n          tags: [\"closed\"],\n          entry: [\"clearIsPointer\"],\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            POINTER_ENTER: {\n              target: \"opening\",\n              actions: [\"setIsPointer\"],\n            },\n            TRIGGER_FOCUS: \"opening\",\n            OPEN: \"opening\",\n          },\n        },\n\n        opening: {\n          tags: [\"closed\"],\n          after: {\n            OPEN_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\"],\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            POINTER_LEAVE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            TRIGGER_BLUR: [\n              {\n                guard: and(\"isOpenControlled\", not(\"isPointer\")),\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                guard: not(\"isPointer\"),\n                target: \"closed\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n          },\n        },\n\n        open: {\n          tags: [\"open\"],\n          activities: [\"trackDismissableElement\", \"trackPositioning\"],\n          on: {\n            \"CONTROLLED.CLOSE\": \"closed\",\n            POINTER_ENTER: {\n              actions: [\"setIsPointer\"],\n            },\n            POINTER_LEAVE: \"closing\",\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            TRIGGER_BLUR: [\n              {\n                guard: and(\"isOpenControlled\", not(\"isPointer\")),\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                guard: not(\"isPointer\"),\n                target: \"closed\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            \"POSITIONING.SET\": {\n              actions: \"reposition\",\n            },\n          },\n        },\n\n        closing: {\n          tags: [\"open\"],\n          activities: [\"trackPositioning\"],\n          after: {\n            CLOSE_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.CLOSE\": \"closed\",\n            POINTER_ENTER: {\n              target: \"open\",\n              // no need to invokeOnOpen here because it's still open (but about to close)\n              actions: [\"setIsPointer\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isPointer: (ctx) => !!ctx.isPointer,\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n      },\n      activities: {\n        trackPositioning(ctx) {\n          ctx.currentPlacement = ctx.positioning.placement\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        trackDismissableElement(ctx, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(getContentEl, {\n            defer: true,\n            exclude: [dom.getTriggerEl(ctx)],\n            onDismiss() {\n              send({ type: \"CLOSE\", src: \"interact-outside\" })\n            },\n            onFocusOutside(event) {\n              event.preventDefault()\n            },\n          })\n        },\n      },\n      actions: {\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        setIsPointer(ctx) {\n          ctx.isPointer = true\n        },\n        clearIsPointer(ctx) {\n          ctx.isPointer = false\n        },\n        reposition(ctx, evt) {\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n      },\n      delays: {\n        OPEN_DELAY: (ctx) => ctx.openDelay,\n        CLOSE_DELAY: (ctx) => ctx.closeDelay,\n      },\n    },\n  )\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./hover-card.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"closeDelay\",\n  \"dir\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"onOpenChange\",\n  \"open.controlled\",\n  \"open\",\n  \"openDelay\",\n  \"positioning\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "import type { Point } from \"./types\"\n\nexport class AffineTransform {\n  m00: number\n  m01: number\n  m02: number\n  m10: number\n  m11: number\n  m12: number\n\n  constructor([m00, m01, m02, m10, m11, m12]: Iterable<number> = [0, 0, 0, 0, 0, 0]) {\n    this.m00 = m00\n    this.m01 = m01\n    this.m02 = m02\n    this.m10 = m10\n    this.m11 = m11\n    this.m12 = m12\n  }\n\n  applyTo(point: Point): Point {\n    const { x, y } = point\n    const { m00, m01, m02, m10, m11, m12 } = this\n\n    return {\n      x: m00 * x + m01 * y + m02,\n      y: m10 * x + m11 * y + m12,\n    }\n  }\n\n  prepend(other: AffineTransform): AffineTransform {\n    return new AffineTransform([\n      this.m00 * other.m00 + this.m01 * other.m10, // m00\n      this.m00 * other.m01 + this.m01 * other.m11, // m01\n      this.m00 * other.m02 + this.m01 * other.m12 + this.m02, // m02\n      this.m10 * other.m00 + this.m11 * other.m10, // m10\n      this.m10 * other.m01 + this.m11 * other.m11, // m11\n      this.m10 * other.m02 + this.m11 * other.m12 + this.m12, // m12\n    ])\n  }\n\n  append(other: AffineTransform): AffineTransform {\n    return new AffineTransform([\n      other.m00 * this.m00 + other.m01 * this.m10, // m00\n      other.m00 * this.m01 + other.m01 * this.m11, // m01\n      other.m00 * this.m02 + other.m01 * this.m12 + other.m02, // m02\n      other.m10 * this.m00 + other.m11 * this.m10, // m10\n      other.m10 * this.m01 + other.m11 * this.m11, // m11\n      other.m10 * this.m02 + other.m11 * this.m12 + other.m12, // m12\n    ])\n  }\n\n  get determinant() {\n    return this.m00 * this.m11 - this.m01 * this.m10\n  }\n\n  get isInvertible() {\n    const det = this.determinant\n\n    return isFinite(det) && isFinite(this.m02) && isFinite(this.m12) && det !== 0\n  }\n\n  invert() {\n    const det = this.determinant\n\n    return new AffineTransform([\n      this.m11 / det, // m00\n      -this.m01 / det, // m01\n      (this.m01 * this.m12 - this.m11 * this.m02) / det, // m02\n      -this.m10 / det, // m10\n      this.m00 / det, // m11\n      (this.m10 * this.m02 - this.m00 * this.m12) / det, // m12\n    ])\n  }\n\n  get array(): number[] {\n    return [this.m00, this.m01, this.m02, this.m10, this.m11, this.m12, 0, 0, 1]\n  }\n\n  get float32Array(): Float32Array {\n    return new Float32Array(this.array)\n  }\n\n  // Static\n\n  static get identity(): AffineTransform {\n    return new AffineTransform([1, 0, 0, 0, 1, 0])\n  }\n\n  static rotate(theta: number, origin?: Point): AffineTransform {\n    const rotation = new AffineTransform([Math.cos(theta), -Math.sin(theta), 0, Math.sin(theta), Math.cos(theta), 0])\n\n    if (origin && (origin.x !== 0 || origin.y !== 0)) {\n      return AffineTransform.multiply(\n        AffineTransform.translate(origin.x, origin.y),\n        rotation,\n        AffineTransform.translate(-origin.x, -origin.y),\n      )\n    }\n\n    return rotation\n  }\n\n  rotate: (typeof AffineTransform)[\"rotate\"] = (...args) => {\n    return this.prepend(AffineTransform.rotate(...args))\n  }\n\n  static scale(sx: number, sy: number = sx, origin: Point = { x: 0, y: 0 }): AffineTransform {\n    const scale = new AffineTransform([sx, 0, 0, 0, sy, 0])\n\n    if (origin.x !== 0 || origin.y !== 0) {\n      return AffineTransform.multiply(\n        AffineTransform.translate(origin.x, origin.y),\n        scale,\n        AffineTransform.translate(-origin.x, -origin.y),\n      )\n    }\n\n    return scale\n  }\n\n  scale: (typeof AffineTransform)[\"scale\"] = (...args) => {\n    return this.prepend(AffineTransform.scale(...args))\n  }\n\n  static translate(tx: number, ty: number): AffineTransform {\n    return new AffineTransform([1, 0, tx, 0, 1, ty])\n  }\n\n  translate: (typeof AffineTransform)[\"translate\"] = (...args) => {\n    return this.prepend(AffineTransform.translate(...args))\n  }\n\n  static multiply(...[first, ...rest]: AffineTransform[]): AffineTransform {\n    if (!first) return AffineTransform.identity\n    return rest.reduce((result, item) => result.prepend(item), first)\n  }\n\n  get a() {\n    return this.m00\n  }\n\n  get b() {\n    return this.m10\n  }\n\n  get c() {\n    return this.m01\n  }\n\n  get d() {\n    return this.m11\n  }\n\n  get tx() {\n    return this.m02\n  }\n\n  get ty() {\n    return this.m12\n  }\n\n  get scaleComponents(): Point {\n    return { x: this.a, y: this.d }\n  }\n\n  get translationComponents(): Point {\n    return { x: this.tx, y: this.ty }\n  }\n\n  get skewComponents(): Point {\n    return { x: this.c, y: this.b }\n  }\n\n  toString() {\n    return `matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.tx}, ${this.ty})`\n  }\n}\n", "import type { AlignOptions, HAlign, Rect, VAlign } from \"./types\"\n\nfunction hAlign(a: Rect, ref: Rect, h: HAlign): Rect {\n  let x = ref.minX\n  if (h === \"left-inside\") x = ref.minX\n  if (h === \"left-outside\") x = ref.minX - ref.width\n  if (h === \"right-inside\") x = ref.maxX - ref.width\n  if (h === \"right-outside\") x = ref.maxX\n  if (h === \"center\") x = ref.midX - ref.width / 2\n  return { ...a, x }\n}\n\nfunction vAlign(a: Rect, ref: Rect, v: VAlign): Rect {\n  let y = ref.minY\n  if (v === \"top-inside\") y = ref.minY\n  if (v === \"top-outside\") y = ref.minY - a.height\n  if (v === \"bottom-inside\") y = ref.maxY - a.height\n  if (v === \"bottom-outside\") y = ref.maxY\n  if (v === \"center\") y = ref.midY - a.height / 2\n  return { ...a, y }\n}\n\nexport function alignRect(a: Rect, ref: Rect, options: AlignOptions): Rect {\n  const { h, v } = options\n  return vAlign(hAlign(a, ref, h), ref, v)\n}\n", "import type { Point, RectInit, Size } from \"./types\"\n\nconst clamp = (value: number, min: number, max: number) => Math.min(Math.max(value, min), max)\n\nexport const clampPoint = (position: Point, size: Size, boundaryRect: RectInit) => {\n  const x = clamp(position.x, boundaryRect.x, boundaryRect.x + boundaryRect.width - size.width)\n  const y = clamp(position.y, boundaryRect.y, boundaryRect.y + boundaryRect.height - size.height)\n  return { x, y }\n}\n\nconst defaultMinSize: Size = {\n  width: 0,\n  height: 0,\n}\n\nconst defaultMaxSize: Size = {\n  width: Infinity,\n  height: Infinity,\n}\n\nexport const clampSize = (size: Size, minSize = defaultMinSize, maxSize = defaultMaxSize) => {\n  return {\n    width: Math.min(Math.max(size.width, minSize!.width), maxSize!.width),\n    height: Math.min(Math.max(size.height, minSize!.height), maxSize!.height),\n  }\n}\n", "import type { Point, Rect, RectEdge, RectInit } from \"./types\"\n\n/* -----------------------------------------------------------------------------\n * Point\n * -----------------------------------------------------------------------------*/\n\nexport const createPoint = (x: number, y: number) => ({ x, y })\n\nexport const subtractPoints = (a: Point, b: Point) => createPoint(a.x - b.x, a.y - b.y)\nexport const addPoints = (a: Point, b: Point) => createPoint(a.x + b.x, a.y + b.y)\n\nexport function isPoint(v: any): v is Point {\n  return Reflect.has(v, \"x\") && Reflect.has(v, \"y\")\n}\n\n/* -----------------------------------------------------------------------------\n * Rect\n * -----------------------------------------------------------------------------*/\n\nexport function createRect(r: RectInit): Rect {\n  const { x, y, width, height } = r\n  const midX = x + width / 2\n  const midY = y + height / 2\n  return {\n    x,\n    y,\n    width,\n    height,\n    minX: x,\n    minY: y,\n    maxX: x + width,\n    maxY: y + height,\n    midX,\n    midY,\n    center: createPoint(midX, midY),\n  }\n}\n\nexport function isRect(v: any): v is Rect {\n  return Reflect.has(v, \"x\") && Reflect.has(v, \"y\") && Reflect.has(v, \"width\") && Reflect.has(v, \"height\")\n}\n\nexport function getRectCenters(v: Rect) {\n  const top = createPoint(v.midX, v.minY)\n  const right = createPoint(v.maxX, v.midY)\n  const bottom = createPoint(v.midX, v.maxY)\n  const left = createPoint(v.minX, v.midY)\n  return { top, right, bottom, left }\n}\n\nexport function getRectCorners(v: Rect) {\n  const top = createPoint(v.minX, v.minY)\n  const right = createPoint(v.maxX, v.minY)\n  const bottom = createPoint(v.maxX, v.maxY)\n  const left = createPoint(v.minX, v.maxY)\n  return { top, right, bottom, left }\n}\n\nexport function getRectEdges(v: Rect) {\n  const c = getRectCorners(v)\n  const top: RectEdge = [c.top, c.right]\n  const right: RectEdge = [c.right, c.bottom]\n  const bottom: RectEdge = [c.left, c.bottom]\n  const left: RectEdge = [c.top, c.left]\n  return { top, right, bottom, left }\n}\n", "import { createRect } from \"./rect\"\nimport type { Rect, RectSide } from \"./types\"\n\n/**\n * Checks if a Rect intersects another Rect\n */\nexport function intersects(a: Rect, b: Rect): boolean {\n  return a.x < b.maxX && a.y < b.maxY && a.maxX > b.x && a.maxY > b.y\n}\n\n/**\n * Returns a new Rect that represents the intersection between two Rects\n */\nexport function intersection(a: Rect, b: Rect): Rect {\n  const x = Math.max(a.x, b.x)\n  const y = Math.max(a.y, b.y)\n  const x2 = Math.min(a.x + a.width, b.x + b.width)\n  const y2 = Math.min(a.y + a.height, b.y + b.height)\n  return createRect({ x, y, width: x2 - x, height: y2 - y })\n}\n\n/**\n * Returns whether two rects collide along each edge\n */\nexport function collisions(a: Rect, b: Rect): Record<RectSide, boolean> {\n  return {\n    top: a.minY <= b.minY,\n    right: a.maxX >= b.maxX,\n    bottom: a.maxY >= b.maxY,\n    left: a.minX <= b.minX,\n  }\n}\n", "import { intersects } from \"./intersection\"\nimport type { Point, Rect, RectSide } from \"./types\"\n\nexport interface DistanceValue extends Point {\n  value: number\n}\n\nexport function distance(a: Point, b: Point = { x: 0, y: 0 }): number {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2))\n}\n\nexport function distanceFromPoint(r: Rect, p: Point): DistanceValue {\n  let x = 0\n  let y = 0\n\n  if (p.x < r.x) x = r.x - p.x\n  else if (p.x > r.maxX) x = p.x - r.maxX\n\n  if (p.y < r.y) y = r.y - p.y\n  else if (p.y > r.maxY) y = p.y - r.maxY\n  return { x, y, value: distance({ x, y }) }\n}\n\nexport function distanceFromRect(a: Rect, b: Rect): DistanceValue {\n  if (intersects(a, b)) return { x: 0, y: 0, value: 0 }\n  const left = a.x < b.x ? a : b\n  const right = b.x < a.x ? a : b\n  const upper = a.y < b.y ? a : b\n  const lower = b.y < a.y ? a : b\n  let x = left.x === right.x ? 0 : right.x - left.maxX\n  x = Math.max(0, x)\n  let y = upper.y === lower.y ? 0 : lower.y - upper.maxY\n  y = Math.max(0, y)\n  return { x, y, value: distance({ x, y }) }\n}\n\nexport function distanceBtwEdges(a: Rect, b: Rect): Record<RectSide, number> {\n  return {\n    left: b.x - a.x,\n    top: b.y - a.y,\n    right: a.maxX - b.maxX,\n    bottom: a.maxY - b.maxY,\n  }\n}\n", "import { distance } from \"./distance\"\nimport type { Point, Rect, RectSide } from \"./types\"\n\nexport function closest(...pts: Point[]) {\n  return (a: Point): Point => {\n    const ds = pts.map((b) => distance(b, a))\n    const c = Math.min.apply(Math, ds)\n    return pts[ds.indexOf(c)]\n  }\n}\n\nexport function closestSideToRect(ref: Rect, r: Rect): RectSide {\n  if (r.maxX <= ref.minX) return \"left\"\n  if (r.minX >= ref.maxX) return \"right\"\n  if (r.maxY <= ref.minY) return \"top\"\n  if (r.minY >= ref.maxY) return \"bottom\"\n  return \"left\"\n}\n\nexport function closestSideToPoint(ref: Rect, p: Point): RectSide {\n  const { x, y } = p\n\n  const dl = x - ref.minX\n  const dr = ref.maxX - x\n  const dt = y - ref.minY\n  const db = ref.maxY - y\n\n  let closest = dl\n  let side: RectSide = \"left\"\n\n  if (dr < closest) {\n    closest = dr\n    side = \"right\"\n  }\n  if (dt < closest) {\n    closest = dt\n    side = \"top\"\n  }\n  if (db < closest) {\n    side = \"bottom\"\n  }\n\n  return side\n}\n", "import type { RectInit } from \"./types\"\n\n// given a rect and a boundary, return a new rect that is constrained within the boundary\n// resize or reposition the rect so that it fits within the boundary\nexport const constrainRect = (rect: RectInit, boundary: RectInit): RectInit => {\n  const left = Math.max(boundary.x, Math.min(rect.x, boundary.x + boundary.width - rect.width))\n  const top = Math.max(boundary.y, Math.min(rect.y, boundary.y + boundary.height - rect.height))\n\n  return {\n    x: left,\n    y: top,\n    width: Math.min(rect.width, boundary.width),\n    height: Math.min(rect.height, boundary.height),\n  }\n}\n", "import { getRectCorners, isRect } from \"./rect\"\nimport type { Point, Rect } from \"./types\"\n\nexport function containsPoint(r: Rect, p: Point): boolean {\n  return r.minX <= p.x && p.x <= r.maxX && r.minY <= p.y && p.y <= r.maxY\n}\n\nexport function containsRect(a: Rect, b: Rect): boolean {\n  return Object.values(getRectCorners(b)).every((c) => containsPoint(a, c))\n}\n\nexport function contains(r: Rect, v: Rect | Point): boolean {\n  return isRect(v) ? containsRect(r, v) : containsPoint(r, v)\n}\n", "import type { Point, RectInit, Size } from \"./types\"\n\nexport const isSizeEqual = (a: Size, b: Size) => {\n  return a.width === b.width && a.height === b.height\n}\n\nexport const isPointEqual = (a: Point, b: Point) => {\n  return a.x === b.x && a.y === b.y\n}\n\nexport const isRectEqual = (a: RectInit, b: RectInit) => {\n  return isPointEqual(a, b) && isSizeEqual(a, b)\n}\n", "import { createRect } from \"./rect\"\nimport type { Rect } from \"./types\"\n\nconst styleCache = new WeakMap<HTMLElement, any>()\n\nfunction getCacheComputedStyle(el: HTMLElement) {\n  if (!styleCache.has(el)) {\n    const win = el.ownerDocument.defaultView || window\n    styleCache.set(el, win.getComputedStyle(el))\n  }\n  return styleCache.get(el)\n}\n\nexport function getElementRect(el: HTMLElement, opts: ElementRectOptions = {}): Rect {\n  return createRect(getClientRect(el, opts))\n}\n\nexport type ElementRectOptions = {\n  /**\n   * Whether to exclude the element's scrollbar size from the calculation.\n   */\n  excludeScrollbar?: boolean\n  /**\n   * Whether to exclude the element's borders from the calculation.\n   */\n  excludeBorders?: boolean\n}\n\nfunction getClientRect(el: HTMLElement, opts: ElementRectOptions = {}) {\n  const { excludeScrollbar = false, excludeBorders = false } = opts\n\n  const { x, y, width, height } = el.getBoundingClientRect()\n  const r = { x, y, width, height }\n\n  const style = getCacheComputedStyle(el)\n\n  const { borderLeftWidth, borderTopWidth, borderRightWidth, borderBottomWidth } = style\n\n  const borderXWidth = sum(borderLeftWidth, borderRightWidth)\n  const borderYWidth = sum(borderTopWidth, borderBottomWidth)\n\n  if (excludeBorders) {\n    r.width -= borderXWidth\n    r.height -= borderYWidth\n    r.x += px(borderLeftWidth)\n    r.y += px(borderTopWidth)\n  }\n\n  if (excludeScrollbar) {\n    const scrollbarWidth = el.offsetWidth - el.clientWidth - borderXWidth\n    const scrollbarHeight = el.offsetHeight - el.clientHeight - borderYWidth\n    r.width -= scrollbarWidth\n    r.height -= scrollbarHeight\n  }\n\n  return r\n}\n\nconst px = (v: string) => parseFloat(v.replace(\"px\", \"\"))\n\nconst sum = (...vals: string[]) => vals.reduce((sum, v) => sum + (v ? px(v) : 0), 0)\n", "import { createRect } from \"./rect\"\nimport type { Point, Rect } from \"./types\"\n\nexport function getRectFromPoints(...pts: Point[]): Rect {\n  const xs = pts.map((p) => p.x)\n  const ys = pts.map((p) => p.y)\n\n  const x = Math.min(...xs)\n  const y = Math.min(...ys)\n\n  const width = Math.max(...xs) - x\n  const height = Math.max(...ys) - y\n\n  return createRect({ x, y, width, height })\n}\n", "import { getRectFromPoints } from \"./from-points\"\nimport type { Rect } from \"./types\"\n\nconst { min, max } = Math\n\nexport function union(...rs: Rect[]): Rect {\n  const pMin = {\n    x: min(...rs.map((r) => r.minX)),\n    y: min(...rs.map((r) => r.minY)),\n  }\n  const pMax = {\n    x: max(...rs.map((r) => r.maxX)),\n    y: max(...rs.map((r) => r.maxY)),\n  }\n  return getRectFromPoints(pMin, pMax)\n}\n", "import { createRect } from \"./rect\"\nimport { getElementRect } from \"./from-element\"\nimport { union } from \"./union\"\nimport type { Rect } from \"./types\"\n\nexport function fromRange(range: Range): Rect {\n  let rs: Rect[] = []\n  const rects = Array.from(range.getClientRects())\n\n  if (rects.length) {\n    rs = rs.concat(rects.map(createRect))\n    return union.apply(undefined, rs)\n  }\n\n  let start: Node | ParentNode | null = range.startContainer\n\n  if (start.nodeType === Node.TEXT_NODE) {\n    start = start.parentNode\n  }\n\n  if (start instanceof HTMLElement) {\n    const r = getElementRect(start)\n    rs.push({ ...r, x: r.maxX, width: 0 })\n  }\n\n  return union.apply(undefined, rs)\n}\n", "import { createRect, getRectCorners } from \"./rect\"\nimport type { Point, Rect } from \"./types\"\n\nexport function toRad(d: number) {\n  return ((d % 360) * Math.PI) / 180\n}\n\nexport function rotate(a: Point, d: number, c: Point): Point {\n  const r = toRad(d)\n\n  const sin = Math.sin(r)\n  const cos = Math.cos(r)\n\n  const x = a.x - c.x\n  const y = a.y - c.y\n\n  return {\n    x: c.x + x * cos - y * sin,\n    y: c.y + x * sin + y * cos,\n  }\n}\n\nexport function getRotationRect(r: Rect, deg: number): Rect {\n  const rr = Object.values(getRectCorners(r)).map((p) => rotate(p, deg, r.center))\n\n  const xs = rr.map((p) => p.x)\n  const ys = rr.map((p) => p.y)\n\n  const minX = Math.min(...xs)\n  const minY = Math.min(...ys)\n\n  const maxX = Math.max(...xs)\n  const maxY = Math.max(...ys)\n\n  return createRect({\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY,\n  })\n}\n", "import { createRect } from \"./rect\"\nimport type { Rect } from \"./types\"\n\nexport type WindowRectOptions = {\n  /**\n   * Whether to exclude the element's scrollbar size from the calculation.\n   */\n  excludeScrollbar?: boolean\n}\n\n/**\n * Creates a rectange from window object\n */\nexport function getWindowRect(win: Window, opts: WindowRectOptions = {}): Rect {\n  return createRect(getViewportRect(win, opts))\n}\n\n/**\n * Get the rect of the window with the option to exclude the scrollbar\n */\nexport function getViewportRect(win: Window, opts: WindowRectOptions) {\n  const { excludeScrollbar = false } = opts\n  const { innerWidth, innerHeight, document: doc, visualViewport } = win\n  const width = visualViewport?.width || innerWidth\n  const height = visualViewport?.height || innerHeight\n  const rect = { x: 0, y: 0, width, height }\n  if (excludeScrollbar) {\n    const scrollbarWidth = innerWidth - doc.documentElement.clientWidth\n    const scrollbarHeight = innerHeight - doc.documentElement.clientHeight\n    rect.width -= scrollbarWidth\n    rect.height -= scrollbarHeight\n  }\n  return rect\n}\n", "import { createRect } from \"./rect\"\nimport type { Point, Rect, RectInset, SymmetricRectInset } from \"./types\"\n\nexport const isSymmetric = (v: any): v is SymmetricRectInset => \"dx\" in v || \"dy\" in v\n\nexport function inset(r: Rect, i: RectInset | SymmetricRectInset): Rect {\n  const v = isSymmetric(i) ? { left: i.dx, right: i.dx, top: i.dy, bottom: i.dy } : i\n  const { top = 0, right = 0, bottom = 0, left = 0 } = v\n  return createRect({\n    x: r.x + left,\n    y: r.y + top,\n    width: r.width - left - right,\n    height: r.height - top - bottom,\n  })\n}\n\nexport function expand(r: Rect, v: number | SymmetricRectInset): Rect {\n  const value = typeof v === \"number\" ? { dx: -v, dy: -v } : v\n  return inset(r, value)\n}\n\nexport function shrink(r: Rect, v: number | SymmetricRectInset): Rect {\n  const value = typeof v === \"number\" ? { dx: -v, dy: -v } : v\n  return inset(r, value)\n}\n\nexport function shift(r: Rect, o: Partial<Point>): Rect {\n  const { x = 0, y = 0 } = o\n  return createRect({\n    x: r.x + x,\n    y: r.y + y,\n    width: r.width,\n    height: r.height,\n  })\n}\n", "import { createRect, getRectCorners } from \"./rect\"\nimport type { Point, RectInit } from \"./types\"\n\nexport function getElementPolygon(rectValue: RectInit, placement: string) {\n  const rect = createRect(rectValue)\n  const { top, right, left, bottom } = getRectCorners(rect)\n  const [base] = placement.split(\"-\")\n\n  return {\n    top: [left, top, right, bottom],\n    right: [top, right, bottom, left],\n    bottom: [top, left, bottom, right],\n    left: [right, top, left, bottom],\n  }[base]\n}\n\nexport function isPointInPolygon(polygon: Point[], point: Point) {\n  const { x, y } = point\n  let c = false\n\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x\n    const yi = polygon[i].y\n    const xj = polygon[j].x\n    const yj = polygon[j].y\n\n    if (yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi) {\n      c = !c\n    }\n  }\n  return c\n}\n\nfunction createPolygonElement() {\n  const id = \"debug-polygon\"\n  const existingPolygon = document.getElementById(id)\n  if (existingPolygon) {\n    return existingPolygon\n  }\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\")\n  Object.assign(svg.style, {\n    top: \"0\",\n    left: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    opacity: \"0.15\",\n    position: \"fixed\",\n    pointerEvents: \"none\",\n    fill: \"red\",\n  })\n\n  const polygon = document.createElementNS(\"http://www.w3.org/2000/svg\", \"polygon\")\n  polygon.setAttribute(\"id\", id)\n  polygon.setAttribute(\"points\", \"0,0 0,0\")\n  svg.appendChild(polygon)\n  document.body.appendChild(svg)\n  return polygon\n}\n\nexport function debugPolygon(polygon: Point[]) {\n  const el = createPolygonElement()\n  const points = polygon.map((point) => `${point.x},${point.y}`).join(\" \")\n  el.setAttribute(\"points\", points)\n  return () => {\n    el.remove()\n  }\n}\n", "import type { Point } from \"./types\"\n\nexport type CompassDirection = \"n\" | \"ne\" | \"e\" | \"se\" | \"s\" | \"sw\" | \"w\" | \"nw\"\n\nexport const compassDirectionMap: Record<CompassDirection, Point> = {\n  n: { x: 0.5, y: 0 },\n  ne: { x: 1, y: 0 },\n  e: { x: 1, y: 0.5 },\n  se: { x: 1, y: 1 },\n  s: { x: 0.5, y: 1 },\n  sw: { x: 0, y: 1 },\n  w: { x: 0, y: 0.5 },\n  nw: { x: 0, y: 0 },\n}\n\nexport const oppositeDirectionMap: Record<CompassDirection, CompassDirection> = {\n  n: \"s\",\n  ne: \"sw\",\n  e: \"w\",\n  se: \"nw\",\n  s: \"n\",\n  sw: \"ne\",\n  w: \"e\",\n  nw: \"se\",\n}\n", "import { AffineTransform } from \"./affine-transform\"\nimport { compassDirectionMap, oppositeDirectionMap, type CompassDirection } from \"./compass\"\nimport type { Point, Rect, RectInit, ScalingOptions } from \"./types\"\n\nconst { sign, abs, min } = Math\n\nfunction getRectExtentPoint(rect: Rect, direction: CompassDirection) {\n  const { minX, minY, maxX, maxY, midX, midY } = rect\n  const x = direction.includes(\"w\") ? minX : direction.includes(\"e\") ? maxX : midX\n  const y = direction.includes(\"n\") ? minY : direction.includes(\"s\") ? maxY : midY\n  return { x, y }\n}\n\nfunction getOppositeDirection(direction: CompassDirection) {\n  return oppositeDirectionMap[direction]\n}\n\nexport function resizeRect(rect: Rect, offset: Point, direction: CompassDirection, opts: ScalingOptions) {\n  const { scalingOriginMode, lockAspectRatio } = opts\n\n  const extent = getRectExtentPoint(rect, direction)\n\n  const oppositeDirection = getOppositeDirection(direction)\n  const oppositeExtent = getRectExtentPoint(rect, oppositeDirection)\n\n  if (scalingOriginMode === \"center\") {\n    offset = { x: offset.x * 2, y: offset.y * 2 }\n  }\n\n  const newExtent = {\n    x: extent.x + offset.x,\n    y: extent.y + offset.y,\n  }\n\n  const multiplier = {\n    x: compassDirectionMap[direction].x * 2 - 1,\n    y: compassDirectionMap[direction].y * 2 - 1,\n  }\n\n  const newSize = {\n    width: newExtent.x - oppositeExtent.x,\n    height: newExtent.y - oppositeExtent.y,\n  }\n\n  const scaleX = (multiplier.x * newSize.width) / rect.width\n  const scaleY = (multiplier.y * newSize.height) / rect.height\n\n  const largestMagnitude = abs(scaleX) > abs(scaleY) ? scaleX : scaleY\n\n  const scale = lockAspectRatio\n    ? { x: largestMagnitude, y: largestMagnitude }\n    : {\n        x: extent.x === oppositeExtent.x ? 1 : scaleX,\n        y: extent.y === oppositeExtent.y ? 1 : scaleY,\n      }\n\n  if (extent.y === oppositeExtent.y) {\n    scale.y = abs(scale.y)\n  } else if (sign(scale.y) !== sign(scaleY)) {\n    scale.y *= -1\n  }\n\n  if (extent.x === oppositeExtent.x) {\n    scale.x = abs(scale.x)\n  } else if (sign(scale.x) !== sign(scaleX)) {\n    scale.x *= -1\n  }\n\n  switch (scalingOriginMode) {\n    case \"extent\":\n      return transformRect(rect, AffineTransform.scale(scale.x, scale.y, oppositeExtent), false)\n    case \"center\":\n      return transformRect(\n        rect,\n        AffineTransform.scale(scale.x, scale.y, {\n          x: rect.midX,\n          y: rect.midY,\n        }),\n        false,\n      )\n  }\n}\n\nfunction createRectFromPoints(initialPoint: Point, finalPoint: Point, normalized: boolean = true): RectInit {\n  if (normalized) {\n    return {\n      x: min(finalPoint.x, initialPoint.x),\n      y: min(finalPoint.y, initialPoint.y),\n      width: abs(finalPoint.x - initialPoint.x),\n      height: abs(finalPoint.y - initialPoint.y),\n    }\n  }\n\n  return {\n    x: initialPoint.x,\n    y: initialPoint.y,\n    width: finalPoint.x - initialPoint.x,\n    height: finalPoint.y - initialPoint.y,\n  }\n}\n\nfunction transformRect(rect: Rect, transform: AffineTransform, normalized = true): RectInit {\n  const p1 = transform.applyTo({ x: rect.minX, y: rect.minY })\n  const p2 = transform.applyTo({ x: rect.maxX, y: rect.maxY })\n  return createRectFromPoints(p1, p2, normalized)\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"menu\").parts(\n  \"arrow\",\n  \"arrowTip\",\n  \"content\",\n  \"contextTrigger\",\n  \"indicator\",\n  \"item\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n  \"itemIndicator\",\n  \"itemText\",\n  \"positioner\",\n  \"separator\",\n  \"trigger\",\n  \"triggerItem\",\n)\nexport const parts = anatomy.build()\n", "import { mergeProps } from \"@zag-js/core\"\nimport {\n  clickIfLink,\n  getEventKey,\n  getEventPoint,\n  isContextMenuEvent,\n  isLeftClick,\n  isModifierKey,\n  isPrintableKey,\n  type EventKeyMap,\n} from \"@zag-js/dom-event\"\nimport {\n  dataAttr,\n  getEventTarget,\n  isDownloadingEvent,\n  isEditableElement,\n  isOpeningInNewTab,\n  isSelfTarget,\n  isValidTabEvent,\n} from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./menu.anatomy\"\nimport { dom } from \"./menu.dom\"\nimport type { ItemProps, ItemState, MachineApi, OptionItemProps, OptionItemState, Send, State } from \"./menu.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const isSubmenu = state.context.isSubmenu\n  const isTypingAhead = state.context.isTypingAhead\n  const composite = state.context.composite\n\n  const open = state.hasTag(\"open\")\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.anchorPoint ? \"bottom\" : state.context.currentPlacement,\n  })\n\n  function getItemState(props: ItemProps): ItemState {\n    return {\n      disabled: !!props.disabled,\n      highlighted: state.context.highlightedValue === props.value,\n    }\n  }\n\n  function getOptionItemProps(props: OptionItemProps) {\n    const valueText = props.valueText ?? props.value\n    return { ...props, id: props.value, valueText }\n  }\n\n  function getOptionItemState(props: OptionItemProps): OptionItemState {\n    const itemState = getItemState(getOptionItemProps(props))\n    return {\n      ...itemState,\n      checked: !!props.checked,\n    }\n  }\n\n  function getItemProps(props: ItemProps) {\n    const { value: id, closeOnSelect, valueText } = props\n    const itemState = getItemState(props)\n    return normalize.element({\n      ...parts.item.attrs,\n      id,\n      role: \"menuitem\",\n      \"aria-disabled\": itemState.disabled,\n      \"data-disabled\": dataAttr(itemState.disabled),\n      \"data-ownedby\": dom.getContentId(state.context),\n      \"data-highlighted\": dataAttr(itemState.highlighted),\n      \"data-valuetext\": valueText,\n      onDragStart(event) {\n        const isLink = event.currentTarget.matches(\"a[href]\")\n        if (isLink) event.preventDefault()\n      },\n      onPointerMove(event) {\n        if (itemState.disabled) return\n        if (event.pointerType !== \"mouse\") return\n        const target = event.currentTarget\n        if (itemState.highlighted) return\n        send({ type: \"ITEM_POINTERMOVE\", id, target, closeOnSelect })\n      },\n      onPointerLeave(event) {\n        if (itemState.disabled) return\n        if (event.pointerType !== \"mouse\") return\n\n        const mouseMoved = state.previousEvent.type.includes(\"POINTER\")\n        if (!mouseMoved) return\n\n        const target = event.currentTarget\n        send({ type: \"ITEM_POINTERLEAVE\", id, target, closeOnSelect })\n      },\n      onPointerDown(event) {\n        if (itemState.disabled) return\n        const target = event.currentTarget\n        send({ type: \"ITEM_POINTERDOWN\", target, id, closeOnSelect })\n      },\n      onPointerUp(event) {\n        if (isDownloadingEvent(event)) return\n        if (isOpeningInNewTab(event)) return\n        if (itemState.disabled) return\n        if (!isLeftClick(event)) return\n\n        const target = event.currentTarget\n        send({ type: \"ITEM_CLICK\", src: \"pointerup\", target, id, closeOnSelect })\n\n        // Fix issue where links don't get clicked in pointerup on touch devices\n        if (event.pointerType === \"touch\") clickIfLink(target)\n      },\n      onTouchEnd(event) {\n        // prevent clicking elements behind content\n        event.preventDefault()\n        event.stopPropagation()\n      },\n    })\n  }\n\n  return {\n    highlightedValue: state.context.highlightedValue,\n    open: open,\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n    setHighlightedValue(value) {\n      send({ type: \"HIGHLIGHTED.SET\", id: value })\n    },\n    setParent(parent) {\n      send({ type: \"PARENT.SET\", value: parent, id: parent.state.context.id })\n    },\n    setChild(child) {\n      send({ type: \"CHILD.SET\", value: child, id: child.state.context.id })\n    },\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options })\n    },\n\n    getContextTriggerProps() {\n      return normalize.element({\n        ...parts.contextTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getContextTriggerId(state.context),\n        onPointerDown(event) {\n          if (event.pointerType === \"mouse\") return\n          const point = getEventPoint(event)\n          send({ type: \"CONTEXT_MENU_START\", point })\n        },\n        onPointerCancel(event) {\n          if (event.pointerType === \"mouse\") return\n          send(\"CONTEXT_MENU_CANCEL\")\n        },\n        onPointerMove(event) {\n          if (event.pointerType === \"mouse\") return\n          send(\"CONTEXT_MENU_CANCEL\")\n        },\n        onPointerUp(event) {\n          if (event.pointerType === \"mouse\") return\n          send(\"CONTEXT_MENU_CANCEL\")\n        },\n        onContextMenu(event) {\n          const point = getEventPoint(event)\n          send({ type: \"CONTEXT_MENU\", point })\n          event.preventDefault()\n        },\n        style: {\n          WebkitTouchCallout: \"none\",\n          userSelect: \"none\",\n        },\n      })\n    },\n\n    getTriggerItemProps(childApi) {\n      return mergeProps(\n        getItemProps({ value: childApi.getTriggerProps().id }),\n        childApi.getTriggerProps(),\n      ) as T[\"element\"]\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        ...(isSubmenu ? parts.triggerItem.attrs : parts.trigger.attrs),\n        \"data-placement\": state.context.currentPlacement,\n        type: \"button\",\n        dir: state.context.dir,\n        id: dom.getTriggerId(state.context),\n        \"data-uid\": state.context.id,\n        \"aria-haspopup\": composite ? \"menu\" : \"dialog\",\n        \"aria-controls\": dom.getContentId(state.context),\n        \"aria-expanded\": open || undefined,\n        \"data-state\": open ? \"open\" : \"closed\",\n        onPointerMove(event) {\n          if (event.pointerType !== \"mouse\") return\n          const disabled = dom.isTargetDisabled(event.currentTarget)\n          if (disabled || !isSubmenu) return\n          send({ type: \"TRIGGER_POINTERMOVE\", target: event.currentTarget })\n        },\n        onPointerLeave(event) {\n          if (event.pointerType !== \"mouse\") return\n\n          const disabled = dom.isTargetDisabled(event.currentTarget)\n          if (disabled || !isSubmenu) return\n\n          const point = getEventPoint(event)\n          send({ type: \"TRIGGER_POINTERLEAVE\", target: event.currentTarget, point })\n        },\n        onClick(event) {\n          if (dom.isTriggerItem(event.currentTarget)) {\n            send({ type: \"TRIGGER_CLICK\", target: event.currentTarget })\n          }\n        },\n        onPointerDown(event) {\n          const disabled = dom.isTargetDisabled(event.currentTarget)\n          if (!isLeftClick(event) || disabled || isContextMenuEvent(event)) return\n          event.preventDefault()\n          if (!dom.isTriggerItem(event.currentTarget)) {\n            send({ type: \"TRIGGER_CLICK\", target: event.currentTarget })\n          }\n        },\n        onBlur() {\n          send(\"TRIGGER_BLUR\")\n        },\n        onFocus() {\n          send(\"TRIGGER_FOCUS\")\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          const keyMap: EventKeyMap = {\n            ArrowDown() {\n              send(\"ARROW_DOWN\")\n            },\n            ArrowUp() {\n              send(\"ARROW_UP\")\n            },\n            Enter() {\n              send({ type: \"ARROW_DOWN\", src: \"enter\" })\n            },\n            Space() {\n              send({ type: \"ARROW_DOWN\", src: \"space\" })\n            },\n          }\n\n          const key = getEventKey(event, state.context)\n          const exec = keyMap[key]\n\n          if (exec) {\n            event.preventDefault()\n            exec(event)\n          }\n        },\n      })\n    },\n\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        dir: state.context.dir,\n        \"data-state\": open ? \"open\" : \"closed\",\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        id: dom.getPositionerId(state.context),\n        style: popperStyles.floating,\n      })\n    },\n\n    getArrowProps() {\n      return normalize.element({\n        id: dom.getArrowId(state.context),\n        ...parts.arrow.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrow,\n      })\n    },\n\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrowTip,\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        id: dom.getContentId(state.context),\n        \"aria-label\": state.context[\"aria-label\"],\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        role: composite ? \"menu\" : \"dialog\",\n        tabIndex: 0,\n        dir: state.context.dir,\n        \"aria-activedescendant\": state.context.highlightedValue ?? undefined,\n        \"aria-labelledby\": dom.getTriggerId(state.context),\n        \"data-placement\": state.context.currentPlacement,\n        onPointerEnter(event) {\n          if (event.pointerType !== \"mouse\") return\n          send(\"MENU_POINTERENTER\")\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!isSelfTarget(event)) return\n\n          const target = getEventTarget<Element>(event)\n\n          const sameMenu = target?.closest(\"[role=menu]\") === event.currentTarget || target === event.currentTarget\n          if (!sameMenu) return\n\n          if (event.key === \"Tab\") {\n            const valid = isValidTabEvent(event)\n            if (!valid) {\n              event.preventDefault()\n              return\n            }\n          }\n\n          const item = dom.getHighlightedItemEl(state.context)\n          const keyMap: EventKeyMap = {\n            ArrowDown() {\n              send(\"ARROW_DOWN\")\n            },\n            ArrowUp() {\n              send(\"ARROW_UP\")\n            },\n            ArrowLeft() {\n              send(\"ARROW_LEFT\")\n            },\n            ArrowRight() {\n              send(\"ARROW_RIGHT\")\n            },\n            Enter() {\n              send(\"ENTER\")\n              clickIfLink(item)\n            },\n            Space(event) {\n              if (isTypingAhead) {\n                send({ type: \"TYPEAHEAD\", key: event.key })\n              } else {\n                keyMap.Enter?.(event)\n              }\n            },\n            Home() {\n              send(\"HOME\")\n            },\n            End() {\n              send(\"END\")\n            },\n          }\n\n          const key = getEventKey(event, { dir: state.context.dir })\n          const exec = keyMap[key]\n\n          if (exec) {\n            exec(event)\n            event.stopPropagation()\n            event.preventDefault()\n            return\n          }\n\n          // typeahead\n          if (!state.context.typeahead) return\n          if (!isPrintableKey(event)) return\n          if (isModifierKey(event)) return\n          if (isEditableElement(target)) return\n\n          send({ type: \"TYPEAHEAD\", key: event.key })\n          event.preventDefault()\n        },\n      })\n    },\n\n    getSeparatorProps() {\n      return normalize.element({\n        ...parts.separator.attrs,\n        role: \"separator\",\n        dir: state.context.dir,\n        \"aria-orientation\": \"horizontal\",\n      })\n    },\n\n    getItemState,\n\n    getItemProps,\n\n    getOptionItemState,\n\n    getOptionItemProps(props) {\n      const { type, disabled, onCheckedChange, closeOnSelect } = props\n\n      const option = getOptionItemProps(props)\n      const itemState = getOptionItemState(props)\n\n      return {\n        ...getItemProps(option),\n        ...normalize.element({\n          \"data-type\": type,\n          ...parts.item.attrs,\n          dir: state.context.dir,\n          \"data-value\": option.value,\n          role: `menuitem${type}`,\n          \"aria-checked\": !!itemState.checked,\n          \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n          onPointerUp(event) {\n            if (!isLeftClick(event) || disabled) return\n            if (isDownloadingEvent(event)) return\n            if (isOpeningInNewTab(event)) return\n            const target = event.currentTarget\n            send({ type: \"ITEM_CLICK\", src: \"pointerup\", target, option, closeOnSelect })\n            onCheckedChange?.(!itemState.checked)\n          },\n        }),\n      }\n    },\n\n    getItemIndicatorProps(props) {\n      const itemState = getOptionItemState(props)\n      return normalize.element({\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n        hidden: !itemState.checked,\n      })\n    },\n\n    getItemTextProps(props) {\n      const itemState = getOptionItemState(props)\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n      })\n    },\n\n    getItemGroupLabelProps(props) {\n      return normalize.element({\n        id: dom.getGroupLabelId(state.context, props.htmlFor),\n        dir: state.context.dir,\n        ...parts.itemGroupLabel.attrs,\n      })\n    },\n\n    getItemGroupProps(props) {\n      return normalize.element({\n        id: dom.getGroupId(state.context, props.id),\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        \"aria-labelledby\": dom.getGroupLabelId(state.context, props.id),\n        role: \"group\",\n      })\n    },\n  }\n}\n", "import { isHTMLElement, nextById, prevById, queryAll, getByTypeahead, createScope } from \"@zag-js/dom-query\"\nimport { first, last } from \"@zag-js/utils\"\nimport type { MachineContext as Ctx } from \"./menu.types\"\n\nexport const dom = createScope({\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `menu:${ctx.id}:trigger`,\n  getContextTriggerId: (ctx: Ctx) => ctx.ids?.contextTrigger ?? `menu:${ctx.id}:ctx-trigger`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `menu:${ctx.id}:content`,\n  getArrowId: (ctx: Ctx) => ctx.ids?.arrow ?? `menu:${ctx.id}:arrow`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `menu:${ctx.id}:popper`,\n  getGroupId: (ctx: Ctx, id: string) => ctx.ids?.group?.(id) ?? `menu:${ctx.id}:group:${id}`,\n  getGroupLabelId: (ctx: Ctx, id: string) => ctx.ids?.label?.(id) ?? `menu:${ctx.id}:label:${id}`,\n\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getHighlightedItemEl: (ctx: Ctx) => (ctx.highlightedValue ? dom.getById(ctx, ctx.highlightedValue) : null),\n  getArrowEl: (ctx: Ctx) => dom.getById(ctx, dom.getArrowId(ctx)),\n\n  getElements: (ctx: Ctx) => {\n    const ownerId = CSS.escape(dom.getContentId(ctx))\n    const selector = `[role^=\"menuitem\"][data-ownedby=${ownerId}]:not([data-disabled])`\n    return queryAll(dom.getContentEl(ctx), selector)\n  },\n  getFirstEl: (ctx: Ctx) => first(dom.getElements(ctx)),\n  getLastEl: (ctx: Ctx) => last(dom.getElements(ctx)),\n  getNextEl: (ctx: Ctx, loop?: boolean) => nextById(dom.getElements(ctx), ctx.highlightedValue!, loop ?? ctx.loopFocus),\n  getPrevEl: (ctx: Ctx, loop?: boolean) => prevById(dom.getElements(ctx), ctx.highlightedValue!, loop ?? ctx.loopFocus),\n\n  getElemByKey: (ctx: Ctx, key: string) =>\n    getByTypeahead(dom.getElements(ctx), { state: ctx.typeaheadState, key, activeId: ctx.highlightedValue }),\n\n  isTargetDisabled: (v: EventTarget | null) => {\n    return isHTMLElement(v) && (v.dataset.disabled === \"\" || v.hasAttribute(\"disabled\"))\n  },\n  isTriggerItem: (el: HTMLElement | null) => {\n    return !!el?.getAttribute(\"role\")?.startsWith(\"menuitem\") && !!el?.hasAttribute(\"aria-controls\")\n  },\n\n  getOptionFromItemEl(el: HTMLElement) {\n    return {\n      id: el.id,\n      name: el.dataset.name,\n      value: el.dataset.value,\n      valueText: el.dataset.valueText,\n      type: el.dataset.type,\n    }\n  },\n})\n", "import { createMachine, guards, ref } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { addDomEvent } from \"@zag-js/dom-event\"\nimport {\n  contains,\n  getByTypeahead,\n  getInitialFocus,\n  isEditableElement,\n  observeAttributes,\n  raf,\n  scrollIntoView,\n} from \"@zag-js/dom-query\"\nimport { getPlacement, getPlacementSide } from \"@zag-js/popper\"\nimport { getElementPolygon, isPointInPolygon } from \"@zag-js/rect-utils\"\nimport { cast, compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./menu.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./menu.types\"\n\nconst { not, and, or } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"menu\",\n      initial: ctx.open ? \"open\" : \"idle\",\n      context: {\n        highlightedValue: null,\n        loopFocus: false,\n        anchorPoint: null,\n        closeOnSelect: true,\n        typeahead: true,\n        composite: true,\n        ...ctx,\n        positioning: {\n          placement: \"bottom-start\",\n          gutter: 8,\n          ...ctx.positioning,\n        },\n        intentPolygon: null,\n        parent: null,\n        lastHighlightedValue: null,\n        children: cast(ref({})),\n        suspendPointer: false,\n        restoreFocus: true,\n        typeaheadState: getByTypeahead.defaultOptions,\n      },\n\n      computed: {\n        isSubmenu: (ctx) => ctx.parent !== null,\n        isRtl: (ctx) => ctx.dir === \"rtl\",\n        isTypingAhead: (ctx) => ctx.typeaheadState.keysSoFar !== \"\",\n      },\n\n      watch: {\n        isSubmenu: \"setSubmenuPlacement\",\n        anchorPoint: \"reposition\",\n        open: \"toggleVisibility\",\n      },\n\n      on: {\n        \"PARENT.SET\": {\n          actions: \"setParentMenu\",\n        },\n        \"CHILD.SET\": {\n          actions: \"setChildMenu\",\n        },\n        OPEN: [\n          {\n            guard: \"isOpenControlled\",\n            actions: \"invokeOnOpen\",\n          },\n          {\n            target: \"open\",\n            actions: \"invokeOnOpen\",\n          },\n        ],\n        OPEN_AUTOFOCUS: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"],\n          },\n          {\n            internal: true,\n            target: \"open\",\n            actions: [\"highlightFirstItem\", \"invokeOnOpen\"],\n          },\n        ],\n        CLOSE: [\n          {\n            guard: \"isOpenControlled\",\n            actions: \"invokeOnClose\",\n          },\n          {\n            target: \"closed\",\n            actions: \"invokeOnClose\",\n          },\n        ],\n        \"HIGHLIGHTED.RESTORE\": {\n          actions: \"restoreHighlightedItem\",\n        },\n        \"HIGHLIGHTED.SET\": {\n          actions: \"setHighlightedItem\",\n        },\n      },\n\n      states: {\n        idle: {\n          tags: [\"closed\"],\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            \"CONTROLLED.CLOSE\": \"closed\",\n            CONTEXT_MENU_START: {\n              target: \"opening:contextmenu\",\n              actions: \"setAnchorPoint\",\n            },\n            CONTEXT_MENU: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n              },\n            ],\n            TRIGGER_CLICK: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: \"invokeOnOpen\",\n              },\n            ],\n            TRIGGER_FOCUS: {\n              guard: not(\"isSubmenu\"),\n              target: \"closed\",\n            },\n            TRIGGER_POINTERMOVE: {\n              guard: \"isSubmenu\",\n              target: \"opening\",\n            },\n          },\n        },\n\n        \"opening:contextmenu\": {\n          tags: [\"closed\"],\n          after: {\n            LONG_PRESS_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: \"invokeOnOpen\",\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            \"CONTROLLED.CLOSE\": \"closed\",\n            CONTEXT_MENU_CANCEL: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"closed\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n          },\n        },\n\n        opening: {\n          tags: [\"closed\"],\n          after: {\n            SUBMENU_OPEN_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: \"invokeOnOpen\",\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            \"CONTROLLED.CLOSE\": \"closed\",\n            BLUR: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"closed\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n            TRIGGER_POINTERLEAVE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"closed\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n          },\n        },\n\n        closing: {\n          tags: [\"open\"],\n          activities: [\"trackPointerMove\", \"trackInteractOutside\"],\n          after: {\n            SUBMENU_CLOSE_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"focusParentMenu\", \"restoreParentHiglightedItem\", \"invokeOnClose\"],\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            \"CONTROLLED.CLOSE\": {\n              target: \"closed\",\n              actions: [\"focusParentMenu\", \"restoreParentHiglightedItem\"],\n            },\n            // don't invoke on open here since the menu is still open (we're only keeping it open)\n            MENU_POINTERENTER: {\n              target: \"open\",\n              actions: \"clearIntentPolygon\",\n            },\n            POINTER_MOVED_AWAY_FROM_SUBMENU: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"closed\",\n                actions: [\"focusParentMenu\", \"restoreParentHiglightedItem\"],\n              },\n            ],\n          },\n        },\n\n        closed: {\n          tags: [\"closed\"],\n          entry: [\"clearHighlightedItem\", \"focusTrigger\", \"clearAnchorPoint\", \"resumePointer\"],\n          on: {\n            \"CONTROLLED.OPEN\": [\n              {\n                guard: or(\"isOpenAutoFocusEvent\", \"isArrowDownEvent\"),\n                target: \"open\",\n                actions: \"highlightFirstItem\",\n              },\n              {\n                guard: \"isArrowUpEvent\",\n                target: \"open\",\n                actions: \"highlightLastItem\",\n              },\n              {\n                target: \"open\",\n              },\n            ],\n            CONTEXT_MENU_START: {\n              target: \"opening:contextmenu\",\n              actions: \"setAnchorPoint\",\n            },\n            CONTEXT_MENU: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n              },\n            ],\n            TRIGGER_CLICK: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: \"invokeOnOpen\",\n              },\n            ],\n            TRIGGER_POINTERMOVE: {\n              guard: \"isTriggerItem\",\n              target: \"opening\",\n            },\n            TRIGGER_BLUR: \"idle\",\n            ARROW_DOWN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: [\"highlightFirstItem\", \"invokeOnOpen\"],\n              },\n            ],\n            ARROW_UP: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: [\"highlightLastItem\", \"invokeOnOpen\"],\n              },\n            ],\n          },\n        },\n\n        open: {\n          tags: [\"open\"],\n          activities: [\"trackInteractOutside\", \"trackPositioning\", \"scrollToHighlightedItem\"],\n          entry: [\"focusMenu\", \"resumePointer\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                target: \"closed\",\n                guard: \"isArrowLeftEvent\",\n                actions: [\"focusParentMenu\"],\n              },\n              {\n                target: \"closed\",\n              },\n            ],\n            TRIGGER_CLICK: [\n              {\n                guard: and(not(\"isTriggerItem\"), \"isOpenControlled\"),\n                actions: \"invokeOnClose\",\n              },\n              {\n                guard: not(\"isTriggerItem\"),\n                target: \"closed\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n            ARROW_UP: {\n              actions: [\"highlightPrevItem\", \"focusMenu\"],\n            },\n            ARROW_DOWN: {\n              actions: [\"highlightNextItem\", \"focusMenu\"],\n            },\n            ARROW_LEFT: [\n              {\n                guard: and(\"isSubmenu\", \"isOpenControlled\"),\n                actions: \"invokeOnClose\",\n              },\n              {\n                guard: \"isSubmenu\",\n                target: \"closed\",\n                actions: [\"focusParentMenu\", \"invokeOnClose\"],\n              },\n            ],\n            HOME: {\n              actions: [\"highlightFirstItem\", \"focusMenu\"],\n            },\n            END: {\n              actions: [\"highlightLastItem\", \"focusMenu\"],\n            },\n            ARROW_RIGHT: {\n              guard: \"isTriggerItemHighlighted\",\n              actions: \"openSubmenu\",\n            },\n            ENTER: [\n              {\n                guard: \"isTriggerItemHighlighted\",\n                actions: \"openSubmenu\",\n              },\n              // == grouped ==\n              {\n                guard: and(\"closeOnSelect\", \"isOpenControlled\"),\n                actions: [\"clickHighlightedItem\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"closed\",\n                actions: \"clickHighlightedItem\",\n              },\n              //\n              {\n                actions: \"clickHighlightedItem\",\n              },\n            ],\n            ITEM_POINTERMOVE: [\n              {\n                guard: not(\"suspendPointer\"),\n                actions: [\"setHighlightedItem\", \"focusMenu\"],\n              },\n              {\n                actions: \"setLastHighlightedItem\",\n              },\n            ],\n            ITEM_POINTERLEAVE: {\n              guard: and(not(\"suspendPointer\"), not(\"isTriggerItem\")),\n              actions: \"clearHighlightedItem\",\n            },\n            ITEM_CLICK: [\n              // == grouped ==\n              {\n                guard: and(\n                  not(\"isTriggerItemHighlighted\"),\n                  not(\"isHighlightedItemEditable\"),\n                  \"closeOnSelect\",\n                  \"isOpenControlled\",\n                ),\n                actions: [\"invokeOnSelect\", \"setOptionState\", \"closeRootMenu\", \"invokeOnClose\"],\n              },\n              {\n                guard: and(not(\"isTriggerItemHighlighted\"), not(\"isHighlightedItemEditable\"), \"closeOnSelect\"),\n                target: \"closed\",\n                actions: [\"invokeOnSelect\", \"setOptionState\", \"closeRootMenu\", \"invokeOnClose\"],\n              },\n              //\n              {\n                guard: and(not(\"isTriggerItemHighlighted\"), not(\"isHighlightedItemEditable\")),\n                actions: [\"invokeOnSelect\", \"setOptionState\"],\n              },\n              { actions: \"setHighlightedItem\" },\n            ],\n            TRIGGER_POINTERLEAVE: {\n              target: \"closing\",\n              actions: \"setIntentPolygon\",\n            },\n            ITEM_POINTERDOWN: {\n              actions: \"setHighlightedItem\",\n            },\n            TYPEAHEAD: {\n              actions: \"highlightMatchedItem\",\n            },\n            FOCUS_MENU: {\n              actions: \"focusMenu\",\n            },\n            \"POSITIONING.SET\": {\n              actions: \"reposition\",\n            },\n          },\n        },\n      },\n    },\n    {\n      delays: {\n        LONG_PRESS_DELAY: 700,\n        SUBMENU_OPEN_DELAY: 100,\n        SUBMENU_CLOSE_DELAY: 100,\n      },\n\n      guards: {\n        closeOnSelect: (ctx, evt) => !!(evt?.closeOnSelect ?? ctx.closeOnSelect),\n        // whether the trigger is also a menu item\n        isTriggerItem: (_ctx, evt) => dom.isTriggerItem(evt.target),\n        // whether the trigger item is the active item\n        isTriggerItemHighlighted: (ctx, evt) => {\n          const target = (evt.target ?? dom.getHighlightedItemEl(ctx)) as HTMLElement | null\n          return !!target?.hasAttribute(\"aria-controls\")\n        },\n        isSubmenu: (ctx) => ctx.isSubmenu,\n        suspendPointer: (ctx) => ctx.suspendPointer,\n        isHighlightedItemEditable: (ctx) => isEditableElement(dom.getHighlightedItemEl(ctx)),\n        isWithinPolygon: (ctx, evt) => {\n          if (!ctx.intentPolygon) return false\n          return isPointInPolygon(ctx.intentPolygon, evt.point)\n        },\n        // guard assertions (for controlled mode)\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n        isArrowLeftEvent: (_ctx, evt) => evt.previousEvent?.type === \"ARROW_LEFT\",\n        isArrowUpEvent: (_ctx, evt) => evt.previousEvent?.type === \"ARROW_UP\",\n        isArrowDownEvent: (_ctx, evt) => evt.previousEvent?.type === \"ARROW_DOWN\",\n        isOpenAutoFocusEvent: (_ctx, evt) => evt.previousEvent?.type === \"OPEN_AUTOFOCUS\",\n      },\n\n      activities: {\n        trackPositioning(ctx) {\n          if (ctx.anchorPoint) return\n          ctx.currentPlacement = ctx.positioning.placement\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        trackInteractOutside(ctx, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(getContentEl, {\n            defer: true,\n            exclude: [dom.getTriggerEl(ctx)],\n            onInteractOutside: ctx.onInteractOutside,\n            onFocusOutside: ctx.onFocusOutside,\n            onEscapeKeyDown(event) {\n              ctx.onEscapeKeyDown?.(event)\n              if (ctx.isSubmenu) event.preventDefault()\n              closeRootMenu(ctx)\n            },\n            onPointerDownOutside(event) {\n              ctx.restoreFocus = !event.detail.focusable\n              ctx.onPointerDownOutside?.(event)\n            },\n            onDismiss() {\n              send({ type: \"CLOSE\", src: \"interact-outside\" })\n            },\n          })\n        },\n        trackPointerMove(ctx, _evt, { guards, send }) {\n          const { isWithinPolygon } = guards\n\n          // NOTE: we're mutating parent context here. sending events to parent doesn't work\n          ctx.parent!.state.context.suspendPointer = true\n\n          const doc = dom.getDoc(ctx)\n\n          return addDomEvent(doc, \"pointermove\", (e) => {\n            const point = { x: e.clientX, y: e.clientY }\n\n            const isMovingToSubmenu = isWithinPolygon(ctx, { point })\n\n            if (!isMovingToSubmenu) {\n              send(\"POINTER_MOVED_AWAY_FROM_SUBMENU\")\n              // NOTE: we're mutating parent context here. sending events to parent doesn't work\n              ctx.parent!.state.context.suspendPointer = false\n            }\n          })\n        },\n        scrollToHighlightedItem(ctx, _evt, { getState }) {\n          const exec = () => {\n            const state = getState()\n\n            if (state.event.type.startsWith(\"ITEM_POINTER\")) return\n\n            const itemEl = dom.getHighlightedItemEl(ctx)\n            const contentEl = dom.getContentEl(ctx)\n\n            scrollIntoView(itemEl, { rootEl: contentEl, block: \"nearest\" })\n          }\n          raf(() => exec())\n\n          const contentEl = () => dom.getContentEl(ctx)\n          return observeAttributes(contentEl, {\n            defer: true,\n            attributes: [\"aria-activedescendant\"],\n            callback: exec,\n          })\n        },\n      },\n\n      actions: {\n        setAnchorPoint(ctx, evt) {\n          ctx.anchorPoint = evt.point\n        },\n        clearAnchorPoint(ctx) {\n          ctx.anchorPoint = null\n        },\n        setSubmenuPlacement(ctx) {\n          if (!ctx.isSubmenu) return\n          ctx.positioning.placement = ctx.isRtl ? \"left-start\" : \"right-start\"\n          ctx.positioning.gutter = 0\n        },\n        reposition(ctx, evt) {\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          const getAnchorRect = ctx.anchorPoint ? () => ({ width: 0, height: 0, ...ctx.anchorPoint }) : undefined\n          getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            getAnchorRect,\n            ...(evt.options ?? {}),\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        setOptionState(_ctx, evt) {\n          if (!evt.option) return\n          const { checked, onCheckedChange, type } = evt.option\n\n          if (type === \"radio\") {\n            onCheckedChange?.(true)\n          } else if (type === \"checkbox\") {\n            onCheckedChange?.(!checked)\n          }\n        },\n        clickHighlightedItem(ctx, _evt, { send }) {\n          const itemEl = dom.getHighlightedItemEl(ctx)\n          if (!itemEl || itemEl.dataset.disabled) return\n          const option = dom.getOptionFromItemEl(itemEl)\n          send({\n            type: \"ITEM_CLICK\",\n            src: \"enter\",\n            target: itemEl,\n            id: option.id,\n            option,\n            closeOnSelect: ctx.closeOnSelect,\n          })\n        },\n        setIntentPolygon(ctx, evt) {\n          const menu = dom.getContentEl(ctx)\n          const placement = ctx.currentPlacement\n\n          if (!menu || !placement) return\n\n          const rect = menu.getBoundingClientRect()\n          const polygon = getElementPolygon(rect, placement)\n          if (!polygon) return\n\n          const rightSide = getPlacementSide(placement) === \"right\"\n          const bleed = rightSide ? -5 : +5\n\n          ctx.intentPolygon = [{ ...evt.point, x: evt.point.x + bleed }, ...polygon]\n        },\n        clearIntentPolygon(ctx) {\n          ctx.intentPolygon = null\n        },\n        resumePointer(ctx) {\n          if (!ctx.parent) return\n          ctx.parent.state.context.suspendPointer = false\n        },\n        setHighlightedItem(ctx, evt) {\n          set.highlighted(ctx, evt.id)\n        },\n        clearHighlightedItem(ctx) {\n          set.highlighted(ctx, null)\n        },\n        focusMenu(ctx) {\n          raf(() => {\n            const contentEl = dom.getContentEl(ctx)\n            const initialFocusEl = getInitialFocus({\n              root: contentEl,\n              enabled: !contains(contentEl, dom.getActiveElement(ctx)),\n              filter(node) {\n                return !node.role?.startsWith(\"menuitem\")\n              },\n            })\n            initialFocusEl?.focus({ preventScroll: true })\n          })\n        },\n        highlightFirstItem(ctx) {\n          const first = dom.getFirstEl(ctx)\n          if (!first) return\n          set.highlighted(ctx, first.id)\n        },\n        highlightLastItem(ctx) {\n          const last = dom.getLastEl(ctx)\n          if (!last) return\n          set.highlighted(ctx, last.id)\n        },\n        highlightNextItem(ctx, evt) {\n          const next = dom.getNextEl(ctx, evt.loop)\n          set.highlighted(ctx, next?.id ?? null)\n        },\n        highlightPrevItem(ctx, evt) {\n          const prev = dom.getPrevEl(ctx, evt.loop)\n          set.highlighted(ctx, prev?.id ?? null)\n        },\n        invokeOnSelect(ctx) {\n          if (!ctx.highlightedValue) return\n          ctx.onSelect?.({ value: ctx.highlightedValue })\n        },\n        focusTrigger(ctx) {\n          if (ctx.isSubmenu || ctx.anchorPoint || !ctx.restoreFocus) return\n          raf(() => dom.getTriggerEl(ctx)?.focus({ preventScroll: true }))\n        },\n        highlightMatchedItem(ctx, evt) {\n          const node = dom.getElemByKey(ctx, evt.key)\n          if (!node) return\n          set.highlighted(ctx, node.id)\n        },\n        setParentMenu(ctx, evt) {\n          ctx.parent = ref(evt.value)\n        },\n        setChildMenu(ctx, evt) {\n          ctx.children[evt.id] = ref(evt.value)\n        },\n        closeRootMenu(ctx) {\n          closeRootMenu(ctx)\n        },\n        openSubmenu(ctx) {\n          const item = dom.getHighlightedItemEl(ctx)\n          const id = item?.getAttribute(\"data-uid\")\n          const child = id ? ctx.children[id] : null\n          child?.send(\"OPEN_AUTOFOCUS\")\n        },\n        focusParentMenu(ctx) {\n          ctx.parent?.send(\"FOCUS_MENU\")\n        },\n        setLastHighlightedItem(ctx, evt) {\n          ctx.lastHighlightedValue = evt.id\n        },\n        restoreHighlightedItem(ctx) {\n          if (!ctx.lastHighlightedValue) return\n          set.highlighted(ctx, ctx.lastHighlightedValue)\n          ctx.lastHighlightedValue = null\n        },\n        restoreParentHiglightedItem(ctx) {\n          ctx.parent?.send(\"HIGHLIGHTED.RESTORE\")\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n      },\n    },\n  )\n}\n\nfunction closeRootMenu(ctx: MachineContext) {\n  let parent = ctx.parent\n  while (parent && parent.state.context.isSubmenu) {\n    parent = parent.state.context.parent\n  }\n  parent?.send(\"CLOSE\")\n}\n\nconst set = {\n  highlighted(ctx: MachineContext, value: string | null) {\n    if (isEqual(ctx.highlightedValue, value)) return\n    ctx.highlightedValue = value\n    ctx.onHighlightChange?.({ highlightedValue: value })\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ItemGroupLabelProps, ItemGroupProps, ItemProps, OptionItemProps, UserDefinedContext } from \"./menu.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"anchorPoint\",\n  \"aria-label\",\n  \"closeOnSelect\",\n  \"dir\",\n  \"getRootNode\",\n  \"highlightedValue\",\n  \"id\",\n  \"ids\",\n  \"loopFocus\",\n  \"onFocusOutside\",\n  \"onInteractOutside\",\n  \"onOpenChange\",\n  \"onPointerDownOutside\",\n  \"onEscapeKeyDown\",\n  \"onSelect\",\n  \"onHighlightChange\",\n  \"open\",\n  \"open.controlled\",\n  \"positioning\",\n  \"typeahead\",\n  \"composite\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"closeOnSelect\", \"disabled\", \"value\", \"valueText\"])\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n\nexport const itemGroupLabelProps = createProps<ItemGroupLabelProps>()([\"htmlFor\"])\nexport const splitItemGroupLabelProps = createSplitProps<ItemGroupLabelProps>(itemGroupLabelProps)\n\nexport const itemGroupProps = createProps<ItemGroupProps>()([\"id\"])\nexport const splitItemGroupProps = createSplitProps<ItemGroupProps>(itemGroupProps)\n\nexport const optionItemProps = createProps<OptionItemProps>()([\n  \"disabled\",\n  \"valueText\",\n  \"closeOnSelect\",\n  \"type\",\n  \"value\",\n  \"checked\",\n  \"onCheckedChange\",\n])\n\nexport const splitOptionItemProps = createSplitProps<OptionItemProps>(optionItemProps)\n", "export type Num<T extends string> = Record<T, number>\n\nexport function wrap(num: number, max: number): number {\n  return ((num % max) + max) % max\n}\n\nexport function round(num: number, t?: number) {\n  const p = 10 ** (t ?? 10)\n  num = Math.round(num * p) / p\n  return t ? num.toFixed(t) : num.toString()\n}\n\nexport function roundToDevicePixel(num: number) {\n  if (typeof window.devicePixelRatio !== \"number\") return Math.round(num)\n  const dp = window.devicePixelRatio\n  return Math.floor(num * dp + 0.5) / dp\n}\n\nexport const valueToPercent = (v: number, r: Num<\"step\" | \"min\" | \"max\">) => ((nan(v) - r.min) * 100) / (r.max - r.min)\n\nexport const percentToValue = (v: number, r: Num<\"min\" | \"max\">) => r.min + (r.max - r.min) * nan(v)\n\nexport function clamp(v: number, o: Num<\"min\" | \"max\">) {\n  return Math.min(Math.max(nan(v), o.min), o.max)\n}\n\nexport function countDecimals(value: number) {\n  if (!Number.isFinite(value)) return 0\n  let e = 1,\n    p = 0\n  while (Math.round(value * e) / e !== value) {\n    e *= 10\n    p += 1\n  }\n  return p\n}\n\nexport const increment = (v: number, s: number) => decimalOperation(nan(v), \"+\", s)\n\nexport const decrement = (v: number, s: number) => decimalOperation(nan(v), \"-\", s)\n\nexport function snapToStep(num: number, step: number) {\n  const p = countDecimals(step)\n  const v = Math.round(nan(num) / step) * step\n  return round(v, p)\n}\n\nexport function nan(v: number) {\n  return Number.isNaN(v) ? 0 : v\n}\n\nexport type FormatDecimalOptions = {\n  /**\n   * The minimum number of fraction digits to use. Possible values are from 0 to 20\n   */\n  minFractionDigits?: number\n  /**\n   * The maximum number of fraction digits to use. Possible values are from 0 to 20;\n   */\n  maxFractionDigits?: number\n}\n\nexport function formatDecimal(v: number, o: Omit<FormatDecimalOptions, \"value\">) {\n  return new Intl.NumberFormat(\"en-US\", {\n    useGrouping: false,\n    style: \"decimal\",\n    minimumFractionDigits: o.minFractionDigits,\n    maximumFractionDigits: o.maxFractionDigits,\n  }).format(nan(v))\n}\n\nexport function isAtMax(val: number, o: Num<\"max\">) {\n  return nan(val) >= o.max\n}\n\nexport function isAtMin(val: number, o: Num<\"min\">) {\n  return nan(val) <= o.min\n}\n\nexport function isWithinRange(val: number, o: Num<\"min\" | \"max\">) {\n  return nan(val) >= o.min && nan(val) <= o.max\n}\n\nfunction decimalOperation(a: number, op: \"-\" | \"+\", b: number): number {\n  let result = op === \"+\" ? a + b : a - b\n\n  // Check if we have decimals\n  if (a % 1 !== 0 || b % 1 !== 0) {\n    const multiplier = 10 ** Math.max(countDecimals(a), countDecimals(b))\n\n    // Transform the decimals to integers based on the precision\n    a = Math.round(a * multiplier)\n    b = Math.round(b * multiplier)\n\n    // Perform the operation on integers values to make sure we don't get a fancy decimal value\n    result = op === \"+\" ? a + b : a - b\n\n    // Transform the integer result back to decimal\n    result /= multiplier\n  }\n\n  return result\n}\n", "export const nf = new Intl.NumberFormat(\"en-US\", { style: \"decimal\", maximumFractionDigits: 20 })\n\nexport function formatter(n: number) {\n  return parseFloat(nf.format(n))\n}\n", "import { formatter } from \"./number-format\"\n\ntype Num<T extends string> = Record<T, number>\n\nexport const transform = (a: [number, number], b: [number, number]) => {\n  const i = { min: a[0], max: a[1] }\n  const o = { min: b[0], max: b[1] }\n  return (v: number) => {\n    if (i.min === i.max || o.min === o.max) return o.min\n    const ratio = (o.max - o.min) / (i.max - i.min)\n    return o.min + ratio * (v - i.min)\n  }\n}\n\nexport function toRanges(o: Num<\"min\" | \"max\"> & { value: number[]; spacing: number }) {\n  const spacing = o.spacing ?? 0\n  return o.value.map((v, i) => {\n    const min = i === 0 ? o.min : o.value[i - 1] + spacing\n    const max = i === o.value.length - 1 ? o.max : o.value[i + 1] - spacing\n    return { min, max, value: v }\n  })\n}\n\nexport function toRangeArray(o: Num<\"min\" | \"max\" | \"step\">): number[] {\n  let i = o.min\n  const range: number[] = []\n  while (i <= o.max) {\n    range.push(i)\n    i = formatter(i + o.step)\n  }\n  return range\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nlet formatterCache = new Map<string, Intl.NumberFormat>();\n\nlet supportsSignDisplay = false;\ntry {\n  // @ts-ignore\n  supportsSignDisplay = (new Intl.NumberFormat('de-DE', {signDisplay: 'exceptZero'})).resolvedOptions().signDisplay === 'exceptZero';\n  // eslint-disable-next-line no-empty\n} catch (e) {}\n\nlet supportsUnit = false;\ntry {\n  // @ts-ignore\n  supportsUnit = (new Intl.NumberFormat('de-DE', {style: 'unit', unit: 'degree'})).resolvedOptions().style === 'unit';\n  // eslint-disable-next-line no-empty\n} catch (e) {}\n\n// Polyfill for units since Safari doesn't support them yet. See https://bugs.webkit.org/show_bug.cgi?id=215438.\n// Currently only polyfilling the unit degree in narrow format for ColorSlider in our supported locales.\n// Values were determined by switching to each locale manually in Chrome.\nconst UNITS = {\n  degree: {\n    narrow: {\n      default: '',\n      'ja-JP': ' ',\n      'zh-TW': '',\n      'sl-SI': ' '\n      // Arabic?? But Safari already doesn't use Arabic digits so might be ok...\n      // https://bugs.webkit.org/show_bug.cgi?id=218139\n    }\n  }\n};\n\nexport interface NumberFormatOptions extends Intl.NumberFormatOptions {\n  /** Overrides default numbering system for the current locale. */\n  numberingSystem?: string\n}\n\ninterface NumberRangeFormatPart extends Intl.NumberFormatPart {\n  source: 'startRange' | 'endRange' | 'shared'\n}\n\n/**\n * A wrapper around Intl.NumberFormat providing additional options, polyfills, and caching for performance.\n */\nexport class NumberFormatter implements Intl.NumberFormat {\n  private numberFormatter: Intl.NumberFormat;\n  private options: NumberFormatOptions;\n\n  constructor(locale: string, options: NumberFormatOptions = {}) {\n    this.numberFormatter = getCachedNumberFormatter(locale, options);\n    this.options = options;\n  }\n\n  /** Formats a number value as a string, according to the locale and options provided to the constructor. */\n  format(value: number): string {\n    let res = '';\n    if (!supportsSignDisplay && this.options.signDisplay != null) {\n      res = numberFormatSignDisplayPolyfill(this.numberFormatter, this.options.signDisplay, value);\n    } else {\n      res = this.numberFormatter.format(value);\n    }\n\n    if (this.options.style === 'unit' && !supportsUnit) {\n      let {unit, unitDisplay = 'short', locale} = this.resolvedOptions();\n      if (!unit) {\n        return res;\n      }\n      let values = UNITS[unit]?.[unitDisplay];\n      res += values[locale] || values.default;\n    }\n\n    return res;\n  }\n\n  /** Formats a number to an array of parts such as separators, digits, punctuation, and more. */\n  formatToParts(value: number): Intl.NumberFormatPart[] {\n    // TODO: implement signDisplay for formatToParts\n    // @ts-ignore\n    return this.numberFormatter.formatToParts(value);\n  }\n\n  /** Formats a number range as a string. */\n  formatRange(start: number, end: number): string {\n    // @ts-ignore\n    if (typeof this.numberFormatter.formatRange === 'function') {\n      // @ts-ignore\n      return this.numberFormatter.formatRange(start, end);\n    }\n\n    if (end < start) {\n      throw new RangeError('End date must be >= start date');\n    }\n\n    // Very basic fallback for old browsers.\n    return `${this.format(start)}  ${this.format(end)}`;\n  }\n\n  /** Formats a number range as an array of parts. */\n  formatRangeToParts(start: number, end: number): NumberRangeFormatPart[] {\n    // @ts-ignore\n    if (typeof this.numberFormatter.formatRangeToParts === 'function') {\n      // @ts-ignore\n      return this.numberFormatter.formatRangeToParts(start, end);\n    }\n\n    if (end < start) {\n      throw new RangeError('End date must be >= start date');\n    }\n\n    let startParts = this.numberFormatter.formatToParts(start);\n    let endParts = this.numberFormatter.formatToParts(end);\n    return [\n      ...startParts.map(p => ({...p, source: 'startRange'} as NumberRangeFormatPart)),\n      {type: 'literal', value: '  ', source: 'shared'},\n      ...endParts.map(p => ({...p, source: 'endRange'} as NumberRangeFormatPart))\n    ];\n  }\n\n  /** Returns the resolved formatting options based on the values passed to the constructor. */\n  resolvedOptions(): Intl.ResolvedNumberFormatOptions {\n    let options = this.numberFormatter.resolvedOptions();\n    if (!supportsSignDisplay && this.options.signDisplay != null) {\n      options = {...options, signDisplay: this.options.signDisplay};\n    }\n\n    if (!supportsUnit && this.options.style === 'unit') {\n      options = {...options, style: 'unit', unit: this.options.unit, unitDisplay: this.options.unitDisplay};\n    }\n\n    return options;\n  }\n}\n\nfunction getCachedNumberFormatter(locale: string, options: NumberFormatOptions = {}): Intl.NumberFormat {\n  let {numberingSystem} = options;\n  if (numberingSystem && locale.includes('-nu-')) {\n    if (!locale.includes('-u-')) {\n      locale += '-u-';\n    }\n    locale += `-nu-${numberingSystem}`;\n  }\n\n  if (options.style === 'unit' && !supportsUnit) {\n    let {unit, unitDisplay = 'short'} = options;\n    if (!unit) {\n      throw new Error('unit option must be provided with style: \"unit\"');\n    }\n    if (!UNITS[unit]?.[unitDisplay]) {\n      throw new Error(`Unsupported unit ${unit} with unitDisplay = ${unitDisplay}`);\n    }\n    options = {...options, style: 'decimal'};\n  }\n\n  let cacheKey = locale + (options ? Object.entries(options).sort((a, b) => a[0] < b[0] ? -1 : 1).join() : '');\n  if (formatterCache.has(cacheKey)) {\n    return formatterCache.get(cacheKey)!;\n  }\n\n  let numberFormatter = new Intl.NumberFormat(locale, options);\n  formatterCache.set(cacheKey, numberFormatter);\n  return numberFormatter;\n}\n\n/** @private - exported for tests */\nexport function numberFormatSignDisplayPolyfill(numberFormat: Intl.NumberFormat, signDisplay: string, num: number) {\n  if (signDisplay === 'auto') {\n    return numberFormat.format(num);\n  } else if (signDisplay === 'never') {\n    return numberFormat.format(Math.abs(num));\n  } else {\n    let needsPositiveSign = false;\n    if (signDisplay === 'always') {\n      needsPositiveSign = num > 0 || Object.is(num, 0);\n    } else if (signDisplay === 'exceptZero') {\n      if (Object.is(num, -0) || Object.is(num, 0)) {\n        num = Math.abs(num);\n      } else {\n        needsPositiveSign = num > 0;\n      }\n    }\n\n    if (needsPositiveSign) {\n      let negative = numberFormat.format(-num);\n      let noSign = numberFormat.format(num);\n      // ignore RTL/LTR marker character\n      let minus = negative.replace(noSign, '').replace(/\\u200e|\\u061C/, '');\n      if ([...minus].length !== 1) {\n        console.warn('@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case');\n      }\n      let positive = negative.replace(noSign, '!!!').replace(minus, '+').replace('!!!', noSign);\n      return positive;\n    } else {\n      return numberFormat.format(num);\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {NumberFormatter} from './NumberFormatter';\n\ninterface Symbols {\n  minusSign?: string,\n  plusSign?: string,\n  decimal?: string,\n  group?: string,\n  literals: RegExp,\n  numeral: RegExp,\n  index: (v: string) => string\n}\n\nconst CURRENCY_SIGN_REGEX = new RegExp('^.*\\\\(.*\\\\).*$');\nconst NUMBERING_SYSTEMS = ['latn', 'arab', 'hanidec'];\n\n/**\n * A NumberParser can be used to perform locale-aware parsing of numbers from Unicode strings,\n * as well as validation of partial user input. It automatically detects the numbering system\n * used in the input, and supports parsing decimals, percentages, currency values, and units\n * according to the locale.\n */\nexport class NumberParser {\n  private locale: string;\n  private options: Intl.NumberFormatOptions;\n\n  constructor(locale: string, options: Intl.NumberFormatOptions = {}) {\n    this.locale = locale;\n    this.options = options;\n  }\n\n  /**\n   * Parses the given string to a number. Returns NaN if a valid number could not be parsed.\n   */\n  parse(value: string): number {\n    return getNumberParserImpl(this.locale, this.options, value).parse(value);\n  }\n\n  /**\n   * Returns whether the given string could potentially be a valid number. This should be used to\n   * validate user input as the user types. If a `minValue` or `maxValue` is provided, the validity\n   * of the minus/plus sign characters can be checked.\n   */\n  isValidPartialNumber(value: string, minValue?: number, maxValue?: number): boolean {\n    return getNumberParserImpl(this.locale, this.options, value).isValidPartialNumber(value, minValue, maxValue);\n  }\n\n  /**\n   * Returns a numbering system for which the given string is valid in the current locale.\n   * If no numbering system could be detected, the default numbering system for the current\n   * locale is returned.\n   */\n  getNumberingSystem(value: string): string {\n    return getNumberParserImpl(this.locale, this.options, value).options.numberingSystem;\n  }\n}\n\nconst numberParserCache = new Map<string, NumberParserImpl>();\nfunction getNumberParserImpl(locale: string, options: Intl.NumberFormatOptions, value: string) {\n  // First try the default numbering system for the provided locale\n  let defaultParser = getCachedNumberParser(locale, options);\n\n  // If that doesn't match, and the locale doesn't include a hard coded numbering system,\n  // try each of the other supported numbering systems until we find one that matches.\n  if (!locale.includes('-nu-') && !defaultParser.isValidPartialNumber(value)) {\n    for (let numberingSystem of NUMBERING_SYSTEMS) {\n      if (numberingSystem !== defaultParser.options.numberingSystem) {\n        let parser = getCachedNumberParser(locale + (locale.includes('-u-') ? '-nu-' : '-u-nu-') + numberingSystem, options);\n        if (parser.isValidPartialNumber(value)) {\n          return parser;\n        }\n      }\n    }\n  }\n\n  return defaultParser;\n}\n\nfunction getCachedNumberParser(locale: string, options: Intl.NumberFormatOptions) {\n  let cacheKey = locale + (options ? Object.entries(options).sort((a, b) => a[0] < b[0] ? -1 : 1).join() : '');\n  let parser = numberParserCache.get(cacheKey);\n  if (!parser) {\n    parser = new NumberParserImpl(locale, options);\n    numberParserCache.set(cacheKey, parser);\n  }\n\n  return parser;\n}\n\n// The actual number parser implementation. Instances of this class are cached\n// based on the locale, options, and detected numbering system.\nclass NumberParserImpl {\n  formatter: Intl.NumberFormat;\n  options: Intl.ResolvedNumberFormatOptions;\n  symbols: Symbols;\n  locale: string;\n\n  constructor(locale: string, options: Intl.NumberFormatOptions = {}) {\n    this.locale = locale;\n    this.formatter = new Intl.NumberFormat(locale, options);\n    this.options = this.formatter.resolvedOptions();\n    this.symbols = getSymbols(locale, this.formatter, this.options, options);\n    if (this.options.style === 'percent' && ((this.options.minimumFractionDigits ?? 0) > 18 || (this.options.maximumFractionDigits ?? 0) > 18)) {\n      console.warn('NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.');\n    }\n  }\n\n  parse(value: string) {\n    // to parse the number, we need to remove anything that isn't actually part of the number, for example we want '-10.40' not '-10.40 USD'\n    let fullySanitizedValue = this.sanitize(value);\n\n    if (this.symbols.group) {\n      // Remove group characters, and replace decimal points and numerals with ASCII values.\n      fullySanitizedValue = replaceAll(fullySanitizedValue, this.symbols.group, '');\n    }\n    if (this.symbols.decimal) {\n      fullySanitizedValue = fullySanitizedValue.replace(this.symbols.decimal!, '.');\n    }\n    if (this.symbols.minusSign) {\n      fullySanitizedValue = fullySanitizedValue.replace(this.symbols.minusSign!, '-');\n    }\n    fullySanitizedValue = fullySanitizedValue.replace(this.symbols.numeral, this.symbols.index);\n\n    if (this.options.style === 'percent') {\n      // javascript is bad at dividing by 100 and maintaining the same significant figures, so perform it on the string before parsing\n      let isNegative = fullySanitizedValue.indexOf('-');\n      fullySanitizedValue = fullySanitizedValue.replace('-', '');\n      let index = fullySanitizedValue.indexOf('.');\n      if (index === -1) {\n        index = fullySanitizedValue.length;\n      }\n      fullySanitizedValue = fullySanitizedValue.replace('.', '');\n      if (index - 2 === 0) {\n        fullySanitizedValue = `0.${fullySanitizedValue}`;\n      } else if (index - 2 === -1) {\n        fullySanitizedValue = `0.0${fullySanitizedValue}`;\n      } else if (index - 2 === -2) {\n        fullySanitizedValue = '0.00';\n      } else {\n        fullySanitizedValue = `${fullySanitizedValue.slice(0, index - 2)}.${fullySanitizedValue.slice(index - 2)}`;\n      }\n      if (isNegative > -1) {\n        fullySanitizedValue = `-${fullySanitizedValue}`;\n      }\n    }\n\n    let newValue = fullySanitizedValue ? +fullySanitizedValue : NaN;\n    if (isNaN(newValue)) {\n      return NaN;\n    }\n\n    if (this.options.style === 'percent') {\n      // extra step for rounding percents to what our formatter would output\n      let options = {\n        ...this.options,\n        style: 'decimal' as const,\n        minimumFractionDigits: Math.min((this.options.minimumFractionDigits ?? 0) + 2, 20),\n        maximumFractionDigits: Math.min((this.options.maximumFractionDigits ?? 0) + 2, 20)\n      };\n      return (new NumberParser(this.locale, options)).parse(new NumberFormatter(this.locale, options).format(newValue));\n    }\n\n    // accounting will always be stripped to a positive number, so if it's accounting and has a () around everything, then we need to make it negative again\n    if (this.options.currencySign === 'accounting' && CURRENCY_SIGN_REGEX.test(value)) {\n      newValue = -1 * newValue;\n    }\n\n    return newValue;\n  }\n\n  sanitize(value: string) {\n    // Remove literals and whitespace, which are allowed anywhere in the string\n    value = value.replace(this.symbols.literals, '');\n\n    // Replace the ASCII minus sign with the minus sign used in the current locale\n    // so that both are allowed in case the user's keyboard doesn't have the locale's minus sign.\n    if (this.symbols.minusSign) {\n      value = value.replace('-', this.symbols.minusSign);\n    }\n\n    // In arab numeral system, their decimal character is 1643, but most keyboards don't type that\n    // instead they use the , (44) character or apparently the (1548) character.\n    if (this.options.numberingSystem === 'arab') {\n      if (this.symbols.decimal) {\n        value = value.replace(',', this.symbols.decimal);\n        value = value.replace(String.fromCharCode(1548), this.symbols.decimal);\n      }\n      if (this.symbols.group) {\n        value = replaceAll(value, '.', this.symbols.group);\n      }\n    }\n\n    // fr-FR group character is char code 8239, but that's not a key on the french keyboard,\n    // so allow 'period' as a group char and replace it with a space\n    if (this.options.locale === 'fr-FR') {\n      value = replaceAll(value, '.', String.fromCharCode(8239));\n    }\n\n    return value;\n  }\n\n  isValidPartialNumber(value: string, minValue: number = -Infinity, maxValue: number = Infinity): boolean {\n    value = this.sanitize(value);\n\n    // Remove minus or plus sign, which must be at the start of the string.\n    if (this.symbols.minusSign && value.startsWith(this.symbols.minusSign) && minValue < 0) {\n      value = value.slice(this.symbols.minusSign.length);\n    } else if (this.symbols.plusSign && value.startsWith(this.symbols.plusSign) && maxValue > 0) {\n      value = value.slice(this.symbols.plusSign.length);\n    }\n\n    // Numbers cannot start with a group separator\n    if (this.symbols.group && value.startsWith(this.symbols.group)) {\n      return false;\n    }\n\n    // Numbers that can't have any decimal values fail if a decimal character is typed\n    if (this.symbols.decimal && value.indexOf(this.symbols.decimal) > -1 && this.options.maximumFractionDigits === 0) {\n      return false;\n    }\n\n    // Remove numerals, groups, and decimals\n    if (this.symbols.group) {\n      value = replaceAll(value, this.symbols.group, '');\n    }\n    value = value.replace(this.symbols.numeral, '');\n    if (this.symbols.decimal) {\n      value = value.replace(this.symbols.decimal, '');\n    }\n\n    // The number is valid if there are no remaining characters\n    return value.length === 0;\n  }\n}\n\nconst nonLiteralParts = new Set(['decimal', 'fraction', 'integer', 'minusSign', 'plusSign', 'group']);\n\n// This list is derived from https://www.unicode.org/cldr/charts/43/supplemental/language_plural_rules.html#comparison and includes\n// all unique numbers which we need to check in order to determine all the plural forms for a given locale.\n// See: https://github.com/adobe/react-spectrum/pull/5134/files#r1337037855 for used script\nconst pluralNumbers = [\n  0, 4, 2, 1, 11, 20, 3, 7, 100, 21, 0.1, 1.1\n];\n\nfunction getSymbols(locale: string, formatter: Intl.NumberFormat, intlOptions: Intl.ResolvedNumberFormatOptions, originalOptions: Intl.NumberFormatOptions): Symbols {\n  // formatter needs access to all decimal places in order to generate the correct literal strings for the plural set\n  let symbolFormatter = new Intl.NumberFormat(locale, {...intlOptions, minimumSignificantDigits: 1, maximumSignificantDigits: 21});\n  // Note: some locale's don't add a group symbol until there is a ten thousands place\n  let allParts = symbolFormatter.formatToParts(-10000.111);\n  let posAllParts = symbolFormatter.formatToParts(10000.111);\n  let pluralParts = pluralNumbers.map(n => symbolFormatter.formatToParts(n));\n\n  let minusSign = allParts.find(p => p.type === 'minusSign')?.value ?? '-';\n  let plusSign = posAllParts.find(p => p.type === 'plusSign')?.value;\n\n  // Safari does not support the signDisplay option, but our number parser polyfills it.\n  // If no plus sign was returned, but the original options contained signDisplay, default to the '+' character.\n  // @ts-ignore\n  if (!plusSign && (originalOptions?.signDisplay === 'exceptZero' || originalOptions?.signDisplay === 'always')) {\n    plusSign = '+';\n  }\n\n  // If maximumSignificantDigits is 1 (the minimum) then we won't get decimal characters out of the above formatters\n  // Percent also defaults to 0 fractionDigits, so we need to make a new one that isn't percent to get an accurate decimal\n  let decimalParts = new Intl.NumberFormat(locale, {...intlOptions, minimumFractionDigits: 2, maximumFractionDigits: 2}).formatToParts(0.001);\n\n  let decimal = decimalParts.find(p => p.type === 'decimal')?.value;\n  let group = allParts.find(p => p.type === 'group')?.value;\n\n  // this set is also for a regex, it's all literals that might be in the string we want to eventually parse that\n  // don't contribute to the numerical value\n  let allPartsLiterals = allParts.filter(p => !nonLiteralParts.has(p.type)).map(p => escapeRegex(p.value));\n  let pluralPartsLiterals = pluralParts.flatMap(p => p.filter(p => !nonLiteralParts.has(p.type)).map(p => escapeRegex(p.value)));\n  let sortedLiterals = [...new Set([...allPartsLiterals, ...pluralPartsLiterals])].sort((a, b) => b.length - a.length);\n\n  let literals = sortedLiterals.length === 0 ?\n      new RegExp('[\\\\p{White_Space}]', 'gu') :\n      new RegExp(`${sortedLiterals.join('|')}|[\\\\p{White_Space}]`, 'gu');\n\n  // These are for replacing non-latn characters with the latn equivalent\n  let numerals = [...new Intl.NumberFormat(intlOptions.locale, {useGrouping: false}).format(9876543210)].reverse();\n  let indexes = new Map(numerals.map((d, i) => [d, i]));\n  let numeral = new RegExp(`[${numerals.join('')}]`, 'g');\n  let index = d => String(indexes.get(d));\n\n  return {minusSign, plusSign, decimal, group, literals, numeral, index};\n}\n\nfunction replaceAll(str: string, find: string, replace: string) {\n  // @ts-ignore\n  if (str.replaceAll) {\n    // @ts-ignore\n    return str.replaceAll(find, replace);\n  }\n\n  return str.split(find).join(replace);\n}\n\nfunction escapeRegex(string: string) {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"numberInput\").parts(\n  \"root\",\n  \"label\",\n  \"input\",\n  \"control\",\n  \"incrementTrigger\",\n  \"decrementTrigger\",\n  \"scrubber\",\n)\n\nexport const parts = anatomy.build()\n", "import { getEventPoint, getEventStep, isLeftClick, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr, isComposingEvent } from \"@zag-js/dom-query\"\nimport { roundToDevicePixel } from \"@zag-js/number-utils\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./number-input.anatomy\"\nimport { dom } from \"./number-input.dom\"\nimport type { MachineApi, Send, State } from \"./number-input.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const focused = state.hasTag(\"focus\")\n  const disabled = state.context.isDisabled\n  const readOnly = state.context.readOnly\n\n  const empty = state.context.isValueEmpty\n  const invalid = state.context.isOutOfRange || !!state.context.invalid\n\n  const isIncrementDisabled = disabled || !state.context.canIncrement || readOnly\n  const isDecrementDisabled = disabled || !state.context.canDecrement || readOnly\n\n  const translations = state.context.translations\n\n  return {\n    focused: focused,\n    invalid: invalid,\n    empty: empty,\n    value: state.context.formattedValue,\n    valueAsNumber: state.context.valueAsNumber,\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value })\n    },\n    clearValue() {\n      send(\"VALUE.CLEAR\")\n    },\n    increment() {\n      send(\"VALUE.INCREMENT\")\n    },\n    decrement() {\n      send(\"VALUE.DECREMENT\")\n    },\n    setToMax() {\n      send({ type: \"VALUE.SET\", value: state.context.max })\n    },\n    setToMin() {\n      send({ type: \"VALUE.SET\", value: state.context.min })\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus()\n    },\n\n    getRootProps() {\n      return normalize.element({\n        id: dom.getRootId(state.context),\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-focus\": dataAttr(focused),\n        \"data-invalid\": dataAttr(invalid),\n      })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-focus\": dataAttr(focused),\n        \"data-invalid\": dataAttr(invalid),\n        id: dom.getLabelId(state.context),\n        htmlFor: dom.getInputId(state.context),\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        role: \"group\",\n        \"aria-disabled\": disabled,\n        \"data-focus\": dataAttr(focused),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"aria-invalid\": ariaAttr(state.context.invalid),\n      })\n    },\n\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        name: state.context.name,\n        form: state.context.form,\n        id: dom.getInputId(state.context),\n        role: \"spinbutton\",\n        defaultValue: state.context.formattedValue,\n        pattern: state.context.pattern,\n        inputMode: state.context.inputMode,\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-invalid\": dataAttr(invalid),\n        disabled: disabled,\n        \"data-disabled\": dataAttr(disabled),\n        readOnly: !!state.context.readOnly,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        spellCheck: \"false\",\n        type: \"text\",\n        \"aria-roledescription\": \"numberfield\",\n        \"aria-valuemin\": state.context.min,\n        \"aria-valuemax\": state.context.max,\n        \"aria-valuenow\": Number.isNaN(state.context.valueAsNumber) ? undefined : state.context.valueAsNumber,\n        \"aria-valuetext\": state.context.valueText,\n        onFocus() {\n          send(\"INPUT.FOCUS\")\n        },\n        onBlur() {\n          send({ type: \"INPUT.COMMIT\", src: \"blur\" })\n        },\n        onChange(event) {\n          send({ type: \"INPUT.CHANGE\", target: event.currentTarget, hint: \"set\" })\n        },\n        onBeforeInput(event) {\n          try {\n            const { selectionStart, selectionEnd, value } = event.currentTarget\n\n            const nextValue = value.slice(0, selectionStart!) + ((event as any).data ?? \"\") + value.slice(selectionEnd!)\n            const isValid = state.context.parser.isValidPartialNumber(nextValue)\n\n            if (!isValid) {\n              event.preventDefault()\n            }\n          } catch {\n            // noop\n          }\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (readOnly) return\n          if (isComposingEvent(event)) return\n\n          const step = getEventStep(event) * state.context.step\n\n          const keyMap: EventKeyMap = {\n            ArrowUp() {\n              send({ type: \"INPUT.ARROW_UP\", step })\n              event.preventDefault()\n            },\n            ArrowDown() {\n              send({ type: \"INPUT.ARROW_DOWN\", step })\n              event.preventDefault()\n            },\n            Home() {\n              send(\"INPUT.HOME\")\n              event.preventDefault()\n            },\n            End() {\n              send(\"INPUT.END\")\n              event.preventDefault()\n            },\n            Enter() {\n              send({ type: \"INPUT.COMMIT\", src: \"enter\" })\n            },\n          }\n\n          const exec = keyMap[event.key]\n          exec?.(event)\n        },\n      })\n    },\n\n    getDecrementTriggerProps() {\n      return normalize.button({\n        ...parts.decrementTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getDecrementTriggerId(state.context),\n        disabled: isDecrementDisabled,\n        \"data-disabled\": dataAttr(isDecrementDisabled),\n        \"aria-label\": translations.decrementLabel,\n        type: \"button\",\n        tabIndex: -1,\n        \"aria-controls\": dom.getInputId(state.context),\n        onPointerDown(event) {\n          if (isDecrementDisabled || !isLeftClick(event)) return\n          send({ type: \"TRIGGER.PRESS_DOWN\", hint: \"decrement\", pointerType: event.pointerType })\n          if (event.pointerType === \"mouse\") {\n            event.preventDefault()\n          }\n          if (event.pointerType === \"touch\") {\n            event.currentTarget?.focus({ preventScroll: true })\n          }\n        },\n        onPointerUp(event) {\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"decrement\", pointerType: event.pointerType })\n        },\n        onPointerLeave() {\n          if (isDecrementDisabled) return\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"decrement\" })\n        },\n      })\n    },\n\n    getIncrementTriggerProps() {\n      return normalize.button({\n        ...parts.incrementTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getIncrementTriggerId(state.context),\n        disabled: isIncrementDisabled,\n        \"data-disabled\": dataAttr(isIncrementDisabled),\n        \"aria-label\": translations.incrementLabel,\n        type: \"button\",\n        tabIndex: -1,\n        \"aria-controls\": dom.getInputId(state.context),\n        onPointerDown(event) {\n          if (isIncrementDisabled || !isLeftClick(event)) return\n          send({ type: \"TRIGGER.PRESS_DOWN\", hint: \"increment\", pointerType: event.pointerType })\n          if (event.pointerType === \"mouse\") {\n            event.preventDefault()\n          }\n          if (event.pointerType === \"touch\") {\n            event.currentTarget?.focus({ preventScroll: true })\n          }\n        },\n        onPointerUp(event) {\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"increment\", pointerType: event.pointerType })\n        },\n        onPointerLeave(event) {\n          send({ type: \"TRIGGER.PRESS_UP\", hint: \"increment\", pointerType: event.pointerType })\n        },\n      })\n    },\n\n    getScrubberProps() {\n      return normalize.element({\n        ...parts.scrubber.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        id: dom.getScrubberId(state.context),\n        role: \"presentation\",\n        onMouseDown(event) {\n          if (disabled) return\n\n          const point = getEventPoint(event)\n\n          point.x = point.x - roundToDevicePixel(7.5)\n          point.y = point.y - roundToDevicePixel(7.5)\n\n          send({ type: \"SCRUBBER.PRESS_DOWN\", point })\n          event.preventDefault()\n        },\n        style: {\n          cursor: disabled ? undefined : \"ew-resize\",\n        },\n      })\n    },\n  }\n}\n", "import { createScope, isSafari, MAX_Z_INDEX } from \"@zag-js/dom-query\"\nimport { roundToDevicePixel, wrap } from \"@zag-js/number-utils\"\nimport type { MachineContext as Ctx } from \"./number-input.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `number-input:${ctx.id}`,\n  getInputId: (ctx: Ctx) => ctx.ids?.input ?? `number-input:${ctx.id}:input`,\n  getIncrementTriggerId: (ctx: Ctx) => ctx.ids?.incrementTrigger ?? `number-input:${ctx.id}:inc`,\n  getDecrementTriggerId: (ctx: Ctx) => ctx.ids?.decrementTrigger ?? `number-input:${ctx.id}:dec`,\n  getScrubberId: (ctx: Ctx) => ctx.ids?.scrubber ?? `number-input:${ctx.id}:scrubber`,\n  getCursorId: (ctx: Ctx) => `number-input:${ctx.id}:cursor`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `number-input:${ctx.id}:label`,\n\n  getInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getInputId(ctx)),\n  getIncrementTriggerEl: (ctx: Ctx) => dom.getById<HTMLButtonElement>(ctx, dom.getIncrementTriggerId(ctx)),\n  getDecrementTriggerEl: (ctx: Ctx) => dom.getById<HTMLButtonElement>(ctx, dom.getDecrementTriggerId(ctx)),\n  getScrubberEl: (ctx: Ctx) => dom.getById(ctx, dom.getScrubberId(ctx)),\n  getCursorEl: (ctx: Ctx) => dom.getDoc(ctx).getElementById(dom.getCursorId(ctx)),\n\n  getPressedTriggerEl: (ctx: Ctx, hint = ctx.hint) => {\n    let btnEl: HTMLButtonElement | null = null\n    if (hint === \"increment\") {\n      btnEl = dom.getIncrementTriggerEl(ctx)\n    }\n    if (hint === \"decrement\") {\n      btnEl = dom.getDecrementTriggerEl(ctx)\n    }\n    return btnEl\n  },\n\n  setupVirtualCursor(ctx: Ctx) {\n    if (isSafari()) return\n    dom.createVirtualCursor(ctx)\n    return () => {\n      dom.getCursorEl(ctx)?.remove()\n    }\n  },\n\n  preventTextSelection(ctx: Ctx) {\n    const doc = dom.getDoc(ctx)\n    const html = doc.documentElement\n    const body = doc.body\n\n    body.style.pointerEvents = \"none\"\n    html.style.userSelect = \"none\"\n    html.style.cursor = \"ew-resize\"\n\n    return () => {\n      body.style.pointerEvents = \"\"\n      html.style.userSelect = \"\"\n      html.style.cursor = \"\"\n      if (!html.style.length) {\n        html.removeAttribute(\"style\")\n      }\n      if (!body.style.length) {\n        body.removeAttribute(\"style\")\n      }\n    }\n  },\n\n  getMousementValue(ctx: Ctx, event: MouseEvent) {\n    const x = roundToDevicePixel(event.movementX)\n    const y = roundToDevicePixel(event.movementY)\n\n    let hint = x > 0 ? \"increment\" : x < 0 ? \"decrement\" : null\n\n    if (ctx.isRtl && hint === \"increment\") hint = \"decrement\"\n    if (ctx.isRtl && hint === \"decrement\") hint = \"increment\"\n\n    const point = {\n      x: ctx.scrubberCursorPoint!.x + x,\n      y: ctx.scrubberCursorPoint!.y + y,\n    }\n\n    const win = dom.getWin(ctx)\n    const width = win.innerWidth\n    const half = roundToDevicePixel(7.5)\n    point.x = wrap(point.x + half, width) - half\n\n    return { hint, point }\n  },\n\n  createVirtualCursor(ctx: Ctx) {\n    const doc = dom.getDoc(ctx)\n    const el = doc.createElement(\"div\")\n    el.className = \"scrubber--cursor\"\n    el.id = dom.getCursorId(ctx)\n\n    Object.assign(el.style, {\n      width: \"15px\",\n      height: \"15px\",\n      position: \"fixed\",\n      pointerEvents: \"none\",\n      left: \"0px\",\n      top: \"0px\",\n      zIndex: MAX_Z_INDEX,\n      transform: ctx.scrubberCursorPoint\n        ? `translate3d(${ctx.scrubberCursorPoint.x}px, ${ctx.scrubberCursorPoint.y}px, 0px)`\n        : undefined,\n      willChange: \"transform\",\n    })\n\n    el.innerHTML = `\n        <svg width=\"46\" height=\"15\" style=\"left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);\">\n          <g transform=\"translate(2 3)\">\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\" style=\"stroke-width: 2px; stroke: white;\"></path>\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\"></path>\n          </g>\n        </svg>`\n\n    doc.body.appendChild(el)\n  },\n})\n", "import { choose, createMachine, guards } from \"@zag-js/core\"\nimport { addDomEvent, requestPointerLock } from \"@zag-js/dom-event\"\nimport { isSafari, observeAttributes, raf } from \"@zag-js/dom-query\"\nimport { trackFormControl } from \"@zag-js/form-utils\"\nimport { clamp, decrement, increment, isAtMax, isAtMin, isWithinRange } from \"@zag-js/number-utils\"\nimport { callAll, compact, isEqual } from \"@zag-js/utils\"\nimport { recordCursor, restoreCursor } from \"./cursor\"\nimport { dom } from \"./number-input.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./number-input.types\"\nimport { createFormatter, createParser, formatValue, parseValue } from \"./number-input.utils\"\n\nconst { not, and } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"number-input\",\n      initial: \"idle\",\n      context: {\n        dir: \"ltr\",\n        locale: \"en-US\",\n        focusInputOnChange: true,\n        clampValueOnBlur: true,\n        allowOverflow: false,\n        inputMode: \"decimal\",\n        pattern: \"[0-9]*(.[0-9]+)?\",\n        value: \"\",\n        step: 1,\n        min: Number.MIN_SAFE_INTEGER,\n        max: Number.MAX_SAFE_INTEGER,\n        invalid: false,\n        spinOnPress: true,\n        ...ctx,\n        hint: null,\n        scrubberCursorPoint: null,\n        fieldsetDisabled: false,\n        formatter: createFormatter(ctx.locale || \"en-US\", ctx.formatOptions),\n        parser: createParser(ctx.locale || \"en-US\", ctx.formatOptions),\n        translations: {\n          incrementLabel: \"increment value\",\n          decrementLabel: \"decrease value\",\n          ...ctx.translations,\n        },\n      },\n\n      computed: {\n        isRtl: (ctx) => ctx.dir === \"rtl\",\n        valueAsNumber: (ctx) => parseValue(ctx, ctx.value),\n        formattedValue: (ctx) => formatValue(ctx, ctx.valueAsNumber),\n        isAtMin: (ctx) => isAtMin(ctx.valueAsNumber, ctx),\n        isAtMax: (ctx) => isAtMax(ctx.valueAsNumber, ctx),\n        isOutOfRange: (ctx) => !isWithinRange(ctx.valueAsNumber, ctx),\n        isValueEmpty: (ctx) => ctx.value === \"\",\n        isDisabled: (ctx) => !!ctx.disabled || ctx.fieldsetDisabled,\n        canIncrement: (ctx) => ctx.allowOverflow || !ctx.isAtMax,\n        canDecrement: (ctx) => ctx.allowOverflow || !ctx.isAtMin,\n        valueText: (ctx) => ctx.translations.valueText?.(ctx.value),\n      },\n\n      watch: {\n        formatOptions: [\"setFormatterAndParser\", \"syncInputElement\"],\n        locale: [\"setFormatterAndParser\", \"syncInputElement\"],\n        value: [\"syncInputElement\"],\n        isOutOfRange: [\"invokeOnInvalid\"],\n        scrubberCursorPoint: [\"setVirtualCursorPosition\"],\n      },\n\n      activities: [\"trackFormControl\"],\n\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setRawValue\", \"setHintToSet\"],\n        },\n        \"VALUE.CLEAR\": {\n          actions: [\"clearValue\"],\n        },\n        \"VALUE.INCREMENT\": {\n          actions: [\"increment\"],\n        },\n        \"VALUE.DECREMENT\": {\n          actions: [\"decrement\"],\n        },\n      },\n\n      states: {\n        idle: {\n          on: {\n            \"TRIGGER.PRESS_DOWN\": [\n              { guard: \"isTouchPointer\", target: \"before:spin\", actions: [\"setHint\"] },\n              {\n                target: \"before:spin\",\n                actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\"],\n              },\n            ],\n            \"SCRUBBER.PRESS_DOWN\": {\n              target: \"scrubbing\",\n              actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\", \"setCursorPoint\"],\n            },\n            \"INPUT.FOCUS\": {\n              target: \"focused\",\n              actions: [\"focusInput\", \"invokeOnFocus\"],\n            },\n          },\n        },\n\n        focused: {\n          tags: \"focus\",\n          activities: \"attachWheelListener\",\n          on: {\n            \"TRIGGER.PRESS_DOWN\": [\n              { guard: \"isTouchPointer\", target: \"before:spin\", actions: [\"setHint\"] },\n              { target: \"before:spin\", actions: [\"focusInput\", \"setHint\"] },\n            ],\n            \"SCRUBBER.PRESS_DOWN\": {\n              target: \"scrubbing\",\n              actions: [\"focusInput\", \"setHint\", \"setCursorPoint\"],\n            },\n            \"INPUT.ARROW_UP\": {\n              actions: \"increment\",\n            },\n            \"INPUT.ARROW_DOWN\": {\n              actions: \"decrement\",\n            },\n            \"INPUT.HOME\": {\n              actions: \"decrementToMin\",\n            },\n            \"INPUT.END\": {\n              actions: \"incrementToMax\",\n            },\n            \"INPUT.CHANGE\": {\n              actions: [\"setValue\", \"setHint\"],\n            },\n            \"INPUT.COMMIT\": [\n              {\n                guard: and(\"clampValueOnBlur\", not(\"isInRange\")),\n                target: \"idle\",\n                actions: [\"setClampedValue\", \"clearHint\", \"invokeOnBlur\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"setFormattedValue\", \"clearHint\", \"invokeOnBlur\"],\n              },\n            ],\n          },\n        },\n\n        \"before:spin\": {\n          tags: \"focus\",\n          activities: \"trackButtonDisabled\",\n          entry: choose([\n            { guard: \"isIncrementHint\", actions: \"increment\" },\n            { guard: \"isDecrementHint\", actions: \"decrement\" },\n          ]),\n          after: {\n            CHANGE_DELAY: {\n              target: \"spinning\",\n              guard: and(\"isInRange\", \"spinOnPress\"),\n            },\n          },\n          on: {\n            \"TRIGGER.PRESS_UP\": [\n              { guard: \"isTouchPointer\", target: \"focused\", actions: \"clearHint\" },\n              { target: \"focused\", actions: [\"focusInput\", \"clearHint\"] },\n            ],\n          },\n        },\n\n        spinning: {\n          tags: \"focus\",\n          activities: \"trackButtonDisabled\",\n          every: [\n            {\n              delay: \"CHANGE_INTERVAL\",\n              guard: and(not(\"isAtMin\"), \"isIncrementHint\"),\n              actions: \"increment\",\n            },\n            {\n              delay: \"CHANGE_INTERVAL\",\n              guard: and(not(\"isAtMax\"), \"isDecrementHint\"),\n              actions: \"decrement\",\n            },\n          ],\n          on: {\n            \"TRIGGER.PRESS_UP\": {\n              target: \"focused\",\n              actions: [\"focusInput\", \"clearHint\"],\n            },\n          },\n        },\n\n        scrubbing: {\n          tags: \"focus\",\n          activities: [\"activatePointerLock\", \"trackMousemove\", \"setupVirtualCursor\", \"preventTextSelection\"],\n          on: {\n            \"SCRUBBER.POINTER_UP\": {\n              target: \"focused\",\n              actions: [\"focusInput\", \"clearCursorPoint\"],\n            },\n            \"SCRUBBER.POINTER_MOVE\": [\n              {\n                guard: \"isIncrementHint\",\n                actions: [\"increment\", \"setCursorPoint\"],\n              },\n              {\n                guard: \"isDecrementHint\",\n                actions: [\"decrement\", \"setCursorPoint\"],\n              },\n            ],\n          },\n        },\n      },\n    },\n    {\n      delays: {\n        CHANGE_INTERVAL: 50,\n        CHANGE_DELAY: 300,\n      },\n\n      guards: {\n        clampValueOnBlur: (ctx) => ctx.clampValueOnBlur,\n        isAtMin: (ctx) => ctx.isAtMin,\n        spinOnPress: (ctx) => !!ctx.spinOnPress,\n        isAtMax: (ctx) => ctx.isAtMax,\n        isInRange: (ctx) => !ctx.isOutOfRange,\n        isDecrementHint: (ctx, evt) => (evt.hint ?? ctx.hint) === \"decrement\",\n        isIncrementHint: (ctx, evt) => (evt.hint ?? ctx.hint) === \"increment\",\n        isTouchPointer: (_ctx, evt) => evt.pointerType === \"touch\",\n      },\n\n      activities: {\n        trackFormControl(ctx, _evt, { initialContext }) {\n          const inputEl = dom.getInputEl(ctx)\n          return trackFormControl(inputEl, {\n            onFieldsetDisabledChange(disabled) {\n              ctx.fieldsetDisabled = disabled\n            },\n            onFormReset() {\n              set.value(ctx, initialContext.value)\n            },\n          })\n        },\n        setupVirtualCursor(ctx) {\n          return dom.setupVirtualCursor(ctx)\n        },\n        preventTextSelection(ctx) {\n          return dom.preventTextSelection(ctx)\n        },\n        trackButtonDisabled(ctx, _evt, { send }) {\n          const btn = dom.getPressedTriggerEl(ctx, ctx.hint)\n          return observeAttributes(btn, {\n            attributes: [\"disabled\"],\n            callback() {\n              send({ type: \"TRIGGER.PRESS_UP\", src: \"attr\" })\n            },\n          })\n        },\n        attachWheelListener(ctx, _evt, { send }) {\n          const inputEl = dom.getInputEl(ctx)\n          if (!inputEl || !dom.isActiveElement(ctx, inputEl) || !ctx.allowMouseWheel) return\n\n          function onWheel(event: WheelEvent) {\n            event.preventDefault()\n            const dir = Math.sign(event.deltaY) * -1\n            if (dir === 1) {\n              send(\"VALUE.INCREMENT\")\n            } else if (dir === -1) {\n              send(\"VALUE.DECREMENT\")\n            }\n          }\n\n          return addDomEvent(inputEl, \"wheel\", onWheel, { passive: false })\n        },\n        activatePointerLock(ctx) {\n          if (isSafari()) return\n          return requestPointerLock(dom.getDoc(ctx))\n        },\n        trackMousemove(ctx, _evt, { send }) {\n          const doc = dom.getDoc(ctx)\n\n          function onMousemove(event: MouseEvent) {\n            if (!ctx.scrubberCursorPoint) return\n            const value = dom.getMousementValue(ctx, event)\n            if (!value.hint) return\n            send({\n              type: \"SCRUBBER.POINTER_MOVE\",\n              hint: value.hint,\n              point: value.point,\n            })\n          }\n\n          function onMouseup() {\n            send(\"SCRUBBER.POINTER_UP\")\n          }\n\n          return callAll(\n            addDomEvent(doc, \"mousemove\", onMousemove, false),\n            addDomEvent(doc, \"mouseup\", onMouseup, false),\n          )\n        },\n      },\n\n      actions: {\n        focusInput(ctx) {\n          if (!ctx.focusInputOnChange) return\n          const inputEl = dom.getInputEl(ctx)\n          if (dom.isActiveElement(ctx, inputEl)) return\n          raf(() => inputEl?.focus({ preventScroll: true }))\n        },\n        increment(ctx, evt) {\n          const nextValue = increment(ctx.valueAsNumber, evt.step ?? ctx.step)\n          const value = formatValue(ctx, clamp(nextValue, ctx))\n          set.value(ctx, value)\n        },\n        decrement(ctx, evt) {\n          const nextValue = decrement(ctx.valueAsNumber, evt.step ?? ctx.step)\n          const value = formatValue(ctx, clamp(nextValue, ctx))\n          set.value(ctx, value)\n        },\n        setClampedValue(ctx) {\n          const nextValue = clamp(ctx.valueAsNumber, ctx)\n          set.value(ctx, formatValue(ctx, nextValue))\n        },\n        setRawValue(ctx, evt) {\n          const parsedValue = parseValue(ctx, evt.value)\n          const value = formatValue(ctx, clamp(parsedValue, ctx))\n          set.value(ctx, value)\n        },\n        setValue(ctx, evt) {\n          const value = evt.target?.value ?? evt.value\n          set.value(ctx, value)\n        },\n        clearValue(ctx) {\n          set.value(ctx, \"\")\n        },\n        incrementToMax(ctx) {\n          const value = formatValue(ctx, ctx.max)\n          set.value(ctx, value)\n        },\n        decrementToMin(ctx) {\n          const value = formatValue(ctx, ctx.min)\n          set.value(ctx, value)\n        },\n        setHint(ctx, evt) {\n          ctx.hint = evt.hint\n        },\n        clearHint(ctx) {\n          ctx.hint = null\n        },\n        setHintToSet(ctx) {\n          ctx.hint = \"set\"\n        },\n        invokeOnFocus(ctx) {\n          ctx.onFocusChange?.({\n            focused: true,\n            value: ctx.formattedValue,\n            valueAsNumber: ctx.valueAsNumber,\n          })\n        },\n        invokeOnBlur(ctx) {\n          ctx.onFocusChange?.({\n            focused: false,\n            value: ctx.formattedValue,\n            valueAsNumber: ctx.valueAsNumber,\n          })\n        },\n        invokeOnInvalid(ctx) {\n          if (!ctx.isOutOfRange) return\n          const reason = ctx.valueAsNumber > ctx.max ? \"rangeOverflow\" : \"rangeUnderflow\"\n          ctx.onValueInvalid?.({\n            reason,\n            value: ctx.formattedValue,\n            valueAsNumber: ctx.valueAsNumber,\n          })\n        },\n        syncInputElement(ctx, evt) {\n          const value = evt.type.endsWith(\"CHANGE\") ? ctx.value : ctx.formattedValue\n          sync.input(ctx, value)\n        },\n        setFormattedValue(ctx) {\n          set.value(ctx, ctx.formattedValue)\n        },\n        setCursorPoint(ctx, evt) {\n          ctx.scrubberCursorPoint = evt.point\n        },\n        clearCursorPoint(ctx) {\n          ctx.scrubberCursorPoint = null\n        },\n        setVirtualCursorPosition(ctx) {\n          const cursorEl = dom.getCursorEl(ctx)\n          if (!cursorEl || !ctx.scrubberCursorPoint) return\n          const { x, y } = ctx.scrubberCursorPoint\n          cursorEl.style.transform = `translate3d(${x}px, ${y}px, 0px)`\n        },\n        setFormatterAndParser(ctx) {\n          if (!ctx.locale) return\n          ctx.formatter = createFormatter(ctx.locale, ctx.formatOptions)\n          ctx.parser = createParser(ctx.locale, ctx.formatOptions)\n        },\n      },\n      compareFns: {\n        formatOptions: (a, b) => isEqual(a, b),\n        scrubberCursorPoint: (a, b) => isEqual(a, b),\n      },\n    },\n  )\n}\n\nconst sync = {\n  input(ctx: MachineContext, value: string) {\n    const inputEl = dom.getInputEl(ctx)\n    if (!inputEl) return\n\n    // record cursor position before updating input value\n    const sel = recordCursor(inputEl)\n\n    // restore cursor position after updating input value\n    raf(() => {\n      dom.setValue(inputEl, value)\n      restoreCursor(inputEl, sel)\n    })\n  },\n}\n\nconst invoke = {\n  onChange: (ctx: MachineContext) => {\n    ctx.onValueChange?.({\n      value: ctx.value,\n      valueAsNumber: ctx.valueAsNumber,\n    })\n  },\n}\n\nconst set = {\n  value: (ctx: MachineContext, value: string) => {\n    if (isEqual(ctx.value, value)) return\n    ctx.value = value\n    invoke.onChange(ctx)\n  },\n}\n", "/**\n * Credits: https://github.com/react-component/input-number/blob/master/src/hooks/useCursor.ts\n */\n\ninterface Selection {\n  start?: number\n  end?: number\n  value?: string\n  beforeTxt?: string\n  afterTxt?: string\n}\n\nexport function recordCursor(inputEl: HTMLInputElement): Selection | undefined {\n  if (inputEl.ownerDocument.activeElement !== inputEl) return\n  try {\n    const { selectionStart: start, selectionEnd: end, value } = inputEl\n    const beforeTxt = value.substring(0, start!)\n    const afterTxt = value.substring(end!)\n    return {\n      start: start!,\n      end: end!,\n      value,\n      beforeTxt,\n      afterTxt,\n    }\n  } catch {}\n}\n\nexport function restoreCursor(inputEl: HTMLInputElement, selection: Selection | undefined) {\n  if (inputEl.ownerDocument.activeElement !== inputEl) return\n\n  if (!selection) {\n    inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length)\n    return\n  }\n\n  try {\n    const { value } = inputEl\n    const { beforeTxt = \"\", afterTxt = \"\", start } = selection\n\n    let startPos = value.length\n\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length\n    } else if (start != null) {\n      const beforeLastChar = beforeTxt[start - 1]\n      const newIndex = value.indexOf(beforeLastChar, start - 1)\n      if (newIndex !== -1) {\n        startPos = newIndex + 1\n      }\n    }\n\n    inputEl.setSelectionRange(startPos, startPos)\n  } catch {}\n}\n", "import { NumberParser } from \"@internationalized/number\"\nimport { ref } from \"@zag-js/core\"\nimport type { MachineContext } from \"./number-input.types\"\n\nexport const createFormatter = (locale: string, options: Intl.NumberFormatOptions = {}) => {\n  return ref(new Intl.NumberFormat(locale, options))\n}\n\nexport const createParser = (locale: string, options: Intl.NumberFormatOptions = {}) => {\n  return ref(new NumberParser(locale, options))\n}\n\nexport const parseValue = (ctx: MachineContext, value: string) => {\n  if (!ctx.formatOptions) return parseFloat(value)\n  return ctx.parser.parse(String(value))\n}\n\nexport const formatValue = (ctx: MachineContext, value: number): string => {\n  if (Number.isNaN(value)) return \"\"\n  if (!ctx.formatOptions) return value.toString()\n  return ctx.formatter.format(value)\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"pagination\").parts(\"root\", \"item\", \"ellipsis\", \"prevTrigger\", \"nextTrigger\")\n\nexport const parts = anatomy.build()\n", "import { dataAttr } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./pagination.anatomy\"\nimport { dom } from \"./pagination.dom\"\nimport type { MachineApi, Send, State } from \"./pagination.types\"\nimport * as utils from \"./pagination.utils\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const totalPages = state.context.totalPages\n  const page = state.context.page\n  const translations = state.context.translations\n\n  const previousPage = state.context.previousPage\n  const nextPage = state.context.nextPage\n  const pageRange = state.context.pageRange\n\n  const type = state.context.type\n  const isButton = type === \"button\"\n\n  const isFirstPage = page === 1\n  const isLastPage = page === totalPages\n\n  return {\n    page,\n    pageSize: state.context.pageSize,\n    totalPages,\n    pages: utils.getTransformedRange(state.context),\n    previousPage,\n    nextPage,\n    pageRange,\n    slice(data) {\n      return data.slice(pageRange.start, pageRange.end)\n    },\n    setCount(count) {\n      send({ type: \"SET_COUNT\", count })\n    },\n    setPageSize(size) {\n      send({ type: \"SET_PAGE_SIZE\", size })\n    },\n    setPage(page) {\n      send({ type: \"SET_PAGE\", page })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        id: dom.getRootId(state.context),\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        \"aria-label\": translations.rootLabel,\n      })\n    },\n\n    getEllipsisProps(props) {\n      return normalize.element({\n        id: dom.getEllipsisId(state.context, props.index),\n        ...parts.ellipsis.attrs,\n        dir: state.context.dir,\n      })\n    },\n\n    getItemProps(props) {\n      const index = props.value\n      const isCurrentPage = index === state.context.page\n\n      return normalize.element({\n        id: dom.getItemId(state.context, index),\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        \"data-index\": index,\n        \"data-selected\": dataAttr(isCurrentPage),\n        \"aria-current\": isCurrentPage ? \"page\" : undefined,\n        \"aria-label\": translations.itemLabel?.({ page: index, totalPages }),\n        onClick() {\n          send({ type: \"SET_PAGE\", page: index })\n        },\n        ...(isButton && { type: \"button\" }),\n      })\n    },\n\n    getPrevTriggerProps() {\n      return normalize.element({\n        id: dom.getPrevTriggerId(state.context),\n        ...parts.prevTrigger.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(isFirstPage),\n        \"aria-label\": translations.prevTriggerLabel,\n        onClick() {\n          send({ type: \"PREVIOUS_PAGE\" })\n        },\n        ...(isButton && { disabled: isFirstPage, type: \"button\" }),\n      })\n    },\n\n    getNextTriggerProps() {\n      return normalize.element({\n        id: dom.getNextTriggerId(state.context),\n        ...parts.nextTrigger.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(isLastPage),\n        \"aria-label\": translations.nextTriggerLabel,\n        onClick() {\n          send({ type: \"NEXT_PAGE\" })\n        },\n        ...(isButton && { disabled: isLastPage, type: \"button\" }),\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./pagination.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `pagination:${ctx.id}`,\n  getPrevTriggerId: (ctx: Ctx) => ctx.ids?.prevTrigger ?? `pagination:${ctx.id}:prev`,\n  getNextTriggerId: (ctx: Ctx) => ctx.ids?.nextTrigger ?? `pagination:${ctx.id}:next`,\n  getEllipsisId: (ctx: Ctx, index: number) => ctx.ids?.ellipsis?.(index) ?? `pagination:${ctx.id}:ellipsis:${index}`,\n  getItemId: (ctx: Ctx, page: number) => ctx.ids?.item?.(page) ?? `pagination:${ctx.id}:item:${page}`,\n})\n", "import type { MachineContext as Ctx, Pages } from \"./pagination.types\"\n\nexport const range = (start: number, end: number) => {\n  let length = end - start + 1\n  return Array.from({ length }, (_, idx) => idx + start)\n}\n\nexport const transform = (items: (string | number)[]): Pages => {\n  return items.map((value) => {\n    if (typeof value === \"number\") return { type: \"page\", value }\n    return { type: \"ellipsis\" }\n  })\n}\n\nconst ELLIPSIS = \"ellipsis\"\n\nexport type PageContext = Pick<Ctx, \"siblingCount\" | \"page\" | \"totalPages\">\n\nexport const getRange = (ctx: PageContext) => {\n  /**\n   * `2 * ctx.siblingCount + 5` explanation:\n   * 2 * ctx.siblingCount for left/right siblings\n   * 5 for 2x left/right ellipsis, 2x first/last page + 1x current page\n   *\n   * For some page counts (e.g. totalPages: 8, siblingCount: 2),\n   * calculated max page is higher than total pages,\n   * so we need to take the minimum of both.\n   */\n  const totalPageNumbers = Math.min(2 * ctx.siblingCount + 5, ctx.totalPages)\n\n  const firstPageIndex = 1\n  const lastPageIndex = ctx.totalPages\n\n  const leftSiblingIndex = Math.max(ctx.page - ctx.siblingCount, firstPageIndex)\n  const rightSiblingIndex = Math.min(ctx.page + ctx.siblingCount, lastPageIndex)\n\n  const showLeftEllipsis = leftSiblingIndex > firstPageIndex + 1\n  const showRightEllipsis = rightSiblingIndex < lastPageIndex - 1\n\n  const itemCount = totalPageNumbers - 2 // 2 stands for one ellipsis and either first or last page\n\n  if (!showLeftEllipsis && showRightEllipsis) {\n    const leftRange = range(1, itemCount)\n    return [...leftRange, ELLIPSIS, lastPageIndex]\n  }\n\n  if (showLeftEllipsis && !showRightEllipsis) {\n    const rightRange = range(lastPageIndex - itemCount + 1, lastPageIndex)\n    return [firstPageIndex, ELLIPSIS, ...rightRange]\n  }\n\n  if (showLeftEllipsis && showRightEllipsis) {\n    const middleRange = range(leftSiblingIndex, rightSiblingIndex)\n    return [firstPageIndex, ELLIPSIS, ...middleRange, ELLIPSIS, lastPageIndex]\n  }\n\n  const fullRange = range(firstPageIndex, lastPageIndex)\n  return fullRange\n}\n\nexport const getTransformedRange = (ctx: PageContext) => transform(getRange(ctx))\n", "import { createMachine } from \"@zag-js/core\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./pagination.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"pagination\",\n      initial: \"idle\",\n      context: {\n        pageSize: 10,\n        siblingCount: 1,\n        page: 1,\n        type: \"button\",\n        translations: {\n          rootLabel: \"pagination\",\n          prevTriggerLabel: \"previous page\",\n          nextTriggerLabel: \"next page\",\n          itemLabel({ page, totalPages }) {\n            const isLastPage = totalPages > 1 && page === totalPages\n            return `${isLastPage ? \"last page, \" : \"\"}page ${page}`\n          },\n          ...ctx.translations,\n        },\n        ...ctx,\n      },\n\n      watch: {\n        pageSize: [\"setPageIfNeeded\"],\n      },\n\n      computed: {\n        totalPages: (ctx) => Math.ceil(ctx.count / ctx.pageSize),\n        previousPage: (ctx) => (ctx.page === 1 ? null : ctx.page - 1),\n        nextPage: (ctx) => (ctx.page === ctx.totalPages ? null : ctx.page + 1),\n        pageRange: (ctx) => {\n          const start = (ctx.page - 1) * ctx.pageSize\n          const end = start + ctx.pageSize\n          return { start, end }\n        },\n        isValidPage: (ctx) => ctx.page >= 1 && ctx.page <= ctx.totalPages,\n      },\n\n      on: {\n        SET_COUNT: [\n          {\n            guard: \"isValidCount\",\n            actions: [\"setCount\", \"goToFirstPage\"],\n          },\n          {\n            actions: \"setCount\",\n          },\n        ],\n        SET_PAGE: {\n          guard: \"isValidPage\",\n          actions: \"setPage\",\n        },\n        SET_PAGE_SIZE: {\n          actions: \"setPageSize\",\n        },\n        PREVIOUS_PAGE: {\n          guard: \"canGoToPrevPage\",\n          actions: \"goToPrevPage\",\n        },\n        NEXT_PAGE: {\n          guard: \"canGoToNextPage\",\n          actions: \"goToNextPage\",\n        },\n      },\n\n      states: {\n        idle: {},\n      },\n    },\n    {\n      guards: {\n        isValidPage: (ctx, evt) => evt.page >= 1 && evt.page <= ctx.totalPages,\n        isValidCount: (ctx, evt) => ctx.page > evt.count,\n        canGoToNextPage: (ctx) => ctx.page < ctx.totalPages,\n        canGoToPrevPage: (ctx) => ctx.page > 1,\n      },\n      actions: {\n        setCount(ctx, evt) {\n          ctx.count = evt.count\n        },\n        setPage(ctx, evt) {\n          set.page(ctx, evt.page)\n        },\n        setPageSize(ctx, evt) {\n          set.pageSize(ctx, evt.size)\n        },\n        goToFirstPage(ctx) {\n          set.page(ctx, 1)\n        },\n        goToPrevPage(ctx) {\n          set.page(ctx, ctx.page - 1)\n        },\n        goToNextPage(ctx) {\n          set.page(ctx, ctx.page + 1)\n        },\n        setPageIfNeeded(ctx, _evt) {\n          if (ctx.isValidPage) return\n          set.page(ctx, 1)\n        },\n      },\n    },\n  )\n}\n\nconst set = {\n  pageSize: (ctx: MachineContext, value: number) => {\n    if (isEqual(ctx.pageSize, value)) return\n    ctx.pageSize = value\n    ctx.onPageSizeChange?.({ pageSize: ctx.pageSize })\n  },\n  page: (ctx: MachineContext, value: number) => {\n    if (isEqual(ctx.page, value)) return\n    ctx.page = value\n    ctx.onPageChange?.({ page: ctx.page, pageSize: ctx.pageSize })\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { EllipsisProps, ItemProps, UserDefinedContext } from \"./pagination.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"count\",\n  \"dir\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"onPageChange\",\n  \"onPageSizeChange\",\n  \"page\",\n  \"pageSize\",\n  \"siblingCount\",\n  \"translations\",\n  \"type\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"value\", \"type\"])\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n\nexport const ellipsisProps = createProps<EllipsisProps>()([\"index\"])\nexport const splitEllipsisProps = createSplitProps<EllipsisProps>(ellipsisProps)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"pinInput\").parts(\"root\", \"label\", \"input\", \"control\")\nexport const parts = anatomy.build()\n", "import { getEventKey, getNativeEvent, isModifierKey, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr, getBeforeInputValue, isComposingEvent, visuallyHiddenStyle } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { invariant } from \"@zag-js/utils\"\nimport { parts } from \"./pin-input.anatomy\"\nimport { dom } from \"./pin-input.dom\"\nimport type { MachineApi, Send, State } from \"./pin-input.types\"\nimport { isValidValue } from \"./pin-input.utils\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const complete = state.context.isValueComplete\n  const invalid = state.context.invalid\n  const focusedIndex = state.context.focusedIndex\n  const translations = state.context.translations\n\n  function focus() {\n    dom.getFirstInputEl(state.context)?.focus()\n  }\n\n  return {\n    focus,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    complete: complete,\n    setValue(value) {\n      if (!Array.isArray(value)) {\n        invariant(\"[pin-input/setValue] value must be an array\")\n      }\n      send({ type: \"VALUE.SET\", value })\n    },\n    clearValue() {\n      send({ type: \"VALUE.CLEAR\" })\n    },\n    setValueAtIndex(index, value) {\n      send({ type: \"VALUE.SET\", value, index })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        ...parts.root.attrs,\n        id: dom.getRootId(state.context),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-disabled\": dataAttr(state.context.disabled),\n        \"data-complete\": dataAttr(complete),\n      })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        htmlFor: dom.getHiddenInputId(state.context),\n        id: dom.getLabelId(state.context),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-disabled\": dataAttr(state.context.disabled),\n        \"data-complete\": dataAttr(complete),\n        onClick(event) {\n          event.preventDefault()\n          focus()\n        },\n      })\n    },\n\n    getHiddenInputProps() {\n      return normalize.input({\n        \"aria-hidden\": true,\n        type: \"text\",\n        tabIndex: -1,\n        id: dom.getHiddenInputId(state.context),\n        name: state.context.name,\n        form: state.context.form,\n        style: visuallyHiddenStyle,\n        maxLength: state.context.valueLength,\n        defaultValue: state.context.valueAsString,\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        id: dom.getControlId(state.context),\n      })\n    },\n\n    getInputProps(props) {\n      const { index } = props\n      const inputType = state.context.type === \"numeric\" ? \"tel\" : \"text\"\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        disabled: state.context.disabled,\n        \"data-disabled\": dataAttr(state.context.disabled),\n        \"data-complete\": dataAttr(complete),\n        id: dom.getInputId(state.context, index.toString()),\n        \"data-ownedby\": dom.getRootId(state.context),\n        \"aria-label\": translations.inputLabel(index, state.context.valueLength),\n        inputMode: state.context.otp || state.context.type === \"numeric\" ? \"numeric\" : \"text\",\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-invalid\": dataAttr(invalid),\n        type: state.context.mask ? \"password\" : inputType,\n        defaultValue: state.context.value[index] || \"\",\n        autoCapitalize: \"none\",\n        autoComplete: state.context.otp ? \"one-time-code\" : \"off\",\n        placeholder: focusedIndex === index ? \"\" : state.context.placeholder,\n        onBeforeInput(event) {\n          try {\n            const value = getBeforeInputValue(event)\n            const isValid = isValidValue(state.context, value)\n            if (!isValid) {\n              send({ type: \"VALUE.INVALID\", value })\n              event.preventDefault()\n            }\n\n            // select the text so paste always replaces the\n            // current input's value regardless of cursor position\n            if (value.length > 2) {\n              event.currentTarget.setSelectionRange(0, 1, \"forward\")\n            }\n          } catch {\n            // noop\n          }\n        },\n        onChange(event) {\n          const evt = getNativeEvent(event)\n          const { value } = event.currentTarget\n\n          if (evt.inputType === \"insertFromPaste\" || value.length > 2) {\n            send({ type: \"INPUT.PASTE\", value })\n            // prevent multiple characters being pasted\n            // into a single input\n            event.target.value = value[0]\n\n            event.preventDefault()\n            return\n          }\n\n          if (evt.inputType === \"deleteContentBackward\") {\n            send(\"INPUT.BACKSPACE\")\n            return\n          }\n\n          send({ type: \"INPUT.CHANGE\", value, index })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n\n          if (isComposingEvent(event)) return\n          if (isModifierKey(event)) return\n\n          const keyMap: EventKeyMap = {\n            Backspace() {\n              send(\"INPUT.BACKSPACE\")\n            },\n            Delete() {\n              send(\"INPUT.DELETE\")\n            },\n            ArrowLeft() {\n              send(\"INPUT.ARROW_LEFT\")\n            },\n            ArrowRight() {\n              send(\"INPUT.ARROW_RIGHT\")\n            },\n            Enter() {\n              send(\"INPUT.ENTER\")\n            },\n          }\n\n          const exec = keyMap[getEventKey(event, state.context)]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n          }\n        },\n        onFocus() {\n          send({ type: \"INPUT.FOCUS\", index })\n        },\n        onBlur() {\n          send({ type: \"INPUT.BLUR\", index })\n        },\n      })\n    },\n  }\n}\n", "import { createScope, queryAll } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./pin-input.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `pin-input:${ctx.id}`,\n  getInputId: (ctx: Ctx, id: string) => ctx.ids?.input?.(id) ?? `pin-input:${ctx.id}:${id}`,\n  getHiddenInputId: (ctx: Ctx) => ctx.ids?.hiddenInput ?? `pin-input:${ctx.id}:hidden`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `pin-input:${ctx.id}:label`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `pin-input:${ctx.id}:control`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getInputEls: (ctx: Ctx) => {\n    const ownerId = CSS.escape(dom.getRootId(ctx))\n    const selector = `input[data-ownedby=${ownerId}]`\n    return queryAll<HTMLInputElement>(dom.getRootEl(ctx), selector)\n  },\n  getInputEl: (ctx: Ctx, id: string) => dom.getById<HTMLInputElement>(ctx, dom.getInputId(ctx, id)),\n  getFocusedInputEl: (ctx: Ctx) => dom.getInputEls(ctx)[ctx.focusedIndex],\n  getFirstInputEl: (ctx: Ctx) => dom.getInputEls(ctx)[0],\n  getHiddenInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getHiddenInputId(ctx)),\n})\n", "import type { MachineContext } from \"./pin-input.types\"\n\nconst REGEX = {\n  numeric: /^[0-9]+$/,\n  alphabetic: /^[A-Za-z]+$/,\n  alphanumeric: /^[a-zA-Z0-9]+$/i,\n}\n\nexport function isValidType(ctx: MachineContext, value: string) {\n  if (!ctx.type) return true\n  return !!REGEX[ctx.type]?.test(value)\n}\n\nexport function isValidValue(ctx: MachineContext, value: string) {\n  if (!ctx.pattern) return isValidType(ctx, value)\n  const regex = new RegExp(ctx.pattern, \"g\")\n  return regex.test(value)\n}\n", "import { choose, createMachine } from \"@zag-js/core\"\nimport { raf } from \"@zag-js/dom-query\"\nimport { dispatchInputValueEvent } from \"@zag-js/form-utils\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./pin-input.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./pin-input.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"pin-input\",\n      initial: \"idle\",\n      context: {\n        value: [],\n        placeholder: \"\",\n        otp: false,\n        type: \"numeric\",\n        ...ctx,\n        focusedIndex: -1,\n        translations: {\n          inputLabel: (index, length) => `pin code ${index + 1} of ${length}`,\n          ...ctx.translations,\n        },\n      },\n\n      computed: {\n        valueLength: (ctx) => ctx.value.length,\n        filledValueLength: (ctx) => ctx.value.filter((v) => v?.trim() !== \"\").length,\n        isValueComplete: (ctx) => ctx.valueLength === ctx.filledValueLength,\n        valueAsString: (ctx) => ctx.value.join(\"\"),\n        focusedValue: (ctx) => ctx.value[ctx.focusedIndex] || \"\",\n      },\n\n      entry: choose([\n        {\n          guard: \"autoFocus\",\n          actions: [\"setupValue\", \"setFocusIndexToFirst\"],\n        },\n        { actions: [\"setupValue\"] },\n      ]),\n\n      watch: {\n        focusedIndex: [\"focusInput\", \"selectInputIfNeeded\"],\n        value: [\"syncInputElements\"],\n        isValueComplete: [\"invokeOnComplete\", \"blurFocusedInputIfNeeded\"],\n      },\n\n      on: {\n        \"VALUE.SET\": [\n          {\n            guard: \"hasIndex\",\n            actions: [\"setValueAtIndex\"],\n          },\n          { actions: [\"setValue\"] },\n        ],\n        \"VALUE.CLEAR\": {\n          actions: [\"clearValue\", \"setFocusIndexToFirst\"],\n        },\n      },\n\n      states: {\n        idle: {\n          on: {\n            \"INPUT.FOCUS\": {\n              target: \"focused\",\n              actions: \"setFocusedIndex\",\n            },\n          },\n        },\n        focused: {\n          on: {\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"isFinalValue\",\n                actions: [\"setFocusedValue\", \"syncInputValue\"],\n              },\n              {\n                actions: [\"setFocusedValue\", \"setNextFocusedIndex\", \"syncInputValue\"],\n              },\n            ],\n            \"INPUT.PASTE\": {\n              actions: [\"setPastedValue\", \"setLastValueFocusIndex\"],\n            },\n            \"INPUT.BLUR\": {\n              target: \"idle\",\n              actions: \"clearFocusedIndex\",\n            },\n            \"INPUT.DELETE\": {\n              guard: \"hasValue\",\n              actions: \"clearFocusedValue\",\n            },\n            \"INPUT.ARROW_LEFT\": {\n              actions: \"setPrevFocusedIndex\",\n            },\n            \"INPUT.ARROW_RIGHT\": {\n              actions: \"setNextFocusedIndex\",\n            },\n            \"INPUT.BACKSPACE\": [\n              {\n                guard: \"hasValue\",\n                actions: [\"clearFocusedValue\"],\n              },\n              {\n                actions: [\"setPrevFocusedIndex\", \"clearFocusedValue\"],\n              },\n            ],\n            \"INPUT.ENTER\": {\n              guard: \"isValueComplete\",\n              actions: \"requestFormSubmit\",\n            },\n            \"VALUE.INVALID\": {\n              actions: \"invokeOnInvalid\",\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        autoFocus: (ctx) => !!ctx.autoFocus,\n        isValueEmpty: (_ctx, evt) => evt.value === \"\",\n        hasValue: (ctx) => ctx.value[ctx.focusedIndex] !== \"\",\n        isValueComplete: (ctx) => ctx.isValueComplete,\n        isFinalValue: (ctx) =>\n          ctx.filledValueLength + 1 === ctx.valueLength &&\n          ctx.value.findIndex((v) => v.trim() === \"\") === ctx.focusedIndex,\n        hasIndex: (_ctx, evt) => evt.index !== undefined,\n        isDisabled: (ctx) => !!ctx.disabled,\n      },\n      actions: {\n        setupValue(ctx) {\n          if (ctx.value.length) return\n          const inputEls = dom.getInputEls(ctx)\n          const emptyValues = Array.from<string>({ length: inputEls.length }).fill(\"\")\n          assignValue(ctx, emptyValues)\n        },\n        focusInput(ctx) {\n          if (ctx.focusedIndex === -1) return\n          dom.getFocusedInputEl(ctx)?.focus({ preventScroll: true })\n        },\n        selectInputIfNeeded(ctx) {\n          if (!ctx.selectOnFocus || ctx.focusedIndex === -1) return\n          raf(() => {\n            dom.getFocusedInputEl(ctx)?.select()\n          })\n        },\n        invokeOnComplete(ctx) {\n          if (!ctx.isValueComplete) return\n          ctx.onValueComplete?.({\n            value: Array.from(ctx.value),\n            valueAsString: ctx.valueAsString,\n          })\n        },\n        invokeOnInvalid(ctx, evt) {\n          ctx.onValueInvalid?.({\n            value: evt.value,\n            index: ctx.focusedIndex,\n          })\n        },\n        clearFocusedIndex(ctx) {\n          ctx.focusedIndex = -1\n        },\n        setFocusedIndex(ctx, evt) {\n          ctx.focusedIndex = evt.index\n        },\n        setValue(ctx, evt) {\n          set.value(ctx, evt.value)\n        },\n        setFocusedValue(ctx, evt) {\n          const nextValue = getNextValue(ctx.focusedValue, evt.value)\n          set.valueAtIndex(ctx, ctx.focusedIndex, nextValue)\n        },\n        revertInputValue(ctx) {\n          const inputEl = dom.getFocusedInputEl(ctx)\n          dom.setValue(inputEl, ctx.focusedValue)\n        },\n        syncInputValue(ctx, evt) {\n          const inputEl = dom.getInputEl(ctx, evt.index.toString())\n          dom.setValue(inputEl, ctx.value[evt.index])\n        },\n        syncInputElements(ctx) {\n          const inputEls = dom.getInputEls(ctx)\n          inputEls.forEach((inputEl, index) => {\n            dom.setValue(inputEl, ctx.value[index])\n          })\n        },\n        setPastedValue(ctx, evt) {\n          raf(() => {\n            const startIndex = Math.min(ctx.focusedIndex, ctx.filledValueLength)\n\n            // keep value left of cursor\n            // replace value from curor to end with pasted text\n            const left = startIndex > 0 ? ctx.valueAsString.substring(0, ctx.focusedIndex) : \"\"\n            const right = evt.value.substring(0, ctx.valueLength - startIndex)\n\n            const value = left + right\n\n            set.value(ctx, value.split(\"\"))\n          })\n        },\n        setValueAtIndex(ctx, evt) {\n          const nextValue = getNextValue(ctx.focusedValue, evt.value)\n          set.valueAtIndex(ctx, evt.index, nextValue)\n        },\n        clearValue(ctx) {\n          const nextValue = Array.from<string>({ length: ctx.valueLength }).fill(\"\")\n          set.value(ctx, nextValue)\n        },\n        clearFocusedValue(ctx) {\n          set.valueAtIndex(ctx, ctx.focusedIndex, \"\")\n        },\n        setFocusIndexToFirst(ctx) {\n          ctx.focusedIndex = 0\n        },\n        setNextFocusedIndex(ctx) {\n          ctx.focusedIndex = Math.min(ctx.focusedIndex + 1, ctx.valueLength - 1)\n        },\n        setPrevFocusedIndex(ctx) {\n          ctx.focusedIndex = Math.max(ctx.focusedIndex - 1, 0)\n        },\n        setLastValueFocusIndex(ctx) {\n          raf(() => {\n            ctx.focusedIndex = Math.min(ctx.filledValueLength, ctx.valueLength - 1)\n          })\n        },\n        blurFocusedInputIfNeeded(ctx) {\n          if (!ctx.blurOnComplete) return\n          raf(() => {\n            dom.getFocusedInputEl(ctx)?.blur()\n          })\n        },\n        requestFormSubmit(ctx) {\n          if (!ctx.name || !ctx.isValueComplete) return\n          const inputEl = dom.getHiddenInputEl(ctx)\n          inputEl?.form?.requestSubmit()\n        },\n      },\n    },\n  )\n}\n\nfunction assignValue(ctx: MachineContext, value: string | string[]) {\n  const arr = Array.isArray(value) ? value : value.split(\"\").filter(Boolean)\n  arr.forEach((value, index) => {\n    ctx.value[index] = value\n  })\n}\n\nfunction getNextValue(current: string, next: string) {\n  let nextValue = next\n  if (current[0] === next[0]) nextValue = next[1]\n  else if (current[0] === next[1]) nextValue = next[0]\n  return nextValue.split(\"\")[nextValue.length - 1]\n}\n\nconst invoke = {\n  change(ctx: MachineContext) {\n    // callback\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      valueAsString: ctx.valueAsString,\n    })\n\n    // form event\n    const inputEl = dom.getHiddenInputEl(ctx)\n    dispatchInputValueEvent(inputEl, { value: ctx.valueAsString })\n  },\n}\n\nconst set = {\n  value(ctx: MachineContext, value: string[]) {\n    if (isEqual(ctx.value, value)) return\n    assignValue(ctx, value)\n    invoke.change(ctx)\n  },\n  valueAtIndex(ctx: MachineContext, index: number, value: string) {\n    if (isEqual(ctx.value[index], value)) return\n    ctx.value[index] = value\n    invoke.change(ctx)\n  },\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"popover\").parts(\n  \"arrow\",\n  \"arrowTip\",\n  \"anchor\",\n  \"trigger\",\n  \"indicator\",\n  \"positioner\",\n  \"content\",\n  \"title\",\n  \"description\",\n  \"closeTrigger\",\n)\n\nexport const parts = anatomy.build()\n", "import { dataAttr } from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./popover.anatomy\"\nimport { dom } from \"./popover.dom\"\nimport type { MachineApi, Send, State } from \"./popover.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const open = state.matches(\"open\")\n\n  const currentPlacement = state.context.currentPlacement\n  const portalled = state.context.currentPortalled\n  const rendered = state.context.renderedElements\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: currentPlacement,\n  })\n\n  return {\n    portalled,\n    open: open,\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options })\n    },\n\n    getArrowProps() {\n      return normalize.element({\n        id: dom.getArrowId(state.context),\n        ...parts.arrow.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrow,\n      })\n    },\n\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrowTip,\n      })\n    },\n\n    getAnchorProps() {\n      return normalize.element({\n        ...parts.anchor.attrs,\n        dir: state.context.dir,\n        id: dom.getAnchorId(state.context),\n      })\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: state.context.dir,\n        type: \"button\",\n        \"data-placement\": currentPlacement,\n        id: dom.getTriggerId(state.context),\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-controls\": dom.getContentId(state.context),\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send(\"TOGGLE\")\n        },\n        onBlur(event) {\n          send({ type: \"TRIGGER_BLUR\", target: event.relatedTarget })\n        },\n      })\n    },\n\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        dir: state.context.dir,\n        \"data-state\": open ? \"open\" : \"closed\",\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        id: dom.getPositionerId(state.context),\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        style: popperStyles.floating,\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        dir: state.context.dir,\n        id: dom.getContentId(state.context),\n        tabIndex: -1,\n        role: \"dialog\",\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-expanded\": dataAttr(open),\n        \"aria-labelledby\": rendered.title ? dom.getTitleId(state.context) : undefined,\n        \"aria-describedby\": rendered.description ? dom.getDescriptionId(state.context) : undefined,\n        \"data-placement\": currentPlacement,\n      })\n    },\n\n    getTitleProps() {\n      return normalize.element({\n        ...parts.title.attrs,\n        id: dom.getTitleId(state.context),\n        dir: state.context.dir,\n      })\n    },\n\n    getDescriptionProps() {\n      return normalize.element({\n        ...parts.description.attrs,\n        id: dom.getDescriptionId(state.context),\n        dir: state.context.dir,\n      })\n    },\n\n    getCloseTriggerProps() {\n      return normalize.button({\n        ...parts.closeTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getCloseTriggerId(state.context),\n        type: \"button\",\n        \"aria-label\": \"close\",\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send(\"CLOSE\")\n        },\n      })\n    },\n  }\n}\n", "import { createScope, getFocusables } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./popover.types\"\n\nexport const dom = createScope({\n  getAnchorId: (ctx: Ctx) => ctx.ids?.anchor ?? `popover:${ctx.id}:anchor`,\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `popover:${ctx.id}:trigger`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `popover:${ctx.id}:content`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `popover:${ctx.id}:popper`,\n  getArrowId: (ctx: Ctx) => ctx.ids?.arrow ?? `popover:${ctx.id}:arrow`,\n  getTitleId: (ctx: Ctx) => ctx.ids?.title ?? `popover:${ctx.id}:title`,\n  getDescriptionId: (ctx: Ctx) => ctx.ids?.description ?? `popover:${ctx.id}:desc`,\n  getCloseTriggerId: (ctx: Ctx) => ctx.ids?.closeTrigger ?? `popover:${ctx.id}:close`,\n\n  getAnchorEl: (ctx: Ctx) => dom.getById(ctx, dom.getAnchorId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getTitleEl: (ctx: Ctx) => dom.getById(ctx, dom.getTitleId(ctx)),\n  getDescriptionEl: (ctx: Ctx) => dom.getById(ctx, dom.getDescriptionId(ctx)),\n\n  getFocusableEls: (ctx: Ctx) => getFocusables(dom.getContentEl(ctx)),\n  getFirstFocusableEl: (ctx: Ctx) => dom.getFocusableEls(ctx)[0],\n})\n", "import { ariaHidden } from \"@zag-js/aria-hidden\"\nimport { createMachine } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { getInitialFocus, nextTick, proxyTabFocus, raf } from \"@zag-js/dom-query\"\nimport { getPlacement } from \"@zag-js/popper\"\nimport { preventBodyScroll } from \"@zag-js/remove-scroll\"\nimport { compact } from \"@zag-js/utils\"\nimport { createFocusTrap, type FocusTrap } from \"focus-trap\"\nimport { dom } from \"./popover.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./popover.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"popover\",\n      initial: ctx.open ? \"open\" : \"closed\",\n      context: {\n        closeOnInteractOutside: true,\n        closeOnEscape: true,\n        autoFocus: true,\n        modal: false,\n        portalled: true,\n        positioning: {\n          placement: \"bottom\",\n          ...ctx.positioning,\n        },\n        currentPlacement: undefined,\n        ...ctx,\n        renderedElements: {\n          title: true,\n          description: true,\n        },\n      },\n\n      computed: {\n        currentPortalled: (ctx) => !!ctx.modal || !!ctx.portalled,\n      },\n\n      watch: {\n        open: [\"toggleVisibility\"],\n      },\n\n      entry: [\"checkRenderedElements\"],\n\n      states: {\n        closed: {\n          on: {\n            \"CONTROLLED.OPEN\": {\n              target: \"open\",\n              actions: [\"setInitialFocus\"],\n            },\n            TOGGLE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"setInitialFocus\"],\n              },\n            ],\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"setInitialFocus\"],\n              },\n            ],\n          },\n        },\n\n        open: {\n          activities: [\n            \"trapFocus\",\n            \"preventScroll\",\n            \"hideContentBelow\",\n            \"trackPositioning\",\n            \"trackDismissableElement\",\n            \"proxyTabFocus\",\n          ],\n          on: {\n            \"CONTROLLED.CLOSE\": {\n              target: \"closed\",\n              actions: [\"setFinalFocus\"],\n            },\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\", \"setFinalFocus\"],\n              },\n            ],\n            TOGGLE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            \"POSITIONING.SET\": {\n              actions: \"reposition\",\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n      },\n      activities: {\n        trackPositioning(ctx) {\n          ctx.currentPlacement = ctx.positioning.placement\n          const anchorEl = dom.getAnchorEl(ctx) ?? dom.getTriggerEl(ctx)\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(anchorEl, getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        trackDismissableElement(ctx, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx)\n          let restoreFocus = true\n          return trackDismissableElement(getContentEl, {\n            pointerBlocking: ctx.modal,\n            exclude: dom.getTriggerEl(ctx),\n            defer: true,\n            onEscapeKeyDown(event) {\n              ctx.onEscapeKeyDown?.(event)\n              if (ctx.closeOnEscape) return\n              event.preventDefault()\n            },\n            onInteractOutside(event) {\n              ctx.onInteractOutside?.(event)\n              if (event.defaultPrevented) return\n              restoreFocus = !(event.detail.focusable || event.detail.contextmenu)\n              if (!ctx.closeOnInteractOutside) {\n                event.preventDefault()\n              }\n            },\n            onPointerDownOutside: ctx.onPointerDownOutside,\n            onFocusOutside: ctx.onFocusOutside,\n            persistentElements: ctx.persistentElements,\n            onDismiss() {\n              send({ type: \"CLOSE\", src: \"interact-outside\", restoreFocus })\n            },\n          })\n        },\n        proxyTabFocus(ctx) {\n          if (ctx.modal || !ctx.portalled) return\n          const getContentEl = () => dom.getContentEl(ctx)\n          return proxyTabFocus(getContentEl, {\n            triggerElement: dom.getTriggerEl(ctx),\n            defer: true,\n            onFocus(el) {\n              el.focus({ preventScroll: true })\n            },\n          })\n        },\n        hideContentBelow(ctx) {\n          if (!ctx.modal) return\n          const getElements = () => [dom.getContentEl(ctx), dom.getTriggerEl(ctx)]\n          return ariaHidden(getElements, { defer: true })\n        },\n        preventScroll(ctx) {\n          if (!ctx.modal) return\n          return preventBodyScroll(dom.getDoc(ctx))\n        },\n        trapFocus(ctx) {\n          if (!ctx.modal) return\n          let trap: FocusTrap | undefined\n          nextTick(() => {\n            const contentEl = dom.getContentEl(ctx)\n            if (!contentEl) return\n            trap = createFocusTrap(contentEl, {\n              escapeDeactivates: false,\n              allowOutsideClick: true,\n              preventScroll: true,\n              returnFocusOnDeactivate: true,\n              document: dom.getDoc(ctx),\n              fallbackFocus: contentEl,\n              initialFocus: getInitialFocus({\n                root: dom.getContentEl(ctx),\n                getInitialEl: ctx.initialFocusEl,\n                enabled: ctx.autoFocus,\n              }),\n            })\n\n            try {\n              trap.activate()\n            } catch {}\n          })\n          return () => trap?.deactivate()\n        },\n      },\n      actions: {\n        reposition(ctx, evt) {\n          const anchorEl = dom.getAnchorEl(ctx) ?? dom.getTriggerEl(ctx)\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          getPlacement(anchorEl, getPositionerEl, {\n            ...ctx.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        checkRenderedElements(ctx) {\n          raf(() => {\n            Object.assign(ctx.renderedElements, {\n              title: !!dom.getTitleEl(ctx),\n              description: !!dom.getDescriptionEl(ctx),\n            })\n          })\n        },\n        setInitialFocus(ctx) {\n          // handoff to `trapFocus` activity for initial focus\n          if (ctx.modal) return\n          raf(() => {\n            const element = getInitialFocus({\n              root: dom.getContentEl(ctx),\n              getInitialEl: ctx.initialFocusEl,\n              enabled: ctx.autoFocus,\n            })\n            element?.focus({ preventScroll: true })\n          })\n        },\n        setFinalFocus(ctx, evt) {\n          if (!evt.restoreFocus) return\n          raf(() => {\n            const element = dom.getTriggerEl(ctx)\n            element?.focus({ preventScroll: true })\n          })\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n      },\n    },\n  )\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./popover.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"autoFocus\",\n  \"closeOnEscape\",\n  \"closeOnInteractOutside\",\n  \"dir\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"initialFocusEl\",\n  \"modal\",\n  \"onEscapeKeyDown\",\n  \"onFocusOutside\",\n  \"onInteractOutside\",\n  \"onOpenChange\",\n  \"onPointerDownOutside\",\n  \"open.controlled\",\n  \"open\",\n  \"persistentElements\",\n  \"portalled\",\n  \"positioning\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"progress\").parts(\n  \"root\",\n  \"label\",\n  \"track\",\n  \"range\",\n  \"valueText\",\n  \"view\",\n  \"circle\",\n  \"circleTrack\",\n  \"circleRange\",\n)\n\nexport const parts = anatomy.build()\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./progress.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `progress-${ctx.id}`,\n  getTrackId: (ctx: Ctx) => ctx.ids?.track ?? `progress-${ctx.id}-track`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `progress-${ctx.id}-label`,\n  getCircleId: (ctx: Ctx) => ctx.ids?.circle ?? `progress-${ctx.id}-circle`,\n})\n", "import type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./progress.anatomy\"\nimport { dom } from \"./progress.dom\"\nimport type { MachineApi, MachineContext, ProgressState, Send, State } from \"./progress.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const percent = state.context.percent\n  const max = state.context.max\n  const min = state.context.min\n\n  const orientation = state.context.orientation\n  const translations = state.context.translations\n  const indeterminate = state.context.isIndeterminate\n\n  const value = state.context.value\n  const valueAsString = translations.value({ value, max, percent, min })\n  const progressState = getProgressState(value, max)\n\n  const progressbarProps = {\n    role: \"progressbar\",\n    \"aria-label\": valueAsString,\n    \"data-max\": max,\n    \"aria-valuemin\": min,\n    \"aria-valuemax\": max,\n    \"aria-valuenow\": value ?? undefined,\n    \"data-orientation\": orientation,\n    \"data-state\": progressState,\n  }\n\n  const circleProps = getCircleProps(state.context)\n\n  return {\n    value,\n    valueAsString,\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value })\n    },\n    setToMax() {\n      send({ type: \"VALUE.SET\", value: max })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        ...parts.root.attrs,\n        id: dom.getRootId(state.context),\n        \"data-max\": max,\n        \"data-value\": value ?? undefined,\n        \"data-state\": progressState,\n        \"data-orientation\": orientation,\n        style: {\n          \"--percent\": indeterminate ? undefined : percent,\n        },\n      })\n    },\n\n    getLabelProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        id: dom.getLabelId(state.context),\n        ...parts.label.attrs,\n        \"data-orientation\": orientation,\n      })\n    },\n\n    getValueTextProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        \"aria-live\": \"polite\",\n        ...parts.valueText.attrs,\n      })\n    },\n\n    getTrackProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        id: dom.getTrackId(state.context),\n        ...parts.track.attrs,\n        ...progressbarProps,\n      })\n    },\n\n    getRangeProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        ...parts.range.attrs,\n        \"data-orientation\": orientation,\n        \"data-state\": progressState,\n        style: {\n          [state.context.isHorizontal ? \"width\" : \"height\"]: indeterminate ? undefined : `${percent}%`,\n        },\n      })\n    },\n\n    getCircleProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        id: dom.getCircleId(state.context),\n        ...parts.circle.attrs,\n        ...progressbarProps,\n        ...circleProps.root,\n      })\n    },\n\n    getCircleTrackProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        \"data-orientation\": orientation,\n        ...parts.circleTrack.attrs,\n        ...circleProps.track,\n      })\n    },\n\n    getCircleRangeProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        ...parts.circleRange.attrs,\n        ...circleProps.range,\n        \"data-state\": progressState,\n      })\n    },\n\n    getViewProps(props) {\n      return normalize.element({\n        dir: state.context.dir,\n        ...parts.view.attrs,\n        \"data-state\": props.state,\n        hidden: props.state !== progressState,\n      })\n    },\n  }\n}\n\nfunction getProgressState(value: number | null, maxValue: number): ProgressState {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\"\n}\n\nfunction getCircleProps(ctx: MachineContext) {\n  const circleProps = {\n    style: {\n      \"--radius\": \"calc(var(--size) / 2 - var(--thickness) / 2)\",\n      cx: \"calc(var(--size) / 2)\",\n      cy: \"calc(var(--size) / 2)\",\n      r: \"var(--radius)\",\n      fill: \"transparent\",\n      strokeWidth: \"var(--thickness)\",\n    },\n  }\n  return {\n    root: {\n      viewBox: \"0 0 var(--size) var(--size)\",\n      style: {\n        width: \"var(--size)\",\n        height: \"var(--size)\",\n      },\n    },\n    track: circleProps,\n    range: {\n      opacity: ctx.value === 0 ? 0 : undefined,\n      style: {\n        ...circleProps.style,\n        \"--percent\": ctx.percent,\n        \"--circumference\": `calc(2 * 3.14159 * var(--radius))`,\n        \"--offset\": `calc(var(--circumference) * (100 - var(--percent)) / 100}))`,\n        strokeDashoffset: `calc(var(--circumference) * ((100 - var(--percent)) / 100))`,\n        strokeDasharray: ctx.isIndeterminate ? undefined : `var(--circumference)`,\n        transformOrigin: \"center\",\n        transform: \"rotate(-90deg)\",\n      },\n    },\n  }\n}\n", "import { createMachine } from \"@zag-js/core\"\nimport { compact, isNumber } from \"@zag-js/utils\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./progress.types\"\n\nfunction midValue(min: number, max: number) {\n  return min + (max - min) / 2\n}\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"progress\",\n      initial: \"idle\",\n      context: {\n        max: ctx.max ?? 100,\n        min: ctx.min ?? 0,\n        value: midValue(ctx.min ?? 0, ctx.max ?? 100),\n        orientation: \"horizontal\",\n        translations: {\n          value: ({ percent }) => (percent === -1 ? \"loading...\" : `${percent} percent`),\n          ...ctx.translations,\n        },\n        ...ctx,\n      },\n\n      created: [\"validateContext\"],\n\n      computed: {\n        isIndeterminate: (ctx) => ctx.value === null,\n        percent(ctx) {\n          if (!isNumber(ctx.value)) return -1\n          return Math.round(((ctx.value - ctx.min) / (ctx.max - ctx.min)) * 100)\n        },\n        isAtMax: (ctx) => ctx.value === ctx.max,\n        isHorizontal: (ctx) => ctx.orientation === \"horizontal\",\n        isRtl: (ctx) => ctx.dir === \"rtl\",\n      },\n\n      states: {\n        idle: {\n          on: {\n            \"VALUE.SET\": {\n              actions: [\"setValue\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      actions: {\n        setValue: (ctx, evt) => {\n          ctx.value = evt.value === null ? null : Math.max(0, Math.min(evt.value, ctx.max))\n        },\n        validateContext: (ctx) => {\n          if (ctx.value == null) return\n\n          if (!isValidNumber(ctx.max)) {\n            throw new Error(`[progress] The max value passed \\`${ctx.max}\\` is not a valid number`)\n          }\n\n          if (!isValidMax(ctx.value, ctx.max)) {\n            throw new Error(`[progress] The value passed \\`${ctx.value}\\` exceeds the max value \\`${ctx.max}\\``)\n          }\n\n          if (!isValidMin(ctx.value, ctx.min)) {\n            throw new Error(`[progress] The value passed \\`${ctx.value}\\` exceeds the min value \\`${ctx.min}\\``)\n          }\n        },\n      },\n    },\n  )\n}\n\nfunction isValidNumber(max: any) {\n  return isNumber(max) && !isNaN(max)\n}\n\nfunction isValidMax(value: number, max: number) {\n  return isValidNumber(value) && value <= max\n}\n\nfunction isValidMin(value: number, min: number) {\n  return isValidNumber(value) && value >= min\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./progress.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"dir\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"max\",\n  \"min\",\n  \"orientation\",\n  \"translations\",\n  \"value\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "import { createProxy, isChanged, getUntracked, trackMemo } from 'proxy-compare';\n// This is required only for performance.\n// https://github.com/dai-shi/proxy-memoize/issues/68\nconst targetCache = new WeakMap();\n// constants from proxy-compare\nconst HAS_KEY_PROPERTY = 'h';\nconst ALL_OWN_KEYS_PROPERTY = 'w';\nconst HAS_OWN_KEY_PROPERTY = 'o';\nconst KEYS_PROPERTY = 'k';\nconst trackMemoOriginalObjSet = new WeakSet();\nconst isObject = (x) => typeof x === 'object' && x !== null;\nconst untrack = (x, seen) => {\n    if (!isObject(x))\n        return x;\n    const originalObj = getUntracked(x);\n    if (originalObj !== null) {\n        trackMemo(x);\n        trackMemoOriginalObjSet.add(originalObj);\n        return originalObj;\n    }\n    if (!seen.has(x)) {\n        seen.add(x);\n        Object.entries(x).forEach(([k, v]) => {\n            const vv = untrack(v, seen);\n            if (!Object.is(vv, v))\n                x[k] = vv;\n        });\n    }\n    return x;\n};\nconst touchAffected = (dst, src, affected) => {\n    var _a, _b, _c;\n    if (!isObject(dst) || !isObject(src))\n        return;\n    if (trackMemoOriginalObjSet.has(getUntracked(src))) {\n        trackMemo(dst);\n        return;\n    }\n    const used = affected.get(getUntracked(src) || src);\n    if (!used)\n        return;\n    (_a = used[HAS_KEY_PROPERTY]) === null || _a === void 0 ? void 0 : _a.forEach((key) => {\n        Reflect.has(dst, key);\n    });\n    if (used[ALL_OWN_KEYS_PROPERTY] === true) {\n        Reflect.ownKeys(dst);\n    }\n    (_b = used[HAS_OWN_KEY_PROPERTY]) === null || _b === void 0 ? void 0 : _b.forEach((key) => {\n        Reflect.getOwnPropertyDescriptor(dst, key);\n    });\n    (_c = used[KEYS_PROPERTY]) === null || _c === void 0 ? void 0 : _c.forEach((key) => {\n        touchAffected(dst[key], src[key], affected);\n    });\n};\nconst isOriginalEqual = (x, y) => {\n    for (let xx = x; xx; x = xx, xx = getUntracked(xx))\n        ;\n    for (let yy = y; yy; y = yy, yy = getUntracked(yy))\n        ;\n    return Object.is(x, y);\n};\n// properties\nconst OBJ_PROPERTY = 'o';\nconst RESULT_PROPERTY = 'r';\nconst AFFECTED_PROPERTY = 'a';\n/**\n * Create a memoized function\n *\n * @example\n * import { memoize } from 'proxy-memoize';\n *\n * const fn = memoize(obj => ({ sum: obj.a + obj.b, diff: obj.a - obj.b }));\n *\n * @param options\n * @param options.size - (default: 1)\n * @param options.noWeakMap - disable tier-1 cache (default: false)\n */\nexport function memoize(fn, options) {\n    var _a;\n    let memoListHead = 0;\n    const size = (_a = options === null || options === void 0 ? void 0 : options.size) !== null && _a !== void 0 ? _a : 1;\n    const memoList = [];\n    const resultCache = (options === null || options === void 0 ? void 0 : options.noWeakMap) ? null : new WeakMap();\n    const memoizedFn = (obj) => {\n        const cache = resultCache === null || resultCache === void 0 ? void 0 : resultCache.get(obj);\n        if (cache) {\n            return cache;\n        }\n        for (let i = 0; i < size; i += 1) {\n            const memo = memoList[(memoListHead + i) % size];\n            if (!memo)\n                break;\n            const { [OBJ_PROPERTY]: memoObj, [AFFECTED_PROPERTY]: memoAffected, [RESULT_PROPERTY]: memoResult, } = memo;\n            if (!isChanged(memoObj, obj, memoAffected, new WeakMap(), isOriginalEqual)) {\n                touchAffected(obj, memoObj, memoAffected);\n                resultCache === null || resultCache === void 0 ? void 0 : resultCache.set(obj, memoResult);\n                return memoResult;\n            }\n        }\n        const affected = new WeakMap();\n        const proxy = createProxy(obj, affected, undefined, targetCache);\n        const result = untrack(fn(proxy), new WeakSet());\n        touchAffected(obj, obj, affected);\n        const entry = {\n            [OBJ_PROPERTY]: obj,\n            [RESULT_PROPERTY]: result,\n            [AFFECTED_PROPERTY]: affected,\n        };\n        memoListHead = (memoListHead - 1 + size) % size;\n        memoList[memoListHead] = entry;\n        resultCache === null || resultCache === void 0 ? void 0 : resultCache.set(obj, result);\n        return result;\n    };\n    return memoizedFn;\n}\n", "var QrCodeDataType = /* @__PURE__ */ ((QrCodeDataType2) => {\n  QrCodeDataType2[QrCodeDataType2[\"Border\"] = -1] = \"Border\";\n  QrCodeDataType2[QrCodeDataType2[\"Data\"] = 0] = \"Data\";\n  QrCodeDataType2[QrCodeDataType2[\"Function\"] = 1] = \"Function\";\n  QrCodeDataType2[QrCodeDataType2[\"Position\"] = 2] = \"Position\";\n  QrCodeDataType2[QrCodeDataType2[\"Timing\"] = 3] = \"Timing\";\n  QrCodeDataType2[QrCodeDataType2[\"Alignment\"] = 4] = \"Alignment\";\n  return QrCodeDataType2;\n})(QrCodeDataType || {});\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst LOW = [0, 1];\nconst MEDIUM = [1, 0];\nconst QUARTILE = [2, 3];\nconst HIGH = [3, 2];\nconst EccMap = {\n  L: LOW,\n  M: MEDIUM,\n  Q: QUARTILE,\n  H: HIGH\n};\nconst NUMERIC_REGEX = /^[0-9]*$/;\nconst ALPHANUMERIC_REGEX = /^[A-Z0-9 $%*+.\\/:-]*$/;\nconst ALPHANUMERIC_CHARSET = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:\";\nconst MIN_VERSION = 1;\nconst MAX_VERSION = 40;\nconst PENALTY_N1 = 3;\nconst PENALTY_N2 = 3;\nconst PENALTY_N3 = 40;\nconst PENALTY_N4 = 10;\nconst ECC_CODEWORDS_PER_BLOCK = [\n  // Version: (note that index 0 is for padding, and is set to an illegal value)\n  // 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\n  [-1, 7, 10, 15, 20, 26, 18, 20, 24, 30, 18, 20, 24, 26, 30, 22, 24, 28, 30, 28, 28, 28, 28, 30, 30, 26, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],\n  // Low\n  [-1, 10, 16, 26, 18, 24, 16, 18, 22, 22, 26, 30, 22, 22, 24, 24, 28, 28, 26, 26, 26, 26, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28],\n  // Medium\n  [-1, 13, 22, 18, 26, 18, 24, 18, 22, 20, 24, 28, 26, 24, 20, 30, 24, 28, 28, 26, 30, 28, 30, 30, 30, 30, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],\n  // Quartile\n  [-1, 17, 28, 22, 16, 22, 28, 26, 26, 24, 28, 24, 28, 22, 24, 24, 30, 28, 28, 26, 28, 30, 24, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30]\n  // High\n];\nconst NUM_ERROR_CORRECTION_BLOCKS = [\n  // Version: (note that index 0 is for padding, and is set to an illegal value)\n  // 0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\n  [-1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 4, 4, 4, 4, 4, 6, 6, 6, 6, 7, 8, 8, 9, 9, 10, 12, 12, 12, 13, 14, 15, 16, 17, 18, 19, 19, 20, 21, 22, 24, 25],\n  // Low\n  [-1, 1, 1, 1, 2, 2, 4, 4, 4, 5, 5, 5, 8, 9, 9, 10, 10, 11, 13, 14, 16, 17, 17, 18, 20, 21, 23, 25, 26, 28, 29, 31, 33, 35, 37, 38, 40, 43, 45, 47, 49],\n  // Medium\n  [-1, 1, 1, 2, 2, 4, 4, 6, 6, 8, 8, 8, 10, 12, 16, 12, 17, 16, 18, 21, 20, 23, 23, 25, 27, 29, 34, 34, 35, 38, 40, 43, 45, 48, 51, 53, 56, 59, 62, 65, 68],\n  // Quartile\n  [-1, 1, 1, 2, 4, 4, 4, 5, 6, 8, 8, 11, 11, 16, 16, 18, 16, 19, 21, 25, 25, 25, 34, 30, 32, 35, 37, 40, 42, 45, 48, 51, 54, 57, 60, 63, 66, 70, 74, 77, 81]\n  // High\n];\nclass QrCode {\n  /* -- Constructor (low level) and fields -- */\n  // Creates a new QR Code with the given version number,\n  // error correction level, data codeword bytes, and mask number.\n  // This is a low-level API that most users should not use directly.\n  // A mid-level API is the encodeSegments() function.\n  constructor(version, ecc, dataCodewords, msk) {\n    this.version = version;\n    this.ecc = ecc;\n    /* -- Fields -- */\n    // The width and height of this QR Code, measured in modules, between\n    // 21 and 177 (inclusive). This is equal to version * 4 + 17.\n    __publicField(this, \"size\");\n    // The index of the mask pattern used in this QR Code, which is between 0 and 7 (inclusive).\n    // Even if a QR Code is created with automatic masking requested (mask = -1),\n    // the resulting object still has a mask value between 0 and 7.\n    __publicField(this, \"mask\");\n    // The modules of this QR Code (false = light, true = dark).\n    // Immutable after constructor finishes. Accessed through getModule().\n    __publicField(this, \"modules\", []);\n    __publicField(this, \"types\", []);\n    if (version < MIN_VERSION || version > MAX_VERSION)\n      throw new RangeError(\"Version value out of range\");\n    if (msk < -1 || msk > 7)\n      throw new RangeError(\"Mask value out of range\");\n    this.size = version * 4 + 17;\n    const row = Array.from({ length: this.size }, () => false);\n    for (let i = 0; i < this.size; i++) {\n      this.modules.push(row.slice());\n      this.types.push(row.map(() => 0));\n    }\n    this.drawFunctionPatterns();\n    const allCodewords = this.addEccAndInterleave(dataCodewords);\n    this.drawCodewords(allCodewords);\n    if (msk === -1) {\n      let minPenalty = 1e9;\n      for (let i = 0; i < 8; i++) {\n        this.applyMask(i);\n        this.drawFormatBits(i);\n        const penalty = this.getPenaltyScore();\n        if (penalty < minPenalty) {\n          msk = i;\n          minPenalty = penalty;\n        }\n        this.applyMask(i);\n      }\n    }\n    this.mask = msk;\n    this.applyMask(msk);\n    this.drawFormatBits(msk);\n  }\n  /* -- Accessor methods -- */\n  // Returns the color of the module (pixel) at the given coordinates, which is false\n  // for light or true for dark. The top left corner has the coordinates (x=0, y=0).\n  // If the given coordinates are out of bounds, then false (light) is returned.\n  getModule(x, y) {\n    return x >= 0 && x < this.size && y >= 0 && y < this.size && this.modules[y][x];\n  }\n  /* -- Private helper methods for constructor: Drawing function modules -- */\n  // Reads this object's version field, and draws and marks all function modules.\n  drawFunctionPatterns() {\n    for (let i = 0; i < this.size; i++) {\n      this.setFunctionModule(6, i, i % 2 === 0, QrCodeDataType.Timing);\n      this.setFunctionModule(i, 6, i % 2 === 0, QrCodeDataType.Timing);\n    }\n    this.drawFinderPattern(3, 3);\n    this.drawFinderPattern(this.size - 4, 3);\n    this.drawFinderPattern(3, this.size - 4);\n    const alignPatPos = this.getAlignmentPatternPositions();\n    const numAlign = alignPatPos.length;\n    for (let i = 0; i < numAlign; i++) {\n      for (let j = 0; j < numAlign; j++) {\n        if (!(i === 0 && j === 0 || i === 0 && j === numAlign - 1 || i === numAlign - 1 && j === 0))\n          this.drawAlignmentPattern(alignPatPos[i], alignPatPos[j]);\n      }\n    }\n    this.drawFormatBits(0);\n    this.drawVersion();\n  }\n  // Draws two copies of the format bits (with its own error correction code)\n  // based on the given mask and this object's error correction level field.\n  drawFormatBits(mask) {\n    const data = this.ecc[1] << 3 | mask;\n    let rem = data;\n    for (let i = 0; i < 10; i++)\n      rem = rem << 1 ^ (rem >>> 9) * 1335;\n    const bits = (data << 10 | rem) ^ 21522;\n    for (let i = 0; i <= 5; i++)\n      this.setFunctionModule(8, i, getBit(bits, i));\n    this.setFunctionModule(8, 7, getBit(bits, 6));\n    this.setFunctionModule(8, 8, getBit(bits, 7));\n    this.setFunctionModule(7, 8, getBit(bits, 8));\n    for (let i = 9; i < 15; i++)\n      this.setFunctionModule(14 - i, 8, getBit(bits, i));\n    for (let i = 0; i < 8; i++)\n      this.setFunctionModule(this.size - 1 - i, 8, getBit(bits, i));\n    for (let i = 8; i < 15; i++)\n      this.setFunctionModule(8, this.size - 15 + i, getBit(bits, i));\n    this.setFunctionModule(8, this.size - 8, true);\n  }\n  // Draws two copies of the version bits (with its own error correction code),\n  // based on this object's version field, iff 7 <= version <= 40.\n  drawVersion() {\n    if (this.version < 7)\n      return;\n    let rem = this.version;\n    for (let i = 0; i < 12; i++)\n      rem = rem << 1 ^ (rem >>> 11) * 7973;\n    const bits = this.version << 12 | rem;\n    for (let i = 0; i < 18; i++) {\n      const color = getBit(bits, i);\n      const a = this.size - 11 + i % 3;\n      const b = Math.floor(i / 3);\n      this.setFunctionModule(a, b, color);\n      this.setFunctionModule(b, a, color);\n    }\n  }\n  // Draws a 9*9 finder pattern including the border separator,\n  // with the center module at (x, y). Modules can be out of bounds.\n  drawFinderPattern(x, y) {\n    for (let dy = -4; dy <= 4; dy++) {\n      for (let dx = -4; dx <= 4; dx++) {\n        const dist = Math.max(Math.abs(dx), Math.abs(dy));\n        const xx = x + dx;\n        const yy = y + dy;\n        if (xx >= 0 && xx < this.size && yy >= 0 && yy < this.size)\n          this.setFunctionModule(xx, yy, dist !== 2 && dist !== 4, QrCodeDataType.Position);\n      }\n    }\n  }\n  // Draws a 5*5 alignment pattern, with the center module\n  // at (x, y). All modules must be in bounds.\n  drawAlignmentPattern(x, y) {\n    for (let dy = -2; dy <= 2; dy++) {\n      for (let dx = -2; dx <= 2; dx++) {\n        this.setFunctionModule(\n          x + dx,\n          y + dy,\n          Math.max(Math.abs(dx), Math.abs(dy)) !== 1,\n          QrCodeDataType.Alignment\n        );\n      }\n    }\n  }\n  // Sets the color of a module and marks it as a function module.\n  // Only used by the constructor. Coordinates must be in bounds.\n  setFunctionModule(x, y, isDark, type = QrCodeDataType.Function) {\n    this.modules[y][x] = isDark;\n    this.types[y][x] = type;\n  }\n  /* -- Private helper methods for constructor: Codewords and masking -- */\n  // Returns a new byte string representing the given data with the appropriate error correction\n  // codewords appended to it, based on this object's version and error correction level.\n  addEccAndInterleave(data) {\n    const ver = this.version;\n    const ecl = this.ecc;\n    if (data.length !== getNumDataCodewords(ver, ecl))\n      throw new RangeError(\"Invalid argument\");\n    const numBlocks = NUM_ERROR_CORRECTION_BLOCKS[ecl[0]][ver];\n    const blockEccLen = ECC_CODEWORDS_PER_BLOCK[ecl[0]][ver];\n    const rawCodewords = Math.floor(getNumRawDataModules(ver) / 8);\n    const numShortBlocks = numBlocks - rawCodewords % numBlocks;\n    const shortBlockLen = Math.floor(rawCodewords / numBlocks);\n    const blocks = [];\n    const rsDiv = reedSolomonComputeDivisor(blockEccLen);\n    for (let i = 0, k = 0; i < numBlocks; i++) {\n      const dat = data.slice(k, k + shortBlockLen - blockEccLen + (i < numShortBlocks ? 0 : 1));\n      k += dat.length;\n      const ecc = reedSolomonComputeRemainder(dat, rsDiv);\n      if (i < numShortBlocks)\n        dat.push(0);\n      blocks.push(dat.concat(ecc));\n    }\n    const result = [];\n    for (let i = 0; i < blocks[0].length; i++) {\n      blocks.forEach((block, j) => {\n        if (i !== shortBlockLen - blockEccLen || j >= numShortBlocks)\n          result.push(block[i]);\n      });\n    }\n    return result;\n  }\n  // Draws the given sequence of 8-bit codewords (data and error correction) onto the entire\n  // data area of this QR Code. Function modules need to be marked off before this is called.\n  drawCodewords(data) {\n    if (data.length !== Math.floor(getNumRawDataModules(this.version) / 8))\n      throw new RangeError(\"Invalid argument\");\n    let i = 0;\n    for (let right = this.size - 1; right >= 1; right -= 2) {\n      if (right === 6)\n        right = 5;\n      for (let vert = 0; vert < this.size; vert++) {\n        for (let j = 0; j < 2; j++) {\n          const x = right - j;\n          const upward = (right + 1 & 2) === 0;\n          const y = upward ? this.size - 1 - vert : vert;\n          if (!this.types[y][x] && i < data.length * 8) {\n            this.modules[y][x] = getBit(data[i >>> 3], 7 - (i & 7));\n            i++;\n          }\n        }\n      }\n    }\n  }\n  // XORs the codeword modules in this QR Code with the given mask pattern.\n  // The function modules must be marked and the codeword bits must be drawn\n  // before masking. Due to the arithmetic of XOR, calling applyMask() with\n  // the same mask value a second time will undo the mask. A final well-formed\n  // QR Code needs exactly one (not zero, two, etc.) mask applied.\n  applyMask(mask) {\n    if (mask < 0 || mask > 7)\n      throw new RangeError(\"Mask value out of range\");\n    for (let y = 0; y < this.size; y++) {\n      for (let x = 0; x < this.size; x++) {\n        let invert;\n        switch (mask) {\n          case 0:\n            invert = (x + y) % 2 === 0;\n            break;\n          case 1:\n            invert = y % 2 === 0;\n            break;\n          case 2:\n            invert = x % 3 === 0;\n            break;\n          case 3:\n            invert = (x + y) % 3 === 0;\n            break;\n          case 4:\n            invert = (Math.floor(x / 3) + Math.floor(y / 2)) % 2 === 0;\n            break;\n          case 5:\n            invert = x * y % 2 + x * y % 3 === 0;\n            break;\n          case 6:\n            invert = (x * y % 2 + x * y % 3) % 2 === 0;\n            break;\n          case 7:\n            invert = ((x + y) % 2 + x * y % 3) % 2 === 0;\n            break;\n          default:\n            throw new Error(\"Unreachable\");\n        }\n        if (!this.types[y][x] && invert)\n          this.modules[y][x] = !this.modules[y][x];\n      }\n    }\n  }\n  // Calculates and returns the penalty score based on state of this QR Code's current modules.\n  // This is used by the automatic mask choice algorithm to find the mask pattern that yields the lowest score.\n  getPenaltyScore() {\n    let result = 0;\n    for (let y = 0; y < this.size; y++) {\n      let runColor = false;\n      let runX = 0;\n      const runHistory = [0, 0, 0, 0, 0, 0, 0];\n      for (let x = 0; x < this.size; x++) {\n        if (this.modules[y][x] === runColor) {\n          runX++;\n          if (runX === 5)\n            result += PENALTY_N1;\n          else if (runX > 5)\n            result++;\n        } else {\n          this.finderPenaltyAddHistory(runX, runHistory);\n          if (!runColor)\n            result += this.finderPenaltyCountPatterns(runHistory) * PENALTY_N3;\n          runColor = this.modules[y][x];\n          runX = 1;\n        }\n      }\n      result += this.finderPenaltyTerminateAndCount(runColor, runX, runHistory) * PENALTY_N3;\n    }\n    for (let x = 0; x < this.size; x++) {\n      let runColor = false;\n      let runY = 0;\n      const runHistory = [0, 0, 0, 0, 0, 0, 0];\n      for (let y = 0; y < this.size; y++) {\n        if (this.modules[y][x] === runColor) {\n          runY++;\n          if (runY === 5)\n            result += PENALTY_N1;\n          else if (runY > 5)\n            result++;\n        } else {\n          this.finderPenaltyAddHistory(runY, runHistory);\n          if (!runColor)\n            result += this.finderPenaltyCountPatterns(runHistory) * PENALTY_N3;\n          runColor = this.modules[y][x];\n          runY = 1;\n        }\n      }\n      result += this.finderPenaltyTerminateAndCount(runColor, runY, runHistory) * PENALTY_N3;\n    }\n    for (let y = 0; y < this.size - 1; y++) {\n      for (let x = 0; x < this.size - 1; x++) {\n        const color = this.modules[y][x];\n        if (color === this.modules[y][x + 1] && color === this.modules[y + 1][x] && color === this.modules[y + 1][x + 1])\n          result += PENALTY_N2;\n      }\n    }\n    let dark = 0;\n    for (const row of this.modules)\n      dark = row.reduce((sum, color) => sum + (color ? 1 : 0), dark);\n    const total = this.size * this.size;\n    const k = Math.ceil(Math.abs(dark * 20 - total * 10) / total) - 1;\n    result += k * PENALTY_N4;\n    return result;\n  }\n  /* -- Private helper functions -- */\n  // Returns an ascending list of positions of alignment patterns for this version number.\n  // Each position is in the range [0,177), and are used on both the x and y axes.\n  // This could be implemented as lookup table of 40 variable-length lists of integers.\n  getAlignmentPatternPositions() {\n    if (this.version === 1) {\n      return [];\n    } else {\n      const numAlign = Math.floor(this.version / 7) + 2;\n      const step = this.version === 32 ? 26 : Math.ceil((this.version * 4 + 4) / (numAlign * 2 - 2)) * 2;\n      const result = [6];\n      for (let pos = this.size - 7; result.length < numAlign; pos -= step)\n        result.splice(1, 0, pos);\n      return result;\n    }\n  }\n  // Can only be called immediately after a light run is added, and\n  // returns either 0, 1, or 2. A helper function for getPenaltyScore().\n  finderPenaltyCountPatterns(runHistory) {\n    const n = runHistory[1];\n    const core = n > 0 && runHistory[2] === n && runHistory[3] === n * 3 && runHistory[4] === n && runHistory[5] === n;\n    return (core && runHistory[0] >= n * 4 && runHistory[6] >= n ? 1 : 0) + (core && runHistory[6] >= n * 4 && runHistory[0] >= n ? 1 : 0);\n  }\n  // Must be called at the end of a line (row or column) of modules. A helper function for getPenaltyScore().\n  finderPenaltyTerminateAndCount(currentRunColor, currentRunLength, runHistory) {\n    if (currentRunColor) {\n      this.finderPenaltyAddHistory(currentRunLength, runHistory);\n      currentRunLength = 0;\n    }\n    currentRunLength += this.size;\n    this.finderPenaltyAddHistory(currentRunLength, runHistory);\n    return this.finderPenaltyCountPatterns(runHistory);\n  }\n  // Pushes the given value to the front and drops the last value. A helper function for getPenaltyScore().\n  finderPenaltyAddHistory(currentRunLength, runHistory) {\n    if (runHistory[0] === 0)\n      currentRunLength += this.size;\n    runHistory.pop();\n    runHistory.unshift(currentRunLength);\n  }\n}\nfunction appendBits(val, len, bb) {\n  if (len < 0 || len > 31 || val >>> len !== 0)\n    throw new RangeError(\"Value out of range\");\n  for (let i = len - 1; i >= 0; i--)\n    bb.push(val >>> i & 1);\n}\nfunction getBit(x, i) {\n  return (x >>> i & 1) !== 0;\n}\nclass QrSegment {\n  // Creates a new QR Code segment with the given attributes and data.\n  // The character count (numChars) must agree with the mode and the bit buffer length,\n  // but the constraint isn't checked. The given bit buffer is cloned and stored.\n  constructor(mode, numChars, bitData) {\n    this.mode = mode;\n    this.numChars = numChars;\n    this.bitData = bitData;\n    if (numChars < 0)\n      throw new RangeError(\"Invalid argument\");\n    this.bitData = bitData.slice();\n  }\n  /* -- Methods -- */\n  // Returns a new copy of the data bits of this segment.\n  getData() {\n    return this.bitData.slice();\n  }\n}\nconst MODE_NUMERIC = [1, 10, 12, 14];\nconst MODE_ALPHANUMERIC = [2, 9, 11, 13];\nconst MODE_BYTE = [4, 8, 16, 16];\nfunction numCharCountBits(mode, ver) {\n  return mode[Math.floor((ver + 7) / 17) + 1];\n}\nfunction makeBytes(data) {\n  const bb = [];\n  for (const b of data)\n    appendBits(b, 8, bb);\n  return new QrSegment(MODE_BYTE, data.length, bb);\n}\nfunction makeNumeric(digits) {\n  if (!isNumeric(digits))\n    throw new RangeError(\"String contains non-numeric characters\");\n  const bb = [];\n  for (let i = 0; i < digits.length; ) {\n    const n = Math.min(digits.length - i, 3);\n    appendBits(Number.parseInt(digits.substring(i, i + n), 10), n * 3 + 1, bb);\n    i += n;\n  }\n  return new QrSegment(MODE_NUMERIC, digits.length, bb);\n}\nfunction makeAlphanumeric(text) {\n  if (!isAlphanumeric(text))\n    throw new RangeError(\"String contains unencodable characters in alphanumeric mode\");\n  const bb = [];\n  let i;\n  for (i = 0; i + 2 <= text.length; i += 2) {\n    let temp = ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)) * 45;\n    temp += ALPHANUMERIC_CHARSET.indexOf(text.charAt(i + 1));\n    appendBits(temp, 11, bb);\n  }\n  if (i < text.length)\n    appendBits(ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)), 6, bb);\n  return new QrSegment(MODE_ALPHANUMERIC, text.length, bb);\n}\nfunction makeSegments(text) {\n  if (text === \"\")\n    return [];\n  else if (isNumeric(text))\n    return [makeNumeric(text)];\n  else if (isAlphanumeric(text))\n    return [makeAlphanumeric(text)];\n  else\n    return [makeBytes(toUtf8ByteArray(text))];\n}\nfunction isNumeric(text) {\n  return NUMERIC_REGEX.test(text);\n}\nfunction isAlphanumeric(text) {\n  return ALPHANUMERIC_REGEX.test(text);\n}\nfunction getTotalBits(segs, version) {\n  let result = 0;\n  for (const seg of segs) {\n    const ccbits = numCharCountBits(seg.mode, version);\n    if (seg.numChars >= 1 << ccbits)\n      return Number.POSITIVE_INFINITY;\n    result += 4 + ccbits + seg.bitData.length;\n  }\n  return result;\n}\nfunction toUtf8ByteArray(str) {\n  str = encodeURI(str);\n  const result = [];\n  for (let i = 0; i < str.length; i++) {\n    if (str.charAt(i) !== \"%\") {\n      result.push(str.charCodeAt(i));\n    } else {\n      result.push(Number.parseInt(str.substring(i + 1, i + 3), 16));\n      i += 2;\n    }\n  }\n  return result;\n}\nfunction getNumRawDataModules(ver) {\n  if (ver < MIN_VERSION || ver > MAX_VERSION)\n    throw new RangeError(\"Version number out of range\");\n  let result = (16 * ver + 128) * ver + 64;\n  if (ver >= 2) {\n    const numAlign = Math.floor(ver / 7) + 2;\n    result -= (25 * numAlign - 10) * numAlign - 55;\n    if (ver >= 7)\n      result -= 36;\n  }\n  return result;\n}\nfunction getNumDataCodewords(ver, ecl) {\n  return Math.floor(getNumRawDataModules(ver) / 8) - ECC_CODEWORDS_PER_BLOCK[ecl[0]][ver] * NUM_ERROR_CORRECTION_BLOCKS[ecl[0]][ver];\n}\nfunction reedSolomonComputeDivisor(degree) {\n  if (degree < 1 || degree > 255)\n    throw new RangeError(\"Degree out of range\");\n  const result = [];\n  for (let i = 0; i < degree - 1; i++)\n    result.push(0);\n  result.push(1);\n  let root = 1;\n  for (let i = 0; i < degree; i++) {\n    for (let j = 0; j < result.length; j++) {\n      result[j] = reedSolomonMultiply(result[j], root);\n      if (j + 1 < result.length)\n        result[j] ^= result[j + 1];\n    }\n    root = reedSolomonMultiply(root, 2);\n  }\n  return result;\n}\nfunction reedSolomonComputeRemainder(data, divisor) {\n  const result = divisor.map((_) => 0);\n  for (const b of data) {\n    const factor = b ^ result.shift();\n    result.push(0);\n    divisor.forEach((coef, i) => result[i] ^= reedSolomonMultiply(coef, factor));\n  }\n  return result;\n}\nfunction reedSolomonMultiply(x, y) {\n  if (x >>> 8 !== 0 || y >>> 8 !== 0)\n    throw new RangeError(\"Byte out of range\");\n  let z = 0;\n  for (let i = 7; i >= 0; i--) {\n    z = z << 1 ^ (z >>> 7) * 285;\n    z ^= (y >>> i & 1) * x;\n  }\n  return z;\n}\nfunction encodeSegments(segs, ecl, minVersion = 1, maxVersion = 40, mask = -1, boostEcl = true) {\n  if (!(MIN_VERSION <= minVersion && minVersion <= maxVersion && maxVersion <= MAX_VERSION) || mask < -1 || mask > 7)\n    throw new RangeError(\"Invalid value\");\n  let version;\n  let dataUsedBits;\n  for (version = minVersion; ; version++) {\n    const dataCapacityBits2 = getNumDataCodewords(version, ecl) * 8;\n    const usedBits = getTotalBits(segs, version);\n    if (usedBits <= dataCapacityBits2) {\n      dataUsedBits = usedBits;\n      break;\n    }\n    if (version >= maxVersion)\n      throw new RangeError(\"Data too long\");\n  }\n  for (const newEcl of [MEDIUM, QUARTILE, HIGH]) {\n    if (boostEcl && dataUsedBits <= getNumDataCodewords(version, newEcl) * 8)\n      ecl = newEcl;\n  }\n  const bb = [];\n  for (const seg of segs) {\n    appendBits(seg.mode[0], 4, bb);\n    appendBits(seg.numChars, numCharCountBits(seg.mode, version), bb);\n    for (const b of seg.getData())\n      bb.push(b);\n  }\n  const dataCapacityBits = getNumDataCodewords(version, ecl) * 8;\n  appendBits(0, Math.min(4, dataCapacityBits - bb.length), bb);\n  appendBits(0, (8 - bb.length % 8) % 8, bb);\n  for (let padByte = 236; bb.length < dataCapacityBits; padByte ^= 236 ^ 17)\n    appendBits(padByte, 8, bb);\n  const dataCodewords = Array.from({ length: Math.ceil(bb.length / 8) }, () => 0);\n  bb.forEach((b, i) => dataCodewords[i >>> 3] |= b << 7 - (i & 7));\n  return new QrCode(version, ecl, dataCodewords, mask);\n}\n\nfunction encode(data, options) {\n  const {\n    ecc = \"L\",\n    boostEcc = false,\n    minVersion = 1,\n    maxVersion = 40,\n    maskPattern = -1,\n    border = 1\n  } = options || {};\n  const segment = typeof data === \"string\" ? makeSegments(data) : Array.isArray(data) ? [makeBytes(data)] : void 0;\n  if (!segment)\n    throw new Error(`uqr only supports encoding string and binary data, but got: ${typeof data}`);\n  const qr = encodeSegments(\n    segment,\n    EccMap[ecc],\n    minVersion,\n    maxVersion,\n    maskPattern,\n    boostEcc\n  );\n  const result = addBorder({\n    version: qr.version,\n    maskPattern: qr.mask,\n    size: qr.size,\n    data: qr.modules,\n    types: qr.types\n  }, border);\n  if (options?.invert)\n    result.data = result.data.map((row) => row.map((mod) => !mod));\n  options?.onEncoded?.(result);\n  return result;\n}\nfunction addBorder(input, border = 1) {\n  if (!border)\n    return input;\n  const { size } = input;\n  const newSize = size + border * 2;\n  input.size = newSize;\n  input.data.forEach((row) => {\n    for (let i = 0; i < border; i++) {\n      row.unshift(false);\n      row.push(false);\n    }\n  });\n  for (let i = 0; i < border; i++) {\n    input.data.unshift(Array.from({ length: newSize }, (_) => false));\n    input.data.push(Array.from({ length: newSize }, (_) => false));\n  }\n  const b = QrCodeDataType.Border;\n  input.types.forEach((row) => {\n    for (let i = 0; i < border; i++) {\n      row.unshift(b);\n      row.push(b);\n    }\n  });\n  for (let i = 0; i < border; i++) {\n    input.types.unshift(Array.from({ length: newSize }, (_) => b));\n    input.types.push(Array.from({ length: newSize }, (_) => b));\n  }\n  return input;\n}\nfunction getDataAt(data, x, y, defaults = false) {\n  if (x < 0 || y < 0 || x >= data.length || y >= data.length)\n    return defaults;\n  return data[y][x];\n}\n\nfunction renderUnicode(data, options = {}) {\n  const {\n    whiteChar = \"\\u2588\",\n    blackChar = \"\\u2591\"\n  } = options;\n  const result = encode(data, options);\n  return result.data.map((row) => {\n    return row.map((mod) => mod ? blackChar : whiteChar).join(\"\");\n  }).join(\"\\n\");\n}\nfunction renderANSI(data, options = {}) {\n  return renderUnicode(data, {\n    ...options,\n    blackChar: \"\\x1B[40m\\u3000\\x1B[0m\",\n    whiteChar: \"\\x1B[47m\\u3000\\x1B[0m\"\n  });\n}\nfunction renderUnicodeCompact(data, options = {}) {\n  const platte = {\n    WHITE_ALL: \"\\u2588\",\n    WHITE_BLACK: \"\\u2580\",\n    BLACK_WHITE: \"\\u2584\",\n    BLACK_ALL: \" \"\n  };\n  const result = encode(data, options);\n  const WHITE = false;\n  const BLACK = true;\n  const at = (x, y) => getDataAt(result.data, x, y, true);\n  const lines = [];\n  let line = \"\";\n  for (let row = 0; row < result.size; row += 2) {\n    for (let col = 0; col < result.size; col++) {\n      if (at(col, row) === WHITE && at(col, row + 1) === WHITE)\n        line += platte.WHITE_ALL;\n      else if (at(col, row) === WHITE && at(col, row + 1) === BLACK)\n        line += platte.WHITE_BLACK;\n      else if (at(col, row) === BLACK && at(col, row + 1) === WHITE)\n        line += platte.BLACK_WHITE;\n      else\n        line += platte.BLACK_ALL;\n    }\n    lines.push(line);\n    line = \"\";\n  }\n  return lines.join(\"\\n\");\n}\n\nfunction renderSVG(data, options = {}) {\n  const result = encode(data, options);\n  const {\n    pixelSize = 10,\n    whiteColor = \"white\",\n    blackColor = \"black\"\n  } = options;\n  const height = result.size * pixelSize;\n  const width = result.size * pixelSize;\n  let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${width} ${height}\">`;\n  const pathes = [];\n  for (let row = 0; row < result.size; row++) {\n    for (let col = 0; col < result.size; col++) {\n      const x = col * pixelSize;\n      const y = row * pixelSize;\n      if (result.data[row][col])\n        pathes.push(`M${x},${y}h${pixelSize}v${pixelSize}h-${pixelSize}z`);\n    }\n  }\n  svg += `<rect fill=\"${whiteColor}\" width=\"${width}\" height=\"${height}\"/>`;\n  svg += `<path fill=\"${blackColor}\" d=\"${pathes.join(\"\")}\"/>`;\n  svg += \"</svg>\";\n  return svg;\n}\n\nexport { QrCodeDataType, encode, renderANSI, renderSVG, renderUnicode, renderUnicodeCompact };\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"qr-code\").parts(\"root\", \"frame\", \"pattern\", \"overlay\")\n\nexport const parts = anatomy.build()\n", "import { getDataUrl } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./qr-code.anatomy\"\nimport { dom } from \"./qr-code.dom\"\nimport type { MachineApi, Send, State } from \"./qr-code.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const encoded = state.context.encoded\n  const pixelSize = state.context.pixelSize\n\n  const height = encoded.size * pixelSize\n  const width = encoded.size * pixelSize\n\n  const paths: string[] = []\n\n  for (let row = 0; row < encoded.size; row++) {\n    for (let col = 0; col < encoded.size; col++) {\n      const x = col * pixelSize\n      const y = row * pixelSize\n      if (encoded.data[row][col]) {\n        paths.push(`M${x},${y}h${pixelSize}v${pixelSize}h-${pixelSize}z`)\n      }\n    }\n  }\n\n  return {\n    value: state.context.value,\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value })\n    },\n    getDataUrl(type, quality) {\n      const svgEl = dom.getFrameEl(state.context)\n      return getDataUrl(svgEl, { type, quality })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        id: dom.getRootId(state.context),\n        ...parts.root.attrs,\n        style: {\n          \"--qrcode-pixel-size\": `${pixelSize}px`,\n          \"--qrcode-width\": `${width}px`,\n          \"--qrcode-height\": `${height}px`,\n          position: \"relative\",\n        },\n      })\n    },\n\n    getFrameProps() {\n      return normalize.svg({\n        id: dom.getFrameId(state.context),\n        ...parts.frame.attrs,\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: `0 0 ${width} ${height}`,\n      })\n    },\n\n    getPatternProps() {\n      return normalize.path({\n        d: paths.join(\"\"),\n        ...parts.pattern.attrs,\n      })\n    },\n\n    getOverlayProps() {\n      return normalize.element({\n        ...parts.overlay.attrs,\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          translate: \"-50% -50%\",\n        },\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./qr-code.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `qrcode:${ctx.id}:root`,\n  getFrameId: (ctx: Ctx) => ctx.ids?.frame ?? `qrcode:${ctx.id}:frame`,\n  getFrameEl: (ctx: Ctx) => dom.getById<SVGElement>(ctx, dom.getFrameId(ctx)),\n})\n", "import { createMachine } from \"@zag-js/core\"\nimport { compact } from \"@zag-js/utils\"\nimport { memoize } from \"proxy-memoize\"\nimport { encode } from \"uqr\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./qr-code.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"qr-code\",\n      initial: \"idle\",\n      context: {\n        value: \"\",\n        ...ctx,\n        pixelSize: 10,\n      },\n\n      computed: {\n        encoded: memoize((ctx) => encode(ctx.value, ctx.encoding)),\n      },\n\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setValue\"],\n        },\n      },\n    },\n    {\n      actions: {\n        setValue: (ctx, e) => {\n          ctx.value = e.value\n        },\n      },\n    },\n  )\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./qr-code.types\"\n\nexport const props = createProps<UserDefinedContext>()([\"ids\", \"value\", \"id\", \"encoding\", \"dir\", \"getRootNode\"])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "type Fn = (rect: Rect) => void\n\ninterface Rect {\n  top: number\n  left: number\n  width: number\n  height: number\n}\n\ninterface ObservedData {\n  rect: Rect\n  callbacks: Fn[]\n}\n\nlet rafId: number\n\nconst observedElements = new Map<HTMLElement, ObservedData>()\n\ntype TrackScope = \"size\" | \"position\" | \"rect\"\n\nexport type ElementRectOptions = {\n  onChange: (rect: Rect) => void\n  scope?: TrackScope\n  getRect?: (el: HTMLElement) => Rect\n}\n\nconst getRectFn = (el: HTMLElement) => el.getBoundingClientRect()\n\nexport function trackElementRect(el: HTMLElement, options: ElementRectOptions) {\n  const { scope = \"rect\", getRect = getRectFn, onChange } = options\n  const loop = getLoopFn({ scope, getRect })\n\n  const data = observedElements.get(el)\n\n  if (!data) {\n    observedElements.set(el, {\n      rect: {} as Rect,\n      callbacks: [onChange],\n    })\n\n    if (observedElements.size === 1) {\n      rafId = requestAnimationFrame(loop)\n    }\n  } else {\n    data.callbacks.push(onChange)\n    onChange(getRect(el))\n  }\n\n  return function unobserve() {\n    const data = observedElements.get(el)\n    if (!data) return\n\n    const index = data.callbacks.indexOf(onChange)\n    if (index > -1) {\n      data.callbacks.splice(index, 1)\n    }\n\n    if (data.callbacks.length === 0) {\n      observedElements.delete(el)\n\n      if (observedElements.size === 0) {\n        cancelAnimationFrame(rafId)\n      }\n    }\n  }\n}\n\nfunction getLoopFn(options: Required<Omit<ElementRectOptions, \"onChange\">>) {\n  const { scope, getRect } = options\n  const isEqual = getEqualityFn(scope)\n  return function loop() {\n    const changedRectsData: Array<ObservedData> = []\n\n    observedElements.forEach((data, element) => {\n      const newRect = getRect(element)\n\n      if (!isEqual(data.rect, newRect)) {\n        data.rect = newRect\n        changedRectsData.push(data)\n      }\n    })\n\n    changedRectsData.forEach((data) => {\n      data.callbacks.forEach((callback) => callback(data.rect))\n    })\n\n    rafId = requestAnimationFrame(loop)\n  }\n}\n\nconst isEqualSize = (a: Rect, b: Rect) => a.width === b.width && a.height === b.height\n\nconst isEqualPosition = (a: Rect, b: Rect) => a.top === b.top && a.left === b.left\n\nconst isEqualRect = (a: Rect, b: Rect) => isEqualSize(a, b) && isEqualPosition(a, b)\n\nfunction getEqualityFn(scope: TrackScope) {\n  if (scope === \"size\") return isEqualSize\n  if (scope === \"position\") return isEqualPosition\n  return isEqualRect\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"radio-group\").parts(\n  \"root\",\n  \"label\",\n  \"item\",\n  \"itemText\",\n  \"itemControl\",\n  \"indicator\",\n)\n\nexport const parts = anatomy.build()\n", "import { dataAttr, visuallyHiddenStyle } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./radio-group.anatomy\"\nimport { dom } from \"./radio-group.dom\"\nimport type { ItemProps, ItemState, MachineApi, Send, State } from \"./radio-group.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const groupDisabled = state.context.isDisabled\n  const readOnly = state.context.readOnly\n\n  function getItemState(props: ItemProps): ItemState {\n    return {\n      invalid: !!props.invalid,\n      disabled: !!props.disabled || groupDisabled,\n      checked: state.context.value === props.value,\n      focused: state.context.focusedValue === props.value,\n      hovered: state.context.hoveredValue === props.value,\n      active: state.context.activeValue === props.value,\n    }\n  }\n\n  function getItemDataAttrs<T extends ItemProps>(props: T) {\n    const radioState = getItemState(props)\n    return {\n      \"data-focus\": dataAttr(radioState.focused),\n      \"data-disabled\": dataAttr(radioState.disabled),\n      \"dats-readonly\": dataAttr(readOnly),\n      \"data-state\": radioState.checked ? \"checked\" : \"unchecked\",\n      \"data-hover\": dataAttr(radioState.hovered),\n      \"data-invalid\": dataAttr(radioState.invalid),\n      \"data-orientation\": state.context.orientation,\n      \"data-ssr\": dataAttr(state.context.ssr),\n    }\n  }\n\n  const focus = () => {\n    const firstEnabledAndCheckedInput = dom.getFirstEnabledAndCheckedInputEl(state.context)\n\n    if (firstEnabledAndCheckedInput) {\n      firstEnabledAndCheckedInput.focus()\n      return\n    }\n\n    const firstEnabledInput = dom.getFirstEnabledInputEl(state.context)\n    firstEnabledInput?.focus()\n  }\n\n  return {\n    focus,\n    value: state.context.value,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value, isTrusted: false })\n    },\n    clearValue() {\n      send({ type: \"SET_VALUE\", value: null, isTrusted: false })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        role: \"radiogroup\",\n        id: dom.getRootId(state.context),\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"data-orientation\": state.context.orientation,\n        \"data-disabled\": dataAttr(groupDisabled),\n        \"aria-orientation\": state.context.orientation,\n        dir: state.context.dir,\n        style: {\n          position: \"relative\",\n        },\n      })\n    },\n\n    getLabelProps() {\n      return normalize.element({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        \"data-orientation\": state.context.orientation,\n        \"data-disabled\": dataAttr(groupDisabled),\n        id: dom.getLabelId(state.context),\n        onClick: focus,\n      })\n    },\n\n    getItemState,\n\n    getItemProps(props) {\n      const itemState = getItemState(props)\n\n      return normalize.label({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, props.value),\n        htmlFor: dom.getItemHiddenInputId(state.context, props.value),\n        ...getItemDataAttrs(props),\n        onPointerMove() {\n          if (itemState.disabled) return\n          if (itemState.hovered) return\n          send({ type: \"SET_HOVERED\", value: props.value, hovered: true })\n        },\n        onPointerLeave() {\n          if (itemState.disabled) return\n          send({ type: \"SET_HOVERED\", value: null })\n        },\n        onPointerDown(event) {\n          if (itemState.disabled) return\n          // On pointerdown, the input blurs and returns focus to the `body`,\n          // we need to prevent this.\n          if (itemState.focused && event.pointerType === \"mouse\") {\n            event.preventDefault()\n          }\n          send({ type: \"SET_ACTIVE\", value: props.value, active: true })\n        },\n        onPointerUp() {\n          if (itemState.disabled) return\n          send({ type: \"SET_ACTIVE\", value: null })\n        },\n      })\n    },\n\n    getItemTextProps(props) {\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        id: dom.getItemLabelId(state.context, props.value),\n        ...getItemDataAttrs(props),\n      })\n    },\n\n    getItemControlProps(props) {\n      const controlState = getItemState(props)\n\n      return normalize.element({\n        ...parts.itemControl.attrs,\n        dir: state.context.dir,\n        id: dom.getItemControlId(state.context, props.value),\n        \"data-active\": dataAttr(controlState.active),\n        \"aria-hidden\": true,\n        ...getItemDataAttrs(props),\n      })\n    },\n\n    getItemHiddenInputProps(props) {\n      const inputState = getItemState(props)\n\n      return normalize.input({\n        \"data-ownedby\": dom.getRootId(state.context),\n        id: dom.getItemHiddenInputId(state.context, props.value),\n        type: \"radio\",\n        name: state.context.name || state.context.id,\n        form: state.context.form,\n        value: props.value,\n        onChange(event) {\n          if (readOnly) {\n            event.preventDefault()\n            return\n          }\n\n          if (event.target.checked) {\n            send({ type: \"SET_VALUE\", value: props.value, isTrusted: true })\n          }\n        },\n        onBlur() {\n          send({ type: \"SET_FOCUSED\", value: null })\n        },\n        onFocus() {\n          send({ type: \"SET_FOCUSED\", value: props.value, focused: true })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (event.key === \" \") {\n            send({ type: \"SET_ACTIVE\", value: props.value, active: true })\n          }\n        },\n        onKeyUp(event) {\n          if (event.defaultPrevented) return\n          if (event.key === \" \") {\n            send({ type: \"SET_ACTIVE\", value: null })\n          }\n        },\n        disabled: inputState.disabled,\n        defaultChecked: inputState.checked,\n        style: visuallyHiddenStyle,\n      })\n    },\n\n    getIndicatorProps() {\n      return normalize.element({\n        id: dom.getIndicatorId(state.context),\n        ...parts.indicator.attrs,\n        dir: state.context.dir,\n        hidden: state.context.value == null,\n        \"data-disabled\": dataAttr(groupDisabled),\n        \"data-orientation\": state.context.orientation,\n        style: {\n          \"--transition-property\": \"left, top, width, height\",\n          \"--left\": state.context.indicatorRect?.left,\n          \"--top\": state.context.indicatorRect?.top,\n          \"--width\": state.context.indicatorRect?.width,\n          \"--height\": state.context.indicatorRect?.height,\n          position: \"absolute\",\n          willChange: \"var(--transition-property)\",\n          transitionProperty: \"var(--transition-property)\",\n          transitionDuration: state.context.canIndicatorTransition ? \"var(--transition-duration, 150ms)\" : \"0ms\",\n          transitionTimingFunction: \"var(--transition-timing-function)\",\n          [state.context.orientation === \"horizontal\" ? \"left\" : \"top\"]:\n            state.context.orientation === \"horizontal\" ? \"var(--left)\" : \"var(--top)\",\n        },\n      })\n    },\n  }\n}\n", "import { createScope, queryAll } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./radio-group.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `radio-group:${ctx.id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `radio-group:${ctx.id}:label`,\n  getItemId: (ctx: Ctx, value: string) => ctx.ids?.item?.(value) ?? `radio-group:${ctx.id}:radio:${value}`,\n  getItemHiddenInputId: (ctx: Ctx, value: string) =>\n    ctx.ids?.itemHiddenInput?.(value) ?? `radio-group:${ctx.id}:radio:input:${value}`,\n  getItemControlId: (ctx: Ctx, value: string) =>\n    ctx.ids?.itemControl?.(value) ?? `radio-group:${ctx.id}:radio:control:${value}`,\n  getItemLabelId: (ctx: Ctx, value: string) =>\n    ctx.ids?.itemLabel?.(value) ?? `radio-group:${ctx.id}:radio:label:${value}`,\n  getIndicatorId: (ctx: Ctx) => ctx.ids?.indicator ?? `radio-group:${ctx.id}:indicator`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getItemHiddenInputEl: (ctx: Ctx, value: string) =>\n    dom.getById<HTMLInputElement>(ctx, dom.getItemHiddenInputId(ctx, value)),\n  getIndicatorEl: (ctx: Ctx) => dom.getById(ctx, dom.getIndicatorId(ctx)),\n\n  getFirstEnabledInputEl: (ctx: Ctx) => dom.getRootEl(ctx)?.querySelector<HTMLInputElement>(\"input:not(:disabled)\"),\n  getFirstEnabledAndCheckedInputEl: (ctx: Ctx) =>\n    dom.getRootEl(ctx)?.querySelector<HTMLInputElement>(\"input:not(:disabled):checked\"),\n\n  getInputEls: (ctx: Ctx) => {\n    const ownerId = CSS.escape(dom.getRootId(ctx))\n    const selector = `input[type=radio][data-ownedby='${ownerId}']:not([disabled])`\n    return queryAll<HTMLInputElement>(dom.getRootEl(ctx), selector)\n  },\n\n  getActiveRadioEl: (ctx: Ctx) => {\n    if (!ctx.value) return\n    return dom.getById(ctx, dom.getItemId(ctx, ctx.value))\n  },\n\n  getOffsetRect: (el: HTMLElement | undefined) => ({\n    left: el?.offsetLeft ?? 0,\n    top: el?.offsetTop ?? 0,\n    width: el?.offsetWidth ?? 0,\n    height: el?.offsetHeight ?? 0,\n  }),\n\n  getRectById: (ctx: Ctx, id: string) => {\n    const radioEl = dom.getById(ctx, dom.getItemId(ctx, id))\n    if (!radioEl) return\n    return dom.resolveRect(dom.getOffsetRect(radioEl))\n  },\n\n  resolveRect: (rect: Record<\"width\" | \"height\" | \"left\" | \"top\", number>) => ({\n    width: `${rect.width}px`,\n    height: `${rect.height}px`,\n    left: `${rect.left}px`,\n    top: `${rect.top}px`,\n  }),\n})\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { nextTick } from \"@zag-js/dom-query\"\nimport { trackElementRect } from \"@zag-js/element-rect\"\nimport { dispatchInputCheckedEvent, trackFormControl } from \"@zag-js/form-utils\"\nimport { compact, isEqual, isString } from \"@zag-js/utils\"\nimport { dom } from \"./radio-group.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./radio-group.types\"\n\nconst { not } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"radio\",\n      initial: \"idle\",\n      context: {\n        value: null,\n        activeValue: null,\n        focusedValue: null,\n        hoveredValue: null,\n        disabled: false,\n        orientation: \"vertical\",\n        ...ctx,\n        indicatorRect: {},\n        canIndicatorTransition: false,\n        fieldsetDisabled: false,\n        ssr: true,\n      },\n\n      computed: {\n        isDisabled: (ctx) => !!ctx.disabled || ctx.fieldsetDisabled,\n      },\n\n      entry: [\"syncIndicatorRect\", \"syncSsr\"],\n\n      exit: [\"cleanupObserver\"],\n\n      activities: [\"trackFormControlState\"],\n\n      watch: {\n        value: [\"setIndicatorTransition\", \"syncIndicatorRect\", \"syncInputElements\"],\n      },\n\n      on: {\n        SET_VALUE: [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"setValue\", \"dispatchChangeEvent\"],\n          },\n          {\n            actions: [\"setValue\"],\n          },\n        ],\n        SET_HOVERED: {\n          actions: \"setHovered\",\n        },\n        SET_ACTIVE: {\n          actions: \"setActive\",\n        },\n        SET_FOCUSED: {\n          actions: \"setFocused\",\n        },\n      },\n\n      states: {\n        idle: {},\n      },\n    },\n\n    {\n      guards: {\n        isTrusted: (_ctx, evt) => !!evt.isTrusted,\n      },\n      activities: {\n        trackFormControlState(ctx, _evt, { send, initialContext }) {\n          return trackFormControl(dom.getRootEl(ctx), {\n            onFieldsetDisabledChange(disabled) {\n              ctx.fieldsetDisabled = disabled\n            },\n            onFormReset() {\n              send({ type: \"SET_VALUE\", value: initialContext.value })\n            },\n          })\n        },\n      },\n\n      actions: {\n        setValue(ctx, evt) {\n          set.value(ctx, evt.value)\n        },\n        setHovered(ctx, evt) {\n          ctx.hoveredValue = evt.value\n        },\n        setActive(ctx, evt) {\n          ctx.activeValue = evt.value\n        },\n        setFocused(ctx, evt) {\n          ctx.focusedValue = evt.value\n        },\n        syncInputElements(ctx) {\n          const inputs = dom.getInputEls(ctx)\n          inputs.forEach((input) => {\n            input.checked = input.value === ctx.value\n          })\n        },\n        setIndicatorTransition(ctx) {\n          ctx.canIndicatorTransition = isString(ctx.value)\n        },\n        cleanupObserver(ctx) {\n          ctx.indicatorCleanup?.()\n        },\n        syncSsr(ctx) {\n          ctx.ssr = false\n        },\n        syncIndicatorRect(ctx) {\n          ctx.indicatorCleanup?.()\n\n          if (!dom.getIndicatorEl(ctx)) return\n\n          const value = ctx.value\n\n          const radioEl = dom.getActiveRadioEl(ctx)\n\n          if (value == null || !radioEl) {\n            ctx.indicatorRect = {}\n            return\n          }\n\n          ctx.indicatorCleanup = trackElementRect(radioEl, {\n            getRect(el) {\n              return dom.getOffsetRect(el)\n            },\n            onChange(rect) {\n              ctx.indicatorRect = dom.resolveRect(rect)\n              nextTick(() => {\n                ctx.canIndicatorTransition = false\n              })\n            },\n          })\n        },\n        dispatchChangeEvent(ctx) {\n          const inputEls = dom.getInputEls(ctx)\n          inputEls.forEach((inputEl) => {\n            const checked = inputEl.value === ctx.value\n            if (checked === inputEl.checked) return\n            dispatchInputCheckedEvent(inputEl, { checked })\n          })\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change: (ctx: MachineContext) => {\n    if (ctx.value == null) return\n    ctx.onValueChange?.({ value: ctx.value })\n  },\n}\n\nconst set = {\n  value: (ctx: MachineContext, value: string) => {\n    if (isEqual(ctx.value, value)) return\n    ctx.value = value\n    invoke.change(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ItemProps, UserDefinedContext } from \"./radio-group.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"dir\",\n  \"disabled\",\n  \"form\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"name\",\n  \"onValueChange\",\n  \"orientation\",\n  \"readOnly\",\n  \"value\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"value\", \"disabled\", \"invalid\"])\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"rating-group\").parts(\"root\", \"label\", \"item\", \"control\")\nexport const parts = anatomy.build()\n", "import { getEventKey, getEventPoint, getRelativePoint, isLeftClick, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./rating-group.anatomy\"\nimport { dom } from \"./rating-group.dom\"\nimport type { ItemProps, ItemState, MachineApi, Send, State } from \"./rating-group.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const interactive = state.context.isInteractive\n  const disabled = state.context.isDisabled\n  const value = state.context.value\n  const hoveredValue = state.context.hoveredValue\n  const translations = state.context.translations\n\n  function getItemState(props: ItemProps): ItemState {\n    const value = state.context.isHovering ? state.context.hoveredValue : state.context.value\n    const equal = Math.ceil(value) === props.index\n    const highlighted = props.index <= value || equal\n    const half = equal && Math.abs(value - props.index) === 0.5\n\n    return {\n      highlighted,\n      half,\n      checked: equal || (state.context.value === -1 && props.index === 1),\n    }\n  }\n\n  return {\n    hovering: state.context.isHovering,\n    value,\n    hoveredValue,\n    count: state.context.count,\n    items: Array.from({ length: state.context.count }).map((_, index) => index + 1),\n\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value })\n    },\n    clearValue() {\n      send(\"CLEAR_VALUE\")\n    },\n\n    getRootProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        ...parts.root.attrs,\n        id: dom.getRootId(state.context),\n      })\n    },\n\n    getHiddenInputProps() {\n      return normalize.input({\n        name: state.context.name,\n        form: state.context.form,\n        type: \"text\",\n        hidden: true,\n        id: dom.getHiddenInputId(state.context),\n        defaultValue: state.context.value,\n      })\n    },\n\n    getLabelProps() {\n      return normalize.element({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        id: dom.getLabelId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        id: dom.getControlId(state.context),\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        role: \"radiogroup\",\n        \"aria-orientation\": \"horizontal\",\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-readonly\": ariaAttr(state.context.readOnly),\n        \"data-readonly\": dataAttr(state.context.readOnly),\n        tabIndex: state.context.readOnly ? 0 : -1,\n        \"data-disabled\": dataAttr(disabled),\n        onPointerMove(event) {\n          if (!interactive || event.pointerType === \"touch\") return\n          send(\"GROUP_POINTER_OVER\")\n        },\n        onPointerLeave(event) {\n          if (!interactive || event.pointerType === \"touch\") return\n          send(\"GROUP_POINTER_LEAVE\")\n        },\n      })\n    },\n\n    getItemState,\n\n    getItemProps(props) {\n      const { index } = props\n      const itemState = getItemState(props)\n      const valueText = translations.ratingValueText(index)\n\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, index.toString()),\n        role: \"radio\",\n        tabIndex: disabled ? undefined : itemState.checked ? 0 : -1,\n        \"aria-roledescription\": \"rating\",\n        \"aria-label\": valueText,\n        \"aria-disabled\": disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-readonly\": dataAttr(state.context.readOnly),\n        \"aria-setsize\": state.context.count,\n        \"aria-checked\": itemState.checked,\n        \"data-checked\": dataAttr(itemState.checked),\n        \"aria-posinset\": index,\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-half\": dataAttr(itemState.half),\n        onPointerDown(event) {\n          if (!interactive) return\n          if (isLeftClick(event)) {\n            event.preventDefault()\n          }\n        },\n        onPointerMove(event) {\n          if (!interactive) return\n          const point = getEventPoint(event)\n          const relativePoint = getRelativePoint(point, event.currentTarget)\n          const percentX = relativePoint.getPercentValue({\n            orientation: \"horizontal\",\n            dir: state.context.dir,\n          })\n          const isMidway = percentX < 0.5\n          send({ type: \"POINTER_OVER\", index, isMidway })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n\n          const keyMap: EventKeyMap = {\n            ArrowLeft() {\n              send(\"ARROW_LEFT\")\n            },\n            ArrowRight() {\n              send(\"ARROW_RIGHT\")\n            },\n            ArrowUp() {\n              send(\"ARROW_LEFT\")\n            },\n            ArrowDown() {\n              send(\"ARROW_RIGHT\")\n            },\n            Space() {\n              send({ type: \"SPACE\", value: index })\n            },\n            Home() {\n              send(\"HOME\")\n            },\n            End() {\n              send(\"END\")\n            },\n          }\n\n          const key = getEventKey(event, state.context)\n          const exec = keyMap[key]\n\n          if (exec) {\n            event.preventDefault()\n            exec(event)\n          }\n        },\n        onClick() {\n          if (!interactive) return\n          send({ type: \"CLICK\", value: index })\n        },\n        onFocus() {\n          if (!interactive) return\n          send(\"FOCUS\")\n        },\n        onBlur() {\n          if (!interactive) return\n          send(\"BLUR\")\n        },\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport { dispatchInputValueEvent } from \"@zag-js/form-utils\"\nimport type { MachineContext as Ctx } from \"./rating-group.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `rating:${ctx.id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `rating:${ctx.id}:label`,\n  getHiddenInputId: (ctx: Ctx) => ctx.ids?.hiddenInput ?? `rating:${ctx.id}:input`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `rating:${ctx.id}:control`,\n  getItemId: (ctx: Ctx, id: string) => ctx.ids?.rating?.(id) ?? `rating:${ctx.id}:star:${id}`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getControlEl: (ctx: Ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getRadioEl: (ctx: Ctx) =>\n    dom.getControlEl(ctx)?.querySelector<HTMLElement>(`[role=radio][aria-posinset='${Math.ceil(ctx.value)}']`),\n  getActiveEl: (ctx: Ctx) => dom.getRootNode(ctx).activeElement,\n  getHiddenInputEl: (ctx: Ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx)),\n\n  dispatchChangeEvent: (ctx: Ctx) => {\n    const inputEl = dom.getHiddenInputEl(ctx)\n    if (!inputEl) return\n    dispatchInputValueEvent(inputEl, { value: ctx.value })\n  },\n})\n", "import { createMachine } from \"@zag-js/core\"\nimport { raf } from \"@zag-js/dom-query\"\nimport { trackFormControl } from \"@zag-js/form-utils\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./rating-group.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./rating-group.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"rating\",\n      initial: \"idle\",\n      context: {\n        name: \"rating\",\n        count: 5,\n        dir: \"ltr\",\n        value: -1,\n        readOnly: false,\n        disabled: false,\n        ...ctx,\n        hoveredValue: -1,\n        fieldsetDisabled: false,\n        translations: {\n          ratingValueText: (index) => `${index} stars`,\n          ...ctx.translations,\n        },\n      },\n\n      created: [\"roundValueIfNeeded\"],\n\n      watch: {\n        allowHalf: [\"roundValueIfNeeded\"],\n      },\n\n      computed: {\n        isDisabled: (ctx) => !!ctx.disabled || ctx.fieldsetDisabled,\n        isInteractive: (ctx) => !(ctx.isDisabled || ctx.readOnly),\n        isHovering: (ctx) => ctx.hoveredValue > -1,\n      },\n\n      activities: [\"trackFormControlState\"],\n\n      on: {\n        SET_VALUE: {\n          actions: [\"setValue\"],\n        },\n        CLEAR_VALUE: {\n          actions: [\"clearValue\"],\n        },\n      },\n\n      states: {\n        idle: {\n          entry: \"clearHoveredValue\",\n          on: {\n            GROUP_POINTER_OVER: \"hover\",\n            FOCUS: \"focus\",\n            CLICK: {\n              actions: [\"setValue\", \"focusActiveRadio\"],\n            },\n          },\n        },\n\n        focus: {\n          on: {\n            POINTER_OVER: {\n              actions: \"setHoveredValue\",\n            },\n            GROUP_POINTER_LEAVE: {\n              actions: \"clearHoveredValue\",\n            },\n            BLUR: \"idle\",\n            SPACE: {\n              guard: \"isValueEmpty\",\n              actions: [\"setValue\"],\n            },\n            CLICK: {\n              actions: [\"setValue\", \"focusActiveRadio\"],\n            },\n            ARROW_LEFT: {\n              actions: [\"setPrevValue\", \"focusActiveRadio\"],\n            },\n            ARROW_RIGHT: {\n              actions: [\"setNextValue\", \"focusActiveRadio\"],\n            },\n            HOME: {\n              actions: [\"setValueToMin\", \"focusActiveRadio\"],\n            },\n            END: {\n              actions: [\"setValueToMax\", \"focusActiveRadio\"],\n            },\n          },\n        },\n\n        hover: {\n          on: {\n            POINTER_OVER: {\n              actions: \"setHoveredValue\",\n            },\n            GROUP_POINTER_LEAVE: [\n              {\n                guard: \"isRadioFocused\",\n                target: \"focus\",\n                actions: \"clearHoveredValue\",\n              },\n              {\n                target: \"idle\",\n                actions: \"clearHoveredValue\",\n              },\n            ],\n            CLICK: {\n              actions: [\"setValue\", \"focusActiveRadio\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isInteractive: (ctx) => !(ctx.disabled || ctx.readOnly),\n        isHoveredValueEmpty: (ctx) => ctx.hoveredValue === -1,\n        isValueEmpty: (ctx) => ctx.value <= 0,\n        isRadioFocused: (ctx) => !!dom.getControlEl(ctx)?.contains(dom.getActiveEl(ctx)),\n      },\n      activities: {\n        trackFormControlState(ctx, _evt, { initialContext }) {\n          return trackFormControl(dom.getHiddenInputEl(ctx), {\n            onFieldsetDisabledChange(disabled) {\n              ctx.fieldsetDisabled = disabled\n            },\n            onFormReset() {\n              set.value(ctx, initialContext.value)\n            },\n          })\n        },\n      },\n      actions: {\n        clearHoveredValue(ctx) {\n          set.hoveredValue(ctx, -1)\n        },\n        focusActiveRadio(ctx) {\n          raf(() => dom.getRadioEl(ctx)?.focus())\n        },\n        setPrevValue(ctx) {\n          const factor = ctx.allowHalf ? 0.5 : 1\n          set.value(ctx, Math.max(0, ctx.value - factor))\n        },\n        setNextValue(ctx) {\n          const factor = ctx.allowHalf ? 0.5 : 1\n          const value = ctx.value === -1 ? 0 : ctx.value\n          set.value(ctx, Math.min(ctx.count, value + factor))\n        },\n        setValueToMin(ctx) {\n          set.value(ctx, 1)\n        },\n        setValueToMax(ctx) {\n          set.value(ctx, ctx.count)\n        },\n        setValue(ctx, evt) {\n          const value = ctx.hoveredValue === -1 ? evt.value : ctx.hoveredValue\n          set.value(ctx, value)\n        },\n        clearValue(ctx) {\n          set.value(ctx, -1)\n        },\n        setHoveredValue(ctx, evt) {\n          const half = ctx.allowHalf && evt.isMidway\n          const factor = half ? 0.5 : 0\n          set.hoveredValue(ctx, evt.index - factor)\n        },\n        roundValueIfNeeded(ctx) {\n          if (ctx.allowHalf) return\n          // doesn't use set.value(...) because it's an implicit coarsing (used in watch and created)\n          ctx.value = Math.round(ctx.value)\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change: (ctx: MachineContext) => {\n    ctx.onValueChange?.({ value: ctx.value })\n    dom.dispatchChangeEvent(ctx)\n  },\n  hoverChange: (ctx: MachineContext) => {\n    ctx.onHoverChange?.({ hoveredValue: ctx.hoveredValue })\n  },\n}\n\nconst set = {\n  value: (ctx: MachineContext, value: number) => {\n    if (isEqual(ctx.value, value)) return\n    ctx.value = value\n    invoke.change(ctx)\n  },\n  hoveredValue: (ctx: MachineContext, value: number) => {\n    if (isEqual(ctx.hoveredValue, value)) return\n    ctx.hoveredValue = value\n    invoke.hoverChange(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ItemProps, UserDefinedContext } from \"./rating-group.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"allowHalf\",\n  \"autoFocus\",\n  \"count\",\n  \"dir\",\n  \"disabled\",\n  \"form\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"name\",\n  \"onHoverChange\",\n  \"onValueChange\",\n  \"readOnly\",\n  \"translations\",\n  \"value\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"index\"])\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n", "import { anatomy as anatomy$1 } from '@zag-js/radio-group';\n\nconst anatomy = anatomy$1.rename(\"segment-group\");\n\nexport { anatomy };\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"select\").parts(\n  \"label\",\n  \"positioner\",\n  \"trigger\",\n  \"indicator\",\n  \"clearTrigger\",\n  \"item\",\n  \"itemText\",\n  \"itemIndicator\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n  \"list\",\n  \"content\",\n  \"root\",\n  \"control\",\n)\nexport const parts = anatomy.build()\n", "import { Collection, type CollectionItem, type CollectionOptions } from \"@zag-js/collection\"\nimport { ref } from \"@zag-js/core\"\n\nexport const collection = <T extends CollectionItem>(options: CollectionOptions<T>): Collection<T> => {\n  return ref(new Collection(options))\n}\n\ncollection.empty = (): Collection<CollectionItem> => {\n  return ref(new Collection<CollectionItem>({ items: [] }))\n}\n", "import { getEventKey, isLeftClick, type EventKeyMap } from \"@zag-js/dom-event\"\nimport {\n  ariaAttr,\n  dataAttr,\n  getByTypeahead,\n  isEditableElement,\n  isSelfTarget,\n  isValidTabEvent,\n  visuallyHiddenStyle,\n} from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./select.anatomy\"\nimport { dom } from \"./select.dom\"\nimport type { CollectionItem, ItemProps, ItemState, MachineApi, Send, State } from \"./select.types\"\n\nexport function connect<T extends PropTypes, V extends CollectionItem = CollectionItem>(\n  state: State,\n  send: Send,\n  normalize: NormalizeProps<T>,\n): MachineApi<T, V> {\n  const disabled = state.context.isDisabled\n  const invalid = state.context.invalid\n  const readOnly = state.context.readOnly\n  const interactive = state.context.isInteractive\n  const composite = state.context.composite\n\n  const open = state.hasTag(\"open\")\n  const focused = state.matches(\"focused\")\n\n  const highlightedValue = state.context.highlightedValue\n  const highlightedItem = state.context.highlightedItem\n  const selectedItems = state.context.selectedItems\n  const isTypingAhead = state.context.isTypingAhead\n\n  const ariaActiveDescendant = highlightedValue ? dom.getItemId(state.context, highlightedValue) : undefined\n\n  function getItemState(props: ItemProps): ItemState {\n    const _disabled = state.context.collection.isItemDisabled(props.item)\n    const value = state.context.collection.itemToValue(props.item)\n    return {\n      value,\n      disabled: Boolean(disabled || _disabled),\n      highlighted: highlightedValue === value,\n      selected: state.context.value.includes(value),\n    }\n  }\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement,\n  })\n\n  return {\n    open: open,\n    focused: focused,\n    empty: state.context.value.length === 0,\n    highlightedItem,\n    highlightedValue,\n    selectedItems,\n    hasSelectedItems: state.context.hasSelectedItems,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    collection: state.context.collection,\n    setCollection(collection) {\n      send({ type: \"COLLECTION.SET\", value: collection })\n    },\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options })\n    },\n    focus() {\n      dom.getTriggerEl(state.context)?.focus({ preventScroll: true })\n    },\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n    selectValue(value) {\n      send({ type: \"ITEM.SELECT\", value })\n    },\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value })\n    },\n    highlightValue(value) {\n      send({ type: \"HIGHLIGHTED_VALUE.SET\", value })\n    },\n    clearValue(value) {\n      if (value) {\n        send({ type: \"ITEM.CLEAR\", value })\n      } else {\n        send({ type: \"VALUE.CLEAR\" })\n      }\n    },\n\n    getItemState,\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n      })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        dir: state.context.dir,\n        id: dom.getLabelId(state.context),\n        ...parts.label.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n        htmlFor: dom.getHiddenSelectId(state.context),\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (disabled) return\n          dom.getTriggerEl(state.context)?.focus({ preventScroll: true })\n        },\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        id: dom.getControlId(state.context),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-focus\": dataAttr(focused),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n      })\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        id: dom.getTriggerId(state.context),\n        disabled: disabled,\n        dir: state.context.dir,\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": dom.getContentId(state.context),\n        \"aria-expanded\": open,\n        \"aria-haspopup\": \"listbox\",\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-invalid\": invalid,\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        ...parts.trigger.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-placement\": state.context.currentPlacement,\n        \"data-placeholder-shown\": dataAttr(!state.context.hasSelectedItems),\n        onPointerDown(event) {\n          if (!isLeftClick(event)) return\n          if (!interactive) return\n          event.currentTarget.dataset.pointerType = event.pointerType\n          if (disabled || event.pointerType === \"touch\") return\n          send({ type: \"TRIGGER.CLICK\" })\n        },\n        onClick(event) {\n          if (!interactive || event.button) return\n          if (event.currentTarget.dataset.pointerType === \"touch\") {\n            send({ type: \"TRIGGER.CLICK\" })\n          }\n        },\n        onFocus() {\n          send(\"TRIGGER.FOCUS\")\n        },\n        onBlur() {\n          send(\"TRIGGER.BLUR\")\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n\n          const keyMap: EventKeyMap = {\n            ArrowUp() {\n              send({ type: \"TRIGGER.ARROW_UP\" })\n            },\n            ArrowDown(event) {\n              send({ type: event.altKey ? \"OPEN\" : \"TRIGGER.ARROW_DOWN\" })\n            },\n            ArrowLeft() {\n              send({ type: \"TRIGGER.ARROW_LEFT\" })\n            },\n            ArrowRight() {\n              send({ type: \"TRIGGER.ARROW_RIGHT\" })\n            },\n            Home() {\n              send({ type: \"TRIGGER.HOME\" })\n            },\n            End() {\n              send({ type: \"TRIGGER.END\" })\n            },\n            Enter() {\n              send({ type: \"TRIGGER.ENTER\" })\n            },\n            Space(event) {\n              if (isTypingAhead) {\n                send({ type: \"TRIGGER.TYPEAHEAD\", key: event.key })\n              } else {\n                send({ type: \"TRIGGER.ENTER\" })\n              }\n            },\n          }\n\n          const exec = keyMap[getEventKey(event, state.context)]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n            return\n          }\n\n          if (getByTypeahead.isValidEvent(event)) {\n            send({ type: \"TRIGGER.TYPEAHEAD\", key: event.key })\n            event.preventDefault()\n          }\n        },\n      })\n    },\n\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        dir: state.context.dir,\n        \"aria-hidden\": true,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n      })\n    },\n\n    getItemProps(props) {\n      const itemState = getItemState(props)\n\n      return normalize.element({\n        id: dom.getItemId(state.context, itemState.value),\n        role: \"option\",\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        \"data-value\": itemState.value,\n        \"aria-selected\": itemState.selected,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"aria-disabled\": ariaAttr(itemState.disabled),\n        onPointerMove(event) {\n          if (itemState.disabled || event.pointerType !== \"mouse\") return\n          if (itemState.value === state.context.highlightedValue) return\n          send({ type: \"ITEM.POINTER_MOVE\", value: itemState.value })\n        },\n        onPointerUp() {\n          if (itemState.disabled) return\n          send({ type: \"ITEM.CLICK\", src: \"pointerup\", value: itemState.value })\n        },\n        onPointerLeave(event) {\n          if (itemState.disabled) return\n          if (props.persistFocus) return\n          if (event.pointerType !== \"mouse\") return\n          const isArrowKey = [\"CONTENT.ARROW_UP\", \"CONTENT.ARROW_DOWN\"].includes(state.event.type)\n          if (isArrowKey) return\n          send({ type: \"ITEM.POINTER_LEAVE\" })\n        },\n        onTouchEnd(event) {\n          // prevent clicking elements behind content\n          event.preventDefault()\n          event.stopPropagation()\n        },\n      })\n    },\n\n    getItemTextProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.itemText.attrs,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n      })\n    },\n\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.selected,\n      })\n    },\n\n    getItemGroupLabelProps(props) {\n      const { htmlFor } = props\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        id: dom.getItemGroupLabelId(state.context, htmlFor),\n        role: \"group\",\n        dir: state.context.dir,\n      })\n    },\n\n    getItemGroupProps(props) {\n      const { id } = props\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        id: dom.getItemGroupId(state.context, id),\n        \"aria-labelledby\": dom.getItemGroupLabelId(state.context, id),\n        dir: state.context.dir,\n      })\n    },\n\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        id: dom.getClearTriggerId(state.context),\n        type: \"button\",\n        \"aria-label\": \"Clear value\",\n        disabled: disabled,\n        hidden: !state.context.hasSelectedItems,\n        dir: state.context.dir,\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send(\"VALUE.CLEAR\")\n        },\n      })\n    },\n\n    getHiddenSelectProps() {\n      return normalize.select({\n        name: state.context.name,\n        form: state.context.form,\n        disabled: disabled,\n        multiple: state.context.multiple,\n        \"aria-hidden\": true,\n        id: dom.getHiddenSelectId(state.context),\n        defaultValue: state.context.multiple ? state.context.value : state.context.value[0],\n        style: visuallyHiddenStyle,\n        tabIndex: -1,\n        // Some browser extensions will focus the hidden select.\n        // Let's forward the focus to the trigger.\n        onFocus() {\n          dom.getTriggerEl(state.context)?.focus({ preventScroll: true })\n        },\n        \"aria-labelledby\": dom.getLabelId(state.context),\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        id: dom.getPositionerId(state.context),\n        style: popperStyles.floating,\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        hidden: !open,\n        dir: state.context.dir,\n        id: dom.getContentId(state.context),\n        role: composite ? \"listbox\" : \"dialog\",\n        ...parts.content.attrs,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-placement\": state.context.currentPlacement,\n        \"data-activedescendant\": ariaActiveDescendant,\n        \"aria-activedescendant\": composite ? ariaActiveDescendant : undefined,\n        \"aria-multiselectable\": state.context.multiple && composite ? true : undefined,\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        tabIndex: 0,\n        onKeyDown(event) {\n          if (!interactive) return\n          if (!isSelfTarget(event)) return\n\n          // select should not be navigated using tab key so we prevent it\n          // but, we want to allow tabbing within the content when composing\n          // with widgets like tabs or trees\n          if (event.key === \"Tab\") {\n            const valid = isValidTabEvent(event)\n            if (!valid) {\n              event.preventDefault()\n              return\n            }\n          }\n\n          const keyMap: EventKeyMap = {\n            ArrowUp() {\n              send({ type: \"CONTENT.ARROW_UP\" })\n            },\n            ArrowDown() {\n              send({ type: \"CONTENT.ARROW_DOWN\" })\n            },\n            Home() {\n              send({ type: \"CONTENT.HOME\" })\n            },\n            End() {\n              send({ type: \"CONTENT.END\" })\n            },\n            Enter() {\n              send({ type: \"ITEM.CLICK\", src: \"keydown.enter\" })\n            },\n            Space(event) {\n              if (isTypingAhead) {\n                send({ type: \"CONTENT.TYPEAHEAD\", key: event.key })\n              } else {\n                keyMap.Enter?.(event)\n              }\n            },\n          }\n\n          const exec = keyMap[getEventKey(event)]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n            return\n          }\n\n          if (isEditableElement(event.target)) {\n            return\n          }\n\n          if (getByTypeahead.isValidEvent(event)) {\n            send({ type: \"CONTENT.TYPEAHEAD\", key: event.key })\n            event.preventDefault()\n          }\n        },\n      })\n    },\n\n    getListProps() {\n      return normalize.element({\n        ...parts.list.attrs,\n        tabIndex: 0,\n        role: !composite ? \"listbox\" : undefined,\n        \"aria-labelledby\": dom.getTriggerId(state.context),\n        \"aria-activedescendant\": !composite ? ariaActiveDescendant : undefined,\n        \"aria-multiselectable\": !composite && state.context.multiple ? true : undefined,\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./select.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `select:${ctx.id}`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `select:${ctx.id}:content`,\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `select:${ctx.id}:trigger`,\n  getClearTriggerId: (ctx: Ctx) => ctx.ids?.clearTrigger ?? `select:${ctx.id}:clear-trigger`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `select:${ctx.id}:label`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `select:${ctx.id}:control`,\n  getItemId: (ctx: Ctx, id: string | number) => ctx.ids?.item?.(id) ?? `select:${ctx.id}:option:${id}`,\n  getHiddenSelectId: (ctx: Ctx) => ctx.ids?.hiddenSelect ?? `select:${ctx.id}:select`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `select:${ctx.id}:positioner`,\n  getItemGroupId: (ctx: Ctx, id: string | number) => ctx.ids?.itemGroup?.(id) ?? `select:${ctx.id}:optgroup:${id}`,\n  getItemGroupLabelId: (ctx: Ctx, id: string | number) =>\n    ctx.ids?.itemGroupLabel?.(id) ?? `select:${ctx.id}:optgroup-label:${id}`,\n\n  getHiddenSelectEl: (ctx: Ctx) => dom.getById<HTMLSelectElement>(ctx, dom.getHiddenSelectId(ctx)),\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getControlEl: (ctx: Ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getClearTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getClearTriggerId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getHighlightedOptionEl(ctx: Ctx) {\n    if (!ctx.highlightedValue) return null\n    return dom.getById(ctx, dom.getItemId(ctx, ctx.highlightedValue))\n  },\n})\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { getByTypeahead, getInitialFocus, observeAttributes, raf, scrollIntoView } from \"@zag-js/dom-query\"\nimport { trackFormControl } from \"@zag-js/form-utils\"\nimport { getPlacement } from \"@zag-js/popper\"\nimport { addOrRemove, compact, isEqual } from \"@zag-js/utils\"\nimport { collection } from \"./select.collection\"\nimport { dom } from \"./select.dom\"\nimport type { CollectionItem, MachineContext, MachineState, UserDefinedContext } from \"./select.types\"\n\nconst { and, not, or } = guards\n\nexport function machine<T extends CollectionItem>(userContext: UserDefinedContext<T>) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"select\",\n      context: {\n        value: [],\n        highlightedValue: null,\n        loopFocus: false,\n        closeOnSelect: true,\n        disabled: false,\n        readOnly: false,\n        composite: true,\n        ...ctx,\n        highlightedItem: null,\n        selectedItems: [],\n        valueAsString: \"\",\n        collection: ctx.collection ?? collection.empty(),\n        typeahead: getByTypeahead.defaultOptions,\n        fieldsetDisabled: false,\n        restoreFocus: true,\n        positioning: {\n          placement: \"bottom-start\",\n          gutter: 8,\n          ...ctx.positioning,\n        },\n      },\n\n      computed: {\n        hasSelectedItems: (ctx) => ctx.value.length > 0,\n        isTypingAhead: (ctx) => ctx.typeahead.keysSoFar !== \"\",\n        isDisabled: (ctx) => !!ctx.disabled || ctx.fieldsetDisabled,\n        isInteractive: (ctx) => !(ctx.isDisabled || ctx.readOnly),\n      },\n\n      initial: ctx.open ? \"open\" : \"idle\",\n\n      created: [\"syncCollection\"],\n\n      entry: [\"syncSelectElement\"],\n\n      watch: {\n        open: [\"toggleVisibility\"],\n        value: [\"syncSelectedItems\", \"syncSelectElement\"],\n        highlightedValue: [\"syncHighlightedItem\"],\n        collection: [\"syncCollection\"],\n      },\n\n      on: {\n        \"HIGHLIGHTED_VALUE.SET\": {\n          actions: [\"setHighlightedItem\"],\n        },\n        \"ITEM.SELECT\": {\n          actions: [\"selectItem\"],\n        },\n        \"ITEM.CLEAR\": {\n          actions: [\"clearItem\"],\n        },\n        \"VALUE.SET\": {\n          actions: [\"setSelectedItems\"],\n        },\n        \"VALUE.CLEAR\": {\n          actions: [\"clearSelectedItems\"],\n        },\n        \"COLLECTION.SET\": {\n          actions: [\"setCollection\"],\n        },\n      },\n\n      activities: [\"trackFormControlState\"],\n\n      states: {\n        idle: {\n          tags: [\"closed\"],\n          on: {\n            \"CONTROLLED.OPEN\": [\n              {\n                guard: \"isTriggerClickEvent\",\n                target: \"open\",\n                actions: [\"highlightFirstSelectedItem\"],\n              },\n              {\n                target: \"open\",\n              },\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"highlightFirstSelectedItem\"],\n              },\n            ],\n            \"TRIGGER.FOCUS\": {\n              target: \"focused\",\n            },\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\"],\n              },\n            ],\n          },\n        },\n\n        focused: {\n          tags: [\"closed\"],\n          entry: [\"setFinalFocus\"],\n          on: {\n            \"CONTROLLED.OPEN\": [\n              {\n                guard: \"isTriggerClickEvent\",\n                target: \"open\",\n                actions: [\"highlightFirstSelectedItem\"],\n              },\n              {\n                guard: \"isTriggerArrowUpEvent\",\n                target: \"open\",\n                actions: [\"highlightComputedLastItem\"],\n              },\n              {\n                guard: or(\"isTriggerArrowDownEvent\", \"isTriggerEnterEvent\"),\n                target: \"open\",\n                actions: [\"highlightComputedFirstItem\"],\n              },\n              {\n                target: \"open\",\n              },\n            ],\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\"],\n              },\n            ],\n            \"TRIGGER.BLUR\": {\n              target: \"idle\",\n            },\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"highlightFirstSelectedItem\"],\n              },\n            ],\n            \"TRIGGER.ENTER\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"highlightComputedFirstItem\"],\n              },\n            ],\n            \"TRIGGER.ARROW_UP\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"highlightComputedLastItem\"],\n              },\n            ],\n            \"TRIGGER.ARROW_DOWN\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\", \"highlightComputedFirstItem\"],\n              },\n            ],\n            \"TRIGGER.ARROW_LEFT\": [\n              {\n                guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n                actions: [\"selectPreviousItem\"],\n              },\n              {\n                guard: not(\"multiple\"),\n                actions: [\"selectLastItem\"],\n              },\n            ],\n            \"TRIGGER.ARROW_RIGHT\": [\n              {\n                guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n                actions: [\"selectNextItem\"],\n              },\n              {\n                guard: not(\"multiple\"),\n                actions: [\"selectFirstItem\"],\n              },\n            ],\n            \"TRIGGER.HOME\": {\n              guard: not(\"multiple\"),\n              actions: [\"selectFirstItem\"],\n            },\n            \"TRIGGER.END\": {\n              guard: not(\"multiple\"),\n              actions: [\"selectLastItem\"],\n            },\n            \"TRIGGER.TYPEAHEAD\": {\n              guard: not(\"multiple\"),\n              actions: [\"selectMatchingItem\"],\n            },\n          },\n        },\n\n        open: {\n          tags: [\"open\"],\n          entry: [\"setInitialFocus\"],\n          exit: [\"scrollContentToTop\"],\n          activities: [\"trackDismissableElement\", \"computePlacement\", \"scrollToHighlightedItem\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"clearHighlightedItem\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"clearHighlightedItem\"],\n              },\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"clearHighlightedItem\"],\n              },\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"clearHighlightedItem\"],\n              },\n            ],\n            \"ITEM.CLICK\": [\n              {\n                guard: and(\"closeOnSelect\", \"isOpenControlled\"),\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"],\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"clearHighlightedItem\"],\n              },\n              {\n                actions: [\"selectHighlightedItem\"],\n              },\n            ],\n            \"CONTENT.INTERACT_OUTSIDE\": [\n              // == group 1 ==\n              {\n                guard: and(\"shouldRestoreFocus\", \"isOpenControlled\"),\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                guard: \"shouldRestoreFocus\",\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"clearHighlightedItem\"],\n              },\n\n              // == group 2 ==\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\", \"clearHighlightedItem\"],\n              },\n            ],\n            \"CONTENT.HOME\": {\n              actions: [\"highlightFirstItem\"],\n            },\n            \"CONTENT.END\": {\n              actions: [\"highlightLastItem\"],\n            },\n            \"CONTENT.ARROW_DOWN\": [\n              {\n                guard: and(\"hasHighlightedItem\", \"loop\", \"isLastItemHighlighted\"),\n                actions: [\"highlightFirstItem\"],\n              },\n              {\n                guard: \"hasHighlightedItem\",\n                actions: [\"highlightNextItem\"],\n              },\n              {\n                actions: [\"highlightFirstItem\"],\n              },\n            ],\n            \"CONTENT.ARROW_UP\": [\n              {\n                guard: and(\"hasHighlightedItem\", \"loop\", \"isFirstItemHighlighted\"),\n                actions: [\"highlightLastItem\"],\n              },\n              {\n                guard: \"hasHighlightedItem\",\n                actions: [\"highlightPreviousItem\"],\n              },\n              {\n                actions: [\"highlightLastItem\"],\n              },\n            ],\n            \"CONTENT.TYPEAHEAD\": {\n              actions: [\"highlightMatchingItem\"],\n            },\n            \"ITEM.POINTER_MOVE\": {\n              actions: [\"highlightItem\"],\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: [\"clearHighlightedItem\"],\n            },\n            \"POSITIONING.SET\": {\n              actions: [\"reposition\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        loop: (ctx) => !!ctx.loopFocus,\n        multiple: (ctx) => !!ctx.multiple,\n        hasSelectedItems: (ctx) => !!ctx.hasSelectedItems,\n        hasHighlightedItem: (ctx) => ctx.highlightedValue != null,\n        isFirstItemHighlighted: (ctx) => ctx.highlightedValue === ctx.collection.first(),\n        isLastItemHighlighted: (ctx) => ctx.highlightedValue === ctx.collection.last(),\n        closeOnSelect: (ctx, evt) => {\n          if (ctx.multiple) return false\n          return !!(evt.closeOnSelect ?? ctx.closeOnSelect)\n        },\n        shouldRestoreFocus: (ctx) => !!ctx.restoreFocus,\n        // guard assertions (for controlled mode)\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n        isTriggerClickEvent: (_ctx, evt) => evt.previousEvent?.type === \"TRIGGER.CLICK\",\n        isTriggerEnterEvent: (_ctx, evt) => evt.previousEvent?.type === \"TRIGGER.ENTER\",\n        isTriggerArrowUpEvent: (_ctx, evt) => evt.previousEvent?.type === \"TRIGGER.ARROW_UP\",\n        isTriggerArrowDownEvent: (_ctx, evt) => evt.previousEvent?.type === \"TRIGGER.ARROW_DOWN\",\n      },\n      activities: {\n        trackFormControlState(ctx, _evt, { initialContext }) {\n          return trackFormControl(dom.getHiddenSelectEl(ctx), {\n            onFieldsetDisabledChange(disabled) {\n              ctx.fieldsetDisabled = disabled\n            },\n            onFormReset() {\n              set.selectedItems(ctx, initialContext.value)\n            },\n          })\n        },\n        trackDismissableElement(ctx, _evt, { send }) {\n          const contentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(contentEl, {\n            defer: true,\n            exclude: [dom.getTriggerEl(ctx), dom.getClearTriggerEl(ctx)],\n            onFocusOutside: ctx.onFocusOutside,\n            onPointerDownOutside: ctx.onPointerDownOutside,\n            onInteractOutside(event) {\n              ctx.onInteractOutside?.(event)\n              ctx.restoreFocus = !event.detail.focusable\n            },\n            onDismiss() {\n              send({ type: \"CONTENT.INTERACT_OUTSIDE\" })\n            },\n          })\n        },\n        computePlacement(ctx) {\n          ctx.currentPlacement = ctx.positioning.placement\n          const triggerEl = () => dom.getTriggerEl(ctx)\n          const positionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(triggerEl, positionerEl, {\n            defer: true,\n            ...ctx.positioning,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        scrollToHighlightedItem(ctx, _evt, { getState }) {\n          const exec = (immediate: boolean) => {\n            const state = getState()\n\n            // don't scroll into view if we're using the pointer\n            if (state.event.type.includes(\"POINTER\")) return\n\n            const optionEl = dom.getHighlightedOptionEl(ctx)\n            const contentEl = dom.getContentEl(ctx)\n\n            if (ctx.scrollToIndexFn) {\n              const highlightedIndex = ctx.collection.indexOf(ctx.highlightedValue)\n              ctx.scrollToIndexFn({ index: highlightedIndex, immediate })\n              return\n            }\n\n            scrollIntoView(optionEl, { rootEl: contentEl, block: \"nearest\" })\n          }\n\n          raf(() => exec(true))\n\n          const contentEl = () => dom.getContentEl(ctx)\n          return observeAttributes(contentEl, {\n            defer: true,\n            attributes: [\"data-activedescendant\"],\n            callback() {\n              exec(false)\n            },\n          })\n        },\n      },\n      actions: {\n        reposition(ctx, evt) {\n          const positionerEl = () => dom.getPositionerEl(ctx)\n          getPlacement(dom.getTriggerEl(ctx), positionerEl, {\n            ...ctx.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n        highlightPreviousItem(ctx) {\n          if (ctx.highlightedValue == null) return\n          const value = ctx.collection.prev(ctx.highlightedValue)\n          set.highlightedItem(ctx, value)\n        },\n        highlightNextItem(ctx) {\n          if (ctx.highlightedValue == null) return\n          const value = ctx.collection.next(ctx.highlightedValue)\n          set.highlightedItem(ctx, value)\n        },\n        highlightFirstItem(ctx) {\n          const value = ctx.collection.first()\n          set.highlightedItem(ctx, value)\n        },\n        highlightLastItem(ctx) {\n          const value = ctx.collection.last()\n          set.highlightedItem(ctx, value)\n        },\n        setInitialFocus(ctx) {\n          raf(() => {\n            const element = getInitialFocus({\n              root: dom.getContentEl(ctx),\n            })\n            element?.focus({ preventScroll: true })\n          })\n        },\n        setFinalFocus(ctx) {\n          raf(() => {\n            dom.getTriggerEl(ctx)?.focus({ preventScroll: true })\n          })\n        },\n        selectHighlightedItem(ctx, evt) {\n          const value = evt.value ?? ctx.highlightedValue\n          if (value == null) return\n          set.selectedItem(ctx, value)\n        },\n        highlightComputedFirstItem(ctx) {\n          const value = ctx.hasSelectedItems ? ctx.collection.sort(ctx.value)[0] : ctx.collection.first()\n          set.highlightedItem(ctx, value)\n        },\n        highlightComputedLastItem(ctx) {\n          const value = ctx.hasSelectedItems ? ctx.collection.sort(ctx.value)[0] : ctx.collection.last()\n          set.highlightedItem(ctx, value)\n        },\n        highlightFirstSelectedItem(ctx) {\n          if (!ctx.hasSelectedItems) return\n          const [value] = ctx.collection.sort(ctx.value)\n          set.highlightedItem(ctx, value)\n        },\n        highlightItem(ctx, evt) {\n          set.highlightedItem(ctx, evt.value)\n        },\n        highlightMatchingItem(ctx, evt) {\n          const value = ctx.collection.search(evt.key, {\n            state: ctx.typeahead,\n            currentValue: ctx.highlightedValue,\n          })\n\n          if (value == null) return\n          set.highlightedItem(ctx, value)\n        },\n        setHighlightedItem(ctx, evt) {\n          set.highlightedItem(ctx, evt.value)\n        },\n        clearHighlightedItem(ctx) {\n          set.highlightedItem(ctx, null, true)\n        },\n        selectItem(ctx, evt) {\n          set.selectedItem(ctx, evt.value)\n        },\n        clearItem(ctx, evt) {\n          const value = ctx.value.filter((v) => v !== evt.value)\n          set.selectedItems(ctx, value)\n        },\n        setSelectedItems(ctx, evt) {\n          set.selectedItems(ctx, evt.value)\n        },\n        clearSelectedItems(ctx) {\n          set.selectedItems(ctx, [])\n        },\n        selectPreviousItem(ctx) {\n          const value = ctx.collection.prev(ctx.value[0])\n          set.selectedItem(ctx, value)\n        },\n        selectNextItem(ctx) {\n          const value = ctx.collection.next(ctx.value[0])\n          set.selectedItem(ctx, value)\n        },\n        selectFirstItem(ctx) {\n          const value = ctx.collection.first()\n          set.selectedItem(ctx, value)\n        },\n        selectLastItem(ctx) {\n          const value = ctx.collection.last()\n          set.selectedItem(ctx, value)\n        },\n        selectMatchingItem(ctx, evt) {\n          const value = ctx.collection.search(evt.key, {\n            state: ctx.typeahead,\n            currentValue: ctx.value[0],\n          })\n          if (value == null) return\n          set.selectedItem(ctx, value)\n        },\n        scrollContentToTop(ctx) {\n          if (ctx.scrollToIndexFn) {\n            ctx.scrollToIndexFn({ index: 0, immediate: true })\n          } else {\n            dom.getContentEl(ctx)?.scrollTo(0, 0)\n          }\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        syncSelectElement(ctx) {\n          const selectEl = dom.getHiddenSelectEl(ctx)\n          if (!selectEl) return\n\n          if (ctx.value.length === 0 && !ctx.multiple) {\n            selectEl.selectedIndex = -1\n            return\n          }\n\n          for (const option of selectEl.options) {\n            option.selected = ctx.value.includes(option.value)\n          }\n        },\n        setCollection(ctx, evt) {\n          ctx.collection = evt.value\n        },\n        syncCollection(ctx) {\n          const selectedItems = ctx.collection.items(ctx.value)\n          const valueAsString = ctx.collection.itemsToString(selectedItems)\n\n          ctx.highlightedItem = ctx.collection.item(ctx.highlightedValue)\n          ctx.selectedItems = selectedItems\n          ctx.valueAsString = valueAsString\n        },\n        syncSelectedItems(ctx) {\n          sync.valueChange(ctx)\n        },\n        syncHighlightedItem(ctx) {\n          sync.highlightChange(ctx)\n        },\n      },\n    },\n  )\n}\n\nfunction dispatchChangeEvent(ctx: MachineContext) {\n  raf(() => {\n    const node = dom.getHiddenSelectEl(ctx)\n    if (!node) return\n    const win = dom.getWin(ctx)\n    const changeEvent = new win.Event(\"change\", { bubbles: true, composed: true })\n    node.dispatchEvent(changeEvent)\n  })\n}\n\nconst sync = {\n  valueChange: (ctx: MachineContext) => {\n    const prevSelectedItems = ctx.selectedItems\n    ctx.selectedItems = ctx.value.map((v) => {\n      const foundItem = prevSelectedItems.find((item) => ctx.collection.itemToValue(item) === v)\n      if (foundItem) return foundItem\n      return ctx.collection.item(v)\n    })\n    ctx.valueAsString = ctx.collection.itemsToString(ctx.selectedItems)\n  },\n  highlightChange: (ctx: MachineContext) => {\n    ctx.highlightedItem = ctx.collection.item(ctx.highlightedValue)\n  },\n}\n\nconst invoke = {\n  valueChange: (ctx: MachineContext) => {\n    sync.valueChange(ctx)\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      items: Array.from(ctx.selectedItems),\n    })\n    dispatchChangeEvent(ctx)\n  },\n  highlightChange: (ctx: MachineContext) => {\n    sync.highlightChange(ctx)\n    ctx.onHighlightChange?.({\n      highlightedValue: ctx.highlightedValue,\n      highlightedItem: ctx.highlightedItem,\n      highlightedIndex: ctx.collection.indexOf(ctx.highlightedValue),\n    })\n  },\n}\n\nconst set = {\n  selectedItem: (ctx: MachineContext, value: string | null | undefined, force = false) => {\n    if (isEqual(ctx.value, value)) return\n\n    if (value == null && !force) return\n\n    if (value == null && force) {\n      ctx.value = []\n      invoke.valueChange(ctx)\n      return\n    }\n\n    ctx.value = ctx.multiple ? addOrRemove(ctx.value, value!) : [value!]\n    invoke.valueChange(ctx)\n  },\n  selectedItems: (ctx: MachineContext, value: string[]) => {\n    if (isEqual(ctx.value, value)) return\n\n    ctx.value = value\n    invoke.valueChange(ctx)\n  },\n  highlightedItem: (ctx: MachineContext, value: string | null | undefined, force = false) => {\n    if (isEqual(ctx.highlightedValue, value)) return\n\n    if (value == null && !force) return\n    ctx.highlightedValue = value ?? null\n\n    invoke.highlightChange(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ItemGroupLabelProps, ItemGroupProps, ItemProps, UserDefinedContext } from \"./select.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"closeOnSelect\",\n  \"collection\",\n  \"dir\",\n  \"disabled\",\n  \"form\",\n  \"getRootNode\",\n  \"highlightedValue\",\n  \"id\",\n  \"ids\",\n  \"invalid\",\n  \"loopFocus\",\n  \"multiple\",\n  \"name\",\n  \"onFocusOutside\",\n  \"onHighlightChange\",\n  \"onInteractOutside\",\n  \"onOpenChange\",\n  \"onPointerDownOutside\",\n  \"onValueChange\",\n  \"open.controlled\",\n  \"open\",\n  \"composite\",\n  \"positioning\",\n  \"readOnly\",\n  \"scrollToIndexFn\",\n  \"value\",\n])\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"item\", \"persistFocus\"])\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n\nexport const itemGroupProps = createProps<ItemGroupProps>()([\"id\"])\nexport const splitItemGroupProps = createSplitProps<ItemGroupProps>(itemGroupProps)\n\nexport const itemGroupLabelProps = createProps<ItemGroupLabelProps>()([\"htmlFor\"])\nexport const splitItemGroupLabelProps = createSplitProps<ItemGroupLabelProps>(itemGroupLabelProps)\n", "import { anatomy as anatomy$1 } from '@zag-js/select';\n\nconst anatomy = anatomy$1.extendWith(\"valueText\");\n\nexport { anatomy };\n", "function $(e,t,u,x=h=>h){return e*x(.5-t*(.5-u))}function se(e){return[-e[0],-e[1]]}function l(e,t){return[e[0]+t[0],e[1]+t[1]]}function a(e,t){return[e[0]-t[0],e[1]-t[1]]}function b(e,t){return[e[0]*t,e[1]*t]}function he(e,t){return[e[0]/t,e[1]/t]}function R(e){return[e[1],-e[0]]}function B(e,t){return e[0]*t[0]+e[1]*t[1]}function ue(e,t){return e[0]===t[0]&&e[1]===t[1]}function ge(e){return Math.hypot(e[0],e[1])}function de(e){return e[0]*e[0]+e[1]*e[1]}function A(e,t){return de(a(e,t))}function G(e){return he(e,ge(e))}function ie(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function L(e,t,u){let x=Math.sin(u),h=Math.cos(u),y=e[0]-t[0],n=e[1]-t[1],f=y*h-n*x,d=y*x+n*h;return[f+t[0],d+t[1]]}function K(e,t,u){return l(e,b(a(t,e),u))}function ee(e,t,u){return l(e,b(t,u))}var{min:C,PI:xe}=Math,pe=.275,V=xe+1e-4;function ce(e,t={}){let{size:u=16,smoothing:x=.5,thinning:h=.5,simulatePressure:y=!0,easing:n=r=>r,start:f={},end:d={},last:D=!1}=t,{cap:S=!0,easing:j=r=>r*(2-r)}=f,{cap:q=!0,easing:c=r=>--r*r*r+1}=d;if(e.length===0||u<=0)return[];let p=e[e.length-1].runningLength,g=f.taper===!1?0:f.taper===!0?Math.max(u,p):f.taper,T=d.taper===!1?0:d.taper===!0?Math.max(u,p):d.taper,te=Math.pow(u*x,2),_=[],M=[],H=e.slice(0,10).reduce((r,i)=>{let o=i.pressure;if(y){let s=C(1,i.distance/u),W=C(1,1-s);o=C(1,r+(W-r)*(s*pe))}return(r+o)/2},e[0].pressure),m=$(u,h,e[e.length-1].pressure,n),U,X=e[0].vector,z=e[0].point,F=z,O=z,E=F,J=!1;for(let r=0;r<e.length;r++){let{pressure:i}=e[r],{point:o,vector:s,distance:W,runningLength:I}=e[r];if(r<e.length-1&&p-I<3)continue;if(h){if(y){let v=C(1,W/u),Z=C(1,1-v);i=C(1,H+(Z-H)*(v*pe))}m=$(u,h,i,n)}else m=u/2;U===void 0&&(U=m);let le=I<g?j(I/g):1,fe=p-I<T?c((p-I)/T):1;m=Math.max(.01,m*Math.min(le,fe));let re=(r<e.length-1?e[r+1]:e[r]).vector,Y=r<e.length-1?B(s,re):1,be=B(s,X)<0&&!J,ne=Y!==null&&Y<0;if(be||ne){let v=b(R(X),m);for(let Z=1/13,w=0;w<=1;w+=Z)O=L(a(o,v),o,V*w),_.push(O),E=L(l(o,v),o,V*-w),M.push(E);z=O,F=E,ne&&(J=!0);continue}if(J=!1,r===e.length-1){let v=b(R(s),m);_.push(a(o,v)),M.push(l(o,v));continue}let oe=b(R(K(re,s,Y)),m);O=a(o,oe),(r<=1||A(z,O)>te)&&(_.push(O),z=O),E=l(o,oe),(r<=1||A(F,E)>te)&&(M.push(E),F=E),H=i,X=s}let P=e[0].point.slice(0,2),k=e.length>1?e[e.length-1].point.slice(0,2):l(e[0].point,[1,1]),Q=[],N=[];if(e.length===1){if(!(g||T)||D){let r=ee(P,G(R(a(P,k))),-(U||m)),i=[];for(let o=1/13,s=o;s<=1;s+=o)i.push(L(r,P,V*2*s));return i}}else{if(!(g||T&&e.length===1))if(S)for(let i=1/13,o=i;o<=1;o+=i){let s=L(M[0],P,V*o);Q.push(s)}else{let i=a(_[0],M[0]),o=b(i,.5),s=b(i,.51);Q.push(a(P,o),a(P,s),l(P,s),l(P,o))}let r=R(se(e[e.length-1].vector));if(T||g&&e.length===1)N.push(k);else if(q){let i=ee(k,r,m);for(let o=1/29,s=o;s<1;s+=o)N.push(L(i,k,V*3*s))}else N.push(l(k,b(r,m)),l(k,b(r,m*.99)),a(k,b(r,m*.99)),a(k,b(r,m)))}return _.concat(N,M.reverse(),Q)}function me(e,t={}){var q;let{streamline:u=.5,size:x=16,last:h=!1}=t;if(e.length===0)return[];let y=.15+(1-u)*.85,n=Array.isArray(e[0])?e:e.map(({x:c,y:p,pressure:g=.5})=>[c,p,g]);if(n.length===2){let c=n[1];n=n.slice(0,-1);for(let p=1;p<5;p++)n.push(K(n[0],c,p/4))}n.length===1&&(n=[...n,[...l(n[0],[1,1]),...n[0].slice(2)]]);let f=[{point:[n[0][0],n[0][1]],pressure:n[0][2]>=0?n[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],d=!1,D=0,S=f[0],j=n.length-1;for(let c=1;c<n.length;c++){let p=h&&c===j?n[c].slice(0,2):K(S.point,n[c],y);if(ue(S.point,p))continue;let g=ie(p,S.point);if(D+=g,c<j&&!d){if(D<x)continue;d=!0}S={point:p,pressure:n[c][2]>=0?n[c][2]:.5,vector:G(a(S.point,p)),distance:g,runningLength:D},f.push(S)}return f[0].vector=((q=f[1])==null?void 0:q.vector)||[0,0],f}function ae(e,t={}){return ce(me(e,t),t)}var _e=ae;export{_e as default,ae as getStroke,ce as getStrokeOutlinePoints,me as getStrokePoints};\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"signature-pad\").parts(\n  \"root\",\n  \"control\",\n  \"segment\",\n  \"segmentPath\",\n  \"guide\",\n  \"clearTrigger\",\n  \"label\",\n)\n\nexport const parts = anatomy.build()\n", "import { getRelativePoint, isLeftClick, isModifierKey } from \"@zag-js/dom-event\"\nimport { dataAttr, getEventTarget } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./signature-pad.anatomy\"\nimport { dom } from \"./signature-pad.dom\"\nimport type { MachineApi, Send, State } from \"./signature-pad.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const drawing = state.matches(\"drawing\")\n  const empty = state.context.isEmpty\n  const interactive = state.context.isInteractive\n  const disabled = !!state.context.disabled\n\n  return {\n    empty: empty,\n    drawing: drawing,\n    currentPath: state.context.currentPath,\n    paths: state.context.paths,\n    clear() {\n      send({ type: \"CLEAR\" })\n    },\n\n    getDataUrl(type, quality) {\n      return dom.getDataUrl(state.context, { type, quality })\n    },\n\n    getLabelProps() {\n      return normalize.element({\n        ...parts.label.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        htmlFor: dom.getControlId(state.context),\n      })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        id: dom.getRootId(state.context),\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        tabIndex: disabled ? undefined : 0,\n        id: dom.getControlId(state.context),\n        \"aria-label\": \"Signature Pad\",\n        \"aria-roledescription\": \"signature pad\",\n        \"aria-disabled\": disabled,\n        \"data-disabled\": dataAttr(disabled),\n        onPointerDown(event) {\n          if (!isLeftClick(event)) return\n          if (isModifierKey(event)) return\n          if (!interactive) return\n\n          const target = getEventTarget<HTMLElement>(event)\n          if (target?.closest(\"[data-part=clear-trigger]\")) return\n\n          event.currentTarget.setPointerCapture(event.pointerId)\n\n          const point = { x: event.clientX, y: event.clientY }\n          const { offset } = getRelativePoint(point, dom.getControlEl(state.context)!)\n          send({ type: \"POINTER_DOWN\", point: offset, pressure: event.pressure })\n        },\n        onPointerUp(event) {\n          if (!interactive) return\n          if (event.currentTarget.hasPointerCapture(event.pointerId)) {\n            event.currentTarget.releasePointerCapture(event.pointerId)\n          }\n        },\n        style: {\n          position: \"relative\",\n          touchAction: \"none\",\n          userSelect: \"none\",\n        },\n      })\n    },\n\n    getSegmentProps() {\n      return normalize.svg({\n        ...parts.segment.attrs,\n        style: {\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          width: \"100%\",\n          height: \"100%\",\n          pointerEvents: \"none\",\n          fill: state.context.drawing.fill,\n        },\n      })\n    },\n\n    getSegmentPathProps(props) {\n      return normalize.path({\n        ...parts.segmentPath.attrs,\n        d: props.path,\n      })\n    },\n\n    getGuideProps() {\n      return normalize.element({\n        ...parts.guide.attrs,\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        type: \"button\",\n        \"aria-label\": \"Clear Signature\",\n        hidden: !state.context.paths.length || drawing,\n        disabled: disabled,\n        onClick() {\n          send({ type: \"CLEAR\" })\n        },\n      })\n    },\n\n    getHiddenInputProps(props) {\n      return normalize.input({\n        type: \"text\",\n        hidden: true,\n        disabled: disabled,\n        name: state.context.name,\n        value: props.value,\n      })\n    },\n  }\n}\n", "import { createScope, getDataUrl, query } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx, DataUrlOptions } from \"./signature-pad.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `signature-${ctx.id}`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `signature-control-${ctx.id}`,\n  getHiddenInputId: (ctx: Ctx) => ctx.ids?.hiddenInput ?? `signature-input-${ctx.id}`,\n\n  getControlEl: (ctx: Ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getSegmentEl: (ctx: Ctx) => query<SVGElement>(dom.getControlEl(ctx), \"[data-part=segment]\"),\n  getHiddenInputEl: (ctx: Ctx) => dom.getById(ctx, dom.getHiddenInputId(ctx)),\n\n  getDataUrl: (ctx: Ctx, options: DataUrlOptions): Promise<string> => {\n    if (ctx.isEmpty) return Promise.resolve(\"\")\n    return getDataUrl(dom.getSegmentEl(ctx), options)\n  },\n})\n", "import { createMachine } from \"@zag-js/core\"\nimport { getRelativePoint, trackPointerMove } from \"@zag-js/dom-event\"\nimport { compact } from \"@zag-js/utils\"\nimport getStroke from \"perfect-freehand\"\nimport { getSvgPathFromStroke } from \"./get-svg-path\"\nimport { dom } from \"./signature-pad.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./signature-pad.types\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"signature-pad\",\n      initial: \"idle\",\n      context: {\n        readOnly: false,\n        disabled: false,\n        ...ctx,\n        paths: [],\n        currentPoints: [],\n        currentPath: null,\n        drawing: {\n          size: 2,\n          simulatePressure: false,\n          thinning: 0.7,\n          smoothing: 0.4,\n          streamline: 0.6,\n          ...ctx.drawing,\n        },\n      },\n\n      computed: {\n        isInteractive: (ctx) => !(ctx.disabled || ctx.readOnly),\n        isEmpty: (ctx) => ctx.paths.length === 0,\n      },\n\n      on: {\n        CLEAR: {\n          actions: [\"clearPoints\", \"invokeOnDrawEnd\", \"focusCanvasEl\"],\n        },\n      },\n\n      states: {\n        idle: {\n          on: {\n            POINTER_DOWN: {\n              target: \"drawing\",\n              actions: [\"addPoint\"],\n            },\n          },\n        },\n        drawing: {\n          activities: [\"trackPointerMove\"],\n          on: {\n            POINTER_MOVE: {\n              actions: [\"addPoint\", \"invokeOnDraw\"],\n            },\n            POINTER_UP: {\n              target: \"idle\",\n              actions: [\"endStroke\", \"invokeOnDrawEnd\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      activities: {\n        trackPointerMove(ctx, _evt, { send }) {\n          const doc = dom.getDoc(ctx)\n          return trackPointerMove(doc, {\n            onPointerMove({ event, point }) {\n              const { offset } = getRelativePoint(point, dom.getControlEl(ctx)!)\n              send({ type: \"POINTER_MOVE\", point: offset, pressure: event.pressure })\n            },\n            onPointerUp() {\n              send({ type: \"POINTER_UP\" })\n            },\n          })\n        },\n      },\n      actions: {\n        addPoint(ctx, evt) {\n          ctx.currentPoints.push(evt.point)\n          const stroke = getStroke(ctx.currentPoints, ctx.drawing)\n          ctx.currentPath = getSvgPathFromStroke(stroke)\n        },\n        endStroke(ctx) {\n          ctx.paths.push(ctx.currentPath!)\n          ctx.currentPoints = []\n          ctx.currentPath = null\n        },\n        clearPoints(ctx) {\n          ctx.currentPoints = []\n          ctx.paths = []\n        },\n        focusCanvasEl(ctx) {\n          queueMicrotask(() => {\n            dom.getControlEl(ctx)?.focus({ preventScroll: true })\n          })\n        },\n        invokeOnDraw(ctx) {\n          ctx.onDraw?.({\n            paths: [...ctx.paths, ctx.currentPath!],\n          })\n        },\n        invokeOnDrawEnd(ctx) {\n          ctx.onDrawEnd?.({\n            paths: [...ctx.paths],\n            getDataUrl(type, quality = 0.92) {\n              return dom.getDataUrl(ctx, { type, quality })\n            },\n          })\n        },\n      },\n    },\n  )\n}\n", "const average = (a: number, b: number) => (a + b) / 2\n\nexport function getSvgPathFromStroke(points: number[][], closed = true): string {\n  const len = points.length\n\n  if (len < 4) {\n    return \"\"\n  }\n\n  let a = points[0]\n  let b = points[1]\n  const c = points[2]\n\n  let result = `M${a[0].toFixed(2)},${a[1].toFixed(2)} Q${b[0].toFixed(2)},${b[1].toFixed(2)} ${average(b[0], c[0]).toFixed(2)},${average(\n    b[1],\n    c[1],\n  ).toFixed(2)} T`\n\n  for (let i = 2, max = len - 1; i < max; i++) {\n    a = points[i]\n    b = points[i + 1]\n    result += `${average(a[0], b[0]).toFixed(2)},${average(a[1], b[1]).toFixed(2)} `\n  }\n\n  if (closed) {\n    result += \"Z\"\n  }\n\n  return result\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./signature-pad.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"dir\",\n  \"disabled\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"onDraw\",\n  \"onDrawEnd\",\n  \"readOnly\",\n  \"drawing\",\n  \"name\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "export interface ElementSize {\n  width: number\n  height: number\n}\n\nexport type ElementSizeCallback = (size: ElementSize | undefined) => void\n\nexport function trackElementSize(element: HTMLElement | null, callback: ElementSizeCallback) {\n  if (!element) {\n    callback(undefined)\n    return\n  }\n\n  callback({ width: element.offsetWidth, height: element.offsetHeight })\n\n  const win = element.ownerDocument.defaultView ?? window\n\n  const observer = new win.ResizeObserver((entries) => {\n    if (!Array.isArray(entries) || !entries.length) return\n\n    const [entry] = entries\n    let width: number\n    let height: number\n\n    if (\"borderBoxSize\" in entry) {\n      const borderSizeEntry = entry[\"borderBoxSize\"]\n      const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry\n      width = borderSize[\"inlineSize\"]\n      height = borderSize[\"blockSize\"]\n    } else {\n      width = element.offsetWidth\n      height = element.offsetHeight\n    }\n\n    callback({ width, height })\n  })\n\n  observer.observe(element, { box: \"border-box\" })\n\n  return () => observer.unobserve(element)\n}\n", "import { trackElementSize, type ElementSize } from \"./track-size\"\n\nexport interface TrackElementsSizeOptions<T extends HTMLElement | null> {\n  getNodes: () => T[]\n  observeMutation?: boolean\n  callback: (size: ElementSize | undefined, index: number) => void\n}\n\nexport function trackElementsSize<T extends HTMLElement | null>(options: TrackElementsSizeOptions<T>) {\n  const { getNodes, observeMutation = true, callback } = options\n\n  const cleanups: Array<VoidFunction | undefined> = []\n\n  let firstNode: T | null = null\n\n  function trigger() {\n    const elements = getNodes()\n    firstNode = elements[0]\n    const fns = elements.map((element, index) =>\n      trackElementSize(element, (size) => {\n        callback(size, index)\n      }),\n    )\n    cleanups.push(...fns)\n  }\n\n  trigger()\n\n  if (observeMutation) {\n    const fn = trackMutation(firstNode, trigger)\n    cleanups.push(fn)\n  }\n\n  return () => {\n    cleanups.forEach((cleanup) => {\n      cleanup?.()\n    })\n  }\n}\n\nfunction trackMutation(el: HTMLElement | null, cb: () => void) {\n  if (!el || !el.parentElement) return\n  const win = el.ownerDocument?.defaultView ?? window\n  const observer = new win.MutationObserver(() => {\n    cb()\n  })\n  observer.observe(el.parentElement, { childList: true })\n  return () => {\n    observer.disconnect()\n  }\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"slider\").parts(\n  \"root\",\n  \"label\",\n  \"thumb\",\n  \"valueText\",\n  \"track\",\n  \"range\",\n  \"control\",\n  \"markerGroup\",\n  \"marker\",\n)\n\nexport const parts = anatomy.build()\n", "import {\n  getEventKey,\n  getEventPoint,\n  getEventStep,\n  isLeftClick,\n  isModifierKey,\n  type EventKeyMap,\n} from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr } from \"@zag-js/dom-query\"\nimport { getPercentValue, getValuePercent } from \"@zag-js/numeric-range\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./slider.anatomy\"\nimport { dom } from \"./slider.dom\"\nimport type { MachineApi, Send, State } from \"./slider.types\"\nimport { getRangeAtIndex } from \"./slider.utils\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const ariaLabel = state.context[\"aria-label\"]\n  const ariaLabelledBy = state.context[\"aria-labelledby\"]\n  const sliderValue = state.context.value\n\n  const focused = state.matches(\"focus\")\n  const dragging = state.matches(\"dragging\")\n\n  const disabled = state.context.isDisabled\n  const invalid = state.context.invalid\n  const interactive = state.context.isInteractive\n\n  const isHorizontal = state.context.orientation === \"horizontal\"\n  const isVertical = state.context.orientation === \"vertical\"\n\n  function getValuePercentFn(value: number) {\n    return getValuePercent(value, state.context.min, state.context.max)\n  }\n\n  function getPercentValueFn(percent: number) {\n    return getPercentValue(percent, state.context.min, state.context.max, state.context.step)\n  }\n\n  return {\n    value: state.context.value,\n    dragging,\n    focused,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value: value })\n    },\n    getThumbValue(index) {\n      return sliderValue[index]\n    },\n    setThumbValue(index, value) {\n      send({ type: \"SET_VALUE\", index, value })\n    },\n    getValuePercent: getValuePercentFn,\n    getPercentValue: getPercentValueFn,\n    getThumbPercent(index) {\n      return getValuePercentFn(sliderValue[index])\n    },\n    setThumbPercent(index, percent) {\n      const value = getPercentValueFn(percent)\n      send({ type: \"SET_VALUE\", index, value })\n    },\n    getThumbMin(index) {\n      return getRangeAtIndex(state.context, index).min\n    },\n    getThumbMax(index) {\n      return getRangeAtIndex(state.context, index).max\n    },\n    increment(index) {\n      send({ type: \"INCREMENT\", index })\n    },\n    decrement(index) {\n      send({ type: \"DECREMENT\", index })\n    },\n    focus() {\n      if (!interactive) return\n      send({ type: \"FOCUS\", index: 0 })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-orientation\": state.context.orientation,\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused),\n        id: dom.getLabelId(state.context),\n        htmlFor: dom.getHiddenInputId(state.context, 0),\n        onClick(event) {\n          if (!interactive) return\n          event.preventDefault()\n          dom.getFirstEl(state.context)?.focus()\n        },\n        style: {\n          userSelect: \"none\",\n        },\n      })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-orientation\": state.context.orientation,\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused),\n        id: dom.getRootId(state.context),\n        dir: state.context.dir,\n        style: dom.getRootStyle(state.context),\n      })\n    },\n\n    getValueTextProps() {\n      return normalize.element({\n        ...parts.valueText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-orientation\": state.context.orientation,\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused),\n        id: dom.getValueTextId(state.context),\n      })\n    },\n\n    getTrackProps() {\n      return normalize.element({\n        ...parts.track.attrs,\n        dir: state.context.dir,\n        id: dom.getTrackId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-orientation\": state.context.orientation,\n        \"data-focus\": dataAttr(focused),\n        style: { position: \"relative\" },\n      })\n    },\n\n    getThumbProps(props) {\n      const { index = 0, name } = props\n\n      const value = sliderValue[index]\n      const range = getRangeAtIndex(state.context, index)\n      const valueText = state.context.getAriaValueText?.({ value, index })\n      const _ariaLabel = Array.isArray(ariaLabel) ? ariaLabel[index] : ariaLabel\n      const _ariaLabelledBy = Array.isArray(ariaLabelledBy) ? ariaLabelledBy[index] : ariaLabelledBy\n\n      return normalize.element({\n        ...parts.thumb.attrs,\n        dir: state.context.dir,\n        \"data-index\": index,\n        \"data-name\": name,\n        id: dom.getThumbId(state.context, index),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-orientation\": state.context.orientation,\n        \"data-focus\": dataAttr(focused && state.context.focusedIndex === index),\n        draggable: false,\n        \"aria-disabled\": ariaAttr(disabled),\n        \"aria-label\": _ariaLabel,\n        \"aria-labelledby\": _ariaLabelledBy ?? dom.getLabelId(state.context),\n        \"aria-orientation\": state.context.orientation,\n        \"aria-valuemax\": range.max,\n        \"aria-valuemin\": range.min,\n        \"aria-valuenow\": sliderValue[index],\n        \"aria-valuetext\": valueText,\n        role: \"slider\",\n        tabIndex: disabled ? undefined : 0,\n        style: dom.getThumbStyle(state.context, index),\n        onPointerDown(event) {\n          if (!interactive) return\n          send({ type: \"THUMB_POINTER_DOWN\", index })\n          event.stopPropagation()\n        },\n        onBlur() {\n          if (!interactive) return\n          send(\"BLUR\")\n        },\n        onFocus() {\n          if (!interactive) return\n          send({ type: \"FOCUS\", index })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!interactive) return\n\n          const step = getEventStep(event) * state.context.step\n\n          const keyMap: EventKeyMap = {\n            ArrowUp() {\n              if (isHorizontal) return\n              send({ type: \"ARROW_INC\", step, src: \"ArrowUp\" })\n            },\n            ArrowDown() {\n              if (isHorizontal) return\n              send({ type: \"ARROW_DEC\", step, src: \"ArrowDown\" })\n            },\n            ArrowLeft() {\n              if (isVertical) return\n              send({ type: \"ARROW_DEC\", step, src: \"ArrowLeft\" })\n            },\n            ArrowRight() {\n              if (isVertical) return\n              send({ type: \"ARROW_INC\", step, src: \"ArrowRight\" })\n            },\n            PageUp() {\n              send({ type: \"ARROW_INC\", step, src: \"PageUp\" })\n            },\n            PageDown() {\n              send({ type: \"ARROW_DEC\", step, src: \"PageDown\" })\n            },\n            Home() {\n              send(\"HOME\")\n            },\n            End() {\n              send(\"END\")\n            },\n          }\n\n          const key = getEventKey(event, state.context)\n          const exec = keyMap[key]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n            event.stopPropagation()\n          }\n        },\n      })\n    },\n\n    getHiddenInputProps(props) {\n      const { index = 0, name } = props\n      return normalize.input({\n        name:\n          name ?? (state.context.name ? state.context.name + (state.context.value.length > 1 ? \"[]\" : \"\") : undefined),\n        form: state.context.form,\n        type: \"text\",\n        hidden: true,\n        defaultValue: state.context.value[index],\n        id: dom.getHiddenInputId(state.context, index),\n      })\n    },\n\n    getRangeProps() {\n      return normalize.element({\n        id: dom.getRangeId(state.context),\n        ...parts.range.attrs,\n        dir: state.context.dir,\n        \"data-focus\": dataAttr(focused),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-orientation\": state.context.orientation,\n        style: dom.getRangeStyle(state.context),\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        id: dom.getControlId(state.context),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-orientation\": state.context.orientation,\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused),\n        style: dom.getControlStyle(),\n        onPointerDown(event) {\n          if (!interactive) return\n          if (!isLeftClick(event)) return\n          if (isModifierKey(event)) return\n\n          const point = getEventPoint(event)\n          send({ type: \"POINTER_DOWN\", point })\n\n          event.preventDefault()\n          event.stopPropagation()\n        },\n      })\n    },\n\n    getMarkerGroupProps() {\n      return normalize.element({\n        ...parts.markerGroup.attrs,\n        role: \"presentation\",\n        dir: state.context.dir,\n        \"aria-hidden\": true,\n        \"data-orientation\": state.context.orientation,\n        style: dom.getMarkerGroupStyle(),\n      })\n    },\n\n    getMarkerProps(props) {\n      const style = dom.getMarkerStyle(state.context, props.value)\n      let markerState: \"over-value\" | \"under-value\" | \"at-value\"\n\n      const first = state.context.value[0]\n      const last = state.context.value[state.context.value.length - 1]\n\n      if (props.value < first) {\n        markerState = \"under-value\"\n      } else if (props.value > last) {\n        markerState = \"over-value\"\n      } else {\n        markerState = \"at-value\"\n      }\n\n      return normalize.element({\n        ...parts.marker.attrs,\n        id: dom.getMarkerId(state.context, props.value),\n        role: \"presentation\",\n        dir: state.context.dir,\n        \"data-orientation\": state.context.orientation,\n        \"data-value\": props.value,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-state\": markerState,\n        style,\n      })\n    },\n  }\n}\n", "import { getRelativePoint, type Point } from \"@zag-js/dom-event\"\nimport { createScope, queryAll } from \"@zag-js/dom-query\"\nimport { dispatchInputValueEvent } from \"@zag-js/form-utils\"\nimport { getPercentValue } from \"@zag-js/numeric-range\"\nimport { styleGetterFns } from \"./slider.style\"\nimport type { MachineContext as Ctx } from \"./slider.types\"\n\nexport const dom = createScope({\n  ...styleGetterFns,\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `slider:${ctx.id}`,\n  getThumbId: (ctx: Ctx, index: number) => ctx.ids?.thumb?.(index) ?? `slider:${ctx.id}:thumb:${index}`,\n  getHiddenInputId: (ctx: Ctx, index: number) => `slider:${ctx.id}:input:${index}`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `slider:${ctx.id}:control`,\n  getTrackId: (ctx: Ctx) => ctx.ids?.track ?? `slider:${ctx.id}:track`,\n  getRangeId: (ctx: Ctx) => ctx.ids?.range ?? `slider:${ctx.id}:range`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `slider:${ctx.id}:label`,\n  getValueTextId: (ctx: Ctx) => ctx.ids?.valueText ?? `slider:${ctx.id}:valueText`,\n  getMarkerId: (ctx: Ctx, value: number) => ctx.ids?.marker?.(value) ?? `slider:${ctx.id}:marker:${value}`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getThumbEl: (ctx: Ctx, index: number) => dom.getById(ctx, dom.getThumbId(ctx, index)),\n  getHiddenInputEl: (ctx: Ctx, index: number) => dom.getById<HTMLInputElement>(ctx, dom.getHiddenInputId(ctx, index)),\n  getControlEl: (ctx: Ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getElements: (ctx: Ctx) => queryAll(dom.getControlEl(ctx), \"[role=slider]\"),\n  getFirstEl: (ctx: Ctx) => dom.getElements(ctx)[0],\n  getRangeEl: (ctx: Ctx) => dom.getById(ctx, dom.getRangeId(ctx)),\n\n  getValueFromPoint(ctx: Ctx, point: Point) {\n    const controlEl = dom.getControlEl(ctx)\n    if (!controlEl) return\n    const relativePoint = getRelativePoint(point, controlEl)\n    const percent = relativePoint.getPercentValue({\n      orientation: ctx.orientation,\n      dir: ctx.dir,\n      inverted: { y: true },\n    })\n    return getPercentValue(percent, ctx.min, ctx.max, ctx.step)\n  },\n  dispatchChangeEvent(ctx: Ctx) {\n    const valueArray = Array.from(ctx.value)\n    valueArray.forEach((value, index) => {\n      const inputEl = dom.getHiddenInputEl(ctx, index)\n      if (!inputEl) return\n      dispatchInputValueEvent(inputEl, { value })\n    })\n  },\n})\n", "import { getValuePercent, getValueTransformer } from \"@zag-js/numeric-range\"\nimport type { Style } from \"@zag-js/types\"\nimport type { MachineContext as Ctx, SharedContext } from \"./slider.types\"\n\n/* -----------------------------------------------------------------------------\n * Range style calculations\n * -----------------------------------------------------------------------------*/\n\nfunction getBounds<T>(value: T[]): [T, T] {\n  const firstValue = value[0]\n  const lastThumb = value[value.length - 1]\n  return [firstValue, lastThumb]\n}\n\nexport function getRangeOffsets(ctx: Ctx) {\n  const [firstPercent, lastPercent] = getBounds(ctx.valuePercent)\n\n  if (ctx.valuePercent.length === 1) {\n    if (ctx.origin === \"center\") {\n      const isNegative = ctx.valuePercent[0] < 50\n      const start = isNegative ? `${ctx.valuePercent[0]}%` : \"50%\"\n      const end = isNegative ? \"50%\" : `${100 - ctx.valuePercent[0]}%`\n\n      return { start, end }\n    }\n\n    return { start: \"0%\", end: `${100 - lastPercent}%` }\n  }\n\n  return { start: `${firstPercent}%`, end: `${100 - lastPercent}%` }\n}\n\nfunction getRangeStyle(ctx: Pick<SharedContext, \"isVertical\" | \"isRtl\">): Style {\n  if (ctx.isVertical) {\n    return {\n      position: \"absolute\",\n      bottom: \"var(--slider-range-start)\",\n      top: \"var(--slider-range-end)\",\n    }\n  }\n\n  return {\n    position: \"absolute\",\n    [ctx.isRtl ? \"right\" : \"left\"]: \"var(--slider-range-start)\",\n    [ctx.isRtl ? \"left\" : \"right\"]: \"var(--slider-range-end)\",\n  }\n}\n\n/* -----------------------------------------------------------------------------\n * Thumb style calculations\n * -----------------------------------------------------------------------------*/\n\nfunction getVerticalThumbOffset(ctx: SharedContext) {\n  const { height = 0 } = ctx.thumbSize ?? {}\n  const getValue = getValueTransformer([ctx.min, ctx.max], [-height / 2, height / 2])\n  return parseFloat(getValue(ctx.value).toFixed(2))\n}\n\nfunction getHorizontalThumbOffset(ctx: SharedContext) {\n  const { width = 0 } = ctx.thumbSize ?? {}\n\n  if (ctx.isRtl) {\n    const getValue = getValueTransformer([ctx.max, ctx.min], [-width / 2, width / 2])\n    return -1 * parseFloat(getValue(ctx.value).toFixed(2))\n  }\n\n  const getValue = getValueTransformer([ctx.min, ctx.max], [-width / 2, width / 2])\n  return parseFloat(getValue(ctx.value).toFixed(2))\n}\n\nfunction getOffset(ctx: SharedContext, percent: number) {\n  if (ctx.thumbAlignment === \"center\") return `${percent}%`\n  const offset = ctx.isVertical ? getVerticalThumbOffset(ctx) : getHorizontalThumbOffset(ctx)\n  return `calc(${percent}% - ${offset}px)`\n}\n\nfunction getThumbOffset(ctx: SharedContext) {\n  let percent = getValuePercent(ctx.value, ctx.min, ctx.max) * 100\n  return getOffset(ctx, percent)\n}\n\nfunction getVisibility(ctx: Ctx) {\n  let visibility: \"visible\" | \"hidden\" = \"visible\"\n  if (ctx.thumbAlignment === \"contain\" && !ctx.hasMeasuredThumbSize) {\n    visibility = \"hidden\"\n  }\n  return visibility\n}\n\nfunction getThumbStyle(ctx: Ctx, index: number): Style {\n  const placementProp = ctx.isVertical ? \"bottom\" : \"insetInlineStart\"\n  return {\n    visibility: getVisibility(ctx),\n    position: \"absolute\",\n    transform: \"var(--slider-thumb-transform)\",\n    [placementProp]: `var(--slider-thumb-offset-${index})`,\n  }\n}\n\n/* -----------------------------------------------------------------------------\n * Control style calculations\n * -----------------------------------------------------------------------------*/\n\nfunction getControlStyle(): Style {\n  return {\n    touchAction: \"none\",\n    userSelect: \"none\",\n    position: \"relative\",\n  }\n}\n\n/* -----------------------------------------------------------------------------\n * Root style calculations\n * -----------------------------------------------------------------------------*/\n\nfunction getRootStyle(ctx: Ctx): Style {\n  const range = getRangeOffsets(ctx)\n\n  const offsetStyles = ctx.value.reduce<Style>((styles, value, index) => {\n    const offset = getThumbOffset({ ...ctx, value })\n    return { ...styles, [`--slider-thumb-offset-${index}`]: offset }\n  }, {})\n\n  return {\n    ...offsetStyles,\n    \"--slider-thumb-transform\": ctx.isVertical ? \"translateY(50%)\" : ctx.isRtl ? \"translateX(50%)\" : \"translateX(-50%)\",\n    \"--slider-range-start\": range.start,\n    \"--slider-range-end\": range.end,\n  }\n}\n\n/* -----------------------------------------------------------------------------\n * Marker style calculations\n * -----------------------------------------------------------------------------*/\n\nfunction getMarkerStyle(\n  ctx: Pick<SharedContext, \"isHorizontal\" | \"isRtl\" | \"thumbAlignment\" | \"hasMeasuredThumbSize\">,\n  value: number,\n): Style {\n  return {\n    // @ts-expect-error\n    visibility: getVisibility(ctx),\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    // @ts-expect-error\n    [ctx.isHorizontal ? \"insetInlineStart\" : \"bottom\"]: getThumbOffset({ ...ctx, value }),\n    translate: \"var(--tx) var(--ty)\",\n    \"--tx\": ctx.isHorizontal ? (ctx.isRtl ? \"50%\" : \"-50%\") : \"0%\",\n    \"--ty\": !ctx.isHorizontal ? \"50%\" : \"0%\",\n  }\n}\n\n/* -----------------------------------------------------------------------------\n * Label style calculations\n * -----------------------------------------------------------------------------*/\n\nfunction getMarkerGroupStyle(): Style {\n  return {\n    userSelect: \"none\",\n    pointerEvents: \"none\",\n    position: \"relative\",\n  }\n}\n\nexport const styleGetterFns = {\n  getRootStyle,\n  getControlStyle,\n  getThumbStyle,\n  getRangeStyle,\n  getMarkerStyle,\n  getMarkerGroupStyle,\n}\n", "import {\n  clampValue,\n  getClosestValueIndex,\n  getNextStepValue,\n  getPreviousStepValue,\n  getValueRanges,\n  snapValueToStep,\n} from \"@zag-js/numeric-range\"\nimport type { MachineContext as Ctx } from \"./slider.types\"\n\nexport function normalizeValues(ctx: Ctx, nextValues: number[]) {\n  return nextValues.map((value, index, values) => {\n    return constrainValue({ ...ctx, value: values }, value, index)\n  })\n}\n\nexport function clampPercent(percent: number) {\n  return clampValue(percent, 0, 1)\n}\n\nexport function getRangeAtIndex(ctx: Ctx, index: number) {\n  return getValueRanges(ctx.value, ctx.min, ctx.max, ctx.minStepsBetweenThumbs)[index]\n}\n\nexport function constrainValue(ctx: Ctx, value: number, index: number) {\n  const range = getRangeAtIndex(ctx, index)\n  const snapValue = snapValueToStep(value, ctx.min, ctx.max, ctx.step)\n  return clampValue(snapValue, range.min, range.max)\n}\n\nexport function decrement(ctx: Ctx, index?: number, step?: number) {\n  const idx = index ?? ctx.focusedIndex\n  const range = getRangeAtIndex(ctx, idx)\n  const nextValues = getPreviousStepValue(idx, {\n    ...range,\n    step: step ?? ctx.step,\n    values: ctx.value,\n  })\n  nextValues[idx] = clampValue(nextValues[idx], range.min, range.max)\n  return nextValues\n}\n\nexport function increment(ctx: Ctx, index?: number, step?: number) {\n  const idx = index ?? ctx.focusedIndex\n  const range = getRangeAtIndex(ctx, idx)\n  const nextValues = getNextStepValue(idx, {\n    ...range,\n    step: step ?? ctx.step,\n    values: ctx.value,\n  })\n  nextValues[idx] = clampValue(nextValues[idx], range.min, range.max)\n  return nextValues\n}\n\nexport function getClosestIndex(ctx: Ctx, pointValue: number) {\n  return getClosestValueIndex(ctx.value, pointValue)\n}\n\nexport function assignArray(current: number[], next: number[]) {\n  for (let i = 0; i < next.length; i++) {\n    const value = next[i]\n    current[i] = value\n  }\n}\n", "import { createMachine } from \"@zag-js/core\"\nimport { trackPointerMove } from \"@zag-js/dom-event\"\nimport { raf } from \"@zag-js/dom-query\"\nimport { trackElementsSize, type ElementSize } from \"@zag-js/element-size\"\nimport { trackFormControl } from \"@zag-js/form-utils\"\nimport { getValuePercent } from \"@zag-js/numeric-range\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./slider.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./slider.types\"\nimport {\n  assignArray,\n  constrainValue,\n  decrement,\n  getClosestIndex,\n  getRangeAtIndex,\n  increment,\n  normalizeValues,\n} from \"./slider.utils\"\n\nconst isEqualSize = (a: ElementSize | null, b: ElementSize | null) => {\n  return a?.width === b?.width && a?.height === b?.height\n}\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"slider\",\n      initial: \"idle\",\n\n      context: {\n        thumbSize: null,\n        thumbAlignment: \"contain\",\n        min: 0,\n        max: 100,\n        step: 1,\n        value: [0],\n        origin: \"start\",\n        orientation: \"horizontal\",\n        dir: \"ltr\",\n        minStepsBetweenThumbs: 0,\n        disabled: false,\n        readOnly: false,\n        ...ctx,\n        focusedIndex: -1,\n        fieldsetDisabled: false,\n      },\n\n      computed: {\n        isHorizontal: (ctx) => ctx.orientation === \"horizontal\",\n        isVertical: (ctx) => ctx.orientation === \"vertical\",\n        isRtl: (ctx) => ctx.orientation === \"horizontal\" && ctx.dir === \"rtl\",\n        isDisabled: (ctx) => !!ctx.disabled || ctx.fieldsetDisabled,\n        isInteractive: (ctx) => !(ctx.readOnly || ctx.isDisabled),\n        hasMeasuredThumbSize: (ctx) => ctx.thumbSize != null,\n        valuePercent(ctx) {\n          return ctx.value.map((value) => 100 * getValuePercent(value, ctx.min, ctx.max))\n        },\n      },\n\n      watch: {\n        value: [\"syncInputElements\"],\n      },\n\n      entry: [\"coarseValue\"],\n\n      activities: [\"trackFormControlState\", \"trackThumbsSize\"],\n\n      on: {\n        SET_VALUE: [\n          {\n            guard: \"hasIndex\",\n            actions: \"setValueAtIndex\",\n          },\n          { actions: \"setValue\" },\n        ],\n        INCREMENT: {\n          actions: \"incrementThumbAtIndex\",\n        },\n        DECREMENT: {\n          actions: \"decrementThumbAtIndex\",\n        },\n      },\n\n      states: {\n        idle: {\n          on: {\n            POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setClosestThumbIndex\", \"setPointerValue\", \"focusActiveThumb\"],\n            },\n            FOCUS: {\n              target: \"focus\",\n              actions: \"setFocusedIndex\",\n            },\n            THUMB_POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setFocusedIndex\", \"focusActiveThumb\"],\n            },\n          },\n        },\n        focus: {\n          entry: \"focusActiveThumb\",\n          on: {\n            POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setClosestThumbIndex\", \"setPointerValue\", \"focusActiveThumb\"],\n            },\n            THUMB_POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setFocusedIndex\", \"focusActiveThumb\"],\n            },\n            ARROW_DEC: {\n              actions: [\"decrementThumbAtIndex\", \"invokeOnChangeEnd\"],\n            },\n            ARROW_INC: {\n              actions: [\"incrementThumbAtIndex\", \"invokeOnChangeEnd\"],\n            },\n            HOME: {\n              actions: [\"setFocusedThumbToMin\", \"invokeOnChangeEnd\"],\n            },\n            END: {\n              actions: [\"setFocusedThumbToMax\", \"invokeOnChangeEnd\"],\n            },\n            BLUR: {\n              target: \"idle\",\n              actions: \"clearFocusedIndex\",\n            },\n          },\n        },\n        dragging: {\n          entry: \"focusActiveThumb\",\n          activities: \"trackPointerMove\",\n          on: {\n            POINTER_UP: {\n              target: \"focus\",\n              actions: \"invokeOnChangeEnd\",\n            },\n            POINTER_MOVE: {\n              actions: \"setPointerValue\",\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        hasIndex: (_ctx, evt) => evt.index != null,\n      },\n      activities: {\n        trackFormControlState(ctx, _evt, { initialContext }) {\n          return trackFormControl(dom.getRootEl(ctx), {\n            onFieldsetDisabledChange(disabled) {\n              ctx.fieldsetDisabled = disabled\n            },\n            onFormReset() {\n              set.value(ctx, initialContext.value)\n            },\n          })\n        },\n\n        trackPointerMove(ctx, _evt, { send }) {\n          return trackPointerMove(dom.getDoc(ctx), {\n            onPointerMove(info) {\n              send({ type: \"POINTER_MOVE\", point: info.point })\n            },\n            onPointerUp() {\n              send(\"POINTER_UP\")\n            },\n          })\n        },\n        trackThumbsSize(ctx) {\n          if (ctx.thumbAlignment !== \"contain\" || ctx.thumbSize) return\n\n          return trackElementsSize({\n            getNodes: () => dom.getElements(ctx),\n            observeMutation: true,\n            callback(size) {\n              if (!size || isEqualSize(ctx.thumbSize, size)) return\n              ctx.thumbSize = size\n            },\n          })\n        },\n      },\n      actions: {\n        syncInputElements(ctx) {\n          ctx.value.forEach((value, index) => {\n            const inputEl = dom.getHiddenInputEl(ctx, index)\n            dom.setValue(inputEl, value)\n          })\n        },\n        invokeOnChangeEnd(ctx) {\n          ctx.onValueChangeEnd?.({ value: ctx.value })\n        },\n        setClosestThumbIndex(ctx, evt) {\n          const pointValue = dom.getValueFromPoint(ctx, evt.point)\n          if (pointValue == null) return\n\n          const focusedIndex = getClosestIndex(ctx, pointValue)\n          set.focusedIndex(ctx, focusedIndex)\n        },\n        setFocusedIndex(ctx, evt) {\n          set.focusedIndex(ctx, evt.index)\n        },\n        clearFocusedIndex(ctx) {\n          set.focusedIndex(ctx, -1)\n        },\n        setPointerValue(ctx, evt) {\n          const pointerValue = dom.getValueFromPoint(ctx, evt.point)\n          if (pointerValue == null) return\n\n          const value = constrainValue(ctx, pointerValue, ctx.focusedIndex)\n          set.valueAtIndex(ctx, ctx.focusedIndex, value)\n        },\n        focusActiveThumb(ctx) {\n          raf(() => {\n            const thumbEl = dom.getThumbEl(ctx, ctx.focusedIndex)\n            thumbEl?.focus({ preventScroll: true })\n          })\n        },\n        decrementThumbAtIndex(ctx, evt) {\n          const value = decrement(ctx, evt.index, evt.step)\n          set.value(ctx, value)\n        },\n        incrementThumbAtIndex(ctx, evt) {\n          const value = increment(ctx, evt.index, evt.step)\n          set.value(ctx, value)\n        },\n        setFocusedThumbToMin(ctx) {\n          const { min } = getRangeAtIndex(ctx, ctx.focusedIndex)\n          set.valueAtIndex(ctx, ctx.focusedIndex, min)\n        },\n        setFocusedThumbToMax(ctx) {\n          const { max } = getRangeAtIndex(ctx, ctx.focusedIndex)\n          set.valueAtIndex(ctx, ctx.focusedIndex, max)\n        },\n        coarseValue(ctx) {\n          const value = normalizeValues(ctx, ctx.value)\n          set.value(ctx, value)\n        },\n        setValueAtIndex(ctx, evt) {\n          const value = constrainValue(ctx, evt.value, evt.index)\n          set.valueAtIndex(ctx, evt.index, value)\n        },\n        setValue(ctx, evt) {\n          const value = normalizeValues(ctx, evt.value)\n          set.value(ctx, value)\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change: (ctx: MachineContext) => {\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n    })\n    dom.dispatchChangeEvent(ctx)\n  },\n  focusChange: (ctx: MachineContext) => {\n    ctx.onFocusChange?.({\n      value: Array.from(ctx.value),\n      focusedIndex: ctx.focusedIndex,\n    })\n  },\n}\n\nconst set = {\n  valueAtIndex: (ctx: MachineContext, index: number, value: number) => {\n    if (isEqual(ctx.value[index], value)) return\n    ctx.value[index] = value\n    invoke.change(ctx)\n  },\n  value: (ctx: MachineContext, value: number[]) => {\n    if (isEqual(ctx.value, value)) return\n    assignArray(ctx.value, value)\n    invoke.change(ctx)\n  },\n  focusedIndex: (ctx: MachineContext, index: number) => {\n    if (isEqual(ctx.focusedIndex, index)) return\n    ctx.focusedIndex = index\n    invoke.focusChange(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ThumbProps, UserDefinedContext } from \"./slider.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"aria-label\",\n  \"aria-labelledby\",\n  \"dir\",\n  \"disabled\",\n  \"form\",\n  \"getAriaValueText\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"invalid\",\n  \"max\",\n  \"min\",\n  \"minStepsBetweenThumbs\",\n  \"name\",\n  \"onFocusChange\",\n  \"onValueChange\",\n  \"onValueChangeEnd\",\n  \"orientation\",\n  \"origin\",\n  \"readOnly\",\n  \"step\",\n  \"thumbAlignment\",\n  \"thumbAlignment\",\n  \"thumbSize\",\n  \"value\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const thumbProps = createProps<ThumbProps>()([\"index\", \"name\"])\nexport const splitThumbProps = createSplitProps<ThumbProps>(thumbProps)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"splitter\").parts(\"root\", \"panel\", \"resizeTrigger\")\n\nexport const parts = anatomy.build()\n", "import { getEventKey, getEventStep, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { dataAttr } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./splitter.anatomy\"\nimport { dom } from \"./splitter.dom\"\nimport type { MachineApi, ResizeTriggerProps, ResizeTriggerState, Send, State } from \"./splitter.types\"\nimport { getHandleBounds } from \"./splitter.utils\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const horizontal = state.context.isHorizontal\n  const focused = state.hasTag(\"focus\")\n  const dragging = state.matches(\"dragging\")\n  const panels = state.context.panels\n\n  function getResizeTriggerState(props: ResizeTriggerProps): ResizeTriggerState {\n    const { id, disabled } = props\n    const ids = id.split(\":\")\n    const panelIds = ids.map((id) => dom.getPanelId(state.context, id))\n    const panels = getHandleBounds(state.context, id)\n\n    return {\n      disabled: !!disabled,\n      focused: state.context.activeResizeId === id && focused,\n      panelIds,\n      min: panels?.min,\n      max: panels?.max,\n      value: 0,\n    }\n  }\n\n  return {\n    focused: focused,\n    dragging: dragging,\n    getResizeTriggerState,\n    bounds: getHandleBounds(state.context),\n    setToMinSize(id) {\n      const panel = panels.find((panel) => panel.id === id)\n      send({ type: \"SET_PANEL_SIZE\", id, size: panel?.minSize, src: \"setToMinSize\" })\n    },\n    setToMaxSize(id) {\n      const panel = panels.find((panel) => panel.id === id)\n      send({ type: \"SET_PANEL_SIZE\", id, size: panel?.maxSize, src: \"setToMaxSize\" })\n    },\n    setSize(id, size) {\n      send({ type: \"SET_PANEL_SIZE\", id, size })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        \"data-orientation\": state.context.orientation,\n        id: dom.getRootId(state.context),\n        dir: state.context.dir,\n        style: {\n          display: \"flex\",\n          flexDirection: horizontal ? \"row\" : \"column\",\n          height: \"100%\",\n          width: \"100%\",\n          overflow: \"hidden\",\n        },\n      })\n    },\n\n    getPanelProps(props) {\n      const { id } = props\n      return normalize.element({\n        ...parts.panel.attrs,\n        \"data-orientation\": state.context.orientation,\n        dir: state.context.dir,\n        id: dom.getPanelId(state.context, id),\n        \"data-ownedby\": dom.getRootId(state.context),\n        style: dom.getPanelStyle(state.context, id),\n      })\n    },\n\n    getResizeTriggerProps(props) {\n      const { id, disabled, step = 1 } = props\n      const triggerState = getResizeTriggerState(props)\n\n      return normalize.element({\n        ...parts.resizeTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getResizeTriggerId(state.context, id),\n        role: \"separator\",\n        \"data-ownedby\": dom.getRootId(state.context),\n        tabIndex: disabled ? undefined : 0,\n        \"aria-valuenow\": triggerState.value,\n        \"aria-valuemin\": triggerState.min,\n        \"aria-valuemax\": triggerState.max,\n        \"data-orientation\": state.context.orientation,\n        \"aria-orientation\": state.context.orientation,\n        \"aria-controls\": triggerState.panelIds.join(\" \"),\n        \"data-focus\": dataAttr(triggerState.focused),\n        \"data-disabled\": dataAttr(disabled),\n        style: {\n          touchAction: \"none\",\n          userSelect: \"none\",\n          flex: \"0 0 auto\",\n          pointerEvents: dragging && !triggerState.focused ? \"none\" : undefined,\n          cursor: horizontal ? \"col-resize\" : \"row-resize\",\n          [horizontal ? \"minHeight\" : \"minWidth\"]: \"0\",\n        },\n        onPointerDown(event) {\n          if (disabled) {\n            event.preventDefault()\n            return\n          }\n          send({ type: \"POINTER_DOWN\", id })\n          event.currentTarget.setPointerCapture(event.pointerId)\n          event.preventDefault()\n          event.stopPropagation()\n        },\n        onPointerUp(event) {\n          if (disabled) return\n          if (event.currentTarget.hasPointerCapture(event.pointerId)) {\n            event.currentTarget.releasePointerCapture(event.pointerId)\n          }\n        },\n        onPointerOver() {\n          if (disabled) return\n          send({ type: \"POINTER_OVER\", id })\n        },\n        onPointerLeave() {\n          if (disabled) return\n          send({ type: \"POINTER_LEAVE\", id })\n        },\n        onBlur() {\n          send(\"BLUR\")\n        },\n        onFocus() {\n          send({ type: \"FOCUS\", id })\n        },\n        onDoubleClick() {\n          if (disabled) return\n          send({ type: \"DOUBLE_CLICK\", id })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (disabled) return\n\n          const moveStep = getEventStep(event) * step\n\n          const keyMap: EventKeyMap = {\n            Enter() {\n              send(\"ENTER\")\n            },\n            ArrowUp() {\n              send({ type: \"ARROW_UP\", step: moveStep })\n            },\n            ArrowDown() {\n              send({ type: \"ARROW_DOWN\", step: moveStep })\n            },\n            ArrowLeft() {\n              send({ type: \"ARROW_LEFT\", step: moveStep })\n            },\n            ArrowRight() {\n              send({ type: \"ARROW_RIGHT\", step: moveStep })\n            },\n            Home() {\n              send(\"HOME\")\n            },\n            End() {\n              send(\"END\")\n            },\n          }\n\n          const key = getEventKey(event, state.context)\n          const exec = keyMap[key]\n\n          if (exec) {\n            exec(event)\n            event.preventDefault()\n          }\n        },\n      })\n    },\n  }\n}\n", "import { createScope, queryAll } from \"@zag-js/dom-query\"\nimport type { JSX, Style } from \"@zag-js/types\"\nimport type { MachineContext as Ctx, PanelId } from \"./splitter.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `splitter:${ctx.id}`,\n  getResizeTriggerId: (ctx: Ctx, id: string) => ctx.ids?.resizeTrigger?.(id) ?? `splitter:${ctx.id}:splitter:${id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `splitter:${ctx.id}:label`,\n  getPanelId: (ctx: Ctx, id: string | number) => ctx.ids?.panel?.(id) ?? `splitter:${ctx.id}:panel:${id}`,\n  globalCursorId: (ctx: Ctx) => `splitter:${ctx.id}:global-cursor`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getResizeTriggerEl: (ctx: Ctx, id: string) => dom.getById(ctx, dom.getResizeTriggerId(ctx, id)),\n  getPanelEl: (ctx: Ctx, id: string | number) => dom.getById(ctx, dom.getPanelId(ctx, id)),\n\n  getCursor(ctx: Ctx) {\n    const x = ctx.isHorizontal\n    let cursor: Style[\"cursor\"] = x ? \"col-resize\" : \"row-resize\"\n    if (ctx.activeResizeState.isAtMin) cursor = x ? \"e-resize\" : \"s-resize\"\n    if (ctx.activeResizeState.isAtMax) cursor = x ? \"w-resize\" : \"n-resize\"\n    return cursor\n  },\n\n  getPanelStyle(ctx: Ctx, id: PanelId): JSX.CSSProperties {\n    const flexGrow = ctx.panels.find((panel) => panel.id === id)?.size ?? \"0\"\n    return {\n      flexBasis: 0,\n      flexGrow,\n      flexShrink: 1,\n      overflow: \"hidden\",\n    }\n  },\n\n  getActiveHandleEl(ctx: Ctx) {\n    const activeId = ctx.activeResizeId\n    if (activeId == null) return\n    return dom.getById(ctx, dom.getResizeTriggerId(ctx, activeId))\n  },\n\n  getResizeTriggerEls(ctx: Ctx) {\n    const ownerId = CSS.escape(dom.getRootId(ctx))\n    return queryAll(dom.getRootEl(ctx), `[role=separator][data-ownedby='${ownerId}']`)\n  },\n\n  setupGlobalCursor(ctx: Ctx) {\n    const styleEl = dom.getById(ctx, dom.globalCursorId(ctx))\n    const textContent = `* { cursor: ${dom.getCursor(ctx)} !important; }`\n    if (styleEl) {\n      styleEl.textContent = textContent\n    } else {\n      const style = dom.getDoc(ctx).createElement(\"style\")\n      style.id = dom.globalCursorId(ctx)\n      style.textContent = textContent\n      dom.getDoc(ctx).head.appendChild(style)\n    }\n  },\n\n  removeGlobalCursor(ctx: Ctx) {\n    dom.getById(ctx, dom.globalCursorId(ctx))?.remove()\n  },\n})\n", "import type { MachineContext as Ctx, NormalizedPanelData } from \"./splitter.types\"\n\nfunction validateSize(key: string, size: number) {\n  if (Math.floor(size) > 100) {\n    throw new Error(`Total ${key} of panels cannot be greater than 100`)\n  }\n}\n\nexport function getNormalizedPanels(ctx: Ctx): NormalizedPanelData {\n  let numOfPanelsWithoutSize = 0\n  let totalSize = 0\n  let totalMinSize = 0\n\n  const panels = ctx.size.map((panel) => {\n    const minSize = panel.minSize ?? 0\n    const maxSize = panel.maxSize ?? 100\n\n    totalMinSize += minSize\n\n    if (panel.size == null) {\n      numOfPanelsWithoutSize++\n    } else {\n      totalSize += panel.size\n    }\n\n    return {\n      ...panel,\n      minSize,\n      maxSize,\n    }\n  })\n\n  validateSize(\"minSize\", totalMinSize)\n  validateSize(\"size\", totalSize)\n\n  let end = 0\n  let remainingSize = 0\n\n  const result = panels.map((panel) => {\n    let start = end\n\n    if (panel.size != null) {\n      end += panel.size\n      remainingSize = panel.size - panel.minSize\n      return {\n        ...panel,\n        start,\n        end,\n        remainingSize,\n      }\n    }\n\n    const size = (100 - totalSize) / numOfPanelsWithoutSize\n    end += size\n    remainingSize = size - panel.minSize\n\n    return { ...panel, size, start, end, remainingSize }\n  })\n\n  return result as NormalizedPanelData\n}\n\nexport function getHandlePanels(ctx: Ctx, id = ctx.activeResizeId) {\n  const [beforeId, afterId] = id?.split(\":\") ?? []\n  if (!beforeId || !afterId) return\n\n  const beforeIndex = ctx.previousPanels.findIndex((panel) => panel.id === beforeId)\n  const afterIndex = ctx.previousPanels.findIndex((panel) => panel.id === afterId)\n  if (beforeIndex === -1 || afterIndex === -1) return\n\n  const before = ctx.previousPanels[beforeIndex]\n  const after = ctx.previousPanels[afterIndex]\n\n  return {\n    before: {\n      ...before,\n      index: beforeIndex,\n    },\n    after: {\n      ...after,\n      index: afterIndex,\n    },\n  }\n}\n\nexport function getHandleBounds(ctx: Ctx, id = ctx.activeResizeId) {\n  const panels = getHandlePanels(ctx, id)\n  if (!panels) return\n\n  const { before, after } = panels\n\n  return {\n    min: Math.max(before.start + before.minSize, after.end - after.maxSize),\n    max: Math.min(after.end - after.minSize, before.maxSize + before.start),\n  }\n}\n\nexport function getPanelBounds(ctx: Ctx, id?: string | null) {\n  const bounds = getHandleBounds(ctx, id)\n  const panels = getHandlePanels(ctx, id)\n\n  if (!bounds || !panels) return\n  const { before, after } = panels\n\n  const beforeMin = Math.abs(before.start - bounds.min)\n  const afterMin = after.size + (before.size - beforeMin)\n\n  const beforeMax = Math.abs(before.start - bounds.max)\n  const afterMax = after.size - (beforeMax - before.size)\n\n  return {\n    before: {\n      index: before.index,\n      min: beforeMin,\n      max: beforeMax,\n      isAtMin: beforeMin === before.size,\n      isAtMax: beforeMax === before.size,\n      up(step: number) {\n        return Math.min(before.size + step, beforeMax)\n      },\n      down(step: number) {\n        return Math.max(before.size - step, beforeMin)\n      },\n    },\n    after: {\n      index: after.index,\n      min: afterMin,\n      max: afterMax,\n      isAtMin: afterMin === after.size,\n      isAtMax: afterMax === after.size,\n      up(step: number) {\n        return Math.min(after.size + step, afterMin)\n      },\n      down(step: number) {\n        return Math.max(after.size - step, afterMax)\n      },\n    },\n  }\n}\n\nexport function clamp(value: number, min: number, max: number) {\n  return Math.min(Math.max(value, min), max)\n}\n", "import { createMachine } from \"@zag-js/core\"\nimport { getRelativePoint, trackPointerMove } from \"@zag-js/dom-event\"\nimport { raf } from \"@zag-js/dom-query\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./splitter.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./splitter.types\"\nimport { clamp, getHandleBounds, getHandlePanels, getNormalizedPanels, getPanelBounds } from \"./splitter.utils\"\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"splitter\",\n      initial: \"idle\",\n      context: {\n        orientation: \"horizontal\",\n        activeResizeId: null,\n        previousPanels: [],\n        size: [],\n        initialSize: [],\n        activeResizeState: {\n          isAtMin: false,\n          isAtMax: false,\n        },\n        ...ctx,\n      },\n\n      created: [\"setPreviousPanels\", \"setInitialSize\"],\n\n      watch: {\n        size: [\"setActiveResizeState\"],\n      },\n\n      computed: {\n        isHorizontal: (ctx) => ctx.orientation === \"horizontal\",\n        panels: (ctx) => getNormalizedPanels(ctx),\n      },\n\n      on: {\n        SET_PANEL_SIZE: {\n          actions: \"setPanelSize\",\n        },\n      },\n      states: {\n        idle: {\n          entry: [\"clearActiveHandleId\"],\n          on: {\n            POINTER_OVER: {\n              target: \"hover:temp\",\n              actions: [\"setActiveHandleId\"],\n            },\n            FOCUS: {\n              target: \"focused\",\n              actions: [\"setActiveHandleId\"],\n            },\n            DOUBLE_CLICK: {\n              actions: [\"resetStartPanel\", \"setPreviousPanels\"],\n            },\n          },\n        },\n\n        \"hover:temp\": {\n          after: {\n            HOVER_DELAY: \"hover\",\n          },\n          on: {\n            POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setActiveHandleId\"],\n            },\n            POINTER_LEAVE: \"idle\",\n          },\n        },\n\n        hover: {\n          tags: [\"focus\"],\n          on: {\n            POINTER_DOWN: \"dragging\",\n            POINTER_LEAVE: \"idle\",\n          },\n        },\n\n        focused: {\n          tags: [\"focus\"],\n          on: {\n            BLUR: \"idle\",\n            POINTER_DOWN: {\n              target: \"dragging\",\n              actions: [\"setActiveHandleId\"],\n            },\n            ARROW_LEFT: {\n              guard: \"isHorizontal\",\n              actions: [\"shrinkStartPanel\", \"setPreviousPanels\"],\n            },\n            ARROW_RIGHT: {\n              guard: \"isHorizontal\",\n              actions: [\"expandStartPanel\", \"setPreviousPanels\"],\n            },\n            ARROW_UP: {\n              guard: \"isVertical\",\n              actions: [\"shrinkStartPanel\", \"setPreviousPanels\"],\n            },\n            ARROW_DOWN: {\n              guard: \"isVertical\",\n              actions: [\"expandStartPanel\", \"setPreviousPanels\"],\n            },\n            ENTER: [\n              {\n                guard: \"isStartPanelAtMax\",\n                actions: [\"setStartPanelToMin\", \"setPreviousPanels\"],\n              },\n              { actions: [\"setStartPanelToMax\", \"setPreviousPanels\"] },\n            ],\n            HOME: {\n              actions: [\"setStartPanelToMin\", \"setPreviousPanels\"],\n            },\n            END: {\n              actions: [\"setStartPanelToMax\", \"setPreviousPanels\"],\n            },\n          },\n        },\n\n        dragging: {\n          tags: [\"focus\"],\n          entry: \"focusResizeHandle\",\n          activities: [\"trackPointerMove\"],\n          on: {\n            POINTER_MOVE: {\n              actions: [\"setPointerValue\", \"setGlobalCursor\", \"invokeOnResize\"],\n            },\n            POINTER_UP: {\n              target: \"focused\",\n              actions: [\"setPreviousPanels\", \"clearGlobalCursor\", \"blurResizeHandle\", \"invokeOnResizeEnd\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      activities: {\n        trackPointerMove: (ctx, _evt, { send }) => {\n          const doc = dom.getDoc(ctx)\n          return trackPointerMove(doc, {\n            onPointerMove(info) {\n              send({ type: \"POINTER_MOVE\", point: info.point })\n            },\n            onPointerUp() {\n              send(\"POINTER_UP\")\n            },\n          })\n        },\n      },\n      guards: {\n        isStartPanelAtMin: (ctx) => ctx.activeResizeState.isAtMin,\n        isStartPanelAtMax: (ctx) => ctx.activeResizeState.isAtMax,\n        isHorizontal: (ctx) => ctx.isHorizontal,\n        isVertical: (ctx) => !ctx.isHorizontal,\n      },\n      delays: {\n        HOVER_DELAY: 250,\n      },\n      actions: {\n        setGlobalCursor(ctx) {\n          dom.setupGlobalCursor(ctx)\n        },\n        clearGlobalCursor(ctx) {\n          dom.removeGlobalCursor(ctx)\n        },\n        invokeOnResize(ctx) {\n          ctx.onSizeChange?.({ size: Array.from(ctx.size), activeHandleId: ctx.activeResizeId })\n        },\n        invokeOnResizeEnd(ctx) {\n          ctx.onSizeChangeEnd?.({ size: Array.from(ctx.size), activeHandleId: ctx.activeResizeId })\n        },\n        setActiveHandleId(ctx, evt) {\n          ctx.activeResizeId = evt.id\n        },\n        clearActiveHandleId(ctx) {\n          ctx.activeResizeId = null\n        },\n        setInitialSize(ctx) {\n          ctx.initialSize = ctx.panels.slice().map((panel) => ({\n            id: panel.id,\n            size: panel.size,\n          }))\n        },\n        setPanelSize(ctx, evt) {\n          const { id, size } = evt\n          ctx.size = ctx.size.map((panel) => {\n            const panelSize = clamp(size, panel.minSize ?? 0, panel.maxSize ?? 100)\n            return panel.id === id ? { ...panel, size: panelSize } : panel\n          })\n        },\n        setStartPanelToMin(ctx) {\n          const bounds = getPanelBounds(ctx)\n          if (!bounds) return\n          const { before, after } = bounds\n          ctx.size[before.index].size = before.min\n          ctx.size[after.index].size = after.min\n        },\n        setStartPanelToMax(ctx) {\n          const bounds = getPanelBounds(ctx)\n          if (!bounds) return\n          const { before, after } = bounds\n          ctx.size[before.index].size = before.max\n          ctx.size[after.index].size = after.max\n        },\n        expandStartPanel(ctx, evt) {\n          const bounds = getPanelBounds(ctx)\n          if (!bounds) return\n          const { before, after } = bounds\n          ctx.size[before.index].size = before.up(evt.step)\n          ctx.size[after.index].size = after.down(evt.step)\n        },\n        shrinkStartPanel(ctx, evt) {\n          const bounds = getPanelBounds(ctx)\n          if (!bounds) return\n          const { before, after } = bounds\n          ctx.size[before.index].size = before.down(evt.step)\n          ctx.size[after.index].size = after.up(evt.step)\n        },\n        resetStartPanel(ctx, evt) {\n          const bounds = getPanelBounds(ctx, evt.id)\n          if (!bounds) return\n          const { before, after } = bounds\n          ctx.size[before.index].size = ctx.initialSize[before.index].size\n          ctx.size[after.index].size = ctx.initialSize[after.index].size\n        },\n        focusResizeHandle(ctx) {\n          raf(() => {\n            dom.getActiveHandleEl(ctx)?.focus({ preventScroll: true })\n          })\n        },\n        blurResizeHandle(ctx) {\n          raf(() => {\n            dom.getActiveHandleEl(ctx)?.blur()\n          })\n        },\n        setPreviousPanels(ctx) {\n          ctx.previousPanels = ctx.panels.slice()\n        },\n        setActiveResizeState(ctx) {\n          const panels = getPanelBounds(ctx)\n          if (!panels) return\n          const { before } = panels\n          ctx.activeResizeState = {\n            isAtMin: before.isAtMin,\n            isAtMax: before.isAtMax,\n          }\n        },\n        setPointerValue(ctx, evt) {\n          const panels = getHandlePanels(ctx)\n          const bounds = getHandleBounds(ctx)\n\n          if (!panels || !bounds) return\n\n          const rootEl = dom.getRootEl(ctx)\n          if (!rootEl) return\n\n          const relativePoint = getRelativePoint(evt.point, rootEl)\n          const percentValue = relativePoint.getPercentValue({\n            dir: ctx.dir,\n            orientation: ctx.orientation,\n          })\n\n          let pointValue = percentValue * 100\n\n          // update active resize state here because we use `previousPanels` in the calculations\n          ctx.activeResizeState = {\n            isAtMin: pointValue < bounds.min,\n            isAtMax: pointValue > bounds.max,\n          }\n\n          pointValue = clamp(pointValue, bounds.min, bounds.max)\n\n          const { before, after } = panels\n\n          const offset = pointValue - before.end\n          ctx.size[before.index].size = before.size + offset\n          ctx.size[after.index].size = after.size - offset\n        },\n      },\n    },\n  )\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { PanelProps, ResizeTriggerProps, UserDefinedContext } from \"./splitter.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"dir\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"onSizeChange\",\n  \"onSizeChangeEnd\",\n  \"orientation\",\n  \"size\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const panelProps = createProps<PanelProps>()([\"id\", \"snapSize\"])\nexport const splitPanelProps = createSplitProps<PanelProps>(panelProps)\n\nexport const resizeTriggerProps = createProps<ResizeTriggerProps>()([\"disabled\", \"id\", \"step\"])\nexport const splitResizeTriggerProps = createSplitProps<ResizeTriggerProps>(resizeTriggerProps)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"switch\").parts(\"root\", \"label\", \"control\", \"thumb\")\nexport const parts = anatomy.build()\n", "import { dataAttr, visuallyHiddenStyle } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./switch.anatomy\"\nimport { dom } from \"./switch.dom\"\nimport type { MachineApi, Send, State } from \"./switch.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const disabled = state.context.isDisabled\n  const focused = !disabled && state.context.focused\n  const checked = state.context.checked\n  const readOnly = state.context.readOnly\n\n  const dataAttrs = {\n    \"data-active\": dataAttr(state.context.active),\n    \"data-focus\": dataAttr(focused),\n    \"data-readonly\": dataAttr(readOnly),\n    \"data-hover\": dataAttr(state.context.hovered),\n    \"data-disabled\": dataAttr(disabled),\n    \"data-state\": state.context.checked ? \"checked\" : \"unchecked\",\n    \"data-invalid\": dataAttr(state.context.invalid),\n  }\n\n  return {\n    checked: checked,\n    disabled: disabled,\n    focused: focused,\n    setChecked(checked) {\n      send({ type: \"CHECKED.SET\", checked, isTrusted: false })\n    },\n    toggleChecked() {\n      send({ type: \"CHECKED.TOGGLE\", checked: checked, isTrusted: false })\n    },\n\n    getRootProps() {\n      return normalize.label({\n        ...parts.root.attrs,\n        ...dataAttrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        htmlFor: dom.getHiddenInputId(state.context),\n        onPointerMove() {\n          if (disabled) return\n          send({ type: \"CONTEXT.SET\", context: { hovered: true } })\n        },\n        onPointerLeave() {\n          if (disabled) return\n          send({ type: \"CONTEXT.SET\", context: { hovered: false } })\n        },\n        onClick(event) {\n          if (event.target === dom.getHiddenInputEl(state.context)) {\n            event.stopPropagation()\n          }\n        },\n      })\n    },\n\n    getLabelProps() {\n      return normalize.element({\n        ...parts.label.attrs,\n        ...dataAttrs,\n        dir: state.context.dir,\n        id: dom.getLabelId(state.context),\n      })\n    },\n\n    getThumbProps() {\n      return normalize.element({\n        ...parts.thumb.attrs,\n        ...dataAttrs,\n        dir: state.context.dir,\n        id: dom.getThumbId(state.context),\n        \"aria-hidden\": true,\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        ...dataAttrs,\n        dir: state.context.dir,\n        id: dom.getControlId(state.context),\n        \"aria-hidden\": true,\n      })\n    },\n\n    getHiddenInputProps() {\n      return normalize.input({\n        id: dom.getHiddenInputId(state.context),\n        type: \"checkbox\",\n        required: state.context.required,\n        defaultChecked: checked,\n        disabled: disabled,\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-invalid\": state.context.invalid,\n        name: state.context.name,\n        form: state.context.form,\n        value: state.context.value,\n        style: visuallyHiddenStyle,\n        onChange(event) {\n          if (readOnly) {\n            event.preventDefault()\n            return\n          }\n\n          const checked = event.currentTarget.checked\n          send({ type: \"CHECKED.SET\", checked, isTrusted: true })\n        },\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./switch.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `switch:${ctx.id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `switch:${ctx.id}:label`,\n  getThumbId: (ctx: Ctx) => ctx.ids?.thumb ?? `switch:${ctx.id}:thumb`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `switch:${ctx.id}:control`,\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getHiddenInputId: (ctx: Ctx) => ctx.ids?.input ?? `switch:${ctx.id}:input`,\n  getHiddenInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getHiddenInputId(ctx)),\n})\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { trackFocusVisible, trackPress } from \"@zag-js/dom-event\"\nimport { dispatchInputCheckedEvent, trackFormControl } from \"@zag-js/form-utils\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./switch.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./switch.types\"\n\nconst { not } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"switch\",\n      initial: \"ready\",\n\n      context: {\n        checked: false,\n        label: \"switch\",\n        value: \"on\",\n        disabled: false,\n        ...ctx,\n        fieldsetDisabled: false,\n      },\n\n      computed: {\n        isDisabled: (ctx) => ctx.disabled || ctx.fieldsetDisabled,\n      },\n\n      watch: {\n        disabled: \"removeFocusIfNeeded\",\n        checked: \"syncInputElement\",\n      },\n\n      activities: [\"trackFormControlState\", \"trackPressEvent\", \"trackFocusVisible\"],\n\n      on: {\n        \"CHECKED.TOGGLE\": [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"toggleChecked\", \"dispatchChangeEvent\"],\n          },\n          {\n            actions: [\"toggleChecked\"],\n          },\n        ],\n        \"CHECKED.SET\": [\n          {\n            guard: not(\"isTrusted\"),\n            actions: [\"setChecked\", \"dispatchChangeEvent\"],\n          },\n          {\n            actions: [\"setChecked\"],\n          },\n        ],\n        \"CONTEXT.SET\": {\n          actions: [\"setContext\"],\n        },\n      },\n\n      states: {\n        ready: {},\n      },\n    },\n    {\n      guards: {\n        isTrusted: (_ctx, evt) => !!evt.isTrusted,\n      },\n      activities: {\n        trackPressEvent(ctx) {\n          if (ctx.isDisabled) return\n          return trackPress({\n            pointerNode: dom.getRootEl(ctx),\n            keyboardNode: dom.getHiddenInputEl(ctx),\n            isValidKey: (event) => event.key === \" \",\n            onPress: () => (ctx.active = false),\n            onPressStart: () => (ctx.active = true),\n            onPressEnd: () => (ctx.active = false),\n          })\n        },\n        trackFocusVisible(ctx) {\n          if (ctx.isDisabled) return\n          return trackFocusVisible(dom.getHiddenInputEl(ctx), {\n            onFocus: () => (ctx.focused = true),\n            onBlur: () => (ctx.focused = false),\n          })\n        },\n        trackFormControlState(ctx, _evt, { send, initialContext }) {\n          return trackFormControl(dom.getHiddenInputEl(ctx), {\n            onFieldsetDisabledChange(disabled) {\n              ctx.fieldsetDisabled = disabled\n            },\n            onFormReset() {\n              send({ type: \"CHECKED.SET\", checked: !!initialContext.checked, src: \"form-reset\" })\n            },\n          })\n        },\n      },\n\n      actions: {\n        setContext(ctx, evt) {\n          Object.assign(ctx, evt.context)\n        },\n        syncInputElement(ctx) {\n          const inputEl = dom.getHiddenInputEl(ctx)\n          if (!inputEl) return\n          inputEl.checked = !!ctx.checked\n        },\n        removeFocusIfNeeded(ctx) {\n          if (ctx.disabled && ctx.focused) {\n            ctx.focused = false\n          }\n        },\n        setChecked(ctx, evt) {\n          set.checked(ctx, evt.checked)\n        },\n        toggleChecked(ctx, _evt) {\n          set.checked(ctx, !ctx.checked)\n        },\n        dispatchChangeEvent(ctx) {\n          const inputEl = dom.getHiddenInputEl(ctx)\n          dispatchInputCheckedEvent(inputEl, { checked: ctx.checked })\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change: (ctx: MachineContext) => {\n    ctx.onCheckedChange?.({ checked: ctx.checked })\n  },\n}\n\nconst set = {\n  checked: (ctx: MachineContext, checked: boolean) => {\n    if (isEqual(ctx.checked, checked)) return\n    ctx.checked = checked\n    invoke.change(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./switch.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"checked\",\n  \"dir\",\n  \"disabled\",\n  \"form\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"invalid\",\n  \"label\",\n  \"name\",\n  \"onCheckedChange\",\n  \"readOnly\",\n  \"required\",\n  \"value\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"tabs\").parts(\"root\", \"list\", \"trigger\", \"content\", \"indicator\")\nexport const parts = anatomy.build()\n", "import { getEventKey, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { dataAttr, isComposingEvent, isSafari, isSelfTarget } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./tabs.anatomy\"\nimport { dom } from \"./tabs.dom\"\nimport type { MachineApi, Send, State, TriggerProps, TriggerState } from \"./tabs.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const translations = state.context.translations\n  const focused = state.matches(\"focused\")\n\n  const isVertical = state.context.orientation === \"vertical\"\n  const isHorizontal = state.context.orientation === \"horizontal\"\n  const composite = state.context.composite\n  const indicator = state.context.indicatorState\n\n  function getTriggerState(props: TriggerProps): TriggerState {\n    return {\n      selected: state.context.value === props.value,\n      focused: state.context.focusedValue === props.value,\n      disabled: !!props.disabled,\n    }\n  }\n\n  return {\n    value: state.context.value,\n    focusedValue: state.context.focusedValue,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value })\n    },\n    clearValue() {\n      send({ type: \"CLEAR_VALUE\" })\n    },\n    setIndicatorRect(value) {\n      const id = dom.getTriggerId(state.context, value)\n      send({ type: \"SET_INDICATOR_RECT\", id })\n    },\n    syncTabIndex() {\n      send(\"SYNC_TAB_INDEX\")\n    },\n    selectNext(fromValue) {\n      send({ type: \"TAB_FOCUS\", value: fromValue, src: \"selectNext\" })\n      send({ type: \"ARROW_NEXT\", src: \"selectNext\" })\n    },\n    selectPrev(fromValue) {\n      send({ type: \"TAB_FOCUS\", value: fromValue, src: \"selectPrev\" })\n      send({ type: \"ARROW_PREV\", src: \"selectPrev\" })\n    },\n    focus() {\n      dom.getSelectedTriggerEl(state.context)?.focus()\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        id: dom.getRootId(state.context),\n        \"data-orientation\": state.context.orientation,\n        \"data-focus\": dataAttr(focused),\n        dir: state.context.dir,\n      })\n    },\n\n    getListProps() {\n      return normalize.element({\n        ...parts.list.attrs,\n        id: dom.getListId(state.context),\n        role: \"tablist\",\n        dir: state.context.dir,\n        \"data-focus\": dataAttr(focused),\n        \"aria-orientation\": state.context.orientation,\n        \"data-orientation\": state.context.orientation,\n        \"aria-label\": translations?.listLabel,\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n\n          if (!isSelfTarget(event)) return\n          if (isComposingEvent(event)) return\n\n          const keyMap: EventKeyMap = {\n            ArrowDown() {\n              if (isHorizontal) return\n              send({ type: \"ARROW_NEXT\", key: \"ArrowDown\" })\n            },\n            ArrowUp() {\n              if (isHorizontal) return\n              send({ type: \"ARROW_PREV\", key: \"ArrowUp\" })\n            },\n            ArrowLeft() {\n              if (isVertical) return\n              send({ type: \"ARROW_PREV\", key: \"ArrowLeft\" })\n            },\n            ArrowRight() {\n              if (isVertical) return\n              send({ type: \"ARROW_NEXT\", key: \"ArrowRight\" })\n            },\n            Home() {\n              send(\"HOME\")\n            },\n            End() {\n              send(\"END\")\n            },\n            Enter() {\n              send({ type: \"ENTER\" })\n            },\n          }\n\n          let key = getEventKey(event, state.context)\n          const exec = keyMap[key]\n\n          if (exec) {\n            event.preventDefault()\n            exec(event)\n          }\n        },\n      })\n    },\n\n    getTriggerState,\n\n    getTriggerProps(props) {\n      const { value, disabled } = props\n      const triggerState = getTriggerState(props)\n\n      return normalize.button({\n        ...parts.trigger.attrs,\n        role: \"tab\",\n        type: \"button\",\n        disabled,\n        dir: state.context.dir,\n        \"data-orientation\": state.context.orientation,\n        \"data-disabled\": dataAttr(disabled),\n        \"aria-disabled\": disabled,\n        \"data-value\": value,\n        \"aria-selected\": triggerState.selected,\n        \"data-selected\": dataAttr(triggerState.selected),\n        \"data-focus\": dataAttr(triggerState.focused),\n        \"aria-controls\": triggerState.selected ? dom.getContentId(state.context, value) : undefined,\n        \"data-ownedby\": dom.getListId(state.context),\n        \"data-ssr\": dataAttr(state.context.ssr),\n        id: dom.getTriggerId(state.context, value),\n        tabIndex: triggerState.selected && composite ? 0 : -1,\n        onFocus() {\n          send({ type: \"TAB_FOCUS\", value })\n        },\n        onBlur(event) {\n          const target = event.relatedTarget as HTMLElement | null\n          if (target?.getAttribute(\"role\") !== \"tab\") {\n            send({ type: \"TAB_BLUR\" })\n          }\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (disabled) return\n          if (isSafari()) {\n            event.currentTarget.focus()\n          }\n          send({ type: \"TAB_CLICK\", value })\n        },\n      })\n    },\n\n    getContentProps(props) {\n      const { value } = props\n      const selected = state.context.value === value\n      return normalize.element({\n        ...parts.content.attrs,\n        dir: state.context.dir,\n        id: dom.getContentId(state.context, value),\n        tabIndex: composite ? 0 : -1,\n        \"aria-labelledby\": dom.getTriggerId(state.context, value),\n        role: \"tabpanel\",\n        \"data-ownedby\": dom.getListId(state.context),\n        \"data-selected\": dataAttr(selected),\n        \"data-orientation\": state.context.orientation,\n        hidden: !selected,\n      })\n    },\n\n    getIndicatorProps() {\n      return normalize.element({\n        id: dom.getIndicatorId(state.context),\n        ...parts.indicator.attrs,\n        dir: state.context.dir,\n        \"data-orientation\": state.context.orientation,\n        style: {\n          \"--transition-property\": \"left, right, top, bottom, width, height\",\n          \"--left\": indicator.rect?.left,\n          \"--top\": indicator.rect?.top,\n          \"--width\": indicator.rect?.width,\n          \"--height\": indicator.rect?.height,\n          position: \"absolute\",\n          willChange: \"var(--transition-property)\",\n          transitionProperty: \"var(--transition-property)\",\n          transitionDuration: indicator.transition ? \"var(--transition-duration, 150ms)\" : \"0ms\",\n          transitionTimingFunction: \"var(--transition-timing-function)\",\n          [isHorizontal ? \"left\" : \"top\"]: isHorizontal ? \"var(--left)\" : \"var(--top)\",\n        },\n      })\n    },\n  }\n}\n", "import { createScope, itemById, nextById, prevById, queryAll } from \"@zag-js/dom-query\"\nimport { first, last } from \"@zag-js/utils\"\nimport type { MachineContext as Ctx } from \"./tabs.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `tabs:${ctx.id}`,\n  getListId: (ctx: Ctx) => ctx.ids?.list ?? `tabs:${ctx.id}:list`,\n  getContentId: (ctx: Ctx, id: string) => ctx.ids?.content ?? `tabs:${ctx.id}:content-${id}`,\n  getTriggerId: (ctx: Ctx, id: string) => ctx.ids?.trigger ?? `tabs:${ctx.id}:trigger-${id}`,\n  getIndicatorId: (ctx: Ctx) => ctx.ids?.indicator ?? `tabs:${ctx.id}:indicator`,\n\n  getListEl: (ctx: Ctx) => dom.getById(ctx, dom.getListId(ctx)),\n  getContentEl: (ctx: Ctx, id: string) => dom.getById(ctx, dom.getContentId(ctx, id)),\n  getTriggerEl: (ctx: Ctx, id: string) => dom.getById(ctx, dom.getTriggerId(ctx, id)),\n  getIndicatorEl: (ctx: Ctx) => dom.getById(ctx, dom.getIndicatorId(ctx)),\n\n  getElements: (ctx: Ctx) => {\n    const ownerId = CSS.escape(dom.getListId(ctx))\n    const selector = `[role=tab][data-ownedby='${ownerId}']:not([disabled])`\n    return queryAll(dom.getListEl(ctx), selector)\n  },\n\n  getFirstTriggerEl: (ctx: Ctx) => first(dom.getElements(ctx)),\n  getLastTriggerEl: (ctx: Ctx) => last(dom.getElements(ctx)),\n  getNextTriggerEl: (ctx: Ctx, id: string) => nextById(dom.getElements(ctx), dom.getTriggerId(ctx, id), ctx.loopFocus),\n  getPrevTriggerEl: (ctx: Ctx, id: string) => prevById(dom.getElements(ctx), dom.getTriggerId(ctx, id), ctx.loopFocus),\n  getSelectedContentEl: (ctx: Ctx) => {\n    if (!ctx.value) return\n    return dom.getContentEl(ctx, ctx.value)\n  },\n  getSelectedTriggerEl: (ctx: Ctx) => {\n    if (!ctx.value) return\n    return dom.getTriggerEl(ctx, ctx.value)\n  },\n\n  getOffsetRect: (el: HTMLElement | undefined) => {\n    return {\n      left: el?.offsetLeft ?? 0,\n      top: el?.offsetTop ?? 0,\n      width: el?.offsetWidth ?? 0,\n      height: el?.offsetHeight ?? 0,\n    }\n  },\n\n  getRectById: (ctx: Ctx, id: string) => {\n    const tab = itemById(dom.getElements(ctx), dom.getTriggerId(ctx, id))\n    return dom.resolveRect(dom.getOffsetRect(tab))\n  },\n\n  resolveRect: (rect: Record<\"width\" | \"height\" | \"left\" | \"top\", number>) => ({\n    width: `${rect.width}px`,\n    height: `${rect.height}px`,\n    left: `${rect.left}px`,\n    top: `${rect.top}px`,\n  }),\n})\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { clickIfLink } from \"@zag-js/dom-event\"\nimport { nextTick, raf, getFocusables } from \"@zag-js/dom-query\"\nimport { trackElementRect } from \"@zag-js/element-rect\"\nimport { compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./tabs.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./tabs.types\"\n\nconst { not } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      initial: \"idle\",\n\n      context: {\n        dir: \"ltr\",\n        orientation: \"horizontal\",\n        activationMode: \"automatic\",\n        value: null,\n        loopFocus: true,\n        composite: true,\n        ...ctx,\n        focusedValue: ctx.value ?? null,\n        ssr: true,\n        indicatorState: {\n          rendered: false,\n          transition: false,\n          rect: { left: \"0px\", top: \"0px\", width: \"0px\", height: \"0px\" },\n        },\n      },\n\n      watch: {\n        value: [\"allowIndicatorTransition\", \"syncIndicatorRect\", \"syncTabIndex\", \"clickIfLink\"],\n        dir: [\"syncIndicatorRect\"],\n        orientation: [\"syncIndicatorRect\"],\n      },\n\n      on: {\n        SET_VALUE: {\n          actions: \"setValue\",\n        },\n        CLEAR_VALUE: {\n          actions: \"clearValue\",\n        },\n        SET_INDICATOR_RECT: {\n          actions: \"setIndicatorRect\",\n        },\n        SYNC_TAB_INDEX: {\n          actions: \"syncTabIndex\",\n        },\n      },\n\n      created: [\"syncFocusedValue\"],\n\n      entry: [\"checkRenderedElements\", \"syncIndicatorRect\", \"syncTabIndex\", \"syncSsr\"],\n\n      exit: [\"cleanupObserver\"],\n\n      states: {\n        idle: {\n          on: {\n            TAB_FOCUS: {\n              target: \"focused\",\n              actions: \"setFocusedValue\",\n            },\n            TAB_CLICK: {\n              target: \"focused\",\n              actions: [\"setFocusedValue\", \"setValue\"],\n            },\n          },\n        },\n        focused: {\n          on: {\n            TAB_CLICK: {\n              target: \"focused\",\n              actions: [\"setFocusedValue\", \"setValue\"],\n            },\n            ARROW_PREV: [\n              {\n                guard: \"selectOnFocus\",\n                actions: [\"focusPrevTab\", \"selectFocusedTab\"],\n              },\n              {\n                actions: \"focusPrevTab\",\n              },\n            ],\n            ARROW_NEXT: [\n              {\n                guard: \"selectOnFocus\",\n                actions: [\"focusNextTab\", \"selectFocusedTab\"],\n              },\n              {\n                actions: \"focusNextTab\",\n              },\n            ],\n            HOME: [\n              {\n                guard: \"selectOnFocus\",\n                actions: [\"focusFirstTab\", \"selectFocusedTab\"],\n              },\n              {\n                actions: \"focusFirstTab\",\n              },\n            ],\n            END: [\n              {\n                guard: \"selectOnFocus\",\n                actions: [\"focusLastTab\", \"selectFocusedTab\"],\n              },\n              {\n                actions: \"focusLastTab\",\n              },\n            ],\n            ENTER: {\n              guard: not(\"selectOnFocus\"),\n              actions: \"selectFocusedTab\",\n            },\n            TAB_FOCUS: {\n              actions: [\"setFocusedValue\"],\n            },\n            TAB_BLUR: {\n              target: \"idle\",\n              actions: \"clearFocusedValue\",\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        selectOnFocus: (ctx) => ctx.activationMode === \"automatic\",\n      },\n\n      actions: {\n        syncFocusedValue(ctx) {\n          if (ctx.value != null && ctx.focusedValue == null) {\n            ctx.focusedValue = ctx.value\n          }\n        },\n        selectFocusedTab(ctx) {\n          raf(() => {\n            set.value(ctx, ctx.focusedValue)\n          })\n        },\n        setFocusedValue(ctx, evt) {\n          if (evt.value == null) return\n          set.focusedValue(ctx, evt.value)\n        },\n        clearFocusedValue(ctx) {\n          set.focusedValue(ctx, null)\n        },\n        setValue(ctx, evt) {\n          set.value(ctx, evt.value)\n        },\n        clearValue(ctx) {\n          set.value(ctx, null)\n        },\n        focusFirstTab(ctx) {\n          raf(() => {\n            dom.getFirstTriggerEl(ctx)?.focus()\n          })\n        },\n        focusLastTab(ctx) {\n          raf(() => {\n            dom.getLastTriggerEl(ctx)?.focus()\n          })\n        },\n        focusNextTab(ctx) {\n          if (!ctx.focusedValue) return\n          const triggerEl = dom.getNextTriggerEl(ctx, ctx.focusedValue)\n          raf(() => {\n            if (ctx.composite) {\n              triggerEl?.focus()\n            } else if (triggerEl?.dataset.value != null) {\n              set.focusedValue(ctx, triggerEl.dataset.value)\n            }\n          })\n        },\n        focusPrevTab(ctx) {\n          if (!ctx.focusedValue) return\n          const triggerEl = dom.getPrevTriggerEl(ctx, ctx.focusedValue)\n          raf(() => {\n            if (ctx.composite) {\n              triggerEl?.focus()\n            } else if (triggerEl?.dataset.value != null) {\n              set.focusedValue(ctx, triggerEl.dataset.value)\n            }\n          })\n        },\n        checkRenderedElements(ctx) {\n          ctx.indicatorState.rendered = !!dom.getIndicatorEl(ctx)\n        },\n        syncTabIndex(ctx) {\n          raf(() => {\n            const contentEl = dom.getSelectedContentEl(ctx)\n            if (!contentEl) return\n            const focusables = getFocusables(contentEl)\n            if (focusables.length > 0) {\n              contentEl.removeAttribute(\"tabindex\")\n            } else {\n              contentEl.setAttribute(\"tabindex\", \"0\")\n            }\n          })\n        },\n        cleanupObserver(ctx) {\n          ctx.indicatorCleanup?.()\n        },\n        allowIndicatorTransition(ctx) {\n          ctx.indicatorState.transition = true\n        },\n        setIndicatorRect(ctx, evt) {\n          const value = evt.id ?? ctx.value\n          if (!ctx.indicatorState.rendered || !value) return\n\n          const triggerEl = dom.getTriggerEl(ctx, value)\n          if (!triggerEl) return\n\n          ctx.indicatorState.rect = dom.getRectById(ctx, value)\n          nextTick(() => {\n            ctx.indicatorState.transition = false\n          })\n        },\n        syncSsr(ctx) {\n          ctx.ssr = false\n        },\n        syncIndicatorRect(ctx) {\n          ctx.indicatorCleanup?.()\n\n          const value = ctx.value\n          if (!ctx.indicatorState.rendered || !value) return\n\n          const triggerEl = dom.getSelectedTriggerEl(ctx)\n          if (!triggerEl) return\n\n          ctx.indicatorCleanup = trackElementRect(triggerEl, {\n            getRect(el) {\n              return dom.getOffsetRect(el)\n            },\n            onChange(rect) {\n              ctx.indicatorState.rect = dom.resolveRect(rect)\n              nextTick(() => {\n                ctx.indicatorState.transition = false\n              })\n            },\n          })\n        },\n        clickIfLink(ctx) {\n          clickIfLink(dom.getSelectedTriggerEl(ctx))\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change: (ctx: MachineContext) => {\n    if (ctx.value == null) return\n    ctx.onValueChange?.({ value: ctx.value })\n  },\n  focusChange: (ctx: MachineContext) => {\n    if (ctx.focusedValue == null) return\n    ctx.onFocusChange?.({ focusedValue: ctx.focusedValue })\n  },\n}\n\nconst set = {\n  value: (ctx: MachineContext, value: string | null) => {\n    if (isEqual(value, ctx.value)) return\n    ctx.value = value\n    invoke.change(ctx)\n  },\n  focusedValue: (ctx: MachineContext, value: string | null) => {\n    if (isEqual(value, ctx.focusedValue)) return\n    ctx.focusedValue = value\n    invoke.focusChange(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ContentProps, TriggerProps, UserDefinedContext } from \"./tabs.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"activationMode\",\n  \"composite\",\n  \"dir\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"loopFocus\",\n  \"onFocusChange\",\n  \"onValueChange\",\n  \"orientation\",\n  \"translations\",\n  \"value\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const triggerProps = createProps<TriggerProps>()([\"disabled\", \"value\"])\nexport const splitTriggerProps = createSplitProps<TriggerProps>(triggerProps)\n\nexport const contentProps = createProps<ContentProps>()([\"value\"])\nexport const splitContentProps = createSplitProps<ContentProps>(contentProps)\n", "import { getDocument, getWindow } from \"@zag-js/dom-query\"\n\nfunction copyVisualStyles(fromEl: HTMLElement | null, toEl: HTMLElement) {\n  if (!fromEl) return\n\n  const win = getWindow(fromEl)\n  const el = win.getComputedStyle(fromEl)\n\n  // prettier-ignore\n  const cssText = 'box-sizing:' + el.boxSizing +\n                      ';border-left:' + el.borderLeftWidth + ' solid red' +\n                      ';border-right:' + el.borderRightWidth + ' solid red' +\n                      ';font-family:' + el.fontFamily +\n                      ';font-feature-settings:' + el.fontFeatureSettings +\n                      ';font-kerning:' + el.fontKerning +\n                      ';font-size:' + el.fontSize +\n                      ';font-stretch:' + el.fontStretch +\n                      ';font-style:' + el.fontStyle +\n                      ';font-variant:' + el.fontVariant +\n                      ';font-variant-caps:' + el.fontVariantCaps +\n                      ';font-variant-ligatures:' + el.fontVariantLigatures +\n                      ';font-variant-numeric:' + el.fontVariantNumeric +\n                      ';font-weight:' + el.fontWeight +\n                      ';letter-spacing:' + el.letterSpacing +\n                      ';margin-left:' + el.marginLeft +\n                      ';margin-right:' + el.marginRight +\n                      ';padding-left:' + el.paddingLeft +\n                      ';padding-right:' + el.paddingRight +\n                      ';text-indent:' + el.textIndent +\n                      ';text-transform:' + el.textTransform\n\n  toEl.style.cssText += cssText\n}\n\nfunction createGhostElement(doc: Document) {\n  var el = doc.createElement(\"div\")\n  el.id = \"ghost\"\n  el.style.cssText =\n    \"display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;\"\n  doc.body.appendChild(el)\n  return el\n}\n\nexport function autoResizeInput(input: HTMLInputElement | null) {\n  if (!input) return\n  const doc = getDocument(input)\n  const win = getWindow(input)\n\n  const ghost = createGhostElement(doc)\n\n  copyVisualStyles(input, ghost)\n\n  function resize() {\n    win.requestAnimationFrame(() => {\n      ghost.innerHTML = input!.value\n      const rect = win.getComputedStyle(ghost)\n      input?.style.setProperty(\"width\", rect.width)\n    })\n  }\n\n  resize()\n\n  input?.addEventListener(\"input\", resize)\n  input?.addEventListener(\"change\", resize)\n\n  return () => {\n    doc.body.removeChild(ghost)\n    input?.removeEventListener(\"input\", resize)\n    input?.removeEventListener(\"change\", resize)\n  }\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"tagsInput\").parts(\n  \"root\",\n  \"label\",\n  \"control\",\n  \"input\",\n  \"clearTrigger\",\n  \"item\",\n  \"itemPreview\",\n  \"itemInput\",\n  \"itemText\",\n  \"itemDeleteTrigger\",\n)\n\nexport const parts = anatomy.build()\n", "import { getEventKey, getNativeEvent, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr, isComposingEvent } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./tags-input.anatomy\"\nimport { dom } from \"./tags-input.dom\"\nimport type { ItemProps, ItemState, MachineApi, Send, State } from \"./tags-input.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const interactive = state.context.isInteractive\n  const disabled = state.context.disabled\n  const readOnly = state.context.readOnly\n  const invalid = state.context.invalid || state.context.isOverflowing\n\n  const translations = state.context.translations\n\n  const focused = state.hasTag(\"focused\")\n  const editingTag = state.matches(\"editing:tag\")\n  const empty = state.context.count === 0\n\n  function getItemState(options: ItemProps): ItemState {\n    const id = dom.getItemId(state.context, options)\n    return {\n      id,\n      editing: editingTag && state.context.editedTagId === id,\n      highlighted: id === state.context.highlightedTagId,\n      disabled: Boolean(options.disabled || disabled),\n    }\n  }\n\n  return {\n    empty: empty,\n    inputValue: state.context.trimmedInputValue,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    count: state.context.count,\n    atMax: state.context.isAtMax,\n    setValue(value) {\n      send({ type: \"SET_VALUE\", value })\n    },\n    clearValue(id) {\n      if (id) {\n        send({ type: \"CLEAR_TAG\", id })\n      } else {\n        send(\"CLEAR_VALUE\")\n      }\n    },\n    addValue(value) {\n      send({ type: \"ADD_TAG\", value })\n    },\n    setValueAtIndex(index, value) {\n      send({ type: \"SET_VALUE_AT_INDEX\", index, value })\n    },\n    setInputValue(value) {\n      send({ type: \"SET_INPUT_VALUE\", value })\n    },\n    clearInputValue() {\n      send({ type: \"SET_INPUT_VALUE\", value: \"\" })\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus()\n    },\n    getItemState,\n\n    getRootProps() {\n      return normalize.element({\n        dir: state.context.dir,\n        ...parts.root.attrs,\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-focus\": dataAttr(focused),\n        \"data-empty\": dataAttr(empty),\n        id: dom.getRootId(state.context),\n        onPointerDown() {\n          if (!interactive) return\n          send(\"POINTER_DOWN\")\n        },\n      })\n    },\n\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n        id: dom.getLabelId(state.context),\n        dir: state.context.dir,\n        htmlFor: dom.getInputId(state.context),\n      })\n    },\n\n    getControlProps() {\n      return normalize.element({\n        id: dom.getControlId(state.context),\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        tabIndex: readOnly ? 0 : undefined,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused),\n      })\n    },\n\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        \"data-invalid\": dataAttr(invalid),\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n        maxLength: state.context.maxLength,\n        id: dom.getInputId(state.context),\n        defaultValue: state.context.inputValue,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        autoCapitalize: \"none\",\n        disabled: disabled || readOnly,\n        onChange(event) {\n          const evt = getNativeEvent(event)\n\n          if (evt.inputType === \"insertFromPaste\") return\n          let value = event.target.value\n\n          if (endsWith(value, state.context.delimiter)) {\n            send(\"DELIMITER_KEY\")\n          } else {\n            send({ type: \"TYPE\", value, key: evt.inputType })\n          }\n        },\n        onFocus() {\n          send(\"FOCUS\")\n        },\n        onPaste(event) {\n          event.preventDefault()\n          const value = event.clipboardData.getData(\"text/plain\")\n          send({ type: \"PASTE\", value })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (isComposingEvent(event)) return\n\n          // handle composition when used as combobox\n          const target = event.currentTarget as HTMLElement\n          const isCombobox = target.getAttribute(\"role\") === \"combobox\"\n          const isExpanded = target.ariaExpanded === \"true\"\n\n          const keyMap: EventKeyMap = {\n            ArrowDown() {\n              send(\"ARROW_DOWN\")\n            },\n            ArrowLeft() {\n              if (isCombobox && isExpanded) return\n              send(\"ARROW_LEFT\")\n            },\n            ArrowRight(event) {\n              if (state.context.highlightedTagId) {\n                event.preventDefault()\n              }\n              if (isCombobox && isExpanded) return\n              send(\"ARROW_RIGHT\")\n            },\n            Escape(event) {\n              event.preventDefault()\n              send(\"ESCAPE\")\n            },\n            Backspace() {\n              send(\"BACKSPACE\")\n            },\n            Delete() {\n              send(\"DELETE\")\n            },\n            Enter(event) {\n              if (isCombobox && isExpanded) return\n              send(\"ENTER\")\n              event.preventDefault()\n            },\n          }\n\n          const key = getEventKey(event, state.context)\n          const exec = keyMap[key]\n\n          if (exec) {\n            exec(event)\n            return\n          }\n        },\n      })\n    },\n\n    getHiddenInputProps() {\n      return normalize.input({\n        type: \"text\",\n        hidden: true,\n        name: state.context.name,\n        form: state.context.form,\n        id: dom.getHiddenInputId(state.context),\n        defaultValue: state.context.valueAsString,\n      })\n    },\n\n    getItemProps(props) {\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        \"data-value\": props.value,\n        \"data-disabled\": dataAttr(disabled),\n      })\n    },\n\n    getItemPreviewProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.itemPreview.attrs,\n        id: itemState.id,\n        dir: state.context.dir,\n        hidden: itemState.editing,\n        \"data-value\": props.value,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        onPointerDown(event) {\n          if (!interactive || itemState.disabled) return\n          event.preventDefault()\n          send({ type: \"POINTER_DOWN_TAG\", id: itemState.id })\n        },\n        onDoubleClick() {\n          if (!interactive || itemState.disabled) return\n          send({ type: \"DOUBLE_CLICK_TAG\", id: itemState.id })\n        },\n      })\n    },\n\n    getItemTextProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n      })\n    },\n\n    getItemInputProps(props) {\n      const itemState = getItemState(props)\n      return normalize.input({\n        ...parts.itemInput.attrs,\n        dir: state.context.dir,\n        \"aria-label\": translations.tagEdited(props.value),\n        \"aria-hidden\": true,\n        disabled: disabled,\n        id: dom.getItemInputId(state.context, props),\n        tabIndex: -1,\n        hidden: !itemState.editing,\n        defaultValue: itemState.editing ? state.context.editedTagValue : \"\",\n        onChange(event) {\n          send({ type: \"TAG_INPUT_TYPE\", value: event.target.value })\n        },\n        onBlur(event) {\n          send({ type: \"TAG_INPUT_BLUR\", target: event.relatedTarget, id: itemState.id })\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (isComposingEvent(event)) return\n\n          const keyMap: EventKeyMap = {\n            Enter() {\n              send(\"TAG_INPUT_ENTER\")\n            },\n            Escape() {\n              send(\"TAG_INPUT_ESCAPE\")\n            },\n          }\n\n          const exec = keyMap[event.key]\n\n          if (exec) {\n            event.preventDefault()\n            exec(event)\n          }\n        },\n      })\n    },\n\n    getItemDeleteTriggerProps(props) {\n      const id = dom.getItemId(state.context, props)\n      return normalize.button({\n        ...parts.itemDeleteTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getItemDeleteTriggerId(state.context, props),\n        type: \"button\",\n        disabled: disabled,\n        \"aria-label\": translations.deleteTagTriggerLabel(props.value),\n        tabIndex: -1,\n        onPointerDown(event) {\n          if (!interactive) {\n            event.preventDefault()\n          }\n        },\n        onPointerMove(event) {\n          if (!interactive) return\n          dom.setHoverIntent(event.currentTarget)\n        },\n        onPointerLeave(event) {\n          if (!interactive) return\n          dom.clearHoverIntent(event.currentTarget)\n        },\n        onClick() {\n          if (!interactive) return\n          send({ type: \"CLICK_DELETE_TAG\", id })\n        },\n      })\n    },\n\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getClearTriggerId(state.context),\n        type: \"button\",\n        \"data-readonly\": dataAttr(readOnly),\n        disabled: disabled,\n        \"aria-label\": translations.clearTriggerLabel,\n        hidden: empty,\n        onClick() {\n          if (!interactive) return\n          send(\"CLEAR_VALUE\")\n        },\n      })\n    },\n  }\n}\n\nfunction endsWith(str: string, del: string | RegExp | undefined) {\n  if (!del) return false\n  if (typeof del === \"string\") return str.endsWith(del)\n  return new RegExp(`${del.source}$`).test(str)\n}\n", "import { createScope, indexOfId, nextById, prevById, queryAll } from \"@zag-js/dom-query\"\nimport { dispatchInputValueEvent } from \"@zag-js/form-utils\"\nimport type { MachineContext as Ctx, ItemProps } from \"./tags-input.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `tags-input:${ctx.id}`,\n  getInputId: (ctx: Ctx) => ctx.ids?.input ?? `tags-input:${ctx.id}:input`,\n  getClearTriggerId: (ctx: Ctx) => ctx.ids?.clearBtn ?? `tags-input:${ctx.id}:clear-btn`,\n  getHiddenInputId: (ctx: Ctx) => `tags-input:${ctx.id}:hidden-input`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `tags-input:${ctx.id}:label`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `tags-input:${ctx.id}:control`,\n  getItemId: (ctx: Ctx, opt: ItemProps) => ctx.ids?.item?.(opt) ?? `tags-input:${ctx.id}:tag:${opt.value}:${opt.index}`,\n  getItemDeleteTriggerId: (ctx: Ctx, opt: ItemProps) =>\n    ctx.ids?.itemDeleteTrigger?.(opt) ?? `${dom.getItemId(ctx, opt)}:delete-btn`,\n  getItemInputId: (ctx: Ctx, opt: ItemProps) => ctx.ids?.itemInput?.(opt) ?? `${dom.getItemId(ctx, opt)}:input`,\n  getEditInputId: (ctx: Ctx) => `${ctx.editedTagId}:input`,\n\n  getTagInputEl: (ctx: Ctx, opt: ItemProps) => dom.getById<HTMLInputElement>(ctx, dom.getItemInputId(ctx, opt)),\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getInputId(ctx)),\n  getHiddenInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getHiddenInputId(ctx)),\n  getEditInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getEditInputId(ctx)),\n  getTagElements: (ctx: Ctx) => queryAll(dom.getRootEl(ctx), `[data-part=item-preview]:not([data-disabled])`),\n  getFirstEl: (ctx: Ctx) => dom.getTagElements(ctx)[0],\n  getLastEl: (ctx: Ctx) => dom.getTagElements(ctx)[dom.getTagElements(ctx).length - 1],\n  getPrevEl: (ctx: Ctx, id: string) => prevById(dom.getTagElements(ctx), id, false),\n  getNextEl: (ctx: Ctx, id: string) => nextById(dom.getTagElements(ctx), id, false),\n  getTagElAtIndex: (ctx: Ctx, index: number) => dom.getTagElements(ctx)[index],\n\n  getIndexOfId: (ctx: Ctx, id: string) => indexOfId(dom.getTagElements(ctx), id),\n  isInputFocused: (ctx: Ctx) => dom.getDoc(ctx).activeElement === dom.getInputEl(ctx),\n\n  getHighlightedTagValue: (ctx: Ctx) => {\n    if (!ctx.highlightedTagId) return null\n    const tagEl = dom.getById(ctx, ctx.highlightedTagId)\n    return tagEl?.dataset.value ?? null\n  },\n  setHoverIntent: (el: Element) => {\n    const tagEl = el.closest<HTMLElement>(\"[data-part=item-preview]\")\n    if (!tagEl) return\n    tagEl.dataset.deleteIntent = \"\"\n  },\n  clearHoverIntent: (el: Element) => {\n    const tagEl = el.closest<HTMLElement>(\"[data-part=item-preview]\")\n    if (!tagEl) return\n    delete tagEl.dataset.deleteIntent\n  },\n  dispatchInputEvent(ctx: Ctx) {\n    const inputEl = dom.getHiddenInputEl(ctx)\n    if (!inputEl) return\n    dispatchInputValueEvent(inputEl, { value: ctx.valueAsString })\n  },\n})\n", "import { autoResizeInput } from \"@zag-js/auto-resize\"\nimport { createMachine, guards } from \"@zag-js/core\"\nimport { contains, raf } from \"@zag-js/dom-query\"\nimport { trackFormControl } from \"@zag-js/form-utils\"\nimport { trackInteractOutside } from \"@zag-js/interact-outside\"\nimport { createLiveRegion } from \"@zag-js/live-region\"\nimport { compact, isEqual, removeAt, warn } from \"@zag-js/utils\"\nimport { dom } from \"./tags-input.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./tags-input.types\"\n\nconst { and, not, or } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"tags-input\",\n      initial: ctx.autoFocus ? \"focused:input\" : \"idle\",\n      context: {\n        inputValue: \"\",\n        editedTagValue: \"\",\n        editedTagId: null,\n        highlightedTagId: null,\n        value: [],\n        dir: \"ltr\",\n        max: Infinity,\n        blurBehavior: undefined,\n        addOnPaste: false,\n        editable: true,\n        validate: () => true,\n        delimiter: \",\",\n        disabled: false,\n        readOnly: false,\n        ...ctx,\n        liveRegion: null,\n        log: { current: null, prev: null },\n        fieldsetDisabled: false,\n        translations: {\n          clearTriggerLabel: \"Clear all tags\",\n          deleteTagTriggerLabel: (value) => `Delete tag ${value}`,\n          tagAdded: (value) => `Added tag ${value}`,\n          tagsPasted: (values) => `Pasted ${values.length} tags`,\n          tagEdited: (value) => `Editing tag ${value}. Press enter to save or escape to cancel.`,\n          tagUpdated: (value) => `Tag update to ${value}`,\n          tagDeleted: (value) => `Tag ${value} deleted`,\n          tagSelected: (value) => `Tag ${value} selected. Press enter to edit, delete or backspace to remove.`,\n          ...ctx.translations,\n        },\n      },\n      computed: {\n        count: (ctx) => ctx.value.length,\n        valueAsString: (ctx) => JSON.stringify(ctx.value),\n        trimmedInputValue: (ctx) => ctx.inputValue.trim(),\n        isDisabled: (ctx) => !!ctx.disabled || ctx.fieldsetDisabled,\n        isInteractive: (ctx) => !(ctx.readOnly || ctx.isDisabled),\n        isAtMax: (ctx) => ctx.count === ctx.max,\n        isOverflowing: (ctx) => ctx.count > ctx.max,\n      },\n      watch: {\n        highlightedTagId: \"logHighlightedTag\",\n        isOverflowing: \"invokeOnInvalid\",\n        log: \"announceLog\",\n        inputValue: \"syncInputValue\",\n        editedTagValue: \"syncEditedTagInputValue\",\n      },\n\n      activities: [\"trackLiveRegion\", \"trackFormControlState\"],\n\n      exit: [\"clearLog\"],\n\n      on: {\n        DOUBLE_CLICK_TAG: {\n          internal: true,\n          guard: \"isTagEditable\",\n          target: \"editing:tag\",\n          actions: [\"setEditedId\", \"initializeEditedTagValue\"],\n        },\n        POINTER_DOWN_TAG: {\n          internal: true,\n          target: \"navigating:tag\",\n          actions: [\"highlightTag\", \"focusInput\"],\n        },\n        CLICK_DELETE_TAG: {\n          target: \"focused:input\",\n          actions: [\"deleteTag\"],\n        },\n        SET_INPUT_VALUE: {\n          actions: [\"setInputValue\"],\n        },\n        SET_VALUE: {\n          actions: [\"setValue\"],\n        },\n        CLEAR_TAG: {\n          actions: [\"deleteTag\"],\n        },\n        SET_VALUE_AT_INDEX: {\n          actions: [\"setValueAtIndex\"],\n        },\n        CLEAR_VALUE: {\n          actions: [\"clearTags\", \"clearInputValue\", \"focusInput\"],\n        },\n        ADD_TAG: {\n          // (!isAtMax || allowOverflow) && !inputValueIsEmpty\n          guard: and(or(not(\"isAtMax\"), \"allowOverflow\"), not(\"isInputValueEmpty\")),\n          actions: [\"addTag\", \"clearInputValue\"],\n        },\n        EXTERNAL_BLUR: [\n          { guard: \"addOnBlur\", actions: \"raiseAddTagEvent\" },\n          { guard: \"clearOnBlur\", actions: \"clearInputValue\" },\n        ],\n      },\n\n      states: {\n        idle: {\n          on: {\n            FOCUS: \"focused:input\",\n            POINTER_DOWN: {\n              guard: not(\"hasHighlightedTag\"),\n              target: \"focused:input\",\n            },\n          },\n        },\n\n        \"focused:input\": {\n          tags: [\"focused\"],\n          entry: [\"focusInput\", \"clearHighlightedId\"],\n          activities: [\"trackInteractOutside\"],\n          on: {\n            TYPE: {\n              actions: \"setInputValue\",\n            },\n            BLUR: [\n              {\n                guard: \"addOnBlur\",\n                target: \"idle\",\n                actions: \"raiseAddTagEvent\",\n              },\n              {\n                guard: \"clearOnBlur\",\n                target: \"idle\",\n                actions: \"clearInputValue\",\n              },\n              { target: \"idle\" },\n            ],\n            ENTER: {\n              actions: [\"raiseAddTagEvent\"],\n            },\n            DELIMITER_KEY: {\n              actions: [\"raiseAddTagEvent\"],\n            },\n            ARROW_LEFT: {\n              guard: and(\"hasTags\", \"isInputCaretAtStart\"),\n              target: \"navigating:tag\",\n              actions: \"highlightLastTag\",\n            },\n            BACKSPACE: {\n              target: \"navigating:tag\",\n              guard: and(\"hasTags\", \"isInputCaretAtStart\"),\n              actions: \"highlightLastTag\",\n            },\n            PASTE: [\n              {\n                guard: \"addOnPaste\",\n                actions: [\"setInputValue\", \"addTagFromPaste\"],\n              },\n              {\n                actions: \"setInputValue\",\n              },\n            ],\n          },\n        },\n\n        \"navigating:tag\": {\n          tags: [\"focused\"],\n          activities: [\"trackInteractOutside\"],\n          on: {\n            ARROW_RIGHT: [\n              {\n                guard: and(\"hasTags\", \"isInputCaretAtStart\", not(\"isLastTagHighlighted\")),\n                actions: \"highlightNextTag\",\n              },\n              { target: \"focused:input\" },\n            ],\n            ARROW_LEFT: {\n              actions: \"highlightPrevTag\",\n            },\n            BLUR: {\n              target: \"idle\",\n              actions: \"clearHighlightedId\",\n            },\n            ENTER: {\n              guard: and(\"isTagEditable\", \"hasHighlightedTag\"),\n              target: \"editing:tag\",\n              actions: [\"setEditedId\", \"initializeEditedTagValue\", \"focusEditedTagInput\"],\n            },\n            ARROW_DOWN: \"focused:input\",\n            ESCAPE: \"focused:input\",\n            TYPE: {\n              target: \"focused:input\",\n              actions: \"setInputValue\",\n            },\n            BACKSPACE: [\n              {\n                guard: \"isFirstTagHighlighted\",\n                actions: [\"deleteHighlightedTag\", \"highlightFirstTag\"],\n              },\n              {\n                actions: [\"deleteHighlightedTag\", \"highlightPrevTag\"],\n              },\n            ],\n            DELETE: {\n              actions: [\"deleteHighlightedTag\", \"highlightTagAtIndex\"],\n            },\n          },\n        },\n\n        \"editing:tag\": {\n          tags: [\"editing\", \"focused\"],\n          entry: \"focusEditedTagInput\",\n          activities: [\"autoResize\"],\n          on: {\n            TAG_INPUT_TYPE: {\n              actions: \"setEditedTagValue\",\n            },\n            TAG_INPUT_ESCAPE: {\n              target: \"navigating:tag\",\n              actions: [\"clearEditedTagValue\", \"focusInput\", \"clearEditedId\", \"highlightTagAtIndex\"],\n            },\n            TAG_INPUT_BLUR: [\n              {\n                guard: \"isInputRelatedTarget\",\n                target: \"navigating:tag\",\n                actions: [\"clearEditedTagValue\", \"clearHighlightedId\", \"clearEditedId\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"clearEditedTagValue\", \"clearHighlightedId\", \"clearEditedId\", \"raiseExternalBlurEvent\"],\n              },\n            ],\n            TAG_INPUT_ENTER: [\n              {\n                guard: \"isEditedTagEmpty\",\n                target: \"navigating:tag\",\n                actions: [\"deleteHighlightedTag\", \"focusInput\", \"clearEditedId\", \"highlightTagAtIndex\"],\n              },\n              {\n                target: \"navigating:tag\",\n                actions: [\"submitEditedTagValue\", \"focusInput\", \"clearEditedId\", \"highlightTagAtIndex\"],\n              },\n            ],\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isInputRelatedTarget: (ctx, evt) => evt.relatedTarget === dom.getInputEl(ctx),\n        isAtMax: (ctx) => ctx.isAtMax,\n        hasHighlightedTag: (ctx) => ctx.highlightedTagId !== null,\n        isFirstTagHighlighted: (ctx) => {\n          const firstItemId = dom.getItemId(ctx, { value: ctx.value[0], index: 0 })\n          return firstItemId === ctx.highlightedTagId\n        },\n        isEditedTagEmpty: (ctx) => ctx.editedTagValue.trim() === \"\",\n        isLastTagHighlighted: (ctx) => {\n          const lastIndex = ctx.value.length - 1\n          const lastItemId = dom.getItemId(ctx, { value: ctx.value[lastIndex], index: lastIndex })\n          return lastItemId === ctx.highlightedTagId\n        },\n        isInputValueEmpty: (ctx) => ctx.trimmedInputValue.length === 0,\n        hasTags: (ctx) => ctx.value.length > 0,\n        allowOverflow: (ctx) => !!ctx.allowOverflow,\n        autoFocus: (ctx) => !!ctx.autoFocus,\n        addOnBlur: (ctx) => ctx.blurBehavior === \"add\",\n        clearOnBlur: (ctx) => ctx.blurBehavior === \"clear\",\n        addOnPaste: (ctx) => !!ctx.addOnPaste,\n        isTagEditable: (ctx) => !!ctx.editable,\n        isInputCaretAtStart(ctx) {\n          const input = dom.getInputEl(ctx)\n          if (!input) return false\n          try {\n            return input.selectionStart === 0 && input.selectionEnd === 0\n          } catch (e) {\n            return input.value === \"\"\n          }\n        },\n      },\n\n      activities: {\n        trackInteractOutside(ctx, _evt, { send }) {\n          return trackInteractOutside(dom.getInputEl(ctx), {\n            exclude(target) {\n              return contains(dom.getRootEl(ctx), target)\n            },\n            onFocusOutside: ctx.onFocusOutside,\n            onPointerDownOutside: ctx.onPointerDownOutside,\n            onInteractOutside(event) {\n              ctx.onInteractOutside?.(event)\n              if (event.defaultPrevented) return\n              send({ type: \"BLUR\", src: \"interact-outside\" })\n            },\n          })\n        },\n        trackFormControlState(ctx, _evt, { send, initialContext }) {\n          return trackFormControl(dom.getHiddenInputEl(ctx), {\n            onFieldsetDisabledChange(disabled) {\n              ctx.fieldsetDisabled = disabled\n            },\n            onFormReset() {\n              send({ type: \"SET_VALUE\", value: initialContext.value, src: \"form-reset\" })\n            },\n          })\n        },\n        autoResize(ctx) {\n          if (!ctx.editedTagValue || ctx.idx == null || !ctx.editable) return\n          const input = dom.getTagInputEl(ctx, { value: ctx.editedTagValue, index: ctx.idx })\n          return autoResizeInput(input)\n        },\n        trackLiveRegion(ctx) {\n          ctx.liveRegion = createLiveRegion({\n            level: \"assertive\",\n            document: dom.getDoc(ctx),\n          })\n          return () => ctx.liveRegion?.destroy()\n        },\n      },\n\n      actions: {\n        raiseAddTagEvent(_, __, { self }) {\n          self.send(\"ADD_TAG\")\n        },\n        raiseExternalBlurEvent(_, evt, { self }) {\n          self.send({ type: \"EXTERNAL_BLUR\", id: evt.id })\n        },\n        dispatchChangeEvent(ctx) {\n          dom.dispatchInputEvent(ctx)\n        },\n        highlightNextTag(ctx) {\n          if (ctx.highlightedTagId == null) return\n          const next = dom.getNextEl(ctx, ctx.highlightedTagId)\n          set.highlightedId(ctx, next?.id ?? null)\n        },\n        highlightFirstTag(ctx) {\n          raf(() => {\n            const first = dom.getFirstEl(ctx)\n            set.highlightedId(ctx, first?.id ?? null)\n          })\n        },\n        highlightLastTag(ctx) {\n          const last = dom.getLastEl(ctx)\n          set.highlightedId(ctx, last?.id ?? null)\n        },\n        highlightPrevTag(ctx) {\n          if (ctx.highlightedTagId == null) return\n          const prev = dom.getPrevEl(ctx, ctx.highlightedTagId)\n          set.highlightedId(ctx, prev?.id ?? null)\n        },\n        highlightTag(ctx, evt) {\n          set.highlightedId(ctx, evt.id)\n        },\n        highlightTagAtIndex(ctx) {\n          raf(() => {\n            if (ctx.idx == null) return\n\n            const tagEl = dom.getTagElAtIndex(ctx, ctx.idx)\n            if (tagEl == null) return\n\n            set.highlightedId(ctx, tagEl.id)\n            ctx.idx = undefined\n          })\n        },\n        deleteTag(ctx, evt) {\n          const index = dom.getIndexOfId(ctx, evt.id)\n          const value = ctx.value[index]\n\n          // log\n          ctx.log.prev = ctx.log.current\n          ctx.log.current = { type: \"delete\", value }\n\n          set.value(ctx, removeAt(ctx.value, index))\n        },\n        deleteHighlightedTag(ctx) {\n          if (ctx.highlightedTagId == null) return\n          const index = dom.getIndexOfId(ctx, ctx.highlightedTagId)\n          ctx.idx = index\n          const value = ctx.value[index]\n\n          // log\n          ctx.log.prev = ctx.log.current\n          ctx.log.current = { type: \"delete\", value }\n\n          set.value(ctx, removeAt(ctx.value, index))\n        },\n        setEditedId(ctx, evt) {\n          ctx.editedTagId = evt.id ?? ctx.highlightedTagId\n          ctx.idx = dom.getIndexOfId(ctx, ctx.editedTagId!)\n        },\n        clearEditedId(ctx) {\n          ctx.editedTagId = null\n        },\n        clearEditedTagValue(ctx) {\n          ctx.editedTagValue = \"\"\n        },\n        setEditedTagValue(ctx, evt) {\n          ctx.editedTagValue = evt.value\n        },\n        submitEditedTagValue(ctx) {\n          if (!ctx.editedTagId) return\n\n          const index = dom.getIndexOfId(ctx, ctx.editedTagId)\n          set.valueAtIndex(ctx, index, ctx.editedTagValue ?? \"\")\n\n          // log\n          ctx.log.prev = ctx.log.current\n          ctx.log.current = { type: \"update\", value: ctx.editedTagValue! }\n        },\n        setValueAtIndex(ctx, evt) {\n          if (evt.value) {\n            ctx.value[evt.index] = evt.value\n            // log\n            ctx.log.prev = ctx.log.current\n            ctx.log.current = { type: \"update\", value: evt.value }\n          } else {\n            warn(\"You need to provide a value for the tag\")\n          }\n        },\n        initializeEditedTagValue(ctx) {\n          if (!ctx.editedTagId) return\n          const index = dom.getIndexOfId(ctx, ctx.editedTagId)\n          ctx.editedTagValue = ctx.value[index]\n        },\n        focusEditedTagInput(ctx) {\n          raf(() => {\n            dom.getEditInputEl(ctx)?.select()\n          })\n        },\n        setInputValue(ctx, evt) {\n          set.inputValue(ctx, evt.value)\n        },\n        clearHighlightedId(ctx) {\n          ctx.highlightedTagId = null\n        },\n        focusInput(ctx) {\n          raf(() => {\n            dom.getInputEl(ctx)?.focus()\n          })\n        },\n        clearInputValue(ctx) {\n          raf(() => {\n            set.inputValue(ctx, \"\")\n          })\n        },\n        syncInputValue(ctx) {\n          const inputEl = dom.getInputEl(ctx)\n          dom.setValue(inputEl, ctx.inputValue)\n        },\n        syncEditedTagInputValue(ctx, evt) {\n          const id = ctx.editedTagId || ctx.highlightedTagId || evt.id\n          if (id == null) return\n          const editTagInputEl = dom.getById<HTMLInputElement>(ctx, `${id}:input`)\n          dom.setValue(editTagInputEl, ctx.editedTagValue)\n        },\n        addTag(ctx, evt) {\n          const value = evt.value ?? ctx.trimmedInputValue\n          const guard = ctx.validate?.({ inputValue: value, value: Array.from(ctx.value) })\n          if (guard) {\n            set.value(ctx, ctx.value.concat(value))\n            // log\n            ctx.log.prev = ctx.log.current\n            ctx.log.current = { type: \"add\", value }\n          } else {\n            ctx.onValueInvalid?.({ reason: \"invalidTag\" })\n          }\n        },\n        addTagFromPaste(ctx) {\n          raf(() => {\n            const value = ctx.trimmedInputValue\n            const guard = ctx.validate?.({ inputValue: value, value: Array.from(ctx.value) })\n            if (guard) {\n              const trimmedValue = ctx.delimiter ? value.split(ctx.delimiter).map((v) => v.trim()) : [value]\n              set.value(ctx, ctx.value.concat(...trimmedValue))\n              // log\n              ctx.log.prev = ctx.log.current\n              ctx.log.current = { type: \"paste\", values: trimmedValue }\n            } else {\n              ctx.onValueInvalid?.({ reason: \"invalidTag\" })\n            }\n            set.inputValue(ctx, \"\")\n          })\n        },\n        clearTags(ctx) {\n          set.value(ctx, [])\n          // log\n          ctx.log.prev = ctx.log.current\n          ctx.log.current = { type: \"clear\" }\n        },\n        setValue(ctx, evt) {\n          set.value(ctx, evt.value)\n        },\n        invokeOnInvalid(ctx) {\n          if (ctx.isOverflowing) {\n            ctx.onValueInvalid?.({ reason: \"rangeOverflow\" })\n          }\n        },\n        clearLog(ctx) {\n          ctx.log = { prev: null, current: null }\n        },\n        logHighlightedTag(ctx) {\n          if (ctx.highlightedTagId == null) return\n          const index = dom.getIndexOfId(ctx, ctx.highlightedTagId)\n\n          // log\n          ctx.log.prev = ctx.log.current\n          ctx.log.current = { type: \"select\", value: ctx.value[index] }\n        },\n        // queue logs with screen reader and get it announced\n        announceLog(ctx) {\n          if (!ctx.log.current || ctx.liveRegion == null) return\n\n          const region = ctx.liveRegion\n          const { current, prev } = ctx.log\n          let msg: string | undefined\n\n          switch (current.type) {\n            case \"add\":\n              msg = ctx.translations.tagAdded(current.value)\n              break\n            case \"delete\":\n              msg = ctx.translations.tagDeleted(current.value)\n              break\n            case \"update\":\n              msg = ctx.translations.tagUpdated(current.value)\n              break\n            case \"paste\":\n              msg = ctx.translations.tagsPasted(current.values)\n              break\n            case \"select\":\n              msg = ctx.translations.tagSelected(current.value)\n              if (prev?.type === \"delete\") {\n                msg = `${ctx.translations.tagDeleted(prev.value)}. ${msg}`\n              } else if (prev?.type === \"update\") {\n                msg = `${ctx.translations.tagUpdated(prev.value)}. ${msg}`\n              }\n              break\n            default:\n              break\n          }\n\n          if (msg) region.announce(msg)\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change: (ctx: MachineContext) => {\n    ctx.onValueChange?.({ value: Array.from(ctx.value) })\n    dom.dispatchInputEvent(ctx)\n  },\n  highlightChange: (ctx: MachineContext) => {\n    const highlightedValue = dom.getHighlightedTagValue(ctx)\n    ctx.onHighlightChange?.({ highlightedValue })\n  },\n  valueChange: (ctx: MachineContext) => {\n    ctx.onInputValueChange?.({ inputValue: ctx.inputValue })\n  },\n}\n\nconst set = {\n  value: (ctx: MachineContext, value: string[]) => {\n    if (isEqual(ctx.value, value)) return\n    ctx.value = value\n    invoke.change(ctx)\n  },\n  valueAtIndex: (ctx: MachineContext, index: number, value: string) => {\n    if (isEqual(ctx.value[index], value)) return\n    ctx.value[index] = value\n    invoke.change(ctx)\n  },\n  highlightedId: (ctx: MachineContext, id: string | null) => {\n    if (isEqual(ctx.highlightedTagId, id)) return\n    ctx.highlightedTagId = id\n    invoke.highlightChange(ctx)\n  },\n  inputValue: (ctx: MachineContext, value: string) => {\n    if (isEqual(ctx.inputValue, value)) return\n    ctx.inputValue = value\n    invoke.valueChange(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ItemProps, UserDefinedContext } from \"./tags-input.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"addOnPaste\",\n  \"allowOverflow\",\n  \"autoFocus\",\n  \"blurBehavior\",\n  \"delimiter\",\n  \"dir\",\n  \"disabled\",\n  \"editable\",\n  \"form\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"inputValue\",\n  \"invalid\",\n  \"max\",\n  \"maxLength\",\n  \"name\",\n  \"onFocusOutside\",\n  \"onHighlightChange\",\n  \"onInputValueChange\",\n  \"onInteractOutside\",\n  \"onPointerDownOutside\",\n  \"onValueChange\",\n  \"onValueInvalid\",\n  \"readOnly\",\n  \"translations\",\n  \"validate\",\n  \"value\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"index\", \"disabled\", \"value\"])\n\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n", "import { isMachine, subscribe } from \"@zag-js/core\"\nimport { contains } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { runIfFn, uuid } from \"@zag-js/utils\"\nimport { parts } from \"./toast.anatomy\"\nimport { dom } from \"./toast.dom\"\nimport type { GroupMachineApi, GroupSend, GroupService, GroupState, Options, Placement } from \"./toast.types\"\nimport { getGroupPlacementStyle, getToastsByPlacement } from \"./toast.utils\"\n\nexport function groupConnect<T extends PropTypes, O = any>(\n  serviceOrState: GroupState<O> | GroupService<O>,\n  send: GroupSend,\n  normalize: NormalizeProps<T>,\n): GroupMachineApi<T, O> {\n  //\n\n  function getState(): GroupState<O> {\n    const result = isMachine(serviceOrState) ? serviceOrState.getState() : serviceOrState\n    return result as GroupState<O>\n  }\n\n  function getToastsByPlacementImpl(placement: Placement) {\n    return getToastsByPlacement(getState().context.toasts, placement)\n  }\n\n  function isVisible(id: string) {\n    const toasts = getState().context.toasts\n    if (!toasts.length) return false\n    return !!toasts.find((toast) => toast.id == id)\n  }\n\n  function create(options: Options<O>) {\n    const uid = `toast:${uuid()}`\n    const id = options.id ? options.id : uid\n\n    if (isVisible(id)) return id\n    send({ type: \"ADD_TOAST\", toast: { ...options, id } })\n\n    return id\n  }\n\n  function update(id: string, options: Options<O>) {\n    if (!isVisible(id)) return id\n    send({ type: \"UPDATE_TOAST\", id, toast: options })\n    return id\n  }\n\n  function upsert(options: Options<O>) {\n    const { id } = options\n    const visible = id ? isVisible(id) : false\n    if (visible && id != null) {\n      return update(id, options)\n    } else {\n      return create(options)\n    }\n  }\n\n  function dismiss(id?: string) {\n    if (id == null) {\n      send(\"DISMISS_ALL\")\n    } else if (isVisible(id)) {\n      send({ type: \"DISMISS_TOAST\", id })\n    }\n  }\n\n  return {\n    getCount() {\n      return getState().context.count\n    },\n    getPlacements() {\n      const toasts = getState().context.toasts\n      const placements = toasts.map((toast) => toast.state.context.placement!)\n      return Array.from(new Set(placements))\n    },\n    getToastsByPlacement: getToastsByPlacementImpl,\n    isVisible,\n    create,\n    update,\n    upsert,\n    dismiss,\n\n    remove(id) {\n      if (id == null) {\n        send(\"REMOVE_ALL\")\n      } else if (isVisible(id)) {\n        send({ type: \"REMOVE_TOAST\", id })\n      }\n    },\n\n    dismissByPlacement(placement) {\n      const toasts = getToastsByPlacementImpl(placement)\n      toasts.forEach((toast) => dismiss(toast.id))\n    },\n    loading(options) {\n      return upsert({ ...options, type: \"loading\" })\n    },\n    success(options) {\n      return upsert({ ...options, type: \"success\" })\n    },\n    error(options) {\n      return upsert({ ...options, type: \"error\" })\n    },\n\n    promise(promise, options, shared = {}) {\n      const id = upsert({ ...shared, ...options.loading, type: \"loading\" })\n\n      runIfFn(promise)\n        .then((response) => {\n          const successOptions = runIfFn(options.success, response)\n          upsert({ ...shared, ...successOptions, id, type: \"success\" })\n        })\n        .catch((error) => {\n          const errorOptions = runIfFn(options.error, error)\n          upsert({ ...shared, ...errorOptions, id, type: \"error\" })\n        })\n        .finally(() => {\n          options.finally?.()\n        })\n\n      return id\n    },\n\n    pause(id) {\n      if (id == null) {\n        send(\"PAUSE_ALL\")\n      } else if (isVisible(id)) {\n        send({ type: \"PAUSE_TOAST\", id })\n      }\n    },\n\n    resume(id) {\n      if (id == null) {\n        send(\"RESUME_ALL\")\n      } else if (isVisible(id)) {\n        send({ type: \"RESUME_TOAST\", id })\n      }\n    },\n\n    getGroupProps(options) {\n      const { placement, label = \"Notifications\" } = options\n      const state = getState()\n      const hotkeyLabel = state.context.hotkey.join(\"+\").replace(/Key/g, \"\").replace(/Digit/g, \"\")\n      const [side, align = \"center\"] = placement.split(\"-\")\n\n      return normalize.element({\n        ...parts.group.attrs,\n        dir: state.context.dir,\n        tabIndex: -1,\n        \"aria-label\": `${placement} ${label} ${hotkeyLabel}`,\n        id: dom.getRegionId(placement),\n        \"data-placement\": placement,\n        \"data-side\": side,\n        \"data-align\": align,\n        \"aria-live\": \"polite\",\n        role: \"region\",\n        style: getGroupPlacementStyle(state.context, placement),\n        onMouseMove() {\n          send({ type: \"REGION.POINTER_ENTER\", placement })\n        },\n        onMouseLeave() {\n          send({ type: \"REGION.POINTER_LEAVE\", placement })\n        },\n        onFocus(event) {\n          send({ type: \"REGION.FOCUS\", target: event.relatedTarget })\n        },\n        onBlur(event) {\n          if (state.context.isFocusWithin && !contains(event.currentTarget, event.relatedTarget)) {\n            send({ type: \"REGION.BLUR\" })\n          }\n        },\n      })\n    },\n\n    subscribe(fn) {\n      const state = getState()\n      return subscribe(state.context.toasts, () => {\n        const toasts = getToastsByPlacementImpl(state.context.placement)\n        const contexts = toasts.map((toast) => toast.getState().context)\n        fn(contexts)\n      })\n    },\n  }\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"toast\").parts(\n  \"group\",\n  \"root\",\n  \"title\",\n  \"description\",\n  \"actionTrigger\",\n  \"closeTrigger\",\n)\n\nexport const parts = anatomy.build()\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx, Placement, GroupMachineContext as GroupCtx } from \"./toast.types\"\n\nexport const dom = createScope({\n  getRegionId: (placement: Placement) => `toast-group:${placement}`,\n  getRegionEl: (ctx: GroupCtx, placement: Placement) => dom.getById(ctx, `toast-group:${placement}`),\n\n  getRootId: (ctx: Ctx) => `toast:${ctx.id}`,\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getTitleId: (ctx: Ctx) => `toast:${ctx.id}:title`,\n  getDescriptionId: (ctx: Ctx) => `toast:${ctx.id}:description`,\n  getCloseTriggerId: (ctx: Ctx) => `toast${ctx.id}:close`,\n})\n", "import { MAX_Z_INDEX } from \"@zag-js/dom-query\"\nimport type { Style } from \"@zag-js/types\"\nimport type { GroupMachineContext, MachineContext, Placement, Service, Type } from \"./toast.types\"\n\nexport function getToastsByPlacement<T>(toasts: Service<T>[], placement: Placement) {\n  return toasts.filter((toast) => toast.state.context.placement === placement)\n}\n\nexport const defaultTimeouts: Record<Type, number> = {\n  info: 5000,\n  error: 5000,\n  success: 2000,\n  loading: Infinity,\n  DEFAULT: 5000,\n}\n\nexport function getToastDuration(duration: number | undefined, type: NonNullable<MachineContext[\"type\"]>) {\n  return duration ?? defaultTimeouts[type] ?? defaultTimeouts.DEFAULT\n}\n\nexport function getGroupPlacementStyle<T>(ctx: GroupMachineContext<T>, placement: Placement): Style {\n  const offset = ctx.offsets\n  const computedOffset =\n    typeof offset === \"string\" ? { left: offset, right: offset, bottom: offset, top: offset } : offset\n\n  const rtl = ctx.dir === \"rtl\"\n  const computedPlacement = placement\n    .replace(\"-start\", rtl ? \"-right\" : \"-left\")\n    .replace(\"-end\", rtl ? \"-left\" : \"-right\")\n\n  const isRighty = computedPlacement.includes(\"right\")\n  const isLefty = computedPlacement.includes(\"left\")\n\n  const styles: Style = {\n    position: \"fixed\",\n    pointerEvents: ctx.count > 0 ? undefined : \"none\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    \"--gap\": `${ctx.gap}px`,\n    \"--first-height\": `${ctx.heights[0]?.height || 0}px`,\n    zIndex: MAX_Z_INDEX,\n  }\n\n  let alignItems: Style[\"alignItems\"] = \"center\"\n  if (isRighty) alignItems = \"flex-end\"\n  if (isLefty) alignItems = \"flex-start\"\n\n  styles.alignItems = alignItems\n\n  if (computedPlacement.includes(\"top\")) {\n    const offset = computedOffset.top\n    styles.top = `max(env(safe-area-inset-top, 0px), ${offset})`\n  }\n\n  if (computedPlacement.includes(\"bottom\")) {\n    const offset = computedOffset.bottom\n    styles.bottom = `max(env(safe-area-inset-bottom, 0px), ${offset})`\n  }\n\n  if (!computedPlacement.includes(\"left\")) {\n    const offset = computedOffset.right\n    styles.insetInlineEnd = `calc(env(safe-area-inset-right, 0px) + ${offset})`\n  }\n\n  if (!computedPlacement.includes(\"right\")) {\n    const offset = computedOffset.left\n    styles.insetInlineStart = `calc(env(safe-area-inset-left, 0px) + ${offset})`\n  }\n\n  return styles\n}\n\nexport function getPlacementStyle<T>(ctx: MachineContext<T>, visible: boolean): Style {\n  const [side] = ctx.placement!.split(\"-\")\n  const sibling = !ctx.frontmost\n  const overlap = !ctx.stacked\n\n  const styles: Style = {\n    position: \"absolute\",\n    pointerEvents: \"auto\",\n    \"--opacity\": \"0\",\n    \"--remove-delay\": `${ctx.removeDelay}ms`,\n    \"--duration\": `${ctx.type === \"loading\" ? Number.MAX_SAFE_INTEGER : ctx.duration}ms`,\n    \"--initial-height\": `${ctx.height}px`,\n    \"--offset\": `${ctx.offset}px`,\n    \"--index\": ctx.index,\n    \"--z-index\": ctx.zIndex,\n    \"--lift-amount\": \"calc(var(--lift) * var(--gap))\",\n    \"--y\": \"100%\",\n    \"--x\": \"0\",\n  }\n\n  const assign = (overrides: Style) => Object.assign(styles, overrides)\n\n  if (side === \"top\") {\n    //\n    assign({\n      top: \"0\",\n      \"--sign\": \"-1\",\n      \"--y\": \"-100%\",\n      \"--lift\": \"1\",\n    })\n    //\n  } else if (side === \"bottom\") {\n    //\n    assign({\n      bottom: \"0\",\n      \"--sign\": \"1\",\n      \"--y\": \"100%\",\n      \"--lift\": \"-1\",\n    })\n  }\n\n  if (ctx.mounted) {\n    assign({\n      \"--y\": \"0\",\n      \"--opacity\": \"1\",\n    })\n\n    if (ctx.stacked) {\n      assign({\n        \"--y\": \"calc(var(--lift) * var(--offset))\",\n        \"--height\": \"var(--initial-height)\",\n      })\n    }\n  }\n\n  if (!visible) {\n    assign({\n      \"--opacity\": \"0\",\n      pointerEvents: \"none\",\n    })\n  }\n\n  if (sibling && overlap) {\n    assign({\n      \"--base-scale\": \"var(--index) * 0.05 + 1\",\n      \"--y\": \"calc(var(--lift-amount) * var(--index))\",\n      \"--scale\": \"calc(-1 * var(--base-scale))\",\n      \"--height\": \"var(--first-height)\",\n    })\n\n    if (!visible) {\n      assign({\n        \"--y\": \"calc(var(--sign) * 40%)\",\n      })\n    }\n  }\n\n  if (sibling && ctx.stacked && !visible) {\n    assign({\n      \"--y\": \"calc(var(--lift) * var(--offset) + var(--lift) * -100%)\",\n    })\n  }\n\n  if (ctx.frontmost && !visible) {\n    assign({\n      \"--y\": \"calc(var(--lift) * -100%)\",\n    })\n  }\n\n  return styles\n}\n\nexport function getGhostBeforeStyle<T>(ctx: MachineContext<T>, visible: boolean): Style {\n  const styles: Style = {\n    position: \"absolute\",\n    inset: \"0\",\n    scale: \"1 2\",\n    pointerEvents: visible ? \"none\" : \"auto\",\n  }\n\n  const assign = (overrides: Style) => Object.assign(styles, overrides)\n\n  if (ctx.frontmost && !visible) {\n    assign({\n      height: \"calc(var(--initial-height) + 80%)\",\n    })\n  }\n\n  return styles\n}\n\nexport function getGhostAfterStyle<T>(_ctx: MachineContext<T>, _visible: boolean): Style {\n  return {\n    position: \"absolute\",\n    left: \"0\",\n    height: \"calc(var(--gap) + 2px)\",\n    bottom: \"100%\",\n    width: \"100%\",\n  }\n}\n", "import { createMachine, ref } from \"@zag-js/core\"\nimport { trackDismissableBranch } from \"@zag-js/dismissable\"\nimport { addDomEvent } from \"@zag-js/dom-event\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./toast.dom\"\nimport { createToastMachine } from \"./toast.machine\"\nimport type {\n  GroupMachineContext,\n  GroupMachineState,\n  MachineContext,\n  Service,\n  UserDefinedGroupContext,\n} from \"./toast.types\"\nimport { getToastsByPlacement } from \"./toast.utils\"\n\nexport function groupMachine<T = any>(userContext: UserDefinedGroupContext) {\n  const ctx = compact(userContext)\n  return createMachine<GroupMachineContext<T>, GroupMachineState>(\n    {\n      id: \"toaster\",\n      initial: ctx.overlap ? \"overlap\" : \"stack\",\n      context: {\n        dir: \"ltr\",\n        max: Number.MAX_SAFE_INTEGER,\n        gap: 16,\n        pauseOnPageIdle: false,\n        hotkey: [\"altKey\", \"KeyT\"],\n        offsets: \"1rem\",\n        placement: \"bottom\",\n        removeDelay: 200,\n        ...ctx,\n        toasts: [],\n        lastFocusedEl: null,\n        isFocusWithin: false,\n        heights: [],\n      },\n\n      computed: {\n        count: (ctx) => ctx.toasts.length,\n      },\n\n      activities: [\"trackDocumentVisibility\", \"trackHotKeyPress\"],\n\n      watch: {\n        toasts: [\"collapsedIfEmpty\", \"setDismissableBranch\"],\n      },\n\n      exit: [\"removeToasts\", \"clearDismissableBranch\", \"clearLastFocusedEl\"],\n\n      on: {\n        PAUSE_TOAST: {\n          actions: [\"pauseToast\"],\n        },\n        PAUSE_ALL: {\n          actions: [\"pauseToasts\"],\n        },\n        RESUME_TOAST: {\n          actions: [\"resumeToast\"],\n        },\n        RESUME_ALL: {\n          actions: [\"resumeToasts\"],\n        },\n        ADD_TOAST: {\n          guard: \"isWithinRange\",\n          actions: [\"createToast\", \"syncToastIndex\"],\n        },\n        UPDATE_TOAST: {\n          actions: [\"updateToast\"],\n        },\n        DISMISS_TOAST: {\n          actions: [\"dismissToast\"],\n        },\n        DISMISS_ALL: {\n          actions: [\"dismissToasts\"],\n        },\n        REMOVE_TOAST: {\n          actions: [\"removeToast\", \"syncToastIndex\", \"syncToastOffset\"],\n        },\n        REMOVE_ALL: {\n          actions: [\"removeToasts\"],\n        },\n        UPDATE_HEIGHT: {\n          actions: [\"syncHeights\", \"syncToastOffset\"],\n        },\n        \"DOC.HOTKEY\": {\n          actions: [\"focusRegionEl\"],\n        },\n        \"REGION.BLUR\": [\n          {\n            guard: \"isOverlapping\",\n            target: \"overlap\",\n            actions: [\"resumeToasts\", \"restoreLastFocusedEl\"],\n          },\n          {\n            actions: [\"resumeToasts\", \"restoreLastFocusedEl\"],\n          },\n        ],\n      },\n\n      states: {\n        stack: {\n          entry: [\"expandToasts\"],\n          on: {\n            \"REGION.POINTER_LEAVE\": [\n              {\n                guard: \"isOverlapping\",\n                target: \"overlap\",\n                actions: [\"resumeToasts\"],\n              },\n              {\n                actions: [\"resumeToasts\"],\n              },\n            ],\n            \"REGION.OVERLAP\": {\n              target: \"overlap\",\n            },\n            \"REGION.FOCUS\": {\n              actions: [\"setLastFocusedEl\", \"pauseToasts\"],\n            },\n            \"REGION.POINTER_ENTER\": {\n              actions: [\"pauseToasts\"],\n            },\n          },\n        },\n        overlap: {\n          entry: [\"collapseToasts\"],\n          on: {\n            \"REGION.STACK\": {\n              target: \"stack\",\n            },\n            \"REGION.POINTER_ENTER\": {\n              target: \"stack\",\n              actions: [\"pauseToasts\"],\n            },\n            \"REGION.FOCUS\": {\n              target: \"stack\",\n              actions: [\"setLastFocusedEl\", \"pauseToasts\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isWithinRange: (ctx) => ctx.toasts.length < ctx.max,\n        isOverlapping: (ctx) => !!ctx.overlap,\n      },\n      activities: {\n        trackHotKeyPress(ctx, _evt, { send }) {\n          const handleKeyDown = (event: KeyboardEvent) => {\n            const isHotkeyPressed = ctx.hotkey.every((key) => (event as any)[key] || event.code === key)\n            if (!isHotkeyPressed) return\n            send({ type: \"DOC.HOTKEY\" })\n          }\n          return addDomEvent(document, \"keydown\", handleKeyDown, { capture: true })\n        },\n        trackDocumentVisibility(ctx, _evt, { send }) {\n          if (!ctx.pauseOnPageIdle) return\n          const doc = dom.getDoc(ctx)\n          return addDomEvent(doc, \"visibilitychange\", () => {\n            send(doc.visibilityState === \"hidden\" ? \"PAUSE_ALL\" : \"RESUME_ALL\")\n          })\n        },\n      },\n      actions: {\n        setDismissableBranch(ctx) {\n          const currentToasts = getToastsByPlacement(ctx.toasts, ctx.placement)\n          const hasToasts = currentToasts.length > 0\n\n          if (!hasToasts) {\n            ctx._cleanup?.()\n            return\n          }\n\n          if (hasToasts && ctx._cleanup) {\n            return\n          }\n\n          //  mark toast as a dismissable branch\n          //  so that interacting with them will not close dismissable layers\n          const groupEl = () => dom.getRegionEl(ctx, ctx.placement)\n          ctx._cleanup = trackDismissableBranch(groupEl, { defer: true })\n        },\n        clearDismissableBranch(ctx) {\n          ctx._cleanup?.()\n        },\n        focusRegionEl(ctx) {\n          queueMicrotask(() => {\n            dom.getRegionEl(ctx, ctx.placement)?.focus()\n          })\n        },\n        expandToasts(ctx) {\n          each(ctx, (toast) => {\n            toast.state.context.stacked = true\n          })\n        },\n        collapseToasts(ctx) {\n          each(ctx, (toast) => {\n            toast.state.context.stacked = false\n          })\n        },\n        collapsedIfEmpty(ctx, _evt, { send }) {\n          if (!ctx.overlap || ctx.toasts.length > 1) return\n          send(\"REGION.OVERLAP\")\n        },\n        pauseToast(_ctx, evt, { self }) {\n          self.sendChild(\"PAUSE\", evt.id)\n        },\n        pauseToasts(ctx) {\n          ctx.toasts.forEach((toast) => toast.send(\"PAUSE\"))\n        },\n        resumeToast(_ctx, evt, { self }) {\n          self.sendChild(\"RESUME\", evt.id)\n        },\n        resumeToasts(ctx) {\n          ctx.toasts.forEach((toast) => toast.send(\"RESUME\"))\n        },\n        measureToasts(ctx) {\n          ctx.toasts.forEach((toast) => toast.send(\"MEASURE\"))\n        },\n        createToast(ctx, evt, { self, getState }) {\n          const options: MachineContext<T> = {\n            placement: ctx.placement,\n            duration: ctx.duration,\n            removeDelay: ctx.removeDelay,\n            ...evt.toast,\n            dir: ctx.dir,\n            getRootNode: ctx.getRootNode,\n            stacked: getState().matches(\"stack\"),\n          }\n\n          const toast = createToastMachine(options)\n\n          const actor = self.spawn(toast)\n          ctx.toasts = [actor, ...ctx.toasts]\n        },\n        updateToast(_ctx, evt, { self }) {\n          self.sendChild({ type: \"UPDATE\", toast: evt.toast }, evt.id)\n        },\n        dismissToast(_ctx, evt, { self }) {\n          self.sendChild(\"DISMISS\", evt.id)\n        },\n        dismissToasts(ctx) {\n          ctx.toasts.forEach((toast) => toast.send(\"DISMISS\"))\n        },\n        removeToast(ctx, evt, { self }) {\n          self.stopChild(evt.id)\n          ctx.toasts = ctx.toasts.filter((toast) => toast.id !== evt.id)\n          ctx.heights = ctx.heights.filter((height) => height.id !== evt.id)\n        },\n        removeToasts(ctx, _evt, { self }) {\n          ctx.toasts.forEach((toast) => self.stopChild(toast.id))\n          ctx.toasts = []\n          ctx.heights = []\n        },\n        syncHeights(ctx, evt) {\n          const existing = ctx.heights.find((height) => height.id === evt.id)\n          if (existing) {\n            existing.height = evt.height\n            existing.placement = evt.placement\n          } else {\n            const newHeight = { id: evt.id, height: evt.height, placement: evt.placement }\n            ctx.heights = [newHeight, ...ctx.heights]\n          }\n        },\n        syncToastIndex(ctx) {\n          each(ctx, (toast, index, toasts) => {\n            // Note: This is an intentional side effect\n            // consider writing directly to the DOM (root element)\n            toast.state.context.index = index\n            toast.state.context.frontmost = index === 0\n            toast.state.context.zIndex = toasts.length - index\n          })\n        },\n        syncToastOffset(ctx, evt) {\n          const placement = evt.placement ?? ctx.placement\n\n          // Notify each toast of it's index\n          each({ ...ctx, placement }, (toast) => {\n            const heightIndex = Math.max(\n              ctx.heights.findIndex((height) => height.id === toast.id),\n              0,\n            )\n\n            // calculate offset until toast\n            const toastsHeightBefore = ctx.heights.reduce((prev, curr, reducerIndex) => {\n              if (reducerIndex >= heightIndex) return prev\n              return prev + curr.height\n            }, 0)\n\n            // Note: This is an intentional side effect\n            // consider writing directly to the DOM (root element)\n            toast.state.context.offset = heightIndex * ctx.gap + toastsHeightBefore\n          })\n        },\n        setLastFocusedEl(ctx, evt) {\n          if (ctx.isFocusWithin || !evt.target) return\n          ctx.isFocusWithin = true\n          ctx.lastFocusedEl = ref(evt.target)\n        },\n        restoreLastFocusedEl(ctx) {\n          ctx.isFocusWithin = false\n          if (!ctx.lastFocusedEl) return\n          ctx.lastFocusedEl.focus({ preventScroll: true })\n          ctx.lastFocusedEl = null\n        },\n        clearLastFocusedEl(ctx) {\n          if (!ctx.lastFocusedEl) return\n          ctx.lastFocusedEl.focus({ preventScroll: true })\n          ctx.lastFocusedEl = null\n          ctx.isFocusWithin = false\n        },\n      },\n    },\n  )\n}\n\nfunction each(ctx: GroupMachineContext, fn: (toast: Service<any>, index: number, arr: Service<any>[]) => void) {\n  const currentToasts = getToastsByPlacement(ctx.toasts, ctx.placement)\n  currentToasts.forEach(fn)\n}\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { queryAll, raf } from \"@zag-js/dom-query\"\nimport { compact, warn } from \"@zag-js/utils\"\nimport { dom } from \"./toast.dom\"\nimport type { MachineContext, MachineState, Options } from \"./toast.types\"\nimport { getToastDuration } from \"./toast.utils\"\n\nconst { not, and, or } = guards\n\nexport function createToastMachine<T>(options: Options<T>) {\n  const { type = \"info\", duration, id = \"1\", placement = \"bottom\", removeDelay = 200, ...restProps } = options\n  const ctx = compact(restProps)\n\n  const computedDuration = getToastDuration(duration, type)\n\n  return createMachine<MachineContext<T>, MachineState>(\n    {\n      id,\n      context: {\n        id,\n        type,\n        remaining: computedDuration,\n        duration: computedDuration,\n        removeDelay,\n        createdAt: Date.now(),\n        placement,\n        ...ctx,\n        height: 0,\n        offset: 0,\n        frontmost: false,\n        mounted: false,\n        index: -1,\n        zIndex: 0,\n      },\n\n      initial: type === \"loading\" ? \"visible:persist\" : \"visible\",\n\n      on: {\n        UPDATE: [\n          {\n            guard: and(\"hasTypeChanged\", \"isChangingToLoading\"),\n            target: \"visible:persist\",\n            actions: [\"setContext\"],\n          },\n          {\n            guard: or(\"hasDurationChanged\", \"hasTypeChanged\"),\n            target: \"visible:updating\",\n            actions: [\"setContext\"],\n          },\n          {\n            actions: [\"setContext\"],\n          },\n        ],\n        MEASURE: {\n          actions: [\"measureHeight\"],\n        },\n      },\n\n      entry: [\"invokeOnVisible\"],\n\n      activities: [\"trackHeight\"],\n\n      states: {\n        \"visible:updating\": {\n          tags: [\"visible\", \"updating\"],\n          after: {\n            0: \"visible\",\n          },\n        },\n\n        \"visible:persist\": {\n          tags: [\"visible\", \"paused\"],\n          on: {\n            RESUME: {\n              guard: not(\"isLoadingType\"),\n              target: \"visible\",\n              actions: [\"setCreatedAt\"],\n            },\n            DISMISS: \"dismissing\",\n          },\n        },\n\n        visible: {\n          tags: [\"visible\"],\n          after: {\n            VISIBLE_DURATION: \"dismissing\",\n          },\n          on: {\n            DISMISS: \"dismissing\",\n            PAUSE: {\n              target: \"visible:persist\",\n              actions: \"setRemainingDuration\",\n            },\n          },\n        },\n\n        dismissing: {\n          entry: \"invokeOnDismiss\",\n          after: {\n            REMOVE_DELAY: {\n              target: \"unmounted\",\n              actions: \"notifyParentToRemove\",\n            },\n          },\n        },\n\n        unmounted: {\n          entry: \"invokeOnUnmount\",\n          type: \"final\",\n        },\n      },\n    },\n    {\n      activities: {\n        trackHeight(ctx, _evt, { self }) {\n          let cleanup: VoidFunction\n          raf(() => {\n            const rootEl = dom.getRootEl(ctx)\n            if (!rootEl) return\n            ctx.mounted = true\n\n            const ghosts = queryAll(rootEl, \"[data-ghost]\")\n\n            warn(\n              ghosts.length !== 2,\n              \"[toast] No ghost element found in toast. Render the `ghostBefore` and `ghostAfter` elements\",\n            )\n\n            const syncHeight = () => {\n              const originalHeight = rootEl.style.height\n              rootEl.style.height = \"auto\"\n              const newHeight = rootEl.getBoundingClientRect().height\n              rootEl.style.height = originalHeight\n\n              ctx.height = newHeight\n              self.sendParent({ type: \"UPDATE_HEIGHT\", id: self.id, height: newHeight, placement: ctx.placement })\n            }\n\n            syncHeight()\n\n            const win = dom.getWin(ctx)\n\n            const observer = new win.MutationObserver(syncHeight)\n            observer.observe(rootEl, { childList: true, subtree: true, characterData: true })\n\n            cleanup = () => observer.disconnect()\n          })\n\n          return () => cleanup?.()\n        },\n      },\n\n      guards: {\n        isChangingToLoading: (_, evt) => evt.toast?.type === \"loading\",\n        isLoadingType: (ctx) => ctx.type === \"loading\",\n        hasTypeChanged: (ctx, evt) => evt.toast?.type != null && evt.toast.type !== ctx.type,\n        hasDurationChanged: (ctx, evt) => evt.toast?.duration != null && evt.toast.duration !== ctx.duration,\n      },\n\n      delays: {\n        VISIBLE_DURATION: (ctx) => ctx.remaining,\n        REMOVE_DELAY: (ctx) => ctx.removeDelay,\n      },\n\n      actions: {\n        measureHeight(ctx, _evt, { self }) {\n          raf(() => {\n            const rootEl = dom.getRootEl(ctx)\n            if (!rootEl) return\n\n            ctx.mounted = true\n\n            const originalHeight = rootEl.style.height\n            rootEl.style.height = \"auto\"\n\n            const newHeight = rootEl.getBoundingClientRect().height\n            rootEl.style.height = originalHeight\n            ctx.height = newHeight\n\n            self.sendParent({ type: \"UPDATE_HEIGHT\", id: self.id, height: newHeight, placement: ctx.placement })\n          })\n        },\n        setRemainingDuration(ctx) {\n          ctx.remaining -= Date.now() - ctx.createdAt\n        },\n        setCreatedAt(ctx) {\n          ctx.createdAt = Date.now()\n        },\n        notifyParentToRemove(_ctx, _evt, { self }) {\n          self.sendParent({ type: \"REMOVE_TOAST\", id: self.id })\n        },\n        invokeOnDismiss(ctx) {\n          ctx.onStatusChange?.({ status: \"dismissing\" })\n        },\n        invokeOnUnmount(ctx) {\n          ctx.onStatusChange?.({ status: \"unmounted\" })\n        },\n        invokeOnVisible(ctx) {\n          ctx.onStatusChange?.({ status: \"visible\" })\n        },\n        setContext(ctx, evt) {\n          const duration = evt.toast?.duration\n          const type = evt.toast?.type ?? ctx.type\n\n          const computedDuration = getToastDuration(duration, type)\n\n          Object.assign(ctx, {\n            ...evt.toast,\n            duration: computedDuration,\n            remaining: computedDuration,\n          })\n        },\n      },\n    },\n  )\n}\n", "import { dataAttr } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./toast.anatomy\"\nimport { dom } from \"./toast.dom\"\nimport type { MachineApi, Send, State } from \"./toast.types\"\nimport { getGhostAfterStyle, getGhostBeforeStyle, getPlacementStyle } from \"./toast.utils\"\n\nexport function connect<T extends PropTypes, O>(\n  state: State<O>,\n  send: Send,\n  normalize: NormalizeProps<T>,\n): MachineApi<T, O> {\n  const visible = state.hasTag(\"visible\")\n  const paused = state.hasTag(\"paused\")\n\n  const placement = state.context.placement!\n  const type = state.context.type!\n\n  const [side, align = \"center\"] = placement.split(\"-\")\n\n  return {\n    type: type,\n    title: state.context.title,\n    description: state.context.description,\n    placement,\n    visible: visible,\n    paused: paused,\n\n    pause() {\n      send(\"PAUSE\")\n    },\n\n    resume() {\n      send(\"RESUME\")\n    },\n\n    dismiss() {\n      send(\"DISMISS\")\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-state\": visible ? \"open\" : \"closed\",\n        \"data-type\": type,\n        \"data-placement\": placement,\n        \"data-align\": align,\n        \"data-side\": side,\n        \"data-mounted\": dataAttr(state.context.mounted),\n        \"data-paused\": dataAttr(paused),\n\n        \"data-first\": dataAttr(state.context.frontmost),\n        \"data-sibling\": dataAttr(!state.context.frontmost),\n        \"data-stack\": dataAttr(state.context.stacked),\n        \"data-overlap\": dataAttr(!state.context.stacked),\n\n        role: \"status\",\n        \"aria-atomic\": \"true\",\n        tabIndex: 0,\n        style: getPlacementStyle(state.context, visible),\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (event.key == \"Escape\") {\n            send(\"DISMISS\")\n            event.preventDefault()\n          }\n        },\n      })\n    },\n\n    /* Leave a ghost div to avoid setting hover to false when transitioning out */\n    getGhostBeforeProps() {\n      return normalize.element({\n        \"data-ghost\": \"before\",\n        style: getGhostBeforeStyle(state.context, visible),\n      })\n    },\n\n    /* Needed to avoid setting hover to false when in between toasts */\n    getGhostAfterProps() {\n      return normalize.element({\n        \"data-ghost\": \"after\",\n        style: getGhostAfterStyle(state.context, visible),\n      })\n    },\n\n    getTitleProps() {\n      return normalize.element({\n        ...parts.title.attrs,\n        id: dom.getTitleId(state.context),\n      })\n    },\n\n    getDescriptionProps() {\n      return normalize.element({\n        ...parts.description.attrs,\n        id: dom.getDescriptionId(state.context),\n      })\n    },\n\n    getActionTriggerProps() {\n      return normalize.button({\n        ...parts.actionTrigger.attrs,\n        type: \"button\",\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send(\"DISMISS\")\n        },\n      })\n    },\n\n    getCloseTriggerProps() {\n      return normalize.button({\n        id: dom.getCloseTriggerId(state.context),\n        ...parts.closeTrigger.attrs,\n        type: \"button\",\n        \"aria-label\": \"Dismiss notification\",\n        onClick(event) {\n          if (event.defaultPrevented) return\n          send(\"DISMISS\")\n        },\n      })\n    },\n  }\n}\n", "import { groupConnect } from \"./toast-group.connect\"\nimport { groupMachine } from \"./toast-group.machine\"\nimport { createToastMachine as createMachine } from \"./toast.machine\"\n\nexport { anatomy } from \"./toast.anatomy\"\nexport { connect } from \"./toast.connect\"\nexport type {\n  MachineApi as Api,\n  GenericOptions,\n  GroupMachineApi as GroupApi,\n  GroupMachineContext,\n  GroupProps,\n  GroupService,\n  GroupState,\n  MachineContext,\n  Placement,\n  PromiseOptions,\n  Service,\n  StatusChangeDetails,\n  Options,\n  Status,\n  Type,\n} from \"./toast.types\"\nexport { createMachine }\n\nexport const group = {\n  connect: groupConnect,\n  machine: groupMachine,\n}\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"toggle-group\").parts(\"root\", \"item\")\nexport const parts = anatomy.build()\n", "import { getEventKey, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { dataAttr, isSafari, isSelfTarget } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./toggle-group.anatomy\"\nimport { dom } from \"./toggle-group.dom\"\nimport type { ItemProps, ItemState, MachineApi, Send, State } from \"./toggle-group.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const value = state.context.value\n  const disabled = state.context.disabled\n  const isSingle = !state.context.multiple\n  const rovingFocus = state.context.rovingFocus\n  const isHorizontal = state.context.orientation === \"horizontal\"\n\n  function getItemState(props: ItemProps): ItemState {\n    const id = dom.getItemId(state.context, props.value)\n    return {\n      id,\n      disabled: Boolean(props.disabled || disabled),\n      pressed: !!value.includes(props.value),\n      focused: state.context.focusedId === id,\n    }\n  }\n\n  return {\n    value,\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value })\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        id: dom.getRootId(state.context),\n        dir: state.context.dir,\n        role: isSingle ? \"radiogroup\" : \"group\",\n        tabIndex: state.context.isTabbingBackward ? -1 : 0,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-orientation\": state.context.orientation,\n        \"data-focus\": dataAttr(state.context.focusedId != null),\n        style: { outline: \"none\" },\n        onMouseDown() {\n          if (disabled) return\n          send(\"ROOT.MOUSE_DOWN\")\n        },\n        onFocus(event) {\n          if (disabled) return\n          const evt = event.nativeEvent || event\n          if (!isSelfTarget(evt) || !!state.context.isClickFocus || state.context.isTabbingBackward) return\n          send(\"ROOT.FOCUS\")\n        },\n        onBlur() {\n          if (disabled) return\n          send(\"ROOT.BLUR\")\n        },\n      })\n    },\n\n    getItemState,\n\n    getItemProps(props) {\n      const itemState = getItemState(props)\n      const rovingTabIndex = itemState.focused ? 0 : -1\n\n      return normalize.button({\n        ...parts.item.attrs,\n        id: itemState.id,\n        type: \"button\",\n        \"data-ownedby\": dom.getRootId(state.context),\n        \"data-focus\": dataAttr(itemState.focused),\n        disabled: itemState.disabled,\n        tabIndex: rovingFocus ? rovingTabIndex : undefined,\n        // radio\n        role: isSingle ? \"radio\" : undefined,\n        \"aria-checked\": isSingle ? itemState.pressed : undefined,\n        \"aria-pressed\": isSingle ? undefined : itemState.pressed,\n        //\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-orientation\": state.context.orientation,\n        dir: state.context.dir,\n        \"data-state\": itemState.pressed ? \"on\" : \"off\",\n        onFocus() {\n          if (itemState.disabled) return\n          send({ type: \"TOGGLE.FOCUS\", id: itemState.id })\n        },\n        onClick(event) {\n          if (itemState.disabled) return\n          send({ type: \"TOGGLE.CLICK\", id: itemState.id, value: props.value })\n          if (isSafari()) {\n            event.currentTarget.focus({ preventScroll: true })\n          }\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!isSelfTarget(event)) return\n          if (itemState.disabled) return\n\n          const keyMap: EventKeyMap = {\n            Tab(event) {\n              const isShiftTab = event.shiftKey\n              send({ type: \"TOGGLE.SHIFT_TAB\", isShiftTab })\n            },\n            ArrowLeft() {\n              if (!rovingFocus || !isHorizontal) return\n              send(\"TOGGLE.FOCUS_PREV\")\n            },\n            ArrowRight() {\n              if (!rovingFocus || !isHorizontal) return\n              send(\"TOGGLE.FOCUS_NEXT\")\n            },\n            ArrowUp() {\n              if (!rovingFocus || isHorizontal) return\n              send(\"TOGGLE.FOCUS_PREV\")\n            },\n            ArrowDown() {\n              if (!rovingFocus || isHorizontal) return\n              send(\"TOGGLE.FOCUS_NEXT\")\n            },\n            Home() {\n              if (!rovingFocus) return\n              send(\"TOGGLE.FOCUS_FIRST\")\n            },\n            End() {\n              if (!rovingFocus) return\n              send(\"TOGGLE.FOCUS_LAST\")\n            },\n          }\n\n          const exec = keyMap[getEventKey(event)]\n\n          if (exec) {\n            exec(event)\n            if (event.key !== \"Tab\") event.preventDefault()\n          }\n        },\n      })\n    },\n  }\n}\n", "import { createScope, nextById, prevById, queryAll } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./toggle-group.types\"\nimport { first, last } from \"@zag-js/utils\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `toggle-group:${ctx.id}`,\n  getItemId: (ctx: Ctx, value: string) => ctx.ids?.item?.(value) ?? `toggle-group:${ctx.id}:${value}`,\n\n  getRootEl: (ctx: Ctx) => dom.getById(ctx, dom.getRootId(ctx)),\n  getElements: (ctx: Ctx) => {\n    const ownerId = CSS.escape(dom.getRootId(ctx))\n    const selector = `[data-ownedby='${ownerId}']:not([data-disabled])`\n    return queryAll(dom.getRootEl(ctx), selector)\n  },\n  getFirstEl: (ctx: Ctx) => first(dom.getElements(ctx)),\n  getLastEl: (ctx: Ctx) => last(dom.getElements(ctx)),\n  getNextEl: (ctx: Ctx, id: string) => nextById(dom.getElements(ctx), id, ctx.currentLoopFocus),\n  getPrevEl: (ctx: Ctx, id: string) => prevById(dom.getElements(ctx), id, ctx.currentLoopFocus),\n})\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { raf } from \"@zag-js/dom-query\"\nimport { add, compact, isEqual, remove } from \"@zag-js/utils\"\nimport { dom } from \"./toggle-group.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./toggle-group.types\"\n\nconst { not, and } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"toggle-group\",\n      initial: \"idle\",\n\n      context: {\n        value: [],\n        disabled: false,\n        orientation: \"horizontal\",\n        rovingFocus: true,\n        loopFocus: true,\n        ...ctx,\n        focusedId: null,\n        isTabbingBackward: false,\n        isClickFocus: false,\n        isWithinToolbar: false,\n      },\n\n      computed: {\n        currentLoopFocus: (ctx) => ctx.loopFocus && !ctx.isWithinToolbar,\n      },\n\n      entry: [\"checkIfWithinToolbar\"],\n\n      on: {\n        \"VALUE.SET\": {\n          actions: [\"setValue\"],\n        },\n        \"TOGGLE.CLICK\": {\n          actions: [\"setValue\"],\n        },\n        \"ROOT.MOUSE_DOWN\": {\n          actions: [\"setClickFocus\"],\n        },\n      },\n\n      states: {\n        idle: {\n          on: {\n            \"ROOT.FOCUS\": {\n              target: \"focused\",\n              guard: not(and(\"isClickFocus\", \"isTabbingBackward\")),\n              actions: [\"focusFirstToggle\", \"clearClickFocus\"],\n            },\n            \"TOGGLE.FOCUS\": {\n              target: \"focused\",\n              actions: [\"setFocusedId\"],\n            },\n          },\n        },\n\n        focused: {\n          on: {\n            \"ROOT.BLUR\": {\n              target: \"idle\",\n              actions: [\"clearIsTabbingBackward\"],\n            },\n            \"TOGGLE.FOCUS\": {\n              actions: [\"setFocusedId\"],\n            },\n            \"TOGGLE.FOCUS_NEXT\": {\n              actions: [\"focusNextToggle\"],\n            },\n            \"TOGGLE.FOCUS_PREV\": {\n              actions: [\"focusPrevToggle\"],\n            },\n            \"TOGGLE.FOCUS_FIRST\": {\n              actions: [\"focusFirstToggle\"],\n            },\n            \"TOGGLE.FOCUS_LAST\": {\n              actions: [\"focusLastToggle\"],\n            },\n            \"TOGGLE.SHIFT_TAB\": {\n              target: \"idle\",\n              actions: [\"setIsTabbingBackward\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isClickFocus: (ctx) => ctx.isClickFocus,\n        isTabbingBackward: (ctx) => ctx.isTabbingBackward,\n      },\n      actions: {\n        setIsTabbingBackward(ctx) {\n          ctx.isTabbingBackward = true\n        },\n        clearIsTabbingBackward(ctx) {\n          ctx.isTabbingBackward = false\n        },\n        setClickFocus(ctx) {\n          ctx.isClickFocus = true\n        },\n        clearClickFocus(ctx) {\n          ctx.isClickFocus = false\n        },\n        checkIfWithinToolbar(ctx) {\n          const closestToolbar = dom.getRootEl(ctx)?.closest(\"[role=toolbar]\")\n          ctx.isWithinToolbar = !!closestToolbar\n        },\n        setFocusedId(ctx, evt) {\n          ctx.focusedId = evt.id\n        },\n        clearFocusedId(ctx) {\n          ctx.focusedId = null\n        },\n        setValue(ctx, evt) {\n          if (!evt.value) return\n          let next = Array.from(ctx.value)\n          if (ctx.multiple) {\n            next = next.includes(evt.value) ? remove(next, evt.value) : add(next, evt.value)\n          } else {\n            next = isEqual(ctx.value, [evt.value]) ? [] : [evt.value]\n          }\n          set.value(ctx, next)\n        },\n        focusNextToggle(ctx) {\n          raf(() => {\n            if (!ctx.focusedId) return\n            dom.getNextEl(ctx, ctx.focusedId)?.focus({ preventScroll: true })\n          })\n        },\n        focusPrevToggle(ctx) {\n          raf(() => {\n            if (!ctx.focusedId) return\n            dom.getPrevEl(ctx, ctx.focusedId)?.focus({ preventScroll: true })\n          })\n        },\n        focusFirstToggle(ctx) {\n          raf(() => {\n            dom.getFirstEl(ctx)?.focus({ preventScroll: true })\n          })\n        },\n        focusLastToggle(ctx) {\n          raf(() => {\n            dom.getLastEl(ctx)?.focus({ preventScroll: true })\n          })\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  change(ctx: MachineContext) {\n    ctx.onValueChange?.({ value: Array.from(ctx.value) })\n  },\n}\n\nconst set = {\n  value(ctx: MachineContext, value: string[]) {\n    if (isEqual(ctx.value, value)) return\n    ctx.value = value\n    invoke.change(ctx)\n  },\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ItemProps, UserDefinedContext } from \"./toggle-group.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"dir\",\n  \"disabled\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"loopFocus\",\n  \"multiple\",\n  \"onValueChange\",\n  \"orientation\",\n  \"rovingFocus\",\n  \"value\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"value\", \"disabled\"])\n\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"tooltip\").parts(\"trigger\", \"arrow\", \"arrowTip\", \"positioner\", \"content\")\nexport const parts = anatomy.build()\n", "import { dataAttr } from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./tooltip.anatomy\"\nimport { dom } from \"./tooltip.dom\"\nimport { store } from \"./tooltip.store\"\nimport type { MachineApi, Send, State } from \"./tooltip.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const id = state.context.id\n  const hasAriaLabel = state.context.hasAriaLabel\n\n  const open = state.hasTag(\"open\")\n\n  const triggerId = dom.getTriggerId(state.context)\n  const contentId = dom.getContentId(state.context)\n\n  const disabled = state.context.disabled\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement,\n  })\n\n  return {\n    open: open,\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options })\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        id: triggerId,\n        dir: state.context.dir,\n        \"data-expanded\": dataAttr(open),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-describedby\": open ? contentId : undefined,\n        onClick() {\n          if (disabled) return\n          send(\"CLOSE\")\n        },\n        onFocus() {\n          if (disabled || state.event.type === \"POINTER_DOWN\") return\n          send(\"OPEN\")\n        },\n        onBlur() {\n          if (disabled) return\n          if (id === store.id) {\n            send(\"CLOSE\")\n          }\n        },\n        onPointerDown() {\n          if (disabled || !state.context.closeOnPointerDown) return\n          if (id === store.id) {\n            send(\"CLOSE\")\n          }\n        },\n        onPointerMove(event) {\n          if (disabled || event.pointerType === \"touch\") return\n          send(\"POINTER_MOVE\")\n        },\n        onPointerLeave() {\n          if (disabled) return\n          send(\"POINTER_LEAVE\")\n        },\n        onPointerCancel() {\n          if (disabled) return\n          send(\"POINTER_LEAVE\")\n        },\n      })\n    },\n\n    getArrowProps() {\n      return normalize.element({\n        id: dom.getArrowId(state.context),\n        ...parts.arrow.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrow,\n      })\n    },\n\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrowTip,\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        id: dom.getPositionerId(state.context),\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        style: popperStyles.floating,\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        dir: state.context.dir,\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        role: hasAriaLabel ? undefined : \"tooltip\",\n        id: hasAriaLabel ? undefined : contentId,\n        \"data-placement\": state.context.currentPlacement,\n        onPointerEnter() {\n          send(\"CONTENT.POINTER_MOVE\")\n        },\n        onPointerLeave() {\n          send(\"CONTENT.POINTER_LEAVE\")\n        },\n        style: {\n          pointerEvents: state.context.interactive ? \"auto\" : \"none\",\n        },\n      })\n    },\n  }\n}\n", "import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./tooltip.types\"\n\nexport const dom = createScope({\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `tooltip:${ctx.id}:trigger`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `tooltip:${ctx.id}:content`,\n  getArrowId: (ctx: Ctx) => ctx.ids?.arrow ?? `tooltip:${ctx.id}:arrow`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `tooltip:${ctx.id}:popper`,\n\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getArrowEl: (ctx: Ctx) => dom.getById(ctx, dom.getArrowId(ctx)),\n})\n", "import { proxy } from \"@zag-js/core\"\n\ntype Id = string | null\n\ninterface TooltipStore {\n  id: Id\n  prevId: Id\n  setId: (val: Id) => void\n}\n\nexport const store = proxy<TooltipStore>({\n  id: null,\n  prevId: null,\n  setId(val) {\n    this.prevId = this.id\n    this.id = val\n  },\n})\n", "import { createMachine, guards, subscribe } from \"@zag-js/core\"\nimport { addDomEvent } from \"@zag-js/dom-event\"\nimport { getOverflowAncestors, isHTMLElement, isSafari } from \"@zag-js/dom-query\"\nimport { getPlacement } from \"@zag-js/popper\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./tooltip.dom\"\nimport { store } from \"./tooltip.store\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./tooltip.types\"\n\nconst { and, not } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"tooltip\",\n      initial: ctx.open ? \"open\" : \"closed\",\n\n      context: {\n        openDelay: 1000,\n        closeDelay: 500,\n        closeOnPointerDown: true,\n        closeOnEscape: true,\n        interactive: false,\n        ...ctx,\n        currentPlacement: undefined,\n        hasPointerMoveOpened: false,\n        positioning: {\n          placement: \"bottom\",\n          ...ctx.positioning,\n        },\n      },\n\n      computed: {\n        hasAriaLabel: (ctx) => !!ctx[\"aria-label\"],\n      },\n\n      watch: {\n        disabled: [\"closeIfDisabled\"],\n        open: [\"toggleVisibility\"],\n      },\n\n      states: {\n        closed: {\n          tags: [\"closed\"],\n          entry: [\"clearGlobalId\"],\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            OPEN: {\n              target: \"open\",\n              actions: [\"invokeOnOpen\"],\n            },\n            POINTER_LEAVE: {\n              actions: [\"clearPointerMoveOpened\"],\n            },\n            POINTER_MOVE: [\n              {\n                guard: and(\"noVisibleTooltip\", not(\"hasPointerMoveOpened\")),\n                target: \"opening\",\n              },\n              {\n                guard: not(\"hasPointerMoveOpened\"),\n                target: \"open\",\n                actions: [\"setPointerMoveOpened\", \"invokeOnOpen\"],\n              },\n            ],\n          },\n        },\n\n        opening: {\n          tags: [\"closed\"],\n          activities: [\"trackScroll\", \"trackPointerlockChange\"],\n          after: {\n            OPEN_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setPointerMoveOpened\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"setPointerMoveOpened\", \"invokeOnOpen\"],\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            \"CONTROLLED.CLOSE\": \"closed\",\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"invokeOnOpen\"],\n              },\n            ],\n            POINTER_LEAVE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"clearPointerMoveOpened\", \"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"clearPointerMoveOpened\", \"invokeOnClose\"],\n              },\n            ],\n            CLOSE: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\"],\n            },\n          },\n        },\n\n        open: {\n          tags: [\"open\"],\n          activities: [\n            \"trackEscapeKey\",\n            \"trackDisabledTriggerOnSafari\",\n            \"trackScroll\",\n            \"trackPointerlockChange\",\n            \"trackPositioning\",\n          ],\n          entry: [\"setGlobalId\"],\n          on: {\n            \"CONTROLLED.CLOSE\": \"closed\",\n            CLOSE: {\n              target: \"closed\",\n              actions: [\"invokeOnClose\"],\n            },\n            POINTER_LEAVE: [\n              {\n                guard: \"isVisible\",\n                target: \"closing\",\n                actions: [\"clearPointerMoveOpened\"],\n              },\n              // == group ==\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"clearPointerMoveOpened\", \"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"clearPointerMoveOpened\", \"invokeOnClose\"],\n              },\n            ],\n            \"CONTENT.POINTER_LEAVE\": {\n              guard: \"isInteractive\",\n              target: \"closing\",\n            },\n            \"POSITIONING.SET\": {\n              actions: \"reposition\",\n            },\n          },\n        },\n\n        closing: {\n          tags: [\"open\"],\n          activities: [\"trackStore\", \"trackPositioning\"],\n          after: {\n            CLOSE_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.CLOSE\": \"closed\",\n            \"CONTROLLED.OPEN\": \"open\",\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            POINTER_MOVE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setPointerMoveOpened\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"setPointerMoveOpened\", \"invokeOnOpen\"],\n              },\n            ],\n            \"CONTENT.POINTER_MOVE\": {\n              guard: \"isInteractive\",\n              target: \"open\",\n            },\n            \"POSITIONING.SET\": {\n              actions: \"reposition\",\n            },\n          },\n        },\n      },\n    },\n    {\n      activities: {\n        trackPositioning(ctx) {\n          ctx.currentPlacement = ctx.positioning.placement\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        trackPointerlockChange(ctx, _evt, { send }) {\n          const onChange = () => send({ type: \"CLOSE\", src: \"pointerlock:change\" })\n          return addDomEvent(dom.getDoc(ctx), \"pointerlockchange\", onChange, false)\n        },\n        trackScroll(ctx, _evt, { send }) {\n          const triggerEl = dom.getTriggerEl(ctx)\n          if (!triggerEl) return\n\n          const overflowParents = getOverflowAncestors(triggerEl)\n          const cleanups = overflowParents.map((overflowParent) =>\n            addDomEvent(overflowParent, \"scroll\", () => send({ type: \"CLOSE\", src: \"scroll\" }), {\n              passive: true,\n              capture: true,\n            }),\n          )\n\n          return () => {\n            cleanups.forEach((fn) => fn?.())\n          }\n        },\n        trackStore(ctx, _evt, { send }) {\n          return subscribe(store, () => {\n            if (store.id !== ctx.id) {\n              send({ type: \"CLOSE\", src: \"id:change\" })\n            }\n          })\n        },\n        trackDisabledTriggerOnSafari(ctx, _evt, { send }) {\n          if (!isSafari()) return\n          const doc = dom.getDoc(ctx)\n          return addDomEvent(doc, \"pointermove\", (event) => {\n            const selector = \"[data-part=trigger][data-expanded]\"\n            if (isHTMLElement(event.target) && event.target.closest(selector)) return\n            send(\"POINTER_LEAVE\")\n          })\n        },\n        trackEscapeKey(ctx, _evt, { send }) {\n          if (!ctx.closeOnEscape) return\n          const doc = dom.getDoc(ctx)\n          return addDomEvent(doc, \"keydown\", (event) => {\n            if (event.key === \"Escape\") {\n              send(\"CLOSE\")\n            }\n          })\n        },\n      },\n      actions: {\n        setGlobalId(ctx) {\n          store.setId(ctx.id)\n        },\n        clearGlobalId(ctx) {\n          if (ctx.id === store.id) {\n            store.setId(null)\n          }\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        closeIfDisabled(ctx, _evt, { send }) {\n          if (!ctx.disabled) return\n          send({ type: \"CLOSE\", src: \"disabled:change\" })\n        },\n        reposition(ctx, evt) {\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n        setPointerMoveOpened(ctx) {\n          ctx.hasPointerMoveOpened = true\n        },\n        clearPointerMoveOpened(ctx) {\n          ctx.hasPointerMoveOpened = false\n        },\n      },\n      guards: {\n        noVisibleTooltip: () => store.id === null,\n        isVisible: (ctx) => ctx.id === store.id,\n        isInteractive: (ctx) => ctx.interactive,\n        hasPointerMoveOpened: (ctx) => !!ctx.hasPointerMoveOpened,\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n      },\n      delays: {\n        OPEN_DELAY: (ctx) => ctx.openDelay,\n        CLOSE_DELAY: (ctx) => ctx.closeDelay,\n      },\n    },\n  )\n}\n", "import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { UserDefinedContext } from \"./tooltip.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"aria-label\",\n  \"closeDelay\",\n  \"closeOnEscape\",\n  \"closeOnPointerDown\",\n  \"dir\",\n  \"disabled\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"interactive\",\n  \"onOpenChange\",\n  \"open.controlled\",\n  \"open\",\n  \"openDelay\",\n  \"positioning\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n", "import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"tree-view\").parts(\n  \"root\",\n  \"label\",\n  \"tree\",\n  \"item\",\n  \"itemIndicator\",\n  \"itemText\",\n  \"branch\",\n  \"branchControl\",\n  \"branchTrigger\",\n  \"branchContent\",\n  \"branchText\",\n  \"branchIndicator\",\n)\n\nexport const parts = anatomy.build()\n", "import { getEventKey, isModifierKey, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { contains, dataAttr, getEventTarget, isComposingEvent } from \"@zag-js/dom-query\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./tree-view.anatomy\"\nimport { dom } from \"./tree-view.dom\"\nimport type { BranchProps, BranchState, ItemProps, ItemState, MachineApi, Send, State } from \"./tree-view.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const expandedValue = state.context.expandedValue\n  const selectedValue = state.context.selectedValue\n  const isTypingAhead = state.context.isTypingAhead\n  const focusedValue = state.context.focusedValue\n\n  function getItemState(props: ItemProps): ItemState {\n    return {\n      value: props.value,\n      disabled: Boolean(props.disabled),\n      focused: focusedValue === props.value,\n      selected: selectedValue.includes(props.value),\n    }\n  }\n\n  function getBranchState(props: BranchProps): BranchState {\n    return {\n      value: props.value,\n      disabled: Boolean(props.disabled),\n      focused: focusedValue === props.value,\n      expanded: expandedValue.includes(props.value),\n      selected: selectedValue.includes(props.value),\n    }\n  }\n\n  return {\n    expandedValue: expandedValue,\n    selectedValue: selectedValue,\n    expand(value) {\n      if (!value) {\n        send({ type: \"EXPANDED.ALL\" })\n        return\n      }\n      const nextValue = new Set(expandedValue)\n      value.forEach((id) => nextValue.add(id))\n      send({ type: \"EXPANDED.SET\", value: nextValue, src: \"expand\" })\n    },\n    collapse(value) {\n      if (!value) {\n        send({ type: \"EXPANDED.SET\", value: new Set([]), src: \"collapseAll\" })\n        return\n      }\n      const nextValue = new Set(expandedValue)\n      value.forEach((id) => nextValue.delete(id))\n      send({ type: \"EXPANDED.SET\", value: nextValue, src: \"collapse\" })\n    },\n    deselect(value) {\n      if (!value) {\n        send({ type: \"SELECTED.SET\", value: new Set([]), src: \"deselectAll\" })\n        return\n      }\n      const nextValue = new Set(selectedValue)\n      value.forEach((id) => nextValue.delete(id))\n      send({ type: \"SELECTED.SET\", value: nextValue, src: \"deselect\" })\n    },\n    select(value) {\n      if (!value) {\n        send({ type: \"SELECTED.ALL\" })\n        return\n      }\n      const nextValue = new Set(selectedValue)\n      value.forEach((id) => nextValue.add(id))\n      send({ type: \"SELECTED.SET\", value: nextValue, src: \"select\" })\n    },\n    focusBranch(id) {\n      dom.getBranchControlEl(state.context, id)?.focus()\n    },\n    focusItem(id) {\n      dom.getItemEl(state.context, id)?.focus()\n    },\n\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        id: dom.getRootId(state.context),\n        dir: state.context.dir,\n      })\n    },\n\n    getLabelProps() {\n      return normalize.element({\n        ...parts.label.attrs,\n        id: dom.getLabelId(state.context),\n        dir: state.context.dir,\n      })\n    },\n\n    getTreeProps() {\n      return normalize.element({\n        ...parts.tree.attrs,\n        id: dom.getTreeId(state.context),\n        dir: state.context.dir,\n        role: \"tree\",\n        \"aria-label\": \"Tree View\",\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-multiselectable\": state.context.selectionMode === \"multiple\" || undefined,\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (isComposingEvent(event)) return\n\n          const target = getEventTarget<HTMLElement>(event)\n\n          const node = target?.closest<HTMLElement>(\"[role=treeitem]\")\n          if (!node) return\n\n          const nodeId = dom.getNodeId(node)\n          if (nodeId == null) {\n            console.warn(`Node id not found for node`, node)\n            return\n          }\n\n          const isBranchNode = !!target?.dataset.branch\n\n          const keyMap: EventKeyMap = {\n            ArrowDown(event) {\n              if (isModifierKey(event)) return\n              event.preventDefault()\n              send({ type: \"ITEM.ARROW_DOWN\", id: nodeId, shiftKey: event.shiftKey })\n            },\n            ArrowUp(event) {\n              if (isModifierKey(event)) return\n              event.preventDefault()\n              send({ type: \"ITEM.ARROW_UP\", id: nodeId, shiftKey: event.shiftKey })\n            },\n            ArrowLeft(event) {\n              if (isModifierKey(event) || node.dataset.disabled) return\n              event.preventDefault()\n              send({ type: isBranchNode ? \"BRANCH.ARROW_LEFT\" : \"ITEM.ARROW_LEFT\", id: nodeId })\n            },\n            ArrowRight(event) {\n              if (!isBranchNode || node.dataset.disabled) return\n              event.preventDefault()\n              send({ type: \"BRANCH.ARROW_RIGHT\", id: nodeId })\n            },\n            Home(event) {\n              if (isModifierKey(event)) return\n              event.preventDefault()\n              send({ type: \"ITEM.HOME\", id: nodeId, shiftKey: event.shiftKey })\n            },\n            End(event) {\n              if (isModifierKey(event)) return\n              event.preventDefault()\n              send({ type: \"ITEM.END\", id: nodeId, shiftKey: event.shiftKey })\n            },\n            Space(event) {\n              if (node.dataset.disabled) return\n\n              if (isTypingAhead) {\n                send({ type: \"TREE.TYPEAHEAD\", key: event.key })\n              } else {\n                keyMap.Enter?.(event)\n              }\n            },\n            Enter(event) {\n              if (node.dataset.disabled) return\n\n              const isLink = target?.closest(\"a[href]\")\n              if (!isLink) event.preventDefault()\n\n              send({ type: isBranchNode ? \"BRANCH.CLICK\" : \"ITEM.CLICK\", id: nodeId, src: \"keyboard\" })\n            },\n            \"*\"(event) {\n              if (node.dataset.disabled) return\n              event.preventDefault()\n              send({ type: \"EXPAND.SIBLINGS\", id: nodeId })\n            },\n            a(event) {\n              if (!event.metaKey || node.dataset.disabled) return\n              event.preventDefault()\n              send({ type: \"SELECTED.ALL\", preventScroll: true, moveFocus: true })\n            },\n          }\n\n          const key = getEventKey(event, state.context)\n          const exec = keyMap[key]\n\n          if (exec) {\n            exec(event)\n            return\n          }\n\n          if (!state.context.typeahead) return\n\n          const isValidTypeahead = event.key.length === 1 && !isModifierKey(event)\n          if (!isValidTypeahead) return\n\n          send({ type: \"TREE.TYPEAHEAD\", key: event.key, id: nodeId })\n          event.preventDefault()\n        },\n        onBlur(event) {\n          if (contains(event.currentTarget, event.relatedTarget)) return\n          send({ type: \"TREE.BLUR\" })\n        },\n      })\n    },\n\n    getItemState,\n    getItemProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        \"data-ownedby\": dom.getTreeId(state.context),\n        \"data-item\": itemState.value,\n        tabIndex: itemState.focused ? 0 : -1,\n        \"data-focus\": dataAttr(itemState.focused),\n        role: \"treeitem\",\n        \"aria-current\": itemState.selected ? \"true\" : undefined,\n        \"aria-selected\": itemState.disabled ? undefined : itemState.selected,\n        \"data-selected\": dataAttr(itemState.selected),\n        \"aria-disabled\": itemState.disabled,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"aria-level\": props.depth,\n        \"data-depth\": props.depth,\n        style: {\n          \"--depth\": props.depth,\n        },\n        onFocus(event) {\n          event.stopPropagation()\n          send({ type: \"ITEM.FOCUS\", id: itemState.value })\n        },\n        onClick(event) {\n          if (itemState.disabled) return\n          const isMetaKey = event.metaKey || event.ctrlKey\n          send({ type: \"ITEM.CLICK\", id: itemState.value, shiftKey: event.shiftKey, ctrlKey: isMetaKey })\n          event.stopPropagation()\n\n          const isLink = event.currentTarget.matches(\"a[href]\")\n          if (!isLink) event.preventDefault()\n        },\n      })\n    },\n\n    getItemTextProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.itemText.attrs,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-selected\": dataAttr(itemState.selected),\n        \"data-focus\": dataAttr(itemState.focused),\n      })\n    },\n\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.itemIndicator.attrs,\n        \"aria-hidden\": true,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-selected\": dataAttr(itemState.selected),\n        \"data-focus\": dataAttr(itemState.focused),\n        hidden: !itemState.selected,\n      })\n    },\n\n    getBranchState,\n    getBranchProps(props) {\n      const branchState = getBranchState(props)\n      return normalize.element({\n        ...parts.branch.attrs,\n        \"data-depth\": props.depth,\n        dir: state.context.dir,\n        \"data-branch\": branchState.value,\n        role: \"treeitem\",\n        \"data-ownedby\": dom.getTreeId(state.context),\n        \"aria-level\": props.depth,\n        \"aria-selected\": branchState.disabled ? undefined : branchState.selected,\n        \"data-selected\": dataAttr(branchState.selected),\n        \"aria-expanded\": branchState.expanded,\n        \"data-state\": branchState.expanded ? \"open\" : \"closed\",\n        \"aria-disabled\": branchState.disabled,\n        \"data-disabled\": dataAttr(branchState.disabled),\n        style: {\n          \"--depth\": props.depth,\n        },\n      })\n    },\n\n    getBranchIndicatorProps(props) {\n      const branchState = getBranchState(props)\n      return normalize.element({\n        ...parts.branchIndicator.attrs,\n        \"aria-hidden\": true,\n        \"data-state\": branchState.expanded ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(branchState.disabled),\n        \"data-selected\": dataAttr(branchState.selected),\n        \"data-focus\": dataAttr(branchState.focused),\n      })\n    },\n\n    getBranchTriggerProps(props) {\n      const branchState = getBranchState(props)\n      return normalize.element({\n        ...parts.branchTrigger.attrs,\n        role: \"button\",\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(branchState.disabled),\n        \"data-state\": branchState.expanded ? \"open\" : \"closed\",\n        onClick(event) {\n          if (branchState.disabled) return\n          send({ type: \"BRANCH_TOGGLE.CLICK\", id: branchState.value })\n          event.stopPropagation()\n        },\n      })\n    },\n\n    getBranchControlProps(props) {\n      const branchState = getBranchState(props)\n      return normalize.element({\n        ...parts.branchControl.attrs,\n        role: \"button\",\n        dir: state.context.dir,\n        tabIndex: branchState.focused ? 0 : -1,\n        \"data-state\": branchState.expanded ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(branchState.disabled),\n        \"data-selected\": dataAttr(branchState.selected),\n        \"data-branch\": branchState.value,\n        \"data-depth\": props.depth,\n        onFocus(event) {\n          send({ type: \"ITEM.FOCUS\", id: branchState.value })\n          event.stopPropagation()\n        },\n        onClick(event) {\n          if (branchState.disabled) return\n\n          const isMetaKey = event.metaKey || event.ctrlKey\n          send({ type: \"BRANCH.CLICK\", id: branchState.value, shiftKey: event.shiftKey, ctrlKey: isMetaKey })\n\n          event.stopPropagation()\n        },\n      })\n    },\n\n    getBranchTextProps(props) {\n      const branchState = getBranchState(props)\n      return normalize.element({\n        ...parts.branchText.attrs,\n        dir: state.context.dir,\n        \"data-branch\": branchState.value,\n        \"data-disabled\": dataAttr(branchState.disabled),\n        \"data-state\": branchState.expanded ? \"open\" : \"closed\",\n      })\n    },\n\n    getBranchContentProps(props) {\n      const branchState = getBranchState(props)\n      return normalize.element({\n        ...parts.branchContent.attrs,\n        role: \"group\",\n        dir: state.context.dir,\n        \"data-branch\": branchState.value,\n        \"data-state\": branchState.expanded ? \"open\" : \"closed\",\n        hidden: !branchState.expanded,\n      })\n    },\n  }\n}\n", "import { createScope, getByTypeahead, isHTMLElement, isHiddenElement, query, queryAll } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./tree-view.types\"\n\ninterface TreeWalkerOpts {\n  skipHidden?: boolean\n  root?: HTMLElement | null\n}\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `tree-root:${ctx.id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `tree-label:${ctx.id}`,\n  getTreeId: (ctx: Ctx) => ctx.ids?.tree ?? `tree-tree:${ctx.id}`,\n\n  getNodeId(node: Node | null | undefined) {\n    if (!isHTMLElement(node)) return null\n    return node.dataset.branch ?? node.dataset.item ?? null\n  },\n\n  getNodeEl(ctx: Ctx, id: string) {\n    const node = dom.getItemEl(ctx, id) ?? dom.getBranchEl(ctx, id)\n    if (node?.dataset.part === \"branch\") {\n      return query(node, \"[data-part=branch-control]\")\n    }\n    return node\n  },\n\n  getTreeEl(ctx: Ctx) {\n    return dom.getById(ctx, dom.getTreeId(ctx))\n  },\n\n  getBranchEl(ctx: Ctx, id: string) {\n    const selector = `[role=treeitem][data-branch=\"${id}\"]`\n    return query(dom.getTreeEl(ctx), selector)\n  },\n  getItemEl(ctx: Ctx, id: string) {\n    const selector = `[role=treeitem][data-item=\"${id}\"]`\n    return query(dom.getTreeEl(ctx), selector)\n  },\n  getBranchControlEl(ctx: Ctx, id: string) {\n    const selector = \"[data-part=branch-control]\"\n    return query(dom.getBranchEl(ctx, id), selector)\n  },\n\n  getFocusedEl(ctx: Ctx) {\n    if (!ctx.focusedValue) return null\n    return dom.getById(ctx, ctx.focusedValue)\n  },\n\n  focusNode(node: Node | Element | null | undefined, options?: FocusOptions) {\n    if (isHTMLElement(node)) node.focus(options)\n  },\n\n  getNodeDepth(node: HTMLElement | null) {\n    return node?.dataset.depth ? Number(node.dataset.depth) : -1\n  },\n\n  getTreeWalker(ctx: Ctx, opts?: TreeWalkerOpts) {\n    const { skipHidden = true, root } = opts ?? {}\n\n    const treeEl = root || dom.getTreeEl(ctx)\n    if (!treeEl) throw new Error(\"Tree or branch root not found\")\n\n    const doc = dom.getDoc(ctx)\n\n    return doc.createTreeWalker(treeEl, NodeFilter.SHOW_ELEMENT, {\n      acceptNode(node: HTMLElement) {\n        if (skipHidden && isHiddenElement(node)) {\n          return NodeFilter.FILTER_REJECT\n        }\n\n        if (node.role === \"treeitem\" && node.dataset.part !== \"branch\") {\n          return NodeFilter.FILTER_ACCEPT\n        }\n\n        if (node.role === \"button\" && node.dataset.part === \"branch-control\") {\n          return NodeFilter.FILTER_ACCEPT\n        }\n\n        return NodeFilter.FILTER_SKIP\n      },\n    })\n  },\n\n  getMatchingEl(ctx: Ctx, key: string) {\n    const walker = dom.getTreeWalker(ctx)\n\n    const elements: HTMLElement[] = []\n    let node = walker.firstChild()\n\n    while (node) {\n      if (isHTMLElement(node)) elements.push(node)\n      node = walker.nextNode()\n    }\n\n    return getByTypeahead(elements, {\n      state: ctx.typeaheadState,\n      key,\n      activeId: ctx.focusedValue,\n      itemToId: (v) => dom.getNodeId(v) ?? v.id,\n    })\n  },\n\n  getTreeNodes(ctx: Ctx, options: TreeWalkerOpts = {}) {\n    const walker = dom.getTreeWalker(ctx, options)\n\n    const nodes: HTMLElement[] = []\n    let node = walker.firstChild()\n\n    while (node) {\n      if (isHTMLElement(node)) {\n        nodes.push(node)\n      }\n      node = walker.nextNode()\n    }\n\n    return nodes\n  },\n\n  getBranchNodes(ctx: Ctx, depth: number | null) {\n    if (depth === -1) return []\n    return queryAll(dom.getTreeEl(ctx), `[role=treeitem][data-part=branch][data-depth=\"${depth}\"]`)\n  },\n\n  getNodesInRange(nodes: HTMLElement[], startNode: HTMLElement, endNode: HTMLElement) {\n    const nextSet = new Set<string>()\n\n    nodes.forEach((node) => {\n      const nodeId = dom.getNodeId(node)\n      if (nodeId == null) return\n\n      // compare node position with firstSelectedEl and focusedEl\n      // if node is between firstSelectedEl and focusedEl, add it to nextSet\n      if (node === startNode || node === endNode) {\n        nextSet.add(nodeId)\n        return\n      }\n\n      // use node.compareDocumentPosition to compare node position\n      // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n\n      const startPos = node.compareDocumentPosition(startNode)\n      const endPos = node.compareDocumentPosition(endNode)\n\n      // if node is before firstSelectedEl and after focusedEl, add it to nextSet\n      if (startPos & Node.DOCUMENT_POSITION_FOLLOWING && endPos & Node.DOCUMENT_POSITION_PRECEDING) {\n        nextSet.add(nodeId)\n        return\n      }\n\n      // if node is after firstSelectedEl and before focusedEl, add it to nextSet\n      if (startPos & Node.DOCUMENT_POSITION_PRECEDING && endPos & Node.DOCUMENT_POSITION_FOLLOWING) {\n        nextSet.add(nodeId)\n        return\n      }\n    })\n\n    return Array.from(nextSet)\n  },\n})\n", "import { createMachine, guards } from \"@zag-js/core\"\nimport { getByTypeahead, isHTMLElement, observeChildren } from \"@zag-js/dom-query\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./tree-view.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./tree-view.types\"\n\nconst { and } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"tree-view\",\n      initial: \"idle\",\n      context: {\n        expandedValue: [],\n        selectedValue: [],\n        focusedValue: null,\n        expandOnClick: true,\n        selectionMode: \"single\",\n        typeahead: true,\n        ...ctx,\n        typeaheadState: getByTypeahead.defaultOptions,\n      },\n\n      computed: {\n        isMultipleSelection: (ctx) => ctx.selectionMode === \"multiple\",\n      },\n\n      on: {\n        \"EXPANDED.SET\": {\n          actions: [\"setExpanded\"],\n        },\n        \"SELECTED.SET\": {\n          actions: [\"setSelected\"],\n        },\n        \"SELECTED.ALL\": [\n          {\n            guard: and(\"isMultipleSelection\", \"moveFocus\"),\n            actions: [\"selectAllItems\", \"focusTreeLastItem\"],\n          },\n          {\n            guard: \"isMultipleSelection\",\n            actions: [\"selectAllItems\"],\n          },\n        ],\n        \"EXPANDED.ALL\": {\n          actions: [\"expandAllBranches\"],\n        },\n      },\n\n      activities: [\"trackChildrenMutation\"],\n\n      entry: [\"setFocusableNode\"],\n\n      states: {\n        idle: {\n          on: {\n            \"ITEM.FOCUS\": {\n              actions: [\"setFocusedItem\"],\n            },\n            \"ITEM.ARROW_DOWN\": [\n              {\n                guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n                actions: [\"focusTreeNextItem\", \"extendSelectionToNextItem\"],\n              },\n              {\n                actions: [\"focusTreeNextItem\"],\n              },\n            ],\n            \"ITEM.ARROW_UP\": [\n              {\n                guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n                actions: [\"focusTreePrevItem\", \"extendSelectionToPrevItem\"],\n              },\n              {\n                actions: [\"focusTreePrevItem\"],\n              },\n            ],\n            \"ITEM.ARROW_LEFT\": {\n              actions: [\"focusBranchControl\"],\n            },\n            \"BRANCH.ARROW_LEFT\": [\n              {\n                guard: \"isBranchExpanded\",\n                actions: [\"collapseBranch\"],\n              },\n              {\n                actions: [\"focusBranchControl\"],\n              },\n            ],\n            \"BRANCH.ARROW_RIGHT\": [\n              {\n                guard: and(\"isBranchFocused\", \"isBranchExpanded\"),\n                actions: [\"focusBranchFirstItem\"],\n              },\n              {\n                actions: [\"expandBranch\"],\n              },\n            ],\n            \"EXPAND.SIBLINGS\": {\n              actions: [\"expandSiblingBranches\"],\n            },\n            \"ITEM.HOME\": [\n              {\n                guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n                actions: [\"extendSelectionToFirstItem\", \"focusTreeFirstItem\"],\n              },\n              {\n                actions: [\"focusTreeFirstItem\"],\n              },\n            ],\n            \"ITEM.END\": [\n              {\n                guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n                actions: [\"extendSelectionToLastItem\", \"focusTreeLastItem\"],\n              },\n              {\n                actions: [\"focusTreeLastItem\"],\n              },\n            ],\n            \"ITEM.CLICK\": [\n              {\n                guard: and(\"isCtrlKey\", \"isMultipleSelection\"),\n                actions: [\"addOrRemoveItemFromSelection\"],\n              },\n              {\n                guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n                actions: [\"extendSelectionToItem\"],\n              },\n              {\n                actions: [\"selectItem\"],\n              },\n            ],\n            \"BRANCH.CLICK\": [\n              {\n                guard: and(\"isCtrlKey\", \"isMultipleSelection\"),\n                actions: [\"addOrRemoveItemFromSelection\"],\n              },\n              {\n                guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n                actions: [\"extendSelectionToItem\"],\n              },\n              {\n                guard: \"openOnClick\",\n                actions: [\"selectItem\", \"toggleBranch\"],\n              },\n              {\n                actions: [\"selectItem\"],\n              },\n            ],\n            \"BRANCH_TOGGLE.CLICK\": {\n              actions: [\"toggleBranch\"],\n            },\n            \"TREE.TYPEAHEAD\": {\n              actions: [\"focusMatchedItem\"],\n            },\n            \"TREE.BLUR\": {\n              actions: [\"clearFocusedItem\", \"setFocusableNode\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      guards: {\n        isBranchFocused: (ctx, evt) => ctx.focusedValue === evt.id,\n        isBranchExpanded: (ctx, evt) => ctx.expandedValue.includes(evt.id),\n        isShiftKey: (_ctx, evt) => evt.shiftKey,\n        isCtrlKey: (_ctx, evt) => evt.ctrlKey,\n        hasSelectedItems: (ctx) => ctx.selectedValue.length > 0,\n        isMultipleSelection: (ctx) => ctx.isMultipleSelection,\n        moveFocus: (_ctx, evt) => !!evt.moveFocus,\n        openOnClick: (ctx) => !!ctx.expandOnClick,\n      },\n      activities: {\n        trackChildrenMutation(ctx, _evt, { send }) {\n          const treeEl = dom.getTreeEl(ctx)\n          return observeChildren(treeEl, {\n            callback(records) {\n              const removedNodes = records\n                .flatMap((r) => Array.from(r.removedNodes))\n                .filter((node) => {\n                  if (!isHTMLElement(node)) return false\n                  return node.matches(\"[role=treeitem]\") || node.matches(\"[role=group]\")\n                })\n\n              if (!removedNodes.length) return\n\n              let elementToFocus: HTMLElement | null = null\n              records.forEach((record) => {\n                if (isHTMLElement(record.nextSibling)) {\n                  elementToFocus = record.nextSibling\n                } else if (isHTMLElement(record.previousSibling)) {\n                  elementToFocus = record.previousSibling\n                }\n              })\n\n              if (elementToFocus) {\n                dom.focusNode(elementToFocus)\n              }\n\n              const removedIds: Set<string> = new Set()\n              removedNodes.forEach((node) => {\n                const nodeId = dom.getNodeId(node)\n                if (isHTMLElement(node) && nodeId != null) {\n                  removedIds.add(nodeId)\n                }\n              })\n\n              const nextSet = new Set(ctx.selectedValue)\n              removedIds.forEach((id) => nextSet.delete(id))\n              send({ type: \"SELECTED.SET\", value: removedIds })\n            },\n          })\n        },\n      },\n      actions: {\n        setFocusableNode(ctx) {\n          if (ctx.focusedValue) return\n\n          if (ctx.selectedValue.length > 0) {\n            const firstSelectedId = Array.from(ctx.selectedValue)[0]\n            ctx.focusedValue = firstSelectedId\n            return\n          }\n\n          const walker = dom.getTreeWalker(ctx)\n          const firstItem = walker.firstChild()\n\n          if (!isHTMLElement(firstItem)) return\n          // don't use set.focused here because it will trigger focusChange event\n          ctx.focusedValue = dom.getNodeId(firstItem)\n        },\n        selectItem(ctx, evt) {\n          set.selected(ctx, [evt.id])\n        },\n        setFocusedItem(ctx, evt) {\n          set.focused(ctx, evt.id)\n        },\n        clearFocusedItem(ctx) {\n          set.focused(ctx, null)\n        },\n        clearSelectedItem(ctx) {\n          set.selected(ctx, [])\n        },\n        toggleBranch(ctx, evt) {\n          const nextSet = new Set(ctx.expandedValue)\n\n          if (nextSet.has(evt.id)) {\n            nextSet.delete(evt.id)\n            // collapseEffect(ctx, evt)\n          } else {\n            nextSet.add(evt.id)\n          }\n\n          set.expanded(ctx, Array.from(nextSet))\n        },\n        expandBranch(ctx, evt) {\n          const nextSet = new Set(ctx.expandedValue)\n          nextSet.add(evt.id)\n          set.expanded(ctx, Array.from(nextSet))\n        },\n        collapseBranch(ctx, evt) {\n          const nextSet = new Set(ctx.expandedValue)\n          nextSet.delete(evt.id)\n          set.expanded(ctx, Array.from(nextSet))\n        },\n        setExpanded(ctx, evt) {\n          set.expanded(ctx, evt.value)\n        },\n        setSelected(ctx, evt) {\n          set.selected(ctx, evt.value)\n        },\n        focusTreeFirstItem(ctx) {\n          const walker = dom.getTreeWalker(ctx)\n          dom.focusNode(walker.firstChild())\n        },\n        focusTreeLastItem(ctx, evt) {\n          const walker = dom.getTreeWalker(ctx)\n          dom.focusNode(walker.lastChild(), { preventScroll: evt.preventScroll })\n        },\n        focusBranchFirstItem(ctx, evt) {\n          const focusedEl = dom.getNodeEl(ctx, evt.id)\n          if (!focusedEl) return\n\n          const walker = dom.getTreeWalker(ctx)\n\n          walker.currentNode = focusedEl\n          dom.focusNode(walker.nextNode())\n        },\n        focusTreeNextItem(ctx, evt) {\n          const focusedEl = dom.getNodeEl(ctx, evt.id)\n          if (!focusedEl) return\n\n          const walker = dom.getTreeWalker(ctx)\n\n          if (ctx.focusedValue) {\n            walker.currentNode = focusedEl\n            const nextNode = walker.nextNode()\n            dom.focusNode(nextNode)\n          } else {\n            dom.focusNode(walker.firstChild())\n          }\n        },\n        focusTreePrevItem(ctx, evt) {\n          const focusedEl = dom.getNodeEl(ctx, evt.id)\n          if (!focusedEl) return\n\n          const walker = dom.getTreeWalker(ctx)\n\n          if (ctx.focusedValue) {\n            walker.currentNode = focusedEl\n            const prevNode = walker.previousNode()\n            dom.focusNode(prevNode)\n          } else {\n            dom.focusNode(walker.lastChild())\n          }\n        },\n        focusBranchControl(ctx, evt) {\n          const focusedEl = dom.getNodeEl(ctx, evt.id)\n          if (!focusedEl) return\n\n          const parentDepth = Number(focusedEl.dataset.depth) - 1\n          if (parentDepth < 0) return\n\n          const branchSelector = `[data-part=branch][data-depth=\"${parentDepth}\"]`\n          const closestBranch = focusedEl.closest(branchSelector)\n\n          const branchControl = closestBranch?.querySelector(\"[data-part=branch-control]\")\n          dom.focusNode(branchControl)\n        },\n        selectAllItems(ctx) {\n          const nextSet = new Set<string>()\n          const walker = dom.getTreeWalker(ctx)\n          let node = walker.firstChild()\n          while (node) {\n            const nodeId = dom.getNodeId(node)\n            if (isHTMLElement(node) && nodeId != null) {\n              nextSet.add(nodeId)\n            }\n            node = walker.nextNode()\n          }\n          set.selected(ctx, Array.from(nextSet))\n        },\n        focusMatchedItem(ctx, evt) {\n          dom.focusNode(dom.getMatchingEl(ctx, evt.key))\n        },\n        addOrRemoveItemFromSelection(ctx, evt) {\n          const focusedEl = dom.getNodeEl(ctx, evt.id)\n          if (!focusedEl) return\n\n          const nextSet = new Set(ctx.selectedValue)\n\n          const nodeId = dom.getNodeId(focusedEl)\n          if (nodeId == null) return\n\n          if (nextSet.has(nodeId)) {\n            nextSet.delete(nodeId)\n          } else {\n            nextSet.add(nodeId)\n          }\n\n          set.selected(ctx, Array.from(nextSet))\n        },\n        expandAllBranches(ctx) {\n          const nextSet = new Set<string>()\n          const walker = dom.getTreeWalker(ctx, { skipHidden: false })\n          while (walker.nextNode()) {\n            const node = walker.currentNode\n            const nodeId = dom.getNodeId(node)\n            if (isHTMLElement(node) && node.dataset.part === \"branch-control\" && nodeId != null) {\n              nextSet.add(nodeId)\n            }\n          }\n          set.expanded(ctx, Array.from(nextSet))\n        },\n        expandSiblingBranches(ctx, evt) {\n          const focusedEl = dom.getNodeEl(ctx, evt.id)\n          const nodes = dom.getBranchNodes(ctx, dom.getNodeDepth(focusedEl))\n\n          const nextSet = new Set<string>()\n          nodes.forEach((node) => {\n            const nodeId = dom.getNodeId(node)\n            if (nodeId == null) return\n            nextSet.add(nodeId)\n          })\n\n          set.expanded(ctx, Array.from(nextSet))\n        },\n        extendSelectionToItem(ctx, evt) {\n          const focusedEl = dom.getNodeEl(ctx, evt.id)\n          if (!focusedEl) return\n\n          const nodes = dom.getTreeNodes(ctx)\n          const selectedIds = Array.from(ctx.selectedValue)\n          const anchorEl = dom.getNodeEl(ctx, selectedIds[0]) || nodes[0]\n\n          const nextSet = dom.getNodesInRange(nodes, anchorEl, focusedEl)\n\n          set.selected(ctx, nextSet)\n        },\n        extendSelectionToNextItem(ctx, evt) {\n          const nodeId = evt.id\n\n          const currentNode = dom.getNodeEl(ctx, nodeId)\n          if (!currentNode) return\n\n          const walker = dom.getTreeWalker(ctx)\n          walker.currentNode = currentNode\n\n          const nextNode = walker.nextNode()\n          dom.focusNode(nextNode)\n\n          // extend selection to nextNode (preserve the anchor node)\n          const selectedIds = new Set(ctx.selectedValue)\n          const nextNodeId = dom.getNodeId(nextNode)\n\n          if (nextNodeId == null) return\n\n          if (selectedIds.has(nodeId) && selectedIds.has(nextNodeId)) {\n            selectedIds.delete(nodeId)\n          } else if (!selectedIds.has(nextNodeId)) {\n            selectedIds.add(nextNodeId)\n          }\n\n          set.selected(ctx, Array.from(selectedIds))\n        },\n        extendSelectionToPrevItem(ctx, evt) {\n          const nodeId = evt.id\n\n          const currentNode = dom.getNodeEl(ctx, nodeId)\n          if (!currentNode) return\n\n          const walker = dom.getTreeWalker(ctx)\n          walker.currentNode = currentNode\n\n          const prevNode = walker.previousNode()\n          dom.focusNode(prevNode)\n\n          // extend selection to prevNode (preserve the anchor node)\n          const selectedIds = new Set(ctx.selectedValue)\n          const prevNodeId = dom.getNodeId(prevNode)\n\n          if (prevNodeId == null) return\n\n          if (selectedIds.has(nodeId) && selectedIds.has(prevNodeId)) {\n            selectedIds.delete(nodeId)\n          } else if (!selectedIds.has(prevNodeId)) {\n            selectedIds.add(prevNodeId)\n          }\n\n          set.selected(ctx, Array.from(selectedIds))\n        },\n        extendSelectionToFirstItem(ctx) {\n          const nodes = dom.getTreeNodes(ctx)\n\n          const anchorEl = dom.getNodeEl(ctx, [...ctx.selectedValue][0]) || nodes[0]\n          const focusedEl = nodes[0]\n\n          const selectedIds = dom.getNodesInRange(nodes, anchorEl, focusedEl)\n          set.selected(ctx, selectedIds)\n        },\n        extendSelectionToLastItem(ctx) {\n          const nodes = dom.getTreeNodes(ctx)\n\n          const anchorEl = dom.getNodeEl(ctx, [...ctx.selectedValue][0]) || nodes[0]\n          const focusedEl = nodes[nodes.length - 1]\n\n          const selectedIds = dom.getNodesInRange(nodes, anchorEl, focusedEl)\n          set.selected(ctx, selectedIds)\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  focusChange(ctx: MachineContext) {\n    ctx.onFocusChange?.({ focusedValue: ctx.focusedValue! })\n  },\n  expandedChange(ctx: MachineContext) {\n    ctx.onExpandedChange?.({\n      expandedValue: ctx.expandedValue,\n      focusedValue: ctx.focusedValue!,\n    })\n  },\n  selectionChange(ctx: MachineContext) {\n    ctx.onSelectionChange?.({\n      selectedValue: ctx.selectedValue,\n      focusedValue: ctx.focusedValue,\n    })\n  },\n}\n\nconst set = {\n  selected(ctx: MachineContext, ids: string[]) {\n    ctx.selectedValue = ids\n    invoke.selectionChange(ctx)\n  },\n  focused(ctx: MachineContext, id: string | null) {\n    ctx.focusedValue = id\n    invoke.focusChange(ctx)\n  },\n  expanded(ctx: MachineContext, ids: string[]) {\n    ctx.expandedValue = ids\n    invoke.expandedChange(ctx)\n  },\n}\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useCarouselContext } from './use-carousel-context.js';\n\nconst CarouselIndicator = forwardRef(\n  (props, ref) => {\n    const [indicatorProps, localProps] = createSplitProps()(props, [\n      \"readOnly\",\n      \"index\"\n    ]);\n    const carousel = useCarouselContext();\n    const mergedProps = mergeProps(carousel.getIndicatorProps(indicatorProps), localProps);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nCarouselIndicator.displayName = \"CarouselIndicator\";\n\nexport { CarouselIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCarouselContext } from './use-carousel-context.js';\n\nconst CarouselIndicatorGroup = forwardRef(\n  (props, ref) => {\n    const carousel = useCarouselContext();\n    const mergedProps = mergeProps(carousel.getIndicatorGroupProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nCarouselIndicatorGroup.displayName = \"CarouselIndicatorGroup\";\n\nexport { CarouselIndicatorGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useCarouselContext } from './use-carousel-context.js';\n\nconst CarouselItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\"index\"]);\n  const carousel = useCarouselContext();\n  const mergedProps = mergeProps(carousel.getItemProps(itemProps), localProps);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nCarouselItem.displayName = \"CarouselItem\";\n\nexport { CarouselItem };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCarouselContext } from './use-carousel-context.js';\n\nconst CarouselItemGroup = forwardRef(\n  (props, ref) => {\n    const carousel = useCarouselContext();\n    const mergedProps = mergeProps(carousel.getItemGroupProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nCarouselItemGroup.displayName = \"CarouselItemGroup\";\n\nexport { CarouselItemGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCarouselContext } from './use-carousel-context.js';\n\nconst CarouselNextTrigger = forwardRef(\n  (props, ref) => {\n    const carousel = useCarouselContext();\n    const mergedProps = mergeProps(carousel.getNextTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nCarouselNextTrigger.displayName = \"CarouselNextTrigger\";\n\nexport { CarouselNextTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCarouselContext } from './use-carousel-context.js';\n\nconst CarouselPrevTrigger = forwardRef(\n  (props, ref) => {\n    const carousel = useCarouselContext();\n    const mergedProps = mergeProps(carousel.getPrevTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nCarouselPrevTrigger.displayName = \"CarouselPrevTrigger\";\n\nexport { CarouselPrevTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useCarousel } from './use-carousel.js';\nimport { CarouselProvider } from './use-carousel-context.js';\n\nconst CarouselRoot = forwardRef((props, ref) => {\n  const [useCarouselProps, localProps] = createSplitProps()(props, [\n    \"align\",\n    \"defaultIndex\",\n    \"id\",\n    \"ids\",\n    \"index\",\n    \"loop\",\n    \"onIndexChange\",\n    \"orientation\",\n    \"slidesPerView\",\n    \"spacing\"\n  ]);\n  const carousel = useCarousel(useCarouselProps);\n  const mergedProps = mergeProps(carousel.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(CarouselProvider, { value: carousel, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nCarouselRoot.displayName = \"CarouselRoot\";\n\nexport { CarouselRoot };\n", "'use client';\nimport * as carousel from '@zag-js/carousel';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useCarousel = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    index: props.defaultIndex,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    index: props.index,\n    onIndexChange: useEvent(props.onIndexChange, { sync: true })\n  };\n  const [state, send] = useMachine(carousel.machine(initialContext), { context });\n  return carousel.connect(state, send, normalizeProps);\n};\n\nexport { useCarousel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { CarouselProvider } from './use-carousel-context.js';\n\nconst CarouselRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: carousel }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(carousel.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(CarouselProvider, { value: carousel, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nCarouselRootProvider.displayName = \"CarouselRootProvider\";\n\nexport { CarouselRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCarouselContext } from './use-carousel-context.js';\n\nconst CarouselViewport = forwardRef((props, ref) => {\n  const carousel = useCarouselContext();\n  const mergedProps = mergeProps(carousel.getViewportProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nCarouselViewport.displayName = \"CarouselViewport\";\n\nexport { CarouselViewport };\n", "export { CarouselContext as Context } from './carousel-context.js';\nexport { CarouselControl as Control } from './carousel-control.js';\nexport { CarouselIndicator as Indicator } from './carousel-indicator.js';\nexport { CarouselIndicatorGroup as IndicatorGroup } from './carousel-indicator-group.js';\nexport { CarouselItem as Item } from './carousel-item.js';\nexport { CarouselItemGroup as ItemGroup } from './carousel-item-group.js';\nexport { CarouselNextTrigger as NextTrigger } from './carousel-next-trigger.js';\nexport { CarouselPrevTrigger as PrevTrigger } from './carousel-prev-trigger.js';\nexport { CarouselRoot as Root } from './carousel-root.js';\nexport { CarouselRootProvider as RootProvider } from './carousel-root-provider.js';\nexport { CarouselViewport as Viewport } from './carousel-viewport.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [CheckboxProvider, useCheckboxContext] = createContext({\n  name: \"CheckboxContext\",\n  hookName: \"useCheckboxContext\",\n  providerName: \"<CheckboxProvider />\"\n});\n\nexport { CheckboxProvider, useCheckboxContext };\n", "'use client';\nimport { useCheckboxContext } from './use-checkbox-context.js';\n\nconst CheckboxContext = (props) => props.children(useCheckboxContext());\n\nexport { CheckboxContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCheckboxContext } from './use-checkbox-context.js';\n\nconst CheckboxControl = forwardRef((props, ref) => {\n  const checkbox = useCheckboxContext();\n  const mergedProps = mergeProps(checkbox.getControlProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nCheckboxControl.displayName = \"CheckboxControl\";\n\nexport { CheckboxControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { checkboxAnatomy } from '@ark-ui/anatomy';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useCheckboxGroup } from './use-checkbox-group.js';\nimport { CheckboxGroupContextProvider } from './use-checkbox-group-context.js';\n\nconst CheckboxGroup = forwardRef((props, ref) => {\n  const [checkboxGroupProps, localProps] = createSplitProps()(props, [\n    \"defaultValue\",\n    \"value\",\n    \"onValueChange\",\n    \"disabled\",\n    \"readOnly\"\n  ]);\n  const checkboxGroup = useCheckboxGroup(checkboxGroupProps);\n  return /* @__PURE__ */ jsx(CheckboxGroupContextProvider, { value: checkboxGroup, children: /* @__PURE__ */ jsx(ark.div, { ref, ...localProps, ...checkboxAnatomy.build().group.attrs }) });\n});\nCheckboxGroup.displayName = \"CheckboxGroup\";\n\nexport { CheckboxGroup };\n", "'use client';\nimport { useState, useCallback } from 'react';\n\nfunction useControllableState(props) {\n  const { value, onChange, defaultValue } = props;\n  const [uncontrolledValue, setUncontrolledValue] = useState(defaultValue);\n  const controlled = value !== void 0;\n  const currentValue = controlled ? value : uncontrolledValue;\n  const setValue = useCallback(\n    (value2) => {\n      if (controlled) {\n        return onChange?.(value2);\n      }\n      setUncontrolledValue(value2);\n      return onChange?.(value2);\n    },\n    [controlled, onChange]\n  );\n  return [currentValue, setValue];\n}\n\nexport { useControllableState };\n", "'use client';\nimport { useControllableState } from '../../utils/use-controllable-state.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nfunction useCheckboxGroup(props = {}) {\n  const { defaultValue, value: controlledValue, onValueChange, disabled, readOnly } = props;\n  const interative = !(disabled || readOnly);\n  const onChangeProp = useEvent(onValueChange, { sync: true });\n  const [value, setValue] = useControllableState({\n    value: controlledValue,\n    defaultValue: defaultValue || [],\n    onChange: onChangeProp\n  });\n  const isChecked = (val) => {\n    return value.some((v) => String(v) === String(val));\n  };\n  const toggleValue = (val) => {\n    isChecked(val) ? removeValue(val) : addValue(val);\n  };\n  const addValue = (val) => {\n    if (!interative)\n      return;\n    if (isChecked(val))\n      return;\n    setValue(value.concat(val));\n  };\n  const removeValue = (val) => {\n    if (!interative)\n      return;\n    setValue(value.filter((v) => String(v) !== String(val)));\n  };\n  const getItemProps = (props2) => {\n    return {\n      checked: props2.value != null ? isChecked(props2.value) : void 0,\n      onCheckedChange() {\n        if (props2.value != null) {\n          toggleValue(props2.value);\n        }\n      },\n      disabled,\n      readOnly\n    };\n  };\n  return {\n    isChecked,\n    value,\n    disabled,\n    readOnly,\n    setValue,\n    addValue,\n    toggleValue,\n    getItemProps\n  };\n}\n\nexport { useCheckboxGroup };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [CheckboxGroupContextProvider, useCheckboxGroupContext] = createContext({\n  name: \"CheckboxGroupContext\",\n  hookName: \"useCheckboxGroupContext\",\n  providerName: \"<CheckboxGroupProvider />\",\n  strict: false\n});\n\nexport { CheckboxGroupContextProvider, useCheckboxGroupContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCheckboxContext } from './use-checkbox-context.js';\n\nconst CheckboxHiddenInput = forwardRef(\n  (props, ref) => {\n    const checkbox = useCheckboxContext();\n    const mergedProps = mergeProps(checkbox.getHiddenInputProps(), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nCheckboxHiddenInput.displayName = \"CheckboxHiddenInput\";\n\nexport { CheckboxHiddenInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCheckboxContext } from './use-checkbox-context.js';\n\nconst CheckboxIndicator = forwardRef(\n  (props, ref) => {\n    const { indeterminate, ...rest } = props;\n    const checkbox = useCheckboxContext();\n    const mergedProps = mergeProps(checkbox.getIndicatorProps(), rest);\n    const isVisible = indeterminate ? checkbox.indeterminate : checkbox.checked;\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, hidden: !isVisible, ref });\n  }\n);\nCheckboxIndicator.displayName = \"CheckboxIndicator\";\n\nexport { CheckboxIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCheckboxContext } from './use-checkbox-context.js';\n\nconst CheckboxLabel = forwardRef((props, ref) => {\n  const checkbox = useCheckboxContext();\n  const mergedProps = mergeProps(checkbox.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nCheckboxLabel.displayName = \"CheckboxLabel\";\n\nexport { CheckboxLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useCheckbox } from './use-checkbox.js';\nimport { CheckboxProvider } from './use-checkbox-context.js';\n\nconst CheckboxRoot = forwardRef((props, ref) => {\n  const [useCheckboxProps, localProps] = createSplitProps()(props, [\n    \"checked\",\n    \"defaultChecked\",\n    \"disabled\",\n    \"form\",\n    \"id\",\n    \"ids\",\n    \"invalid\",\n    \"name\",\n    \"onCheckedChange\",\n    \"readOnly\",\n    \"required\",\n    \"value\"\n  ]);\n  const checkbox = useCheckbox(useCheckboxProps);\n  const mergedProps = mergeProps(checkbox.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(CheckboxProvider, { value: checkbox, children: /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref }) });\n});\nCheckboxRoot.displayName = \"CheckboxRoot\";\n\nexport { CheckboxRoot };\n", "'use client';\nimport * as checkbox from '@zag-js/checkbox';\nimport { mergeProps, useMachine, normalizeProps } from '@zag-js/react';\nimport { useMemo, useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\nimport { useCheckboxGroupContext } from './use-checkbox-group-context.js';\n\nconst useCheckbox = (ownProps = {}) => {\n  const checkboxGroup = useCheckboxGroupContext();\n  const props = useMemo(() => {\n    return mergeProps(ownProps, checkboxGroup?.getItemProps({ value: ownProps.value }) ?? {});\n  }, [ownProps, checkboxGroup]);\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    checked: props.defaultChecked,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    checked: props.checked,\n    onCheckedChange: useEvent(props.onCheckedChange, { sync: true })\n  };\n  const [state, send] = useMachine(checkbox.machine(initialContext), { context });\n  return checkbox.connect(state, send, normalizeProps);\n};\n\nexport { useCheckbox };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { CheckboxProvider } from './use-checkbox-context.js';\n\nconst CheckboxRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: checkbox }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(checkbox.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(CheckboxProvider, { value: checkbox, children: /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref }) });\n  }\n);\nCheckboxRootProvider.displayName = \"CheckboxRootProvider\";\n\nexport { CheckboxRootProvider };\n", "export { CheckboxContext as Context } from './checkbox-context.js';\nexport { CheckboxControl as Control } from './checkbox-control.js';\nexport { CheckboxGroup as Group } from './checkbox-group.js';\nexport { CheckboxHiddenInput as HiddenInput } from './checkbox-hidden-input.js';\nexport { CheckboxIndicator as Indicator } from './checkbox-indicator.js';\nexport { CheckboxLabel as Label } from './checkbox-label.js';\nexport { CheckboxRoot as Root } from './checkbox-root.js';\nexport { CheckboxRootProvider as RootProvider } from './checkbox-root-provider.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ClipboardProvider, useClipboardContext] = createContext({\n  name: \"ClipboardContext\",\n  hookName: \"useClipboardContext\",\n  providerName: \"<ClipboardProvider />\"\n});\n\nexport { ClipboardProvider, useClipboardContext };\n", "'use client';\nimport { useClipboardContext } from './use-clipboard-context.js';\n\nconst ClipboardContext = (props) => props.children(useClipboardContext());\n\nexport { ClipboardContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useClipboardContext } from './use-clipboard-context.js';\n\nconst ClipboardControl = forwardRef((props, ref) => {\n  const clipboard = useClipboardContext();\n  const mergedProps = mergeProps(clipboard.getControlProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nClipboardControl.displayName = \"ClipboardControl\";\n\nexport { ClipboardControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useClipboardContext } from './use-clipboard-context.js';\n\nconst ClipboardIndicator = forwardRef(\n  (props, ref) => {\n    const { children, copied, ...localProps } = props;\n    const clipboard = useClipboardContext();\n    const mergedProps = mergeProps(\n      clipboard.getIndicatorProps({ copied: clipboard.copied }),\n      localProps\n    );\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref, children: clipboard.copied ? copied : children });\n  }\n);\nClipboardIndicator.displayName = \"ClipboardIndicator\";\n\nexport { ClipboardIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useClipboardContext } from './use-clipboard-context.js';\n\nconst ClipboardInput = forwardRef((props, ref) => {\n  const clipboard = useClipboardContext();\n  const mergedProps = mergeProps(clipboard.getInputProps(), props);\n  return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n});\nClipboardInput.displayName = \"ClipboardInput\";\n\nexport { ClipboardInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useClipboardContext } from './use-clipboard-context.js';\n\nconst ClipboardLabel = forwardRef((props, ref) => {\n  const clipboard = useClipboardContext();\n  const mergedProps = mergeProps(clipboard.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nClipboardLabel.displayName = \"ClipboardLabel\";\n\nexport { ClipboardLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useClipboard } from './use-clipboard.js';\nimport { ClipboardProvider } from './use-clipboard-context.js';\n\nconst ClipboardRoot = forwardRef((props, ref) => {\n  const [useClipboardProps, localProps] = createSplitProps()(props, [\n    \"id\",\n    \"ids\",\n    \"onStatusChange\",\n    \"timeout\",\n    \"value\"\n  ]);\n  const clipboard = useClipboard(useClipboardProps);\n  const mergedProps = mergeProps(clipboard.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(ClipboardProvider, { value: clipboard, children: /* @__PURE__ */ jsx(ark.div, { ref, ...mergedProps }) });\n});\nClipboardRoot.displayName = \"ClipboardRoot\";\n\nexport { ClipboardRoot };\n", "'use client';\nimport * as clipboard from '@zag-js/clipboard';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\n\nconst useClipboard = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const initialContext = {\n    id: useId(),\n    getRootNode,\n    ...props\n  };\n  const context = {\n    ...initialContext\n  };\n  const [state, send] = useMachine(clipboard.machine(initialContext), { context });\n  return clipboard.connect(state, send, normalizeProps);\n};\n\nexport { useClipboard };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { ClipboardProvider } from './use-clipboard-context.js';\n\nconst ClipboardRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: clipboard }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(clipboard.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(ClipboardProvider, { value: clipboard, children: /* @__PURE__ */ jsx(ark.div, { ref, ...mergedProps }) });\n  }\n);\nClipboardRootProvider.displayName = \"ClipboardRootProvider\";\n\nexport { ClipboardRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useClipboardContext } from './use-clipboard-context.js';\n\nconst ClipboardTrigger = forwardRef(\n  (props, ref) => {\n    const clipboard = useClipboardContext();\n    const mergedProps = mergeProps(clipboard.getTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nClipboardTrigger.displayName = \"ClipboardTrigger\";\n\nexport { ClipboardTrigger };\n", "export { ClipboardContext as Context } from './clipboard-context.js';\nexport { ClipboardControl as Control } from './clipboard-control.js';\nexport { ClipboardIndicator as Indicator } from './clipboard-indicator.js';\nexport { ClipboardInput as Input } from './clipboard-input.js';\nexport { ClipboardLabel as Label } from './clipboard-label.js';\nexport { ClipboardRoot as Root } from './clipboard-root.js';\nexport { ClipboardRootProvider as RootProvider } from './clipboard-root-provider.js';\nexport { ClipboardTrigger as Trigger } from './clipboard-trigger.js';\n", "'use client';\nimport { useCollapsibleContext } from './use-collapsible-context.js';\n\nconst CollapsibleContext = (props) => props.children(useCollapsibleContext());\n\nexport { CollapsibleContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { CollapsibleProvider } from './use-collapsible-context.js';\n\nconst CollapsibleRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: collapsible }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(collapsible.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(CollapsibleProvider, { value: collapsible, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nCollapsibleRootProvider.displayName = \"CollapsibleRootProvider\";\n\nexport { CollapsibleRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useCollapsibleContext } from './use-collapsible-context.js';\n\nconst CollapsibleTrigger = forwardRef(\n  (props, ref) => {\n    const collapsible = useCollapsibleContext();\n    const mergedProps = mergeProps(collapsible.getTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nCollapsibleTrigger.displayName = \"CollapsibleTrigger\";\n\nexport { CollapsibleTrigger };\n", "export { CollapsibleContent as Content } from './collapsible-content.js';\nexport { CollapsibleContext as Context } from './collapsible-context.js';\nexport { CollapsibleRoot as Root } from './collapsible-root.js';\nexport { CollapsibleRootProvider as RootProvider } from './collapsible-root-provider.js';\nexport { CollapsibleTrigger as Trigger } from './collapsible-trigger.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { ColorPickerAreaPropsProvider } from './use-color-picker-area-props-context.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerArea = forwardRef((props, ref) => {\n  const [areaProps, localProps] = createSplitProps()(props, [\"xChannel\", \"yChannel\"]);\n  const colorPicker = useColorPickerContext();\n  const mergedProps = mergeProps(colorPicker.getAreaProps(areaProps), localProps);\n  return /* @__PURE__ */ jsx(ColorPickerAreaPropsProvider, { value: areaProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nColorPickerArea.displayName = \"ColorPickerArea\";\n\nexport { ColorPickerArea };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ColorPickerAreaPropsProvider, useColorPickerAreaPropsContext] = createContext({\n  name: \"ColorPickerAreaContext\",\n  hookName: \"useColorPickerAreaContext\",\n  providerName: \"<ColorPickerAreaProvider />\"\n});\n\nexport { ColorPickerAreaPropsProvider, useColorPickerAreaPropsContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ColorPickerProvider, useColorPickerContext] = createContext({\n  name: \"ColorPickerContext\",\n  hookName: \"useColorPickerContext\",\n  providerName: \"<ColorPickerProvider />\"\n});\n\nexport { ColorPickerProvider, useColorPickerContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerAreaPropsContext } from './use-color-picker-area-props-context.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerAreaBackground = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const areaProps = useColorPickerAreaPropsContext();\n    const mergedProps = mergeProps(colorPicker.getAreaBackgroundProps(areaProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nColorPickerAreaBackground.displayName = \"ColorPickerAreaBackground\";\n\nexport { ColorPickerAreaBackground };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerAreaPropsContext } from './use-color-picker-area-props-context.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerAreaThumb = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const areaProps = useColorPickerAreaPropsContext();\n    const mergedProps = mergeProps(colorPicker.getAreaThumbProps(areaProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nColorPickerAreaThumb.displayName = \"ColorPickerAreaThumb\";\n\nexport { ColorPickerAreaThumb };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerChannelInput = forwardRef(\n  (props, ref) => {\n    const [channelProps, localProps] = createSplitProps()(props, [\n      \"channel\",\n      \"orientation\"\n    ]);\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getChannelInputProps(channelProps), localProps);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nColorPickerChannelInput.displayName = \"ColorPickerChannelInput\";\n\nexport { ColorPickerChannelInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { ColorPickerChannelPropsProvider } from './use-color-picker-channel-props-context.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerChannelSlider = forwardRef(\n  (props, ref) => {\n    const [channelProps, localProps] = createSplitProps()(props, [\n      \"channel\",\n      \"orientation\"\n    ]);\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getChannelSliderProps(channelProps), localProps);\n    return /* @__PURE__ */ jsx(ColorPickerChannelPropsProvider, { value: channelProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nColorPickerChannelSlider.displayName = \"ColorPickerChannelSlider\";\n\nexport { ColorPickerChannelSlider };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ColorPickerChannelPropsProvider, useColorPickerChannelPropsContext] = createContext({\n  name: \"ColorPickerChannelSliderContext\",\n  hookName: \"useColorPickerChannelSliderContext\",\n  providerName: \"<ColorPickerChannelSliderProvider />\"\n});\n\nexport { ColorPickerChannelPropsProvider, useColorPickerChannelPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerChannelPropsContext } from './use-color-picker-channel-props-context.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerChannelSliderThumb = forwardRef((props, ref) => {\n  const colorPicker = useColorPickerContext();\n  const channelProps = useColorPickerChannelPropsContext();\n  const mergedProps = mergeProps(colorPicker.getChannelSliderThumbProps(channelProps), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nColorPickerChannelSliderThumb.displayName = \"ColorPickerChannelSliderThumb\";\n\nexport { ColorPickerChannelSliderThumb };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerChannelPropsContext } from './use-color-picker-channel-props-context.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerChannelSliderTrack = forwardRef((props, ref) => {\n  const colorPicker = useColorPickerContext();\n  const channelProps = useColorPickerChannelPropsContext();\n  const mergedProps = mergeProps(colorPicker.getChannelSliderTrackProps(channelProps), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nColorPickerChannelSliderTrack.displayName = \"ColorPickerChannelSliderTrack\";\n\nexport { ColorPickerChannelSliderTrack };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerContent = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const presence = usePresenceContext();\n    const mergedProps = mergeProps(\n      colorPicker.getContentProps(),\n      presence.getPresenceProps(ref),\n      props\n    );\n    if (presence.unmounted) {\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n  }\n);\nColorPickerContent.displayName = \"ColorPickerContent\";\n\nexport { ColorPickerContent };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [PresenceProvider, usePresenceContext] = createContext({\n  name: \"PresenceContext\",\n  hookName: \"usePresenceContext\",\n  providerName: \"<PresenceProvider />\"\n});\n\nexport { PresenceProvider, usePresenceContext };\n", "'use client';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerContext = (props) => props.children(useColorPickerContext());\n\nexport { ColorPickerContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerControl = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getControlProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nColorPickerControl.displayName = \"ColorPickerControl\";\n\nexport { ColorPickerControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerEyeDropperTrigger = forwardRef((props, ref) => {\n  const colorPicker = useColorPickerContext();\n  const mergedProps = mergeProps(colorPicker.getEyeDropperTriggerProps(), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nColorPickerEyeDropperTrigger.displayName = \"ColorPickerEyeDropperTrigger\";\n\nexport { ColorPickerEyeDropperTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerFormatSelect = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getFormatSelectProps(), props);\n    return /* @__PURE__ */ jsx(ark.select, { ...mergedProps, ref, children: [\"rgba\", \"hsla\", \"hsba\"].map((format) => /* @__PURE__ */ jsx(ark.option, { value: format, children: format }, format)) });\n  }\n);\nColorPickerFormatSelect.displayName = \"ColorPickerFormatSelect\";\n\nexport { ColorPickerFormatSelect };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerFormatTrigger = forwardRef((props, ref) => {\n  const colorPicker = useColorPickerContext();\n  const mergedProps = mergeProps(colorPicker.getFormatTriggerProps(), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nColorPickerFormatTrigger.displayName = \"ColorPickerFormatTrigger\";\n\nexport { ColorPickerFormatTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerHiddenInput = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getHiddenInputProps(), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nColorPickerHiddenInput.displayName = \"ColorPickerHiddenInput\";\n\nexport { ColorPickerHiddenInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerLabel = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getLabelProps(), props);\n    return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n  }\n);\nColorPickerLabel.displayName = \"ColorPickerLabel\";\n\nexport { ColorPickerLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerPositioner = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getPositionerProps(), props);\n    const presence = usePresenceContext();\n    if (presence.unmounted) {\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nColorPickerPositioner.displayName = \"ColorPickerPositioner\";\n\nexport { ColorPickerPositioner };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useColorPicker } from './use-color-picker.js';\nimport { ColorPickerProvider } from './use-color-picker-context.js';\n\nconst ColorPickerRoot = forwardRef((props, ref) => {\n  const [presenceProps, colorPickerProps] = splitPresenceProps(props);\n  const [useColorPickerProps, localProps] = createSplitProps()(\n    colorPickerProps,\n    [\n      \"closeOnSelect\",\n      \"defaultOpen\",\n      \"defaultValue\",\n      \"disabled\",\n      \"format\",\n      \"id\",\n      \"ids\",\n      \"initialFocusEl\",\n      \"name\",\n      \"name\",\n      \"onFocusOutside\",\n      \"onFormatChange\",\n      \"onInteractOutside\",\n      \"onOpenChange\",\n      \"onPointerDownOutside\",\n      \"onValueChange\",\n      \"onValueChangeEnd\",\n      \"open\",\n      \"positioning\",\n      \"readOnly\",\n      \"value\"\n    ]\n  );\n  const colorPicker = useColorPicker(useColorPickerProps);\n  const presence = usePresence(mergeProps({ present: colorPicker.open }, presenceProps));\n  const mergedProps = mergeProps(colorPicker.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(ColorPickerProvider, { value: colorPicker, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nColorPickerRoot.displayName = \"ColorPickerRoot\";\n\nexport { ColorPickerRoot };\n", "'use client';\nimport { createSplitProps } from '../../utils/create-split-props.js';\n\nconst splitPresenceProps = (props) => createSplitProps()(props, [\n  \"immediate\",\n  \"lazyMount\",\n  \"onExitComplete\",\n  \"present\",\n  \"unmountOnExit\"\n]);\n\nexport { splitPresenceProps };\n", "import type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport type { MachineApi, Send, State } from \"./presence.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, _normalize: NormalizeProps<T>): MachineApi {\n  const present = state.matches(\"mounted\", \"unmountSuspended\")\n  return {\n    skip: !state.context.initial && present,\n    present,\n    setNode(node) {\n      if (!node) return\n      send({ type: \"NODE.SET\", node })\n    },\n    unmount() {\n      send({ type: \"UNMOUNT\" })\n    },\n  }\n}\n", "import { createMachine, ref } from \"@zag-js/core\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./presence.types\"\n\nfunction getAnimationName(styles?: CSSStyleDeclaration | null) {\n  return styles?.animationName || \"none\"\n}\n\nexport function machine(ctx: Partial<UserDefinedContext>) {\n  return createMachine<MachineContext, MachineState>(\n    {\n      initial: ctx.present ? \"mounted\" : \"unmounted\",\n\n      context: {\n        node: null,\n        styles: null,\n        unmountAnimationName: null,\n        prevAnimationName: null,\n        present: false,\n        initial: false,\n        ...ctx,\n      },\n\n      exit: [\"clearInitial\"],\n\n      watch: {\n        present: [\"setInitial\", \"syncPresence\"],\n      },\n\n      on: {\n        \"NODE.SET\": {\n          actions: [\"setNode\", \"setStyles\"],\n        },\n      },\n\n      states: {\n        mounted: {\n          on: {\n            UNMOUNT: {\n              target: \"unmounted\",\n              actions: [\"invokeOnExitComplete\"],\n            },\n            \"UNMOUNT.SUSPEND\": \"unmountSuspended\",\n          },\n        },\n        unmountSuspended: {\n          activities: [\"trackAnimationEvents\"],\n          on: {\n            MOUNT: {\n              target: \"mounted\",\n              actions: [\"setPrevAnimationName\"],\n            },\n            \"ANIMATION.END\": {\n              target: \"unmounted\",\n              actions: [\"invokeOnExitComplete\"],\n            },\n            UNMOUNT: {\n              target: \"unmounted\",\n              actions: [\"invokeOnExitComplete\"],\n            },\n          },\n        },\n        unmounted: {\n          entry: [\"clearPrevAnimationName\"],\n          on: {\n            MOUNT: {\n              target: \"mounted\",\n              actions: [\"setPrevAnimationName\"],\n            },\n          },\n        },\n      },\n    },\n    {\n      actions: {\n        setInitial(ctx) {\n          ctx.initial = true\n        },\n        clearInitial(ctx) {\n          ctx.initial = false\n        },\n        invokeOnExitComplete(ctx) {\n          ctx.onExitComplete?.()\n        },\n        setNode(ctx, evt) {\n          ctx.node = ref(evt.node)\n        },\n        setStyles(ctx, evt) {\n          const win = evt.node.ownerDocument.defaultView || window\n          ctx.styles = ref(win.getComputedStyle(evt.node))\n        },\n        syncPresence(ctx, _evt, { send }) {\n          if (ctx.present) {\n            send({ type: \"MOUNT\", src: \"presence.changed\" })\n            return\n          }\n\n          const animationName = getAnimationName(ctx.styles)\n          const exec = ctx.immediate ? queueMicrotask : requestAnimationFrame\n\n          exec(() => {\n            ctx.unmountAnimationName = animationName\n            if (animationName === \"none\" || animationName === ctx.prevAnimationName || ctx.styles?.display === \"none\") {\n              send({ type: \"UNMOUNT\", src: \"presence.changed\" })\n            } else {\n              send({ type: \"UNMOUNT.SUSPEND\" })\n            }\n          })\n        },\n        setPrevAnimationName(ctx) {\n          const exec = ctx.immediate ? queueMicrotask : requestAnimationFrame\n          exec(() => {\n            ctx.prevAnimationName = getAnimationName(ctx.styles)\n          })\n        },\n        clearPrevAnimationName(ctx) {\n          ctx.prevAnimationName = null\n        },\n      },\n      activities: {\n        trackAnimationEvents(ctx, _evt, { send }) {\n          const node = ctx.node\n          if (!node) return\n\n          const onStart = (event: AnimationEvent) => {\n            if (event.target === node) {\n              ctx.prevAnimationName = getAnimationName(ctx.styles)\n            }\n          }\n\n          const onEnd = (event: AnimationEvent) => {\n            const animationName = getAnimationName(ctx.styles)\n            if (event.target === node && animationName === ctx.unmountAnimationName) {\n              send({ type: \"UNMOUNT\", src: \"animationend\" })\n            }\n          }\n\n          node.addEventListener(\"animationstart\", onStart)\n          node.addEventListener(\"animationcancel\", onEnd)\n          node.addEventListener(\"animationend\", onEnd)\n\n          return () => {\n            node.removeEventListener(\"animationstart\", onStart)\n            node.removeEventListener(\"animationcancel\", onEnd)\n            node.removeEventListener(\"animationend\", onEnd)\n          }\n        },\n      },\n    },\n  )\n}\n", "import { createProps } from \"@zag-js/types\"\nimport type { UserDefinedContext } from \"./presence.types\"\n\nexport const props = createProps<UserDefinedContext>()([\"onExitComplete\", \"present\", \"immediate\"])\n", "'use client';\nimport * as presence from '@zag-js/presence';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useRef } from 'react';\nimport { composeRefs } from '../../utils/compose-refs.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst usePresence = (props) => {\n  const { lazyMount, unmountOnExit, ...rest } = props;\n  const wasEverPresent = useRef(false);\n  const context = {\n    ...rest,\n    onExitComplete: useEvent(props.onExitComplete)\n  };\n  const [state, send] = useMachine(presence.machine(context), { context });\n  const api = presence.connect(state, send, normalizeProps);\n  if (api.present) {\n    wasEverPresent.current = true;\n  }\n  const unmounted = !api.present && !wasEverPresent.current && lazyMount || unmountOnExit && !api.present && wasEverPresent.current;\n  const getPresenceProps = (ref) => ({\n    ref: composeRefs(api.setNode, ref),\n    \"data-state\": props.present ? \"open\" : \"closed\",\n    hidden: !api.present\n  });\n  return {\n    getPresenceProps,\n    present: api.present,\n    unmounted\n  };\n};\n\nexport { usePresence };\n", "'use client';\nimport * as colorPicker from '@zag-js/color-picker';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useColorPicker = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    open: props.defaultOpen,\n    \"open.controlled\": props.open !== void 0,\n    ...props,\n    value: props.value ? colorPicker.parse(props.value) : props.defaultValue ? colorPicker.parse(props.defaultValue) : void 0\n  };\n  const context = {\n    ...initialContext,\n    value: props.value ? colorPicker.parse(props.value) : void 0,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onValueChangeEnd: useEvent(props.onValueChangeEnd)\n  };\n  const [state, send] = useMachine(colorPicker.machine(initialContext), { context });\n  return colorPicker.connect(state, send, normalizeProps);\n};\n\nexport { useColorPicker };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { ColorPickerProvider } from './use-color-picker-context.js';\n\nconst ColorPickerRootProvider = forwardRef(\n  (props, ref) => {\n    const [presenceProps, colorPickerProps] = splitPresenceProps(props);\n    const [{ value: colorPicker }, localProps] = createSplitProps()(\n      colorPickerProps,\n      [\"value\"]\n    );\n    const presence = usePresence(mergeProps({ present: colorPicker.open }, presenceProps));\n    const mergedProps = mergeProps(colorPicker.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(ColorPickerProvider, { value: colorPicker, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n  }\n);\nColorPickerRootProvider.displayName = \"ColorPickerRootProvider\";\n\nexport { ColorPickerRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\nimport { ColorPickerSwatchPropsProvider } from './use-color-picker-swatch-props-context.js';\n\nconst ColorPickerSwatch = forwardRef(\n  (props, ref) => {\n    const [swatwchProps, localProps] = createSplitProps()(props, [\n      \"respectAlpha\",\n      \"value\"\n    ]);\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getSwatchProps(swatwchProps), localProps);\n    return /* @__PURE__ */ jsx(ColorPickerSwatchPropsProvider, { value: swatwchProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nColorPickerSwatch.displayName = \"ColorPickerSwatch\";\n\nexport { ColorPickerSwatch };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ColorPickerSwatchPropsProvider, useColorPickerSwatchPropsContext] = createContext({\n  name: \"ColorPickerSwatchContext\",\n  hookName: \"useColorPickerSwatchContext\",\n  providerName: \"<ColorPickerSwatchProvider />\"\n});\n\nexport { ColorPickerSwatchPropsProvider, useColorPickerSwatchPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerSwatchGroup = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getSwatchGroupProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nColorPickerSwatchGroup.displayName = \"ColorPickerSwatchGroup\";\n\nexport { ColorPickerSwatchGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\nimport { useColorPickerSwatchPropsContext } from './use-color-picker-swatch-props-context.js';\n\nconst ColorPickerSwatchIndicator = forwardRef((props, ref) => {\n  const colorPicker = useColorPickerContext();\n  const swatchProps = useColorPickerSwatchPropsContext();\n  const mergedProps = mergeProps(colorPicker.getSwatchIndicatorProps(swatchProps), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nColorPickerSwatchIndicator.displayName = \"ColorPickerSwatchIndicator\";\n\nexport { ColorPickerSwatchIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerSwatchTrigger = forwardRef((props, ref) => {\n  const [triggerProps, localProps] = createSplitProps()(props, [\n    \"value\",\n    \"disabled\"\n  ]);\n  const colorPicker = useColorPickerContext();\n  const mergedProps = mergeProps(colorPicker.getSwatchTriggerProps(triggerProps), localProps);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nColorPickerSwatchTrigger.displayName = \"ColorPickerSwatchTrigger\";\n\nexport { ColorPickerSwatchTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerTransparencyGrid = forwardRef((props, ref) => {\n  const [gridProps, localProps] = createSplitProps()(props, [\"size\"]);\n  const colorPicker = useColorPickerContext();\n  const mergedProps = mergeProps(colorPicker.getTransparencyGridProps(gridProps), localProps);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nColorPickerTransparencyGrid.displayName = \"ColorPickerTransparencyGrid\";\n\nexport { ColorPickerTransparencyGrid };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerTrigger = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    const mergedProps = mergeProps(colorPicker.getTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nColorPickerTrigger.displayName = \"ColorPickerTrigger\";\n\nexport { ColorPickerTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { colorPickerAnatomy } from '@ark-ui/anatomy';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerValueText = forwardRef(\n  (props, ref) => {\n    const colorPicker = useColorPickerContext();\n    return /* @__PURE__ */ jsx(ark.span, { ...colorPickerAnatomy.build().valueText.attrs, ...props, ref, children: props.children || colorPicker.valueAsString });\n  }\n);\nColorPickerValueText.displayName = \"ColorPickerValueText\";\n\nexport { ColorPickerValueText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { colorPickerAnatomy } from '@ark-ui/anatomy';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useColorPickerContext } from './use-color-picker-context.js';\n\nconst ColorPickerView = forwardRef((props, ref) => {\n  const colorPicker = useColorPickerContext();\n  if (colorPicker.format !== props.format) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    ark.div,\n    {\n      ref,\n      \"data-format\": props.format,\n      ...colorPickerAnatomy.build().view.attrs,\n      ...props\n    }\n  );\n});\nColorPickerView.displayName = \"ColorPickerView\";\n\nexport { ColorPickerView };\n", "export { ColorPickerArea as Area } from './color-picker-area.js';\nexport { ColorPickerAreaBackground as AreaBackground } from './color-picker-area-background.js';\nexport { ColorPickerAreaThumb as AreaThumb } from './color-picker-area-thumb.js';\nexport { ColorPickerChannelInput as ChannelInput } from './color-picker-channel-input.js';\nexport { ColorPickerChannelSlider as ChannelSlider } from './color-picker-channel-slider.js';\nexport { ColorPickerChannelSliderThumb as ChannelSliderThumb } from './color-picker-channel-slider-thumb.js';\nexport { ColorPickerChannelSliderTrack as ChannelSliderTrack } from './color-picker-channel-slider-track.js';\nexport { ColorPickerContent as Content } from './color-picker-content.js';\nexport { ColorPickerContext as Context } from './color-picker-context.js';\nexport { ColorPickerControl as Control } from './color-picker-control.js';\nexport { ColorPickerEyeDropperTrigger as EyeDropperTrigger } from './color-picker-eye-dropper-trigger.js';\nexport { ColorPickerFormatSelect as FormatSelect } from './color-picker-format-select.js';\nexport { ColorPickerFormatTrigger as FormatTrigger } from './color-picker-format-trigger.js';\nexport { ColorPickerLabel as Label } from './color-picker-label.js';\nexport { ColorPickerPositioner as Positioner } from './color-picker-positioner.js';\nexport { ColorPickerRoot as Root } from './color-picker-root.js';\nexport { ColorPickerSwatch as Swatch } from './color-picker-swatch.js';\nexport { ColorPickerSwatchGroup as SwatchGroup } from './color-picker-swatch-group.js';\nexport { ColorPickerSwatchIndicator as SwatchIndicator } from './color-picker-swatch-indicator.js';\nexport { ColorPickerSwatchTrigger as SwatchTrigger } from './color-picker-swatch-trigger.js';\nexport { ColorPickerTransparencyGrid as TransparencyGrid } from './color-picker-transparency-grid.js';\nexport { ColorPickerTrigger as Trigger } from './color-picker-trigger.js';\nexport { ColorPickerValueText as ValueText } from './color-picker-value-text.js';\nexport { ColorPickerView as View } from './color-picker-view.js';\nexport { ColorPickerHiddenInput as HiddenInput } from './color-picker-hidden-input.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\n\nconst ComboboxClearTrigger = forwardRef(\n  (props, ref) => {\n    const combobox = useComboboxContext();\n    const mergedProps = mergeProps(combobox.getClearTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nComboboxClearTrigger.displayName = \"ComboboxClearTrigger\";\n\nexport { ComboboxClearTrigger };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ComboboxProvider, useComboboxContext] = createContext({\n  name: \"ComboboxContext\",\n  hookName: \"useComboboxContext\",\n  providerName: \"<ComboboxProvider />\"\n});\n\nexport { ComboboxProvider, useComboboxContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useComboboxContext } from './use-combobox-context.js';\n\nconst ComboboxContent = forwardRef((props, ref) => {\n  const combobox = useComboboxContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(combobox.getContentProps(), presence.getPresenceProps(ref), props);\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n});\nComboboxContent.displayName = \"ComboboxContent\";\n\nexport { ComboboxContent };\n", "'use client';\nimport { useComboboxContext } from './use-combobox-context.js';\n\nconst ComboboxContext = (props) => props.children(useComboboxContext());\n\nexport { ComboboxContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\n\nconst ComboboxControl = forwardRef((props, ref) => {\n  const combobox = useComboboxContext();\n  const mergedProps = mergeProps(combobox.getControlProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nComboboxControl.displayName = \"ComboboxControl\";\n\nexport { ComboboxControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\n\nconst ComboboxInput = forwardRef((props, ref) => {\n  const combobox = useComboboxContext();\n  const mergedProps = mergeProps(combobox.getInputProps(), props);\n  return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n});\nComboboxInput.displayName = \"ComboboxInput\";\n\nexport { ComboboxInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\nimport { ComboboxItemProvider } from './use-combobox-item-context.js';\nimport { ComboboxItemPropsProvider } from './use-combobox-item-props-context.js';\n\nconst ComboboxItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\"item\", \"persistFocus\"]);\n  const combobox = useComboboxContext();\n  const mergedProps = mergeProps(combobox.getItemProps(itemProps), localProps);\n  const itemState = combobox.getItemState(itemProps);\n  return /* @__PURE__ */ jsx(ComboboxItemPropsProvider, { value: itemProps, children: /* @__PURE__ */ jsx(ComboboxItemProvider, { value: itemState, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nComboboxItem.displayName = \"ComboboxItem\";\n\nexport { ComboboxItem };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ComboboxItemProvider, useComboboxItemContext] = createContext(\n  {\n    name: \"ComboboxItemContext\",\n    hookName: \"useComboboxItemContext\",\n    providerName: \"<ComboboxItemProvider />\"\n  }\n);\n\nexport { ComboboxItemProvider, useComboboxItemContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ComboboxItemPropsProvider, useComboboxItemPropsContext] = createContext({\n  name: \"ComboboxItemPropsContext\",\n  hookName: \"useComboboxItemPropsContext\",\n  providerName: \"<ComboboxItemPropsProvider />\"\n});\n\nexport { ComboboxItemPropsProvider, useComboboxItemPropsContext };\n", "'use client';\nimport { useComboboxItemContext } from './use-combobox-item-context.js';\n\nconst ComboboxItemContext = (props) => props.children(useComboboxItemContext());\n\nexport { ComboboxItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef, useId } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\nimport { ComboboxItemGroupPropsProvider } from './use-combobox-item-group-props-context.js';\n\nconst ComboboxItemGroup = forwardRef(\n  (props, ref) => {\n    const id = useId();\n    const [_itemGroupProps, localProps] = createSplitProps()(props, [\"id\"]);\n    const itemGroupProps = { id, ..._itemGroupProps };\n    const combobox = useComboboxContext();\n    const mergedProps = mergeProps(combobox.getItemGroupProps(itemGroupProps), localProps);\n    return /* @__PURE__ */ jsx(ComboboxItemGroupPropsProvider, { value: itemGroupProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nComboboxItemGroup.displayName = \"ComboboxItemGroup\";\n\nexport { ComboboxItemGroup };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ComboboxItemGroupPropsProvider, useComboboxItemGroupPropsContext] = createContext({\n  name: \"ComboboxItemGroupPropsContext\",\n  hookName: \"useComboboxItemGroupPropsContext\",\n  providerName: \"<ComboboxItemGroupPropsProvider />\"\n});\n\nexport { ComboboxItemGroupPropsProvider, useComboboxItemGroupPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\nimport { useComboboxItemGroupPropsContext } from './use-combobox-item-group-props-context.js';\n\nconst ComboboxItemGroupLabel = forwardRef(\n  (props, ref) => {\n    const combobox = useComboboxContext();\n    const itemGroupProps = useComboboxItemGroupPropsContext();\n    const mergedProps = mergeProps(\n      combobox.getItemGroupLabelProps({ htmlFor: itemGroupProps.id }),\n      props\n    );\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nComboboxItemGroupLabel.displayName = \"ComboboxItemGroupLabel\";\n\nexport { ComboboxItemGroupLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\nimport { useComboboxItemPropsContext } from './use-combobox-item-props-context.js';\n\nconst ComboboxItemIndicator = forwardRef(\n  (props, ref) => {\n    const combobox = useComboboxContext();\n    const itemProps = useComboboxItemPropsContext();\n    const mergedProps = mergeProps(combobox.getItemIndicatorProps(itemProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nComboboxItemIndicator.displayName = \"ComboboxItemIndicator\";\n\nexport { ComboboxItemIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\nimport { useComboboxItemPropsContext } from './use-combobox-item-props-context.js';\n\nconst ComboboxItemText = forwardRef((props, ref) => {\n  const combobox = useComboboxContext();\n  const itemProps = useComboboxItemPropsContext();\n  const mergedProps = mergeProps(combobox.getItemTextProps(itemProps), props);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nComboboxItemText.displayName = \"ComboboxItemText\";\n\nexport { ComboboxItemText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\n\nconst ComboboxLabel = forwardRef((props, ref) => {\n  const combobox = useComboboxContext();\n  const mergedProps = mergeProps(combobox.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nComboboxLabel.displayName = \"ComboboxLabel\";\n\nexport { ComboboxLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\n\nconst ComboboxList = forwardRef((props, ref) => {\n  const combobox = useComboboxContext();\n  const mergedProps = mergeProps(combobox.getListProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nComboboxList.displayName = \"ComboboxList\";\n\nexport { ComboboxList };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useComboboxContext } from './use-combobox-context.js';\n\nconst ComboboxPositioner = forwardRef(\n  (props, ref) => {\n    const combobox = useComboboxContext();\n    const presence = usePresenceContext();\n    const mergedProps = mergeProps(combobox.getPositionerProps(), props);\n    if (presence.unmounted) {\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nComboboxPositioner.displayName = \"ComboboxPositioner\";\n\nexport { ComboboxPositioner };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useCombobox } from './use-combobox.js';\nimport { ComboboxProvider } from './use-combobox-context.js';\n\nconst ComboboxImpl = (props, ref) => {\n  const [presenceProps, comboboxProps] = splitPresenceProps(props);\n  const [useComboboxProps, localProps] = createSplitProps()(comboboxProps, [\n    \"allowCustomValue\",\n    \"autoFocus\",\n    \"closeOnSelect\",\n    \"composite\",\n    \"defaultOpen\",\n    \"defaultValue\",\n    \"disabled\",\n    \"disableLayer\",\n    \"form\",\n    \"getSelectionValue\",\n    \"highlightedValue\",\n    \"id\",\n    \"ids\",\n    \"inputBehavior\",\n    \"inputValue\",\n    \"invalid\",\n    \"isItemDisabled\",\n    \"items\",\n    \"itemToString\",\n    \"itemToValue\",\n    \"loopFocus\",\n    \"multiple\",\n    \"name\",\n    \"onFocusOutside\",\n    \"onHighlightChange\",\n    \"onInputValueChange\",\n    \"onInteractOutside\",\n    \"onOpenChange\",\n    \"onOpenChange\",\n    \"onPointerDownOutside\",\n    \"onValueChange\",\n    \"open\",\n    \"openOnChange\",\n    \"openOnClick\",\n    \"openOnKeyPress\",\n    \"placeholder\",\n    \"positioning\",\n    \"readOnly\",\n    \"scrollToIndexFn\",\n    \"selectionBehavior\",\n    \"translations\",\n    \"value\"\n  ]);\n  const combobox = useCombobox(useComboboxProps);\n  const presence = usePresence(mergeProps({ present: combobox.open }, presenceProps));\n  const mergedProps = mergeProps(combobox.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(ComboboxProvider, { value: combobox, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n};\nconst ComboboxRoot = forwardRef(ComboboxImpl);\n\nexport { ComboboxRoot };\n", "'use client';\nimport * as combobox from '@zag-js/combobox';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useMemo, useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useCombobox = (props) => {\n  const [collectionOptions, comboboxProps] = createSplitProps()(props, [\n    \"isItemDisabled\",\n    \"itemToValue\",\n    \"itemToString\",\n    \"items\"\n  ]);\n  const collection = useMemo(\n    () => combobox.collection(collectionOptions),\n    Object.values(collectionOptions)\n  );\n  const { dir } = useLocaleContext();\n  const { getRootNode } = useEnvironmentContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    collection,\n    open: props.defaultOpen,\n    value: props.defaultValue,\n    \"open.controlled\": props.open !== void 0,\n    ...comboboxProps\n  };\n  const context = {\n    ...initialContext,\n    collection,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onInputValueChange: useEvent(props.onInputValueChange, { sync: true }),\n    onHighlightChange: useEvent(props.onHighlightChange),\n    onOpenChange: useEvent(props.onOpenChange)\n  };\n  const [state, send] = useMachine(combobox.machine(initialContext), {\n    context\n  });\n  return combobox.connect(state, send, normalizeProps);\n};\n\nexport { useCombobox };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { ComboboxProvider } from './use-combobox-context.js';\n\nconst ComboboxImpl = (props, ref) => {\n  const [presenceProps, comboboxProps] = splitPresenceProps(props);\n  const [{ value: combobox }, localProps] = createSplitProps()(\n    comboboxProps,\n    [\"value\"]\n  );\n  const presence = usePresence(mergeProps({ present: combobox.open }, presenceProps));\n  const mergedProps = mergeProps(combobox.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(ComboboxProvider, { value: combobox, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n};\nconst ComboboxRootProvider = forwardRef(ComboboxImpl);\n\nexport { ComboboxRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useComboboxContext } from './use-combobox-context.js';\n\nconst ComboboxTrigger = forwardRef((props, ref) => {\n  const combobox = useComboboxContext();\n  const mergedProps = mergeProps(combobox.getTriggerProps(), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nComboboxTrigger.displayName = \"ComboboxTrigger\";\n\nexport { ComboboxTrigger };\n", "export { ComboboxClearTrigger as ClearTrigger } from './combobox-clear-trigger.js';\nexport { ComboboxContent as Content } from './combobox-content.js';\nexport { ComboboxContext as Context } from './combobox-context.js';\nexport { ComboboxControl as Control } from './combobox-control.js';\nexport { ComboboxInput as Input } from './combobox-input.js';\nexport { ComboboxItem as Item } from './combobox-item.js';\nexport { ComboboxItemContext as ItemContext } from './combobox-item-context.js';\nexport { ComboboxItemGroup as ItemGroup } from './combobox-item-group.js';\nexport { ComboboxItemGroupLabel as ItemGroupLabel } from './combobox-item-group-label.js';\nexport { ComboboxItemIndicator as ItemIndicator } from './combobox-item-indicator.js';\nexport { ComboboxItemText as ItemText } from './combobox-item-text.js';\nexport { ComboboxLabel as Label } from './combobox-label.js';\nexport { ComboboxList as List } from './combobox-list.js';\nexport { ComboboxPositioner as Positioner } from './combobox-positioner.js';\nexport { ComboboxRoot as Root } from './combobox-root.js';\nexport { ComboboxRootProvider as RootProvider } from './combobox-root-provider.js';\nexport { ComboboxTrigger as Trigger } from './combobox-trigger.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerClearTrigger = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const mergedProps = mergeProps(datePicker.getClearTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nDatePickerClearTrigger.displayName = \"DatePickerClearTrigger\";\n\nexport { DatePickerClearTrigger };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [DatePickerProvider, useDatePickerContext] = createContext({\n  name: \"DatePickerContext\",\n  hookName: \"useDatePickerContext\",\n  providerName: \"<DatePickerProvider />\"\n});\n\nexport { DatePickerProvider, useDatePickerContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerContent = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const presence = usePresenceContext();\n    const mergedProps = mergeProps(\n      datePicker.getContentProps(),\n      presence.getPresenceProps(ref),\n      props\n    );\n    if (presence.unmounted) {\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n  }\n);\nDatePickerContent.displayName = \"DatePickerContent\";\n\nexport { DatePickerContent };\n", "'use client';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerContext = (props) => props.children(useDatePickerContext());\n\nexport { DatePickerContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerControl = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const mergedProps = mergeProps(datePicker.getControlProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nDatePickerControl.displayName = \"DatePickerControl\";\n\nexport { DatePickerControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerInput = forwardRef((props, ref) => {\n  const [inputProps, localProps] = createSplitProps()(props, [\"index\"]);\n  const datePicker = useDatePickerContext();\n  const mergedProps = mergeProps(datePicker.getInputProps(inputProps), localProps);\n  return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n});\nDatePickerInput.displayName = \"DatePickerInput\";\n\nexport { DatePickerInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerLabel = forwardRef((props, ref) => {\n  const datePicker = useDatePickerContext();\n  const mergedProps = mergeProps(datePicker.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nDatePickerLabel.displayName = \"DatePickerLabel\";\n\nexport { DatePickerLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerMonthSelect = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const mergedProps = mergeProps(datePicker.getMonthSelectProps(), props);\n    return /* @__PURE__ */ jsx(ark.select, { ...mergedProps, ref, children: datePicker.getMonths().map((month, i) => /* @__PURE__ */ jsx(\"option\", { value: month.value, children: month.label }, i)) });\n  }\n);\nDatePickerMonthSelect.displayName = \"DatePickerMonthSelect\";\n\nexport { DatePickerMonthSelect };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { useDatePickerViewPropsContext } from './use-date-picker-view-props-context.js';\n\nconst DatePickerNextTrigger = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const viewProps = useDatePickerViewPropsContext();\n    const mergedProps = mergeProps(datePicker.getNextTriggerProps(viewProps), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nDatePickerNextTrigger.displayName = \"DatePickerNextTrigger\";\n\nexport { DatePickerNextTrigger };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [DatePickerViewPropsProvider, useDatePickerViewPropsContext] = createContext({\n  name: \"DatePickerViewContext\",\n  hookName: \"useDatePickerViewContext\",\n  providerName: \"<DatePickerViewProvider />\",\n  strict: false,\n  defaultValue: { view: \"day\" }\n});\n\nexport { DatePickerViewPropsProvider, useDatePickerViewPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerPositioner = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const mergedProps = mergeProps(datePicker.getPositionerProps(), props);\n    const presence = usePresenceContext();\n    if (presence.unmounted) {\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nDatePickerPositioner.displayName = \"DatePickerPositioner\";\n\nexport { DatePickerPositioner };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerPresetTrigger = forwardRef(\n  (props, ref) => {\n    const [presetTriggerProps, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const datePicker = useDatePickerContext();\n    const mergedProps = mergeProps(datePicker.getPresetTriggerProps(presetTriggerProps), localProps);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nDatePickerPresetTrigger.displayName = \"DatePickerPresetTrigger\";\n\nexport { DatePickerPresetTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { useDatePickerViewPropsContext } from './use-date-picker-view-props-context.js';\n\nconst DatePickerPrevTrigger = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const viewProps = useDatePickerViewPropsContext();\n    const mergedProps = mergeProps(datePicker.getPrevTriggerProps(viewProps), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nDatePickerPrevTrigger.displayName = \"DatePickerPrevTrigger\";\n\nexport { DatePickerPrevTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerRangeText = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const mergedProps = mergeProps(datePicker.getRangeTextProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref, children: datePicker.visibleRangeText.start });\n  }\n);\nDatePickerRangeText.displayName = \"DatePickerRangeText\";\n\nexport { DatePickerRangeText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useDatePicker } from './use-date-picker.js';\nimport { DatePickerProvider } from './use-date-picker-context.js';\n\nconst DatePickerRoot = forwardRef((props, ref) => {\n  const [presenceProps, datePickerProps] = splitPresenceProps(props);\n  const [useDatePickerProps, localProps] = createSplitProps()(datePickerProps, [\n    \"closeOnSelect\",\n    \"defaultOpen\",\n    \"defaultValue\",\n    \"disabled\",\n    \"fixedWeeks\",\n    \"focusedValue\",\n    \"format\",\n    \"id\",\n    \"ids\",\n    \"isDateUnavailable\",\n    \"isDateUnavailable\",\n    \"locale\",\n    \"max\",\n    \"min\",\n    \"modal\",\n    \"name\",\n    \"numOfMonths\",\n    \"onFocusChange\",\n    \"onOpenChange\",\n    \"onValueChange\",\n    \"onViewChange\",\n    \"open\",\n    \"positioning\",\n    \"readOnly\",\n    \"selectionMode\",\n    \"startOfWeek\",\n    \"timeZone\",\n    \"translations\",\n    \"value\",\n    \"view\"\n  ]);\n  const datePicker = useDatePicker(useDatePickerProps);\n  const presence = usePresence(mergeProps({ present: datePicker.open }, presenceProps));\n  const mergedProps = mergeProps(datePicker.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(DatePickerProvider, { value: datePicker, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nDatePickerRoot.displayName = \"DatePickerRoot\";\n\nexport { DatePickerRoot };\n", "'use client';\nimport * as datePicker from '@zag-js/date-picker';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useDatePicker = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    open: props.defaultOpen,\n    \"open.controlled\": props.open !== void 0,\n    ...props,\n    focusedValue: props.focusedValue ? datePicker.parse(props.focusedValue) : void 0,\n    value: props.defaultValue ? datePicker.parse(props.defaultValue) : void 0,\n    max: props.max ? datePicker.parse(props.max) : void 0,\n    min: props.min ? datePicker.parse(props.min) : void 0\n  };\n  const context = {\n    ...initialContext,\n    max: props.max ? datePicker.parse(props.max) : void 0,\n    min: props.min ? datePicker.parse(props.min) : void 0,\n    value: props.value ? datePicker.parse(props.value) : void 0,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onFocusChange: useEvent(props.onFocusChange),\n    onViewChange: useEvent(props.onViewChange),\n    onOpenChange: useEvent(props.onOpenChange)\n  };\n  const [state, send] = useMachine(datePicker.machine(initialContext), { context });\n  return datePicker.connect(state, send, normalizeProps);\n};\n\nexport { useDatePicker };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { DatePickerProvider } from './use-date-picker-context.js';\n\nconst DatePickerRootProvider = forwardRef(\n  (props, ref) => {\n    const [presenceProps, datePickerProps] = splitPresenceProps(props);\n    const [{ value: datePicker }, localProps] = createSplitProps()(\n      datePickerProps,\n      [\"value\"]\n    );\n    const presence = usePresence(mergeProps({ present: datePicker.open }, presenceProps));\n    const mergedProps = mergeProps(datePicker.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(DatePickerProvider, { value: datePicker, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n  }\n);\nDatePickerRootProvider.displayName = \"DatePickerRootProvider\";\n\nexport { DatePickerRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef, useId } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { DatePickerTablePropsProvider } from './use-date-picker-table-props-context.js';\nimport { useDatePickerViewPropsContext } from './use-date-picker-view-props-context.js';\n\nconst DatePickerTable = forwardRef((props, ref) => {\n  const [{ columns }, localProps] = createSplitProps()(props, [\n    \"columns\"\n  ]);\n  const datePicker = useDatePickerContext();\n  const viewProps = useDatePickerViewPropsContext();\n  const tableProps = { columns, id: useId(), ...viewProps };\n  const mergedProps = mergeProps(datePicker.getTableProps(tableProps), localProps);\n  return /* @__PURE__ */ jsx(DatePickerTablePropsProvider, { value: tableProps, children: /* @__PURE__ */ jsx(ark.table, { ...mergedProps, ref }) });\n});\nDatePickerTable.displayName = \"DatePickerTable\";\n\nexport { DatePickerTable };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [DatePickerTablePropsProvider, useDatePickerTablePropsContext] = createContext({\n  name: \"DatePickerTableContext\",\n  hookName: \"useDatePickerTableContext\",\n  providerName: \"<DatePickerTableProvider />\"\n});\n\nexport { DatePickerTablePropsProvider, useDatePickerTablePropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { useDatePickerTablePropsContext } from './use-date-picker-table-props-context.js';\n\nconst DatePickerTableBody = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const tableProps = useDatePickerTablePropsContext();\n    const mergedProps = mergeProps(datePicker.getTableBodyProps(tableProps), props);\n    return /* @__PURE__ */ jsx(ark.tbody, { ...mergedProps, ref });\n  }\n);\nDatePickerTableBody.displayName = \"DatePickerTableBody\";\n\nexport { DatePickerTableBody };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { DatePickerTableCellPropsProvider } from './use-date-picker-table-cell-props-context.js';\nimport { useDatePickerViewPropsContext } from './use-date-picker-view-props-context.js';\n\nconst DatePickerTableCell = forwardRef(\n  (props, ref) => {\n    const [cellProps, localProps] = createSplitProps()(props, [\n      \"disabled\",\n      \"value\",\n      \"visibleRange\",\n      \"columns\"\n    ]);\n    const datePicker = useDatePickerContext();\n    const viewProps = useDatePickerViewPropsContext();\n    const tableCellProps = {\n      day: datePicker.getDayTableCellProps,\n      month: datePicker.getMonthTableCellProps,\n      year: datePicker.getYearTableCellProps\n      // @ts-expect-error value is number filter\n    }[viewProps.view](cellProps);\n    const mergedProps = mergeProps(tableCellProps, localProps);\n    return /* @__PURE__ */ jsx(DatePickerTableCellPropsProvider, { value: cellProps, children: /* @__PURE__ */ jsx(ark.td, { ref, ...mergedProps }) });\n  }\n);\nDatePickerTableCell.displayName = \"DatePickerTableCell\";\n\nexport { DatePickerTableCell };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [DatePickerTableCellPropsProvider, useDatePickerTableCellPropsContext] = createContext({\n  name: \"DatePickerTableCellContext\",\n  hookName: \"useDatePickerTableCellContext\",\n  providerName: \"<DatePickerTableCellProvider />\"\n});\n\nexport { DatePickerTableCellPropsProvider, useDatePickerTableCellPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { useDatePickerTableCellPropsContext } from './use-date-picker-table-cell-props-context.js';\nimport { useDatePickerViewPropsContext } from './use-date-picker-view-props-context.js';\n\nconst DatePickerTableCellTrigger = forwardRef((props, ref) => {\n  const datePicker = useDatePickerContext();\n  const tableCellProps = useDatePickerTableCellPropsContext();\n  const viewProps = useDatePickerViewPropsContext();\n  const viewMap = {\n    day: datePicker.getDayTableCellTriggerProps,\n    month: datePicker.getMonthTableCellTriggerProps,\n    year: datePicker.getYearTableCellTriggerProps\n  };\n  const viewFn = viewMap[viewProps.view];\n  const triggerProps = viewFn(tableCellProps);\n  const mergedProps = mergeProps(triggerProps, props);\n  return /* @__PURE__ */ jsx(ark.div, { ref, ...mergedProps });\n});\nDatePickerTableCellTrigger.displayName = \"DatePickerTableCellTrigger\";\n\nexport { DatePickerTableCellTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { useDatePickerTablePropsContext } from './use-date-picker-table-props-context.js';\n\nconst DatePickerTableHead = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const tableProps = useDatePickerTablePropsContext();\n    const mergedProps = mergeProps(datePicker.getTableHeadProps(tableProps), props);\n    return /* @__PURE__ */ jsx(ark.thead, { ...mergedProps, ref });\n  }\n);\nDatePickerTableHead.displayName = \"DatePickerTableHead\";\n\nexport { DatePickerTableHead };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { useDatePickerTablePropsContext } from './use-date-picker-table-props-context.js';\n\nconst DatePickerTableHeader = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const tableProps = useDatePickerTablePropsContext();\n    const mergedProps = mergeProps(datePicker.getTableHeaderProps(tableProps), props);\n    return /* @__PURE__ */ jsx(ark.th, { ...mergedProps, ref });\n  }\n);\nDatePickerTableHeader.displayName = \"DatePickerTableHeader\";\n\nexport { DatePickerTableHeader };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { useDatePickerTablePropsContext } from './use-date-picker-table-props-context.js';\n\nconst DatePickerTableRow = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const tableProps = useDatePickerTablePropsContext();\n    const mergedProps = mergeProps(datePicker.getTableRowProps(tableProps), props);\n    return /* @__PURE__ */ jsx(ark.tr, { ...mergedProps, ref });\n  }\n);\nDatePickerTableRow.displayName = \"DatePickerTableRow\";\n\nexport { DatePickerTableRow };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerTrigger = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const mergedProps = mergeProps(datePicker.getTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nDatePickerTrigger.displayName = \"DatePickerTrigger\";\n\nexport { DatePickerTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { datePickerAnatomy } from '@ark-ui/anatomy';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { DatePickerViewPropsProvider } from './use-date-picker-view-props-context.js';\n\nconst DatePickerView = forwardRef((props, ref) => {\n  const [viewProps, localProps] = createSplitProps()(props, [\"view\"]);\n  const datePicker = useDatePickerContext();\n  return /* @__PURE__ */ jsx(DatePickerViewPropsProvider, { value: viewProps, children: /* @__PURE__ */ jsx(\n    ark.div,\n    {\n      hidden: datePicker.view !== viewProps.view,\n      ...datePickerAnatomy.build().view.attrs,\n      ...localProps,\n      ref\n    }\n  ) });\n});\nDatePickerView.displayName = \"DatePickerView\";\n\nexport { DatePickerView };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { useDatePickerViewPropsContext } from './use-date-picker-view-props-context.js';\n\nconst DatePickerViewControl = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const viewProps = useDatePickerViewPropsContext();\n    const mergedProps = mergeProps(datePicker.getViewControlProps(viewProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nDatePickerViewControl.displayName = \"DatePickerViewControl\";\n\nexport { DatePickerViewControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\nimport { useDatePickerViewPropsContext } from './use-date-picker-view-props-context.js';\n\nconst DatePickerViewTrigger = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const viewProps = useDatePickerViewPropsContext();\n    const mergedProps = mergeProps(datePicker.getViewTriggerProps(viewProps), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nDatePickerViewTrigger.displayName = \"DatePickerViewTrigger\";\n\nexport { DatePickerViewTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDatePickerContext } from './use-date-picker-context.js';\n\nconst DatePickerYearSelect = forwardRef(\n  (props, ref) => {\n    const datePicker = useDatePickerContext();\n    const mergedProps = mergeProps(datePicker.getYearSelectProps(), props);\n    return /* @__PURE__ */ jsx(ark.select, { ...mergedProps, ref, children: getYearsRange({ from: 1e3, to: 4e3 }).map((year, i) => /* @__PURE__ */ jsx(\"option\", { value: year, children: year }, i)) });\n  }\n);\nDatePickerYearSelect.displayName = \"DatePickerYearSelect\";\nfunction getYearsRange(range) {\n  const years = [];\n  for (let year = range.from; year <= range.to; year += 1) {\n    years.push(year);\n  }\n  return years;\n}\n\nexport { DatePickerYearSelect };\n", "export { DatePickerClearTrigger as ClearTrigger } from './date-picker-clear-trigger.js';\nexport { DatePickerContent as Content } from './date-picker-content.js';\nexport { DatePickerContext as Context } from './date-picker-context.js';\nexport { DatePickerControl as Control } from './date-picker-control.js';\nexport { DatePickerInput as Input } from './date-picker-input.js';\nexport { DatePickerLabel as Label } from './date-picker-label.js';\nexport { DatePickerMonthSelect as MonthSelect } from './date-picker-month-select.js';\nexport { DatePickerNextTrigger as NextTrigger } from './date-picker-next-trigger.js';\nexport { DatePickerPositioner as Positioner } from './date-picker-positioner.js';\nexport { DatePickerPresetTrigger as PresetTrigger } from './date-picker-preset-trigger.js';\nexport { DatePickerPrevTrigger as PrevTrigger } from './date-picker-prev-trigger.js';\nexport { DatePickerRangeText as RangeText } from './date-picker-range-text.js';\nexport { DatePickerRoot as Root } from './date-picker-root.js';\nexport { DatePickerRootProvider as RootProvider } from './date-picker-root-provider.js';\nexport { DatePickerTable as Table } from './date-picker-table.js';\nexport { DatePickerTableBody as TableBody } from './date-picker-table-body.js';\nexport { DatePickerTableCell as TableCell } from './date-picker-table-cell.js';\nexport { DatePickerTableCellTrigger as TableCellTrigger } from './date-picker-table-cell-trigger.js';\nexport { DatePickerTableHead as TableHead } from './date-picker-table-head.js';\nexport { DatePickerTableHeader as TableHeader } from './date-picker-table-header.js';\nexport { DatePickerTableRow as TableRow } from './date-picker-table-row.js';\nexport { DatePickerTrigger as Trigger } from './date-picker-trigger.js';\nexport { DatePickerView as View } from './date-picker-view.js';\nexport { DatePickerViewControl as ViewControl } from './date-picker-view-control.js';\nexport { DatePickerViewTrigger as ViewTrigger } from './date-picker-view-trigger.js';\nexport { DatePickerYearSelect as YearSelect } from './date-picker-year-select.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { useRenderStrategyPropsContext } from '../../utils/render-strategy.js';\nimport { ark } from '../factory.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { useDialogContext } from './use-dialog-context.js';\n\nconst DialogBackdrop = forwardRef((props, ref) => {\n  const dialog = useDialogContext();\n  const renderStrategyProps = useRenderStrategyPropsContext();\n  const presence = usePresence({ ...renderStrategyProps, present: dialog.open });\n  const mergedProps = mergeProps(dialog.getBackdropProps(), presence.getPresenceProps(ref), props);\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n});\nDialogBackdrop.displayName = \"DialogBackdrop\";\n\nexport { DialogBackdrop };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [DialogProvider, useDialogContext] = createContext({\n  name: \"DialogContext\",\n  hookName: \"useDialogContext\",\n  providerName: \"<DialogProvider />\"\n});\n\nexport { DialogProvider, useDialogContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDialogContext } from './use-dialog-context.js';\n\nconst DialogCloseTrigger = forwardRef(\n  (props, ref) => {\n    const dialog = useDialogContext();\n    const mergedProps = mergeProps(dialog.getCloseTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nDialogCloseTrigger.displayName = \"DialogCloseTrigger\";\n\nexport { DialogCloseTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useDialogContext } from './use-dialog-context.js';\n\nconst DialogContent = forwardRef((props, ref) => {\n  const dialog = useDialogContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(dialog.getContentProps(), presence.getPresenceProps(ref), props);\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n});\nDialogContent.displayName = \"DialogContent\";\n\nexport { DialogContent };\n", "'use client';\nimport { useDialogContext } from './use-dialog-context.js';\n\nconst DialogContext = (props) => props.children(useDialogContext());\n\nexport { DialogContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDialogContext } from './use-dialog-context.js';\n\nconst DialogDescription = forwardRef(\n  (props, ref) => {\n    const dialog = useDialogContext();\n    const mergedProps = mergeProps(dialog.getDescriptionProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nDialogDescription.displayName = \"DialogDescription\";\n\nexport { DialogDescription };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useDialogContext } from './use-dialog-context.js';\n\nconst DialogPositioner = forwardRef((props, ref) => {\n  const dialog = useDialogContext();\n  const mergedProps = mergeProps(dialog.getPositionerProps(), props);\n  const presence = usePresenceContext();\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nDialogPositioner.displayName = \"DialogPositioner\";\n\nexport { DialogPositioner };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { splitRenderStrategyProps, RenderStrategyPropsProvider } from '../../utils/render-strategy.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useDialog } from './use-dialog.js';\nimport { DialogProvider } from './use-dialog-context.js';\n\nconst DialogRoot = (props) => {\n  const [presenceProps, { children, ...localProps }] = splitPresenceProps(props);\n  const [renderStrategyProps] = splitRenderStrategyProps(presenceProps);\n  const dialog = useDialog(localProps);\n  const presence = usePresence(mergeProps({ present: dialog.open }, presenceProps));\n  return /* @__PURE__ */ jsx(DialogProvider, { value: dialog, children: /* @__PURE__ */ jsx(RenderStrategyPropsProvider, { value: renderStrategyProps, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children }) }) });\n};\n\nexport { DialogRoot };\n", "'use client';\nimport * as dialog from '@zag-js/dialog';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useDialog = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    getRootNode,\n    dir,\n    open: props.defaultOpen,\n    \"open.controlled\": props.open !== void 0,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    open: props.open,\n    onOpenChange: useEvent(props.onOpenChange, { sync: true }),\n    onEscapeKeyDown: useEvent(props.onEscapeKeyDown),\n    onInteractOutside: useEvent(props.onInteractOutside)\n  };\n  const [state, send] = useMachine(dialog.machine(initialContext), { context });\n  return dialog.connect(state, send, normalizeProps);\n};\n\nexport { useDialog };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { splitRenderStrategyProps, RenderStrategyPropsProvider } from '../../utils/render-strategy.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { DialogProvider } from './use-dialog-context.js';\n\nconst DialogRootProvider = (props) => {\n  const [presenceProps, { value: dialog, children }] = splitPresenceProps(props);\n  const [renderStrategyProps] = splitRenderStrategyProps(presenceProps);\n  const presence = usePresence(mergeProps({ present: dialog.open }, presenceProps));\n  return /* @__PURE__ */ jsx(DialogProvider, { value: dialog, children: /* @__PURE__ */ jsx(RenderStrategyPropsProvider, { value: renderStrategyProps, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children }) }) });\n};\n\nexport { DialogRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useDialogContext } from './use-dialog-context.js';\n\nconst DialogTitle = forwardRef((props, ref) => {\n  const dialog = useDialogContext();\n  const mergedProps = mergeProps(dialog.getTitleProps(), props);\n  return /* @__PURE__ */ jsx(ark.h2, { ...mergedProps, ref });\n});\nDialogTitle.displayName = \"DialogTitle\";\n\nexport { DialogTitle };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useDialogContext } from './use-dialog-context.js';\n\nconst DialogTrigger = forwardRef((props, ref) => {\n  const dialog = useDialogContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(\n    {\n      ...dialog.getTriggerProps(),\n      \"aria-controls\": presence.unmounted ? void 0 : dialog.getTriggerProps()[\"aria-controls\"]\n    },\n    props\n  );\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nDialogTrigger.displayName = \"DialogTrigger\";\n\nexport { DialogTrigger };\n", "export { DialogBackdrop as Backdrop } from './dialog-backdrop.js';\nexport { DialogCloseTrigger as CloseTrigger } from './dialog-close-trigger.js';\nexport { DialogContent as Content } from './dialog-content.js';\nexport { DialogContext as Context } from './dialog-context.js';\nexport { DialogDescription as Description } from './dialog-description.js';\nexport { DialogPositioner as Positioner } from './dialog-positioner.js';\nexport { DialogRoot as Root } from './dialog-root.js';\nexport { DialogRootProvider as RootProvider } from './dialog-root-provider.js';\nexport { DialogTitle as Title } from './dialog-title.js';\nexport { DialogTrigger as Trigger } from './dialog-trigger.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useEditableContext } from './use-editable-context.js';\n\nconst EditableArea = forwardRef((props, ref) => {\n  const editable = useEditableContext();\n  const mergedProps = mergeProps(editable.getAreaProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nEditableArea.displayName = \"EditableArea\";\n\nexport { EditableArea };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [EditableProvider, useEditableContext] = createContext({\n  name: \"EditableContext\",\n  hookName: \"useEditableContext\",\n  providerName: \"<EditableProvider />\"\n});\n\nexport { EditableProvider, useEditableContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useEditableContext } from './use-editable-context.js';\n\nconst EditableCancelTrigger = forwardRef(\n  (props, ref) => {\n    const editable = useEditableContext();\n    const mergedProps = mergeProps(editable.getCancelTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nEditableCancelTrigger.displayName = \"EditableCancelTrigger\";\n\nexport { EditableCancelTrigger };\n", "'use client';\nimport { useEditableContext } from './use-editable-context.js';\n\nconst EditableContext = (props) => props.children(useEditableContext());\n\nexport { EditableContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useEditableContext } from './use-editable-context.js';\n\nconst EditableControl = forwardRef((props, ref) => {\n  const editable = useEditableContext();\n  const mergedProps = mergeProps(editable.getControlProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nEditableControl.displayName = \"EditableControl\";\n\nexport { EditableControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useEditableContext } from './use-editable-context.js';\n\nconst EditableEditTrigger = forwardRef(\n  (props, ref) => {\n    const editable = useEditableContext();\n    const mergedProps = mergeProps(editable.getEditTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nEditableEditTrigger.displayName = \"EditableEditTrigger\";\n\nexport { EditableEditTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useEditableContext } from './use-editable-context.js';\n\nconst EditableInput = forwardRef((props, ref) => {\n  const editable = useEditableContext();\n  const mergedProps = mergeProps(editable.getInputProps(), props);\n  return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n});\nEditableInput.displayName = \"EditableInput\";\n\nexport { EditableInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useEditableContext } from './use-editable-context.js';\n\nconst EditableLabel = forwardRef((props, ref) => {\n  const editable = useEditableContext();\n  const mergedProps = mergeProps(editable.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nEditableLabel.displayName = \"EditableLabel\";\n\nexport { EditableLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useEditableContext } from './use-editable-context.js';\n\nconst EditablePreview = forwardRef((props, ref) => {\n  const editable = useEditableContext();\n  const mergedProps = mergeProps(editable.getPreviewProps(), props);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nEditablePreview.displayName = \"EditablePreview\";\n\nexport { EditablePreview };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useEditable } from './use-editable.js';\nimport { EditableProvider } from './use-editable-context.js';\n\nconst EditableRoot = forwardRef((props, ref) => {\n  const [useEditableProps, localProps] = createSplitProps()(props, [\n    \"activationMode\",\n    \"autoResize\",\n    \"defaultValue\",\n    \"disabled\",\n    \"finalFocusEl\",\n    \"form\",\n    \"id\",\n    \"ids\",\n    \"invalid\",\n    \"maxLength\",\n    \"name\",\n    \"onEdit\",\n    \"onFocusOutside\",\n    \"onInteractOutside\",\n    \"onPointerDownOutside\",\n    \"onValueChange\",\n    \"onValueCommit\",\n    \"onValueRevert\",\n    \"placeholder\",\n    \"readOnly\",\n    \"selectOnFocus\",\n    \"startWithEditView\",\n    \"submitMode\",\n    \"translations\",\n    \"value\"\n  ]);\n  const editable = useEditable(useEditableProps);\n  const mergedProps = mergeProps(editable.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(EditableProvider, { value: editable, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nEditableRoot.displayName = \"EditableRoot\";\n\nexport { EditableRoot };\n", "'use client';\nimport * as editable from '@zag-js/editable';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useEditable = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onEdit: useEvent(props.onEdit),\n    onValueCommit: useEvent(props.onValueCommit),\n    onValueRevert: useEvent(props.onValueRevert)\n  };\n  const [state, send] = useMachine(editable.machine(initialContext), { context });\n  return editable.connect(state, send, normalizeProps);\n};\n\nexport { useEditable };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { EditableProvider } from './use-editable-context.js';\n\nconst EditableRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: editable }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(editable.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(EditableProvider, { value: editable, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nEditableRootProvider.displayName = \"EditableRootProvider\";\n\nexport { EditableRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useEditableContext } from './use-editable-context.js';\n\nconst EditableSubmitTrigger = forwardRef(\n  (props, ref) => {\n    const editable = useEditableContext();\n    const mergedProps = mergeProps(editable.getSubmitTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nEditableSubmitTrigger.displayName = \"EditableSubmitTrigger\";\n\nexport { EditableSubmitTrigger };\n", "export { EditableArea as Area } from './editable-area.js';\nexport { EditableCancelTrigger as CancelTrigger } from './editable-cancel-trigger.js';\nexport { EditableContext as Context } from './editable-context.js';\nexport { EditableControl as Control } from './editable-control.js';\nexport { EditableEditTrigger as EditTrigger } from './editable-edit-trigger.js';\nexport { EditableInput as Input } from './editable-input.js';\nexport { EditableLabel as Label } from './editable-label.js';\nexport { EditablePreview as Preview } from './editable-preview.js';\nexport { EditableRoot as Root } from './editable-root.js';\nexport { EditableRootProvider as RootProvider } from './editable-root-provider.js';\nexport { EditableSubmitTrigger as SubmitTrigger } from './editable-submit-trigger.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [FileUploadProvider, useFileUploadContext] = createContext({\n  name: \"FileUploadContext\",\n  hookName: \"useFileUploadContext\",\n  providerName: \"<FileUploadProvider />\"\n});\n\nexport { FileUploadProvider, useFileUploadContext };\n", "'use client';\nimport { useFileUploadContext } from './use-file-upload-context.js';\n\nconst FileUploadContext = (props) => props.children(useFileUploadContext());\n\nexport { FileUploadContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\n\nconst FileUploadDropzone = forwardRef(\n  (props, ref) => {\n    const fileUpload = useFileUploadContext();\n    const mergedProps = mergeProps(fileUpload.getDropzoneProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nFileUploadDropzone.displayName = \"FileUploadDropzone\";\n\nexport { FileUploadDropzone };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\n\nconst FileUploadHiddenInput = forwardRef(\n  (props, ref) => {\n    const fileUpload = useFileUploadContext();\n    const mergedProps = mergeProps(fileUpload.getHiddenInputProps(), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nFileUploadHiddenInput.displayName = \"FileUploadHiddenInput\";\n\nexport { FileUploadHiddenInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\nimport { FileUploadItemPropsProvider } from './use-file-upload-item-props-context.js';\n\nconst FileUploadItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\"file\"]);\n  const fileUpload = useFileUploadContext();\n  const mergedProps = mergeProps(fileUpload.getItemProps(itemProps), localProps);\n  return /* @__PURE__ */ jsx(FileUploadItemPropsProvider, { value: itemProps, children: /* @__PURE__ */ jsx(ark.li, { ...mergedProps, ref }) });\n});\nFileUploadItem.displayName = \"FileUploadItem\";\n\nexport { FileUploadItem };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [FileUploadItemPropsProvider, useFileUploadItemPropsContext] = createContext({\n  name: \"FileUploadItemPropsContext\",\n  hookName: \"useFileUploadItemPropsContext\",\n  providerName: \"<FileUploadItemPropsProvider />\"\n});\n\nexport { FileUploadItemPropsProvider, useFileUploadItemPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\nimport { useFileUploadItemPropsContext } from './use-file-upload-item-props-context.js';\n\nconst FileUploadItemDeleteTrigger = forwardRef((props, ref) => {\n  const fileUpload = useFileUploadContext();\n  const itemProps = useFileUploadItemPropsContext();\n  const mergedProps = mergeProps(fileUpload.getItemDeleteTriggerProps(itemProps), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nFileUploadItemDeleteTrigger.displayName = \"FileUploadItemDeleteTrigger\";\n\nexport { FileUploadItemDeleteTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\n\nconst FileUploadItemGroup = forwardRef(\n  (props, ref) => {\n    const fileUpload = useFileUploadContext();\n    const mergedProps = mergeProps(fileUpload.getItemGroupProps(), props);\n    return /* @__PURE__ */ jsx(ark.ul, { ...mergedProps, ref });\n  }\n);\nFileUploadItemGroup.displayName = \"FileUploadItemGroup\";\n\nexport { FileUploadItemGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\nimport { useFileUploadItemPropsContext } from './use-file-upload-item-props-context.js';\n\nconst FileUploadItemName = forwardRef(\n  (props, ref) => {\n    const { children, ...rest } = props;\n    const fileUpload = useFileUploadContext();\n    const itemProps = useFileUploadItemPropsContext();\n    const mergedProps = mergeProps(fileUpload.getItemNameProps(itemProps), rest);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref, children: children || itemProps.file.name });\n  }\n);\nFileUploadItemName.displayName = \"FileUploadItemName\";\n\nexport { FileUploadItemName };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\nimport { useFileUploadItemPropsContext } from './use-file-upload-item-props-context.js';\n\nconst FileUploadItemPreview = forwardRef(\n  (props, ref) => {\n    const fileUpload = useFileUploadContext();\n    const itemProps = useFileUploadItemPropsContext();\n    const mergedProps = mergeProps(fileUpload.getItemPreviewProps(itemProps), props);\n    if (!itemProps.file.type.match(props.type ?? \".*\"))\n      return null;\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nFileUploadItemPreview.displayName = \"FileUploadItemPreview\";\n\nexport { FileUploadItemPreview };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef, useState, useEffect } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\nimport { useFileUploadItemPropsContext } from './use-file-upload-item-props-context.js';\n\nconst FileUploadItemPreviewImage = forwardRef((props, ref) => {\n  const [url, setUrl] = useState(\"\");\n  const fileUpload = useFileUploadContext();\n  const itemProps = useFileUploadItemPropsContext();\n  const mergedProps = mergeProps(fileUpload.getItemPreviewImageProps({ ...itemProps, url }), props);\n  useEffect(() => {\n    fileUpload.createFileUrl(itemProps.file, (url2) => setUrl(url2));\n  }, [itemProps, fileUpload]);\n  return /* @__PURE__ */ jsx(ark.img, { ...mergedProps, ref });\n});\nFileUploadItemPreviewImage.displayName = \"FileUploadItemPreviewImage\";\n\nexport { FileUploadItemPreviewImage };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\nimport { useFileUploadItemPropsContext } from './use-file-upload-item-props-context.js';\n\nconst FileUploadItemSizeText = forwardRef(\n  (props, ref) => {\n    const { children, ...rest } = props;\n    const fileUpload = useFileUploadContext();\n    const itemProps = useFileUploadItemPropsContext();\n    const mergedProps = mergeProps(fileUpload.getItemSizeTextProps(itemProps), rest);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref, children: children || fileUpload.getFileSize(itemProps.file) });\n  }\n);\nFileUploadItemSizeText.displayName = \"FileUploadItemSizeText\";\n\nexport { FileUploadItemSizeText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\n\nconst FileUploadLabel = forwardRef((props, ref) => {\n  const fileUpload = useFileUploadContext();\n  const mergedProps = mergeProps(fileUpload.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nFileUploadLabel.displayName = \"FileUploadLabel\";\n\nexport { FileUploadLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useFileUpload } from './use-file-upload.js';\nimport { FileUploadProvider } from './use-file-upload-context.js';\n\nconst FileUploadRoot = forwardRef((props, ref) => {\n  const [useFileUploadProps, localProps] = createSplitProps()(props, [\n    \"accept\",\n    \"allowDrop\",\n    \"capture\",\n    \"directory\",\n    \"disabled\",\n    \"id\",\n    \"ids\",\n    \"locale\",\n    \"maxFiles\",\n    \"maxFileSize\",\n    \"minFileSize\",\n    \"name\",\n    \"onFileAccept\",\n    \"onFileChange\",\n    \"onFileReject\",\n    \"translations\",\n    \"validate\"\n  ]);\n  const fileUpload = useFileUpload(useFileUploadProps);\n  const mergedProps = mergeProps(fileUpload.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(FileUploadProvider, { value: fileUpload, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nFileUploadRoot.displayName = \"FileUploadRoot\";\n\nexport { FileUploadRoot };\n", "'use client';\nimport * as fileUpload from '@zag-js/file-upload';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useFileUpload = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    onFileAccept: useEvent(props.onFileAccept),\n    onFileReject: useEvent(props.onFileReject),\n    onFileChange: useEvent(props.onFileChange, { sync: true })\n  };\n  const [state, send] = useMachine(fileUpload.machine(initialContext), { context });\n  return fileUpload.connect(state, send, normalizeProps);\n};\n\nexport { useFileUpload };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { FileUploadProvider } from './use-file-upload-context.js';\n\nconst FileUploadRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: fileUpload }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(fileUpload.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(FileUploadProvider, { value: fileUpload, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nFileUploadRootProvider.displayName = \"FileUploadRootProvider\";\n\nexport { FileUploadRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useFileUploadContext } from './use-file-upload-context.js';\n\nconst FileUploadTrigger = forwardRef(\n  (props, ref) => {\n    const fileUpload = useFileUploadContext();\n    const mergedProps = mergeProps(fileUpload.getTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nFileUploadTrigger.displayName = \"FileUploadTrigger\";\n\nexport { FileUploadTrigger };\n", "export { FileUploadContext as Context } from './file-upload-context.js';\nexport { FileUploadDropzone as Dropzone } from './file-upload-dropzone.js';\nexport { FileUploadItem as Item } from './file-upload-item.js';\nexport { FileUploadItemDeleteTrigger as ItemDeleteTrigger } from './file-upload-item-delete-trigger.js';\nexport { FileUploadItemGroup as ItemGroup } from './file-upload-item-group.js';\nexport { FileUploadItemName as ItemName } from './file-upload-item-name.js';\nexport { FileUploadItemPreview as ItemPreview } from './file-upload-item-preview.js';\nexport { FileUploadItemPreviewImage as ItemPreviewImage } from './file-upload-item-preview-image.js';\nexport { FileUploadItemSizeText as ItemSizeText } from './file-upload-item-size-text.js';\nexport { FileUploadLabel as Label } from './file-upload-label.js';\nexport { FileUploadRoot as Root } from './file-upload-root.js';\nexport { FileUploadRootProvider as RootProvider } from './file-upload-root-provider.js';\nexport { FileUploadTrigger as Trigger } from './file-upload-trigger.js';\nexport { FileUploadHiddenInput as HiddenInput } from './file-upload-hidden-input.js';\n", "'use client';\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { formatBytes } from '@zag-js/i18n-utils';\nimport { useMemo } from 'react';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\n\nconst FormatByte = (props) => {\n  const { value, ...intlOptions } = props;\n  const { locale } = useLocaleContext();\n  const text = useMemo(() => formatBytes(value, locale, intlOptions), [value, locale, intlOptions]);\n  return /* @__PURE__ */ jsx(Fragment, { children: text });\n};\nFormatByte.displayName = \"FormatByte\";\n\nexport { FormatByte };\n", "'use client';\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { formatNumber } from '@zag-js/i18n-utils';\nimport { useMemo } from 'react';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\n\nconst FormatNumber = (props) => {\n  const { value, ...intlOptions } = props;\n  const { locale } = useLocaleContext();\n  const text = useMemo(() => formatNumber(value, locale, intlOptions), [value, locale, intlOptions]);\n  return /* @__PURE__ */ jsx(Fragment, { children: text });\n};\nFormatNumber.displayName = \"FormatNumber\";\n\nexport { FormatNumber };\n", "export { FormatByte as Byte } from './format-byte.js';\nexport { FormatNumber as Number } from './format-number.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useHoverCardContext } from './use-hover-card-context.js';\n\nconst HoverCardArrow = forwardRef((props, ref) => {\n  const hoverCard = useHoverCardContext();\n  const mergedProps = mergeProps(hoverCard.getArrowProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nHoverCardArrow.displayName = \"HoverCardArrow\";\n\nexport { HoverCardArrow };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [HoverCardProvider, useHoverCardContext] = createContext({\n  name: \"HoverCardContext\",\n  hookName: \"useHoverCardContext\",\n  providerName: \"<HoverCardProvider />\"\n});\n\nexport { HoverCardProvider, useHoverCardContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useHoverCardContext } from './use-hover-card-context.js';\n\nconst HoverCardArrowTip = forwardRef(\n  (props, ref) => {\n    const hoverCard = useHoverCardContext();\n    const mergedProps = mergeProps(hoverCard.getArrowTipProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nHoverCardArrowTip.displayName = \"HoverCardArrowTip\";\n\nexport { HoverCardArrowTip };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useHoverCardContext } from './use-hover-card-context.js';\n\nconst HoverCardContent = forwardRef((props, ref) => {\n  const hoverCard = useHoverCardContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(hoverCard.getContentProps(), presence.getPresenceProps(ref), props);\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n});\nHoverCardContent.displayName = \"HoverCardContent\";\n\nexport { HoverCardContent };\n", "'use client';\nimport { useHoverCardContext } from './use-hover-card-context.js';\n\nconst HoverCardContext = (props) => props.children(useHoverCardContext());\n\nexport { HoverCardContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useHoverCardContext } from './use-hover-card-context.js';\n\nconst HoverCardPositioner = forwardRef(\n  (props, ref) => {\n    const hoverCard = useHoverCardContext();\n    const mergedProps = mergeProps(hoverCard.getPositionerProps(), props);\n    const presence = usePresenceContext();\n    if (presence.unmounted) {\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nHoverCardPositioner.displayName = \"HoverCardPositioner\";\n\nexport { HoverCardPositioner };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useHoverCard } from './use-hover-card.js';\nimport { HoverCardProvider } from './use-hover-card-context.js';\n\nconst HoverCardRoot = (props) => {\n  const [presenceProps, { children, ...localProps }] = splitPresenceProps(props);\n  const hoverCard = useHoverCard(localProps);\n  const presence = usePresence(mergeProps({ present: hoverCard.open }, presenceProps));\n  return /* @__PURE__ */ jsx(HoverCardProvider, { value: hoverCard, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children }) });\n};\n\nexport { HoverCardRoot };\n", "'use client';\nimport * as hoverCard from '@zag-js/hover-card';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useHoverCard = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    open: props.defaultOpen,\n    \"open.controlled\": props.open !== void 0,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    open: props.open,\n    onOpenChange: useEvent(props.onOpenChange, { sync: true })\n  };\n  const [state, send] = useMachine(hoverCard.machine(initialContext), { context });\n  return hoverCard.connect(state, send, normalizeProps);\n};\n\nexport { useHoverCard };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { HoverCardProvider } from './use-hover-card-context.js';\n\nconst HoverCardRootProvider = (props) => {\n  const [presenceProps, { value: hoverCard, children }] = splitPresenceProps(props);\n  const presence = usePresence(mergeProps({ present: hoverCard.open }, presenceProps));\n  return /* @__PURE__ */ jsx(HoverCardProvider, { value: hoverCard, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children }) });\n};\n\nexport { HoverCardRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useHoverCardContext } from './use-hover-card-context.js';\n\nconst HoverCardTrigger = forwardRef(\n  (props, ref) => {\n    const hoverCard = useHoverCardContext();\n    const mergedProps = mergeProps(hoverCard.getTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nHoverCardTrigger.displayName = \"HoverCardTrigger\";\n\nexport { HoverCardTrigger };\n", "export { HoverCardArrow as Arrow } from './hover-card-arrow.js';\nexport { HoverCardArrowTip as ArrowTip } from './hover-card-arrow-tip.js';\nexport { HoverCardContent as Content } from './hover-card-content.js';\nexport { HoverCardContext as Context } from './hover-card-context.js';\nexport { HoverCardPositioner as Positioner } from './hover-card-positioner.js';\nexport { HoverCardRoot as Root } from './hover-card-root.js';\nexport { HoverCardRootProvider as RootProvider } from './hover-card-root-provider.js';\nexport { HoverCardTrigger as Trigger } from './hover-card-trigger.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\n\nconst MenuArrow = forwardRef((props, ref) => {\n  const menu = useMenuContext();\n  const mergedProps = mergeProps(menu.getArrowProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nMenuArrow.displayName = \"MenuArrow\";\n\nexport { MenuArrow };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [MenuProvider, useMenuContext] = createContext({\n  name: \"MenuContext\",\n  hookName: \"useMenuContext\",\n  providerName: \"<MenuProvider />\",\n  strict: false\n});\n\nexport { MenuProvider, useMenuContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\n\nconst MenuArrowTip = forwardRef((props, ref) => {\n  const menu = useMenuContext();\n  const mergedProps = mergeProps(menu.getArrowTipProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nMenuArrowTip.displayName = \"MenuArrowTip\";\n\nexport { MenuArrowTip };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\nimport { MenuItemProvider } from './use-menu-item-context.js';\nimport { MenuOptionItemPropsProvider } from './use-menu-option-item-props-context.js';\n\nconst MenuCheckboxItem = forwardRef((props, ref) => {\n  const [partialOptionItemProps, localProps] = createSplitProps()(props, [\n    \"checked\",\n    \"closeOnSelect\",\n    \"disabled\",\n    \"onCheckedChange\",\n    \"value\",\n    \"valueText\"\n  ]);\n  const optionItemProps = {\n    ...partialOptionItemProps,\n    type: \"checkbox\"\n  };\n  const menu = useMenuContext();\n  const item = menu.getOptionItemState(optionItemProps);\n  const mergedProps = mergeProps(menu.getOptionItemProps(optionItemProps), localProps);\n  return /* @__PURE__ */ jsx(MenuOptionItemPropsProvider, { value: optionItemProps, children: /* @__PURE__ */ jsx(MenuItemProvider, { value: item, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nMenuCheckboxItem.displayName = \"MenuCheckboxItem\";\n\nexport { MenuCheckboxItem };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [MenuItemProvider, useMenuItemContext] = createContext({\n  name: \"MenuItemContext\",\n  hookName: \"useMenuItemContext\",\n  providerName: \"<MenuItemProvider />\"\n});\n\nexport { MenuItemProvider, useMenuItemContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [MenuOptionItemPropsProvider, useMenuOptionItemPropsContext] = createContext({\n  name: \"MenuOptionItemPropsContext\",\n  hookName: \"useMenuOptionItemPropsContext\",\n  providerName: \"<MenuOptionItemPropsProvider />\"\n});\n\nexport { MenuOptionItemPropsProvider, useMenuOptionItemPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useMenuContext } from './use-menu-context.js';\n\nconst MenuContent = forwardRef((props, ref) => {\n  const menu = useMenuContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(menu.getContentProps(), presence.getPresenceProps(ref), props);\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n});\nMenuContent.displayName = \"MenuContent\";\n\nexport { MenuContent };\n", "'use client';\nimport { useMenuContext } from './use-menu-context.js';\n\nconst MenuContext = (props) => props.children(useMenuContext());\n\nexport { MenuContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\n\nconst MenuContextTrigger = forwardRef(\n  (props, ref) => {\n    const menu = useMenuContext();\n    const mergedProps = mergeProps(menu.getContextTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nMenuContextTrigger.displayName = \"MenuContextTrigger\";\n\nexport { MenuContextTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\n\nconst MenuIndicator = forwardRef((props, ref) => {\n  const menu = useMenuContext();\n  const mergedProps = mergeProps(menu.getIndicatorProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nMenuIndicator.displayName = \"MenuIndicator\";\n\nexport { MenuIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\nimport { MenuItemProvider } from './use-menu-item-context.js';\n\nconst MenuItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\n    \"closeOnSelect\",\n    \"disabled\",\n    \"value\",\n    \"valueText\"\n  ]);\n  const menu = useMenuContext();\n  const mergedProps = mergeProps(menu.getItemProps(itemProps), localProps);\n  const itemState = menu.getItemState(itemProps);\n  return /* @__PURE__ */ jsx(MenuItemProvider, { value: itemState, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nMenuItem.displayName = \"MenuItem\";\n\nexport { MenuItem };\n", "'use client';\nimport { useMenuItemContext } from './use-menu-item-context.js';\n\nconst MenuItemContext = (props) => props.children(useMenuItemContext());\n\nexport { MenuItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef, useId } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\nimport { MenuItemGroupProvider } from './use-menu-item-group-context.js';\n\nconst MenuItemGroup = forwardRef((props, ref) => {\n  const [optionalItemGroupProps, localProps] = createSplitProps()(props, [\n    \"id\"\n  ]);\n  const menu = useMenuContext();\n  const id = useId();\n  const itemGroupProps = { id, ...optionalItemGroupProps };\n  const mergedProps = mergeProps(menu.getItemGroupProps(itemGroupProps), localProps);\n  return /* @__PURE__ */ jsx(MenuItemGroupProvider, { value: itemGroupProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nMenuItemGroup.displayName = \"MenuItemGroup\";\n\nexport { MenuItemGroup };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [MenuItemGroupProvider, useMenuItemGroupContext] = createContext({\n  name: \"MenuItemGroupContext\",\n  hookName: \"useMenuItemGroupContext\",\n  providerName: \"<MenuItemGroupProvider />\"\n});\n\nexport { MenuItemGroupProvider, useMenuItemGroupContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\nimport { useMenuItemGroupContext } from './use-menu-item-group-context.js';\n\nconst MenuItemGroupLabel = forwardRef(\n  (props, ref) => {\n    const menu = useMenuContext();\n    const itemGroup = useMenuItemGroupContext();\n    const mergedProps = mergeProps(menu.getItemGroupLabelProps({ htmlFor: itemGroup.id }), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nMenuItemGroupLabel.displayName = \"MenuItemGroupLabel\";\n\nexport { MenuItemGroupLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\nimport { useMenuOptionItemPropsContext } from './use-menu-option-item-props-context.js';\n\nconst MenuItemIndicator = forwardRef(\n  (props, ref) => {\n    const menu = useMenuContext();\n    const optionItemProps = useMenuOptionItemPropsContext();\n    const mergedProps = mergeProps(menu.getItemIndicatorProps(optionItemProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nMenuItemIndicator.displayName = \"MenuItemIndicator\";\n\nexport { MenuItemIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\nimport { useMenuOptionItemPropsContext } from './use-menu-option-item-props-context.js';\n\nconst MenuItemText = forwardRef((props, ref) => {\n  const menu = useMenuContext();\n  const optionItemProps = useMenuOptionItemPropsContext();\n  const mergedProps = mergeProps(menu.getItemTextProps(optionItemProps), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nMenuItemText.displayName = \"MenuItemText\";\n\nexport { MenuItemText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useMenuContext } from './use-menu-context.js';\n\nconst MenuPositioner = forwardRef((props, ref) => {\n  const menu = useMenuContext();\n  const mergedProps = mergeProps(menu.getPositionerProps(), props);\n  const presence = usePresenceContext();\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nMenuPositioner.displayName = \"MenuPositioner\";\n\nexport { MenuPositioner };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\nimport { MenuItemProvider } from './use-menu-item-context.js';\nimport { useMenuItemGroupContext } from './use-menu-item-group-context.js';\nimport { MenuOptionItemPropsProvider } from './use-menu-option-item-props-context.js';\n\nconst MenuRadioItem = forwardRef((props, ref) => {\n  const [partialItemProps, localProps] = createSplitProps()(props, [\n    \"closeOnSelect\",\n    \"disabled\",\n    \"value\",\n    \"valueText\"\n  ]);\n  const menu = useMenuContext();\n  const itemGroup = useMenuItemGroupContext();\n  const optionItemProps = {\n    ...partialItemProps,\n    checked: itemGroup.value === partialItemProps.value,\n    type: \"radio\",\n    onCheckedChange: () => itemGroup.onValueChange?.({ value: partialItemProps.value })\n  };\n  const mergedProps = mergeProps(menu.getOptionItemProps(optionItemProps), localProps);\n  const itemState = menu.getItemState(optionItemProps);\n  return /* @__PURE__ */ jsx(MenuOptionItemPropsProvider, { value: optionItemProps, children: /* @__PURE__ */ jsx(MenuItemProvider, { value: itemState, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nMenuRadioItem.displayName = \"MenuRadioItem\";\n\nexport { MenuRadioItem };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef, useId } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\nimport { MenuItemGroupProvider } from './use-menu-item-group-context.js';\n\nconst MenuRadioItemGroup = forwardRef(\n  (props, ref) => {\n    const [optionalItemGroupProps, localProps] = createSplitProps()(props, [\"id\", \"onValueChange\", \"value\"]);\n    const menu = useMenuContext();\n    const id = useId();\n    const itemGroupProps = { id, ...optionalItemGroupProps };\n    const mergedProps = mergeProps(menu.getItemGroupProps({ id: itemGroupProps.id }), localProps);\n    return /* @__PURE__ */ jsx(MenuItemGroupProvider, { value: itemGroupProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nMenuRadioItemGroup.displayName = \"MenuRadioItemGroup\";\n\nexport { MenuRadioItemGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { useCallback } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { useEffectOnce } from '../../utils/use-effect-once.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useMenu } from './use-menu.js';\nimport { useMenuContext, MenuProvider } from './use-menu-context.js';\nimport { useMenuMachineContext, MenuMachineProvider } from './use-menu-machine-context.js';\nimport { MenuTriggerItemProvider } from './use-menu-trigger-item-context.js';\n\nconst MenuRoot = (props) => {\n  const [presenceProps, menuProps] = splitPresenceProps(props);\n  const [useMenuProps, localProps] = createSplitProps()(menuProps, [\n    \"anchorPoint\",\n    \"aria-label\",\n    \"closeOnSelect\",\n    \"composite\",\n    \"defaultOpen\",\n    \"highlightedValue\",\n    \"id\",\n    \"ids\",\n    \"loopFocus\",\n    \"onEscapeKeyDown\",\n    \"onFocusOutside\",\n    \"onHighlightChange\",\n    \"onInteractOutside\",\n    \"onOpenChange\",\n    \"onPointerDownOutside\",\n    \"onSelect\",\n    \"open\",\n    \"positioning\",\n    \"typeahead\"\n  ]);\n  const parentApi = useMenuContext();\n  const parentMachine = useMenuMachineContext();\n  const { api, machine } = useMenu(useMenuProps);\n  const presence = usePresence(mergeProps({ present: api.open }, presenceProps));\n  useEffectOnce(() => {\n    if (!parentMachine)\n      return;\n    if (!parentApi)\n      return;\n    parentApi.setChild(machine);\n    api.setParent(parentMachine);\n  });\n  const triggerItemContext = useCallback(\n    () => parentApi?.getTriggerItemProps(api),\n    [api, parentApi]\n  );\n  return /* @__PURE__ */ jsx(MenuTriggerItemProvider, { value: triggerItemContext, children: /* @__PURE__ */ jsx(MenuMachineProvider, { value: machine, children: /* @__PURE__ */ jsx(MenuProvider, { value: api, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, ...localProps }) }) }) });\n};\n\nexport { MenuRoot };\n", "'use client';\nimport { useRef, useEffect } from 'react';\n\nconst useEffectOnce = (cb) => {\n  const savedCallback = useRef(cb);\n  const effectGuard = useRef(false);\n  useEffect(() => {\n    savedCallback.current = cb;\n  });\n  useEffect(() => {\n    if (effectGuard.current !== true) {\n      effectGuard.current = true;\n      savedCallback.current();\n    }\n  }, []);\n};\n\nexport { useEffectOnce };\n", "'use client';\nimport * as menu from '@zag-js/menu';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useMenu = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    open: props.defaultOpen,\n    \"open.controlled\": props.open !== void 0,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    onOpenChange: useEvent(props.onOpenChange),\n    onSelect: useEvent(props.onSelect)\n  };\n  const [state, send, machine] = useMachine(menu.machine(initialContext), { context });\n  const api = menu.connect(state, send, normalizeProps);\n  return { api, machine };\n};\n\nexport { useMenu };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [MenuMachineProvider, useMenuMachineContext] = createContext({\n  name: \"MenuMachineContext\",\n  hookName: \"useMenuMachineContext\",\n  providerName: \"<MenuMachineProvider />\",\n  strict: false\n});\n\nexport { MenuMachineProvider, useMenuMachineContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [MenuTriggerItemProvider, useMenuTriggerItemContext] = createContext({\n  name: \"MenuMachineContext\",\n  hookName: \"useMenuMachineContext\",\n  providerName: \"<MenuMachineProvider />\",\n  strict: false\n});\n\nexport { MenuTriggerItemProvider, useMenuTriggerItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { useCallback } from 'react';\nimport { useEffectOnce } from '../../utils/use-effect-once.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useMenuContext, MenuProvider } from './use-menu-context.js';\nimport { useMenuMachineContext, MenuMachineProvider } from './use-menu-machine-context.js';\nimport { MenuTriggerItemProvider } from './use-menu-trigger-item-context.js';\n\nconst MenuRootProvider = (props) => {\n  const parentApi = useMenuContext();\n  const parentMachine = useMenuMachineContext();\n  const [presenceProps, { value: menu, children }] = splitPresenceProps(props);\n  const { api, machine } = menu;\n  const presence = usePresence(mergeProps({ present: api.open }, presenceProps));\n  useEffectOnce(() => {\n    if (!parentMachine)\n      return;\n    if (!parentApi)\n      return;\n    parentApi.setChild(machine);\n    api.setParent(parentMachine);\n  });\n  const triggerItemContext = useCallback(\n    () => parentApi?.getTriggerItemProps(api),\n    [api, parentApi]\n  );\n  return /* @__PURE__ */ jsx(MenuTriggerItemProvider, { value: triggerItemContext, children: /* @__PURE__ */ jsx(MenuMachineProvider, { value: machine, children: /* @__PURE__ */ jsx(MenuProvider, { value: api, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children }) }) }) });\n};\n\nexport { MenuRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useMenuContext } from './use-menu-context.js';\n\nconst MenuSeparator = forwardRef((props, ref) => {\n  const menu = useMenuContext();\n  const mergedProps = mergeProps(menu.getSeparatorProps(), props);\n  return /* @__PURE__ */ jsx(ark.hr, { ...mergedProps, ref });\n});\nMenuSeparator.displayName = \"MenuSeparator\";\n\nexport { MenuSeparator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useMenuContext } from './use-menu-context.js';\n\nconst MenuTrigger = forwardRef((props, ref) => {\n  const menu = useMenuContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(\n    {\n      ...menu.getTriggerProps(),\n      \"aria-controls\": presence.unmounted ? void 0 : menu.getTriggerProps()[\"aria-controls\"]\n    },\n    props\n  );\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nMenuTrigger.displayName = \"MenuTrigger\";\n\nexport { MenuTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useMenuTriggerItemContext } from './use-menu-trigger-item-context.js';\n\nconst MenuTriggerItem = forwardRef((props, ref) => {\n  const getTriggerItemProps = useMenuTriggerItemContext();\n  const mergedProps = mergeProps(getTriggerItemProps?.() ?? {}, props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nMenuTriggerItem.displayName = \"MenuTriggerItem\";\n\nexport { MenuTriggerItem };\n", "export { MenuArrow as Arrow } from './menu-arrow.js';\nexport { MenuArrowTip as ArrowTip } from './menu-arrow-tip.js';\nexport { MenuCheckboxItem as CheckboxItem } from './menu-checkbox-item.js';\nexport { MenuContent as Content } from './menu-content.js';\nexport { MenuContext as Context } from './menu-context.js';\nexport { MenuContextTrigger as ContextTrigger } from './menu-context-trigger.js';\nexport { MenuIndicator as Indicator } from './menu-indicator.js';\nexport { MenuItem as Item } from './menu-item.js';\nexport { MenuItemContext as ItemContext } from './menu-item-context.js';\nexport { MenuItemGroup as ItemGroup } from './menu-item-group.js';\nexport { MenuItemGroupLabel as ItemGroupLabel } from './menu-item-group-label.js';\nexport { MenuItemIndicator as ItemIndicator } from './menu-item-indicator.js';\nexport { MenuItemText as ItemText } from './menu-item-text.js';\nexport { MenuPositioner as Positioner } from './menu-positioner.js';\nexport { MenuRadioItem as RadioItem } from './menu-radio-item.js';\nexport { MenuRadioItemGroup as RadioItemGroup } from './menu-radio-item-group.js';\nexport { MenuRoot as Root } from './menu-root.js';\nexport { MenuRootProvider as RootProvider } from './menu-root-provider.js';\nexport { MenuSeparator as Separator } from './menu-separator.js';\nexport { MenuTrigger as Trigger } from './menu-trigger.js';\nexport { MenuTriggerItem as TriggerItem } from './menu-trigger-item.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [NumberInputProvider, useNumberInputContext] = createContext({\n  name: \"NumberInputContext\",\n  hookName: \"useNumberInputContext\",\n  providerName: \"<NumberInputProvider />\"\n});\n\nexport { NumberInputProvider, useNumberInputContext };\n", "'use client';\nimport { useNumberInputContext } from './use-number-input-context.js';\n\nconst NumberInputContext = (props) => props.children(useNumberInputContext());\n\nexport { NumberInputContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useNumberInputContext } from './use-number-input-context.js';\n\nconst NumberInputControl = forwardRef(\n  (props, ref) => {\n    const numberInput = useNumberInputContext();\n    const mergedProps = mergeProps(numberInput.getControlProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nNumberInputControl.displayName = \"NumberInputControl\";\n\nexport { NumberInputControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useNumberInputContext } from './use-number-input-context.js';\n\nconst NumberInputDecrementTrigger = forwardRef((props, ref) => {\n  const numberInput = useNumberInputContext();\n  const mergedProps = mergeProps(numberInput.getDecrementTriggerProps(), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nNumberInputDecrementTrigger.displayName = \"NumberInputDecrementTrigger\";\n\nexport { NumberInputDecrementTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useNumberInputContext } from './use-number-input-context.js';\n\nconst NumberInputIncrementTrigger = forwardRef((props, ref) => {\n  const numberInput = useNumberInputContext();\n  const mergedProps = mergeProps(numberInput.getIncrementTriggerProps(), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nNumberInputIncrementTrigger.displayName = \"NumberInputIncrementTrigger\";\n\nexport { NumberInputIncrementTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useNumberInputContext } from './use-number-input-context.js';\n\nconst NumberInputInput = forwardRef(\n  (props, ref) => {\n    const numberInput = useNumberInputContext();\n    const mergedProps = mergeProps(numberInput.getInputProps(), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nNumberInputInput.displayName = \"NumberInputInput\";\n\nexport { NumberInputInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useNumberInputContext } from './use-number-input-context.js';\n\nconst NumberInputLabel = forwardRef(\n  (props, ref) => {\n    const numberInput = useNumberInputContext();\n    const mergedProps = mergeProps(numberInput.getLabelProps(), props);\n    return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n  }\n);\nNumberInputLabel.displayName = \"NumberInputLabel\";\n\nexport { NumberInputLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useNumberInput } from './use-number-input.js';\nimport { NumberInputProvider } from './use-number-input-context.js';\n\nconst NumberInputRoot = forwardRef((props, ref) => {\n  const [useNumberInputProps, localProps] = createSplitProps()(props, [\n    \"allowMouseWheel\",\n    \"allowOverflow\",\n    \"clampValueOnBlur\",\n    \"defaultValue\",\n    \"disabled\",\n    \"focusInputOnChange\",\n    \"form\",\n    \"formatOptions\",\n    \"id\",\n    \"ids\",\n    \"inputMode\",\n    \"invalid\",\n    \"locale\",\n    \"max\",\n    \"min\",\n    \"name\",\n    \"onFocusChange\",\n    \"onValueChange\",\n    \"onValueInvalid\",\n    \"pattern\",\n    \"readOnly\",\n    \"spinOnPress\",\n    \"step\",\n    \"translations\",\n    \"value\"\n  ]);\n  const numberInput = useNumberInput(useNumberInputProps);\n  const mergedProps = mergeProps(numberInput.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(NumberInputProvider, { value: numberInput, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nNumberInputRoot.displayName = \"NumberInputRoot\";\n\nexport { NumberInputRoot };\n", "'use client';\nimport * as numberInput from '@zag-js/number-input';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useNumberInput = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onValueInvalid: useEvent(props.onValueInvalid),\n    onFocusChange: useEvent(props.onFocusChange)\n  };\n  const [state, send] = useMachine(numberInput.machine(initialContext), { context });\n  return numberInput.connect(state, send, normalizeProps);\n};\n\nexport { useNumberInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { NumberInputProvider } from './use-number-input-context.js';\n\nconst NumberInputRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: numberInput }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(numberInput.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(NumberInputProvider, { value: numberInput, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nNumberInputRootProvider.displayName = \"NumberInputRootProvider\";\n\nexport { NumberInputRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useNumberInputContext } from './use-number-input-context.js';\n\nconst NumberInputScrubber = forwardRef(\n  (props, ref) => {\n    const numberInput = useNumberInputContext();\n    const mergedProps = mergeProps(numberInput.getScrubberProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nNumberInputScrubber.displayName = \"NumberInputScrubber\";\n\nexport { NumberInputScrubber };\n", "export { NumberInputContext as Context } from './number-input-context.js';\nexport { NumberInputControl as Control } from './number-input-control.js';\nexport { NumberInputDecrementTrigger as DecrementTrigger } from './number-input-decrement-trigger.js';\nexport { NumberInputIncrementTrigger as IncrementTrigger } from './number-input-increment-trigger.js';\nexport { NumberInputInput as Input } from './number-input-input.js';\nexport { NumberInputLabel as Label } from './number-input-label.js';\nexport { NumberInputRoot as Root } from './number-input-root.js';\nexport { NumberInputScrubber as Scrubber } from './number-input-scrubber.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [PaginationProvider, usePaginationContext] = createContext({\n  name: \"PaginationContext\",\n  hookName: \"usePaginationContext\",\n  providerName: \"<PaginationProvider />\"\n});\n\nexport { PaginationProvider, usePaginationContext };\n", "'use client';\nimport { usePaginationContext } from './use-pagination-context.js';\n\nconst PaginationContext = (props) => props.children(usePaginationContext());\n\nexport { PaginationContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { usePaginationContext } from './use-pagination-context.js';\n\nconst PaginationEllipsis = forwardRef(\n  (props, ref) => {\n    const [ellipsisProps, localProps] = createSplitProps()(props, [\"index\"]);\n    const pagination = usePaginationContext();\n    const mergedProps = mergeProps(pagination.getEllipsisProps(ellipsisProps), localProps);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nPaginationEllipsis.displayName = \"PaginationEllipsis\";\n\nexport { PaginationEllipsis };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { usePaginationContext } from './use-pagination-context.js';\n\nconst PaginationItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\"value\", \"type\"]);\n  const pagination = usePaginationContext();\n  const mergedProps = mergeProps(pagination.getItemProps(itemProps), localProps);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nPaginationItem.displayName = \"PaginationItem\";\n\nexport { PaginationItem };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePaginationContext } from './use-pagination-context.js';\n\nconst PaginationNextTrigger = forwardRef(\n  (props, ref) => {\n    const pagination = usePaginationContext();\n    const mergedProps = mergeProps(pagination.getNextTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nPaginationNextTrigger.displayName = \"PaginationNextTrigger\";\n\nexport { PaginationNextTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePaginationContext } from './use-pagination-context.js';\n\nconst PaginationPrevTrigger = forwardRef(\n  (props, ref) => {\n    const pagination = usePaginationContext();\n    const mergedProps = mergeProps(pagination.getPrevTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nPaginationPrevTrigger.displayName = \"PaginationPrevTrigger\";\n\nexport { PaginationPrevTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { usePagination } from './use-pagination.js';\nimport { PaginationProvider } from './use-pagination-context.js';\n\nconst PaginationRoot = forwardRef((props, ref) => {\n  const [paginationProps, localProps] = createSplitProps()(props, [\n    \"count\",\n    \"defaultPage\",\n    \"id\",\n    \"ids\",\n    \"onPageChange\",\n    \"onPageSizeChange\",\n    \"page\",\n    \"pageSize\",\n    \"siblingCount\",\n    \"translations\",\n    \"type\"\n  ]);\n  const pagination = usePagination(paginationProps);\n  const mergedProps = mergeProps(pagination.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(PaginationProvider, { value: pagination, children: /* @__PURE__ */ jsx(ark.nav, { ...mergedProps, ref }) });\n});\nPaginationRoot.displayName = \"PaginationRoot\";\n\nexport { PaginationRoot };\n", "'use client';\nimport * as pagination from '@zag-js/pagination';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst usePagination = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    page: props.defaultPage,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    page: props.page,\n    onPageChange: useEvent(props.onPageChange, { sync: true })\n  };\n  const [state, send] = useMachine(pagination.machine(initialContext), { context });\n  return pagination.connect(state, send, normalizeProps);\n};\n\nexport { usePagination };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { PaginationProvider } from './use-pagination-context.js';\n\nconst PaginationRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: pagination }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(pagination.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(PaginationProvider, { value: pagination, children: /* @__PURE__ */ jsx(ark.nav, { ...mergedProps, ref }) });\n  }\n);\nPaginationRootProvider.displayName = \"PaginationRootProvider\";\n\nexport { PaginationRootProvider };\n", "export { PaginationContext as Context } from './pagination-context.js';\nexport { PaginationEllipsis as Ellipsis } from './pagination-ellipsis.js';\nexport { PaginationItem as Item } from './pagination-item.js';\nexport { PaginationNextTrigger as NextTrigger } from './pagination-next-trigger.js';\nexport { PaginationPrevTrigger as PrevTrigger } from './pagination-prev-trigger.js';\nexport { PaginationRoot as Root } from './pagination-root.js';\nexport { PaginationRootProvider as RootProvider } from './pagination-root-provider.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [PinInputProvider, usePinInputContext] = createContext({\n  name: \"PinInputContext\",\n  hookName: \"usePinInputContext\",\n  providerName: \"<PinInputProvider />\"\n});\n\nexport { PinInputProvider, usePinInputContext };\n", "'use client';\nimport { usePinInputContext } from './use-pin-input-context.js';\n\nconst PinInputContext = (props) => props.children(usePinInputContext());\n\nexport { PinInputContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePinInputContext } from './use-pin-input-context.js';\n\nconst PinInputControl = forwardRef((props, ref) => {\n  const pinInput = usePinInputContext();\n  const mergedProps = mergeProps(pinInput.getControlProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nPinInputControl.displayName = \"PinInputControl\";\n\nexport { PinInputControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePinInputContext } from './use-pin-input-context.js';\n\nconst PinInputHiddenInput = forwardRef(\n  (props, ref) => {\n    const pinInput = usePinInputContext();\n    const mergedProps = mergeProps(pinInput.getHiddenInputProps(), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nPinInputHiddenInput.displayName = \"PinInputHiddenInput\";\n\nexport { PinInputHiddenInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { usePinInputContext } from './use-pin-input-context.js';\n\nconst PinInputInput = forwardRef((props, ref) => {\n  const [inputProps, localProps] = createSplitProps()(props, [\"index\"]);\n  const pinInput = usePinInputContext();\n  const mergedProps = mergeProps(pinInput.getInputProps(inputProps), localProps);\n  return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n});\nPinInputInput.displayName = \"PinInputInput\";\n\nexport { PinInputInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePinInputContext } from './use-pin-input-context.js';\n\nconst PinInputLabel = forwardRef((props, ref) => {\n  const pinInput = usePinInputContext();\n  const mergedProps = mergeProps(pinInput.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nPinInputLabel.displayName = \"PinInputLabel\";\n\nexport { PinInputLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { usePinInput } from './use-pin-input.js';\nimport { PinInputProvider } from './use-pin-input-context.js';\n\nconst PinInputRoot = forwardRef((props, ref) => {\n  const [usePinInputProps, localProps] = createSplitProps()(props, [\n    \"autoFocus\",\n    \"blurOnComplete\",\n    \"defaultValue\",\n    \"disabled\",\n    \"form\",\n    \"id\",\n    \"ids\",\n    \"invalid\",\n    \"mask\",\n    \"name\",\n    \"onValueChange\",\n    \"onValueComplete\",\n    \"onValueInvalid\",\n    \"otp\",\n    \"pattern\",\n    \"placeholder\",\n    \"selectOnFocus\",\n    \"translations\",\n    \"type\",\n    \"value\"\n  ]);\n  const pinInput = usePinInput(usePinInputProps);\n  const mergedProps = mergeProps(pinInput.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(PinInputProvider, { value: pinInput, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nPinInputRoot.displayName = \"PinInputRoot\";\n\nexport { PinInputRoot };\n", "'use client';\nimport * as pinInput from '@zag-js/pin-input';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst usePinInput = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onValueComplete: useEvent(props.onValueComplete),\n    onValueInvalid: useEvent(props.onValueInvalid)\n  };\n  const [state, send] = useMachine(pinInput.machine(initialContext), { context });\n  return pinInput.connect(state, send, normalizeProps);\n};\n\nexport { usePinInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { PinInputProvider } from './use-pin-input-context.js';\n\nconst PinInputRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: pinInput }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(pinInput.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(PinInputProvider, { value: pinInput, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nPinInputRootProvider.displayName = \"PinInputRootProvider\";\n\nexport { PinInputRootProvider };\n", "export { PinInputContext as Context } from './pin-input-context.js';\nexport { PinInputControl as Control } from './pin-input-control.js';\nexport { PinInputHiddenInput as HiddenInput } from './pin-input-hidden-input.js';\nexport { PinInputInput as Input } from './pin-input-input.js';\nexport { PinInputLabel as Label } from './pin-input-label.js';\nexport { PinInputRoot as Root } from './pin-input-root.js';\nexport { PinInputRootProvider as RootProvider } from './pin-input-root-provider.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverAnchor = forwardRef((props, ref) => {\n  const popover = usePopoverContext();\n  const mergedProps = mergeProps(popover.getAnchorProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nPopoverAnchor.displayName = \"PopoverAnchor\";\n\nexport { PopoverAnchor };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [PopoverProvider, usePopoverContext] = createContext({\n  name: \"PopoverContext\",\n  hookName: \"usePopoverContext\",\n  providerName: \"<PopoverProvider />\"\n});\n\nexport { PopoverProvider, usePopoverContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverArrow = forwardRef((props, ref) => {\n  const popover = usePopoverContext();\n  const mergedProps = mergeProps(popover.getArrowProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nPopoverArrow.displayName = \"PopoverArrow\";\n\nexport { PopoverArrow };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverArrowTip = forwardRef((props, ref) => {\n  const popover = usePopoverContext();\n  const mergedProps = mergeProps(popover.getArrowTipProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nPopoverArrowTip.displayName = \"PopoverArrowTip\";\n\nexport { PopoverArrowTip };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverCloseTrigger = forwardRef(\n  (props, ref) => {\n    const popover = usePopoverContext();\n    const mergedProps = mergeProps(popover.getCloseTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nPopoverCloseTrigger.displayName = \"PopoverCloseTrigger\";\n\nexport { PopoverCloseTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverContent = forwardRef((props, ref) => {\n  const popover = usePopoverContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(popover.getContentProps(), presence.getPresenceProps(ref), props);\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n});\nPopoverContent.displayName = \"PopoverContent\";\n\nexport { PopoverContent };\n", "'use client';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverContext = (props) => props.children(usePopoverContext());\n\nexport { PopoverContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverDescription = forwardRef(\n  (props, ref) => {\n    const popover = usePopoverContext();\n    const mergedProps = mergeProps(popover.getDescriptionProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nPopoverDescription.displayName = \"PopoverDescription\";\n\nexport { PopoverDescription };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverIndicator = forwardRef((props, ref) => {\n  const popover = usePopoverContext();\n  const mergedProps = mergeProps(popover.getIndicatorProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nPopoverIndicator.displayName = \"PopoverIndicator\";\n\nexport { PopoverIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverPositioner = forwardRef(\n  (props, ref) => {\n    const popover = usePopoverContext();\n    const presence = usePresenceContext();\n    const mergedProps = mergeProps(popover.getPositionerProps(), props);\n    if (presence.unmounted) {\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nPopoverPositioner.displayName = \"PopoverPositioner\";\n\nexport { PopoverPositioner };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { usePopover } from './use-popover.js';\nimport { PopoverProvider } from './use-popover-context.js';\n\nconst PopoverRoot = (props) => {\n  const [presenceProps, { children, ...localProps }] = splitPresenceProps(props);\n  const popover = usePopover(localProps);\n  const presence = usePresence(mergeProps({ present: popover.open }, presenceProps));\n  return /* @__PURE__ */ jsx(PopoverProvider, { value: popover, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children }) });\n};\n\nexport { PopoverRoot };\n", "'use client';\nimport * as popover from '@zag-js/popover';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst usePopover = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    open: props.defaultOpen,\n    \"open.controlled\": props.open !== void 0,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    open: props.open,\n    onOpenChange: useEvent(props.onOpenChange, { sync: true })\n  };\n  const [state, send] = useMachine(popover.machine(initialContext), { context });\n  return popover.connect(state, send, normalizeProps);\n};\n\nexport { usePopover };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { PopoverProvider } from './use-popover-context.js';\n\nconst PopoverRootProvider = (props) => {\n  const [presenceProps, { value: popover, children }] = splitPresenceProps(props);\n  const presence = usePresence(mergeProps({ present: popover.open }, presenceProps));\n  return /* @__PURE__ */ jsx(PopoverProvider, { value: popover, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children }) });\n};\n\nexport { PopoverRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverTitle = forwardRef((props, ref) => {\n  const popover = usePopoverContext();\n  const mergedProps = mergeProps(popover.getTitleProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nPopoverTitle.displayName = \"PopoverTitle\";\n\nexport { PopoverTitle };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { usePopoverContext } from './use-popover-context.js';\n\nconst PopoverTrigger = forwardRef((props, ref) => {\n  const popover = usePopoverContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(\n    {\n      ...popover.getTriggerProps(),\n      \"aria-controls\": presence.unmounted ? void 0 : popover.getTriggerProps()[\"aria-controls\"]\n    },\n    props\n  );\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nPopoverTrigger.displayName = \"PopoverTrigger\";\n\nexport { PopoverTrigger };\n", "export { PopoverAnchor as Anchor } from './popover-anchor.js';\nexport { PopoverArrow as Arrow } from './popover-arrow.js';\nexport { PopoverArrowTip as ArrowTip } from './popover-arrow-tip.js';\nexport { PopoverCloseTrigger as CloseTrigger } from './popover-close-trigger.js';\nexport { PopoverContent as Content } from './popover-content.js';\nexport { PopoverContext as Context } from './popover-context.js';\nexport { PopoverDescription as Description } from './popover-description.js';\nexport { PopoverIndicator as Indicator } from './popover-indicator.js';\nexport { PopoverPositioner as Positioner } from './popover-positioner.js';\nexport { PopoverRoot as Root } from './popover-root.js';\nexport { PopoverRootProvider as RootProvider } from './popover-root-provider.js';\nexport { PopoverTitle as Title } from './popover-title.js';\nexport { PopoverTrigger as Trigger } from './popover-trigger.js';\n", "'use client';\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { Children } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useIsServer } from '../../utils/use-is-server.js';\n\nconst Portal = (props) => {\n  const { children, container, disabled } = props;\n  const isServer = useIsServer();\n  const { getRootNode } = useEnvironmentContext();\n  if (isServer || disabled)\n    return /* @__PURE__ */ jsx(Fragment, { children });\n  const doc = getRootNode?.().ownerDocument ?? document;\n  const mountNode = container?.current ?? doc.body;\n  return /* @__PURE__ */ jsx(Fragment, { children: Children.map(children, (child) => createPortal(child, mountNode)) });\n};\n\nexport { Portal };\n", "'use client';\nimport { useState, useEffect } from 'react';\n\nconst useIsServer = () => {\n  const [isServer, setServer] = useState(true);\n  useEffect(() => {\n    setServer(false);\n  }, []);\n  return isServer;\n};\n\nexport { useIsServer };\n", "import { jsx } from 'react/jsx-runtime';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { splitPresenceProps } from './split-presence-props.js';\nimport { usePresence } from './use-presence.js';\n\nconst Presence = forwardRef((props, ref) => {\n  const [presenceProps, localProps] = splitPresenceProps(props);\n  const presence = usePresence(presenceProps);\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    ark.div,\n    {\n      ...localProps,\n      ...presence.getPresenceProps(ref),\n      \"data-scope\": \"presence\",\n      \"data-part\": \"root\"\n    }\n  );\n});\nPresence.displayName = \"Presence\";\n\nexport { Presence };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { ark } from '../factory.js';\nimport { useProgressContext } from './use-progress-context.js';\n\nconst ProgressCircle = (props) => {\n  const progress = useProgressContext();\n  const mergedProps = mergeProps(progress.getCircleProps(), props);\n  return /* @__PURE__ */ jsx(ark.svg, { ...mergedProps });\n};\nProgressCircle.displayName = \"ProgressCircle\";\n\nexport { ProgressCircle };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ProgressProvider, useProgressContext] = createContext({\n  name: \"ProgressContext\",\n  hookName: \"useProgressContext\",\n  providerName: \"<ProgressProvider />\"\n});\n\nexport { ProgressProvider, useProgressContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { ark } from '../factory.js';\nimport { useProgressContext } from './use-progress-context.js';\n\nconst ProgressCircleRange = (props) => {\n  const progress = useProgressContext();\n  const mergedProps = mergeProps(progress.getCircleRangeProps(), props);\n  return /* @__PURE__ */ jsx(ark.circle, { ...mergedProps });\n};\nProgressCircleRange.displayName = \"ProgressCircleRange\";\n\nexport { ProgressCircleRange };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { ark } from '../factory.js';\nimport { useProgressContext } from './use-progress-context.js';\n\nconst ProgressCircleTrack = (props) => {\n  const progress = useProgressContext();\n  const mergedProps = mergeProps(progress.getCircleTrackProps(), props);\n  return /* @__PURE__ */ jsx(ark.circle, { ...mergedProps });\n};\nProgressCircleTrack.displayName = \"ProgressCircleTrack\";\n\nexport { ProgressCircleTrack };\n", "'use client';\nimport { useProgressContext } from './use-progress-context.js';\n\nconst ProgressContext = (props) => props.children(useProgressContext());\n\nexport { ProgressContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useProgressContext } from './use-progress-context.js';\n\nconst ProgressLabel = forwardRef((props, ref) => {\n  const progress = useProgressContext();\n  const mergedProps = mergeProps(progress.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nProgressLabel.displayName = \"ProgressLabel\";\n\nexport { ProgressLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useProgressContext } from './use-progress-context.js';\n\nconst ProgressRange = forwardRef((props, ref) => {\n  const progress = useProgressContext();\n  const mergedProps = mergeProps(progress.getRangeProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nProgressRange.displayName = \"ProgressRange\";\n\nexport { ProgressRange };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useProgress } from './use-progress.js';\nimport { ProgressProvider } from './use-progress-context.js';\n\nconst ProgressRoot = forwardRef((props, ref) => {\n  const [progressProps, localProps] = createSplitProps()(props, [\n    \"id\",\n    \"ids\",\n    \"max\",\n    \"min\",\n    \"orientation\",\n    \"translations\",\n    \"value\"\n  ]);\n  const progress = useProgress(progressProps);\n  const mergedProps = mergeProps(progress.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(ProgressProvider, { value: progress, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nProgressRoot.displayName = \"ProgressRoot\";\n\nexport { ProgressRoot };\n", "'use client';\nimport * as progress from '@zag-js/progress';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\n\nconst useProgress = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value\n  };\n  const [state, send] = useMachine(progress.machine(initialContext), { context });\n  return progress.connect(state, send, normalizeProps);\n};\n\nexport { useProgress };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { ProgressProvider } from './use-progress-context.js';\n\nconst ProgressRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: progress }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(progress.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(ProgressProvider, { value: progress, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nProgressRootProvider.displayName = \"ProgressRootProvider\";\n\nexport { ProgressRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useProgressContext } from './use-progress-context.js';\n\nconst ProgressTrack = forwardRef((props, ref) => {\n  const progress = useProgressContext();\n  const mergedProps = mergeProps(progress.getTrackProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nProgressTrack.displayName = \"ProgressTrack\";\n\nexport { ProgressTrack };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useProgressContext } from './use-progress-context.js';\n\nconst ProgressValueText = forwardRef(\n  (props, ref) => {\n    const { children, ...rest } = props;\n    const progress = useProgressContext();\n    const mergedProps = mergeProps(progress.getValueTextProps(), rest);\n    return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref, children: children || progress.valueAsString });\n  }\n);\nProgressValueText.displayName = \"ProgressValueText\";\n\nexport { ProgressValueText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useProgressContext } from './use-progress-context.js';\n\nconst ProgressView = forwardRef((props, ref) => {\n  const [viewProps, localProps] = createSplitProps()(props, [\"state\"]);\n  const progress = useProgressContext();\n  const mergedProps = mergeProps(progress.getViewProps(viewProps), localProps);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nProgressView.displayName = \"ProgressView\";\n\nexport { ProgressView };\n", "export { ProgressCircle as Circle } from './progress-circle.js';\nexport { ProgressCircleRange as CircleRange } from './progress-circle-range.js';\nexport { ProgressCircleTrack as CircleTrack } from './progress-circle-track.js';\nexport { ProgressContext as Context } from './progress-context.js';\nexport { ProgressLabel as Label } from './progress-label.js';\nexport { ProgressRange as Range } from './progress-range.js';\nexport { ProgressRoot as Root } from './progress-root.js';\nexport { ProgressRootProvider as RootProvider } from './progress-root-provider.js';\nexport { ProgressTrack as Track } from './progress-track.js';\nexport { ProgressValueText as ValueText } from './progress-value-text.js';\nexport { ProgressView as View } from './progress-view.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [QrCodeProvider, useQrCodeContext] = createContext({\n  name: \"QrCodeContext\",\n  hookName: \"useQrCodeContext\",\n  providerName: \"<QrCodeProvider />\"\n});\n\nexport { QrCodeProvider, useQrCodeContext };\n", "'use client';\nimport { useQrCodeContext } from './use-qr-code-context.js';\n\nconst QrCodeContext = (props) => props.children(useQrCodeContext());\n\nexport { QrCodeContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useQrCodeContext } from './use-qr-code-context.js';\n\nconst QrCodeFrame = forwardRef((props, ref) => {\n  const qrCode = useQrCodeContext();\n  const mergedProps = mergeProps(qrCode.getFrameProps(), props);\n  return /* @__PURE__ */ jsx(ark.svg, { ...mergedProps, ref });\n});\nQrCodeFrame.displayName = \"QrCodeFrame\";\n\nexport { QrCodeFrame };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useQrCodeContext } from './use-qr-code-context.js';\n\nconst QrCodeOverlay = forwardRef((props, ref) => {\n  const qrCode = useQrCodeContext();\n  const mergedProps = mergeProps(qrCode.getOverlayProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nQrCodeOverlay.displayName = \"QrCodeOverlay\";\n\nexport { QrCodeOverlay };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useQrCodeContext } from './use-qr-code-context.js';\n\nconst QrCodePattern = forwardRef((props, ref) => {\n  const qrCode = useQrCodeContext();\n  const mergedProps = mergeProps(qrCode.getPatternProps(), props);\n  return /* @__PURE__ */ jsx(ark.path, { ...mergedProps, ref });\n});\nQrCodePattern.displayName = \"QrCodePattern\";\n\nexport { QrCodePattern };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useQrCode } from './use-qr-code.js';\nimport { QrCodeProvider } from './use-qr-code-context.js';\n\nconst QrCodeRoot = forwardRef((props, ref) => {\n  const [qrcodeProps, localProps] = createSplitProps()(props, [\n    \"encoding\",\n    \"id\",\n    \"ids\",\n    \"value\"\n  ]);\n  const qrCode = useQrCode(qrcodeProps);\n  const mergedProps = mergeProps(qrCode.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(QrCodeProvider, { value: qrCode, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nQrCodeRoot.displayName = \"QrcodeRoot\";\n\nexport { QrCodeRoot };\n", "'use client';\nimport * as qrcode from '@zag-js/qr-code';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\n\nconst useQrCode = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const context = {\n    id: useId(),\n    dir,\n    getRootNode,\n    ...props\n  };\n  const [state, send] = useMachine(qrcode.machine(context), { context });\n  return qrcode.connect(state, send, normalizeProps);\n};\n\nexport { useQrCode };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { QrCodeProvider } from './use-qr-code-context.js';\n\nconst QrCodeRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: qrCode }, localProps] = createSplitProps()(props, [\"value\"]);\n    const mergedProps = mergeProps(qrCode.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(QrCodeProvider, { value: qrCode, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nQrCodeRootProvider.displayName = \"QrCodeRootProvider\";\n\nexport { QrCodeRootProvider };\n", "export { QrCodeContext } from './qr-code-context.js';\nexport { QrCodeFrame as Frame } from './qr-code-frame.js';\nexport { QrCodeOverlay as Overlay } from './qr-code-overlay.js';\nexport { QrCodePattern as Pattern } from './qr-code-pattern.js';\nexport { QrCodeRoot as Root } from './qr-code-root.js';\nexport { QrCodeRootProvider as RootProvider } from './qr-code-root-provider.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [RadioGroupProvider, useRadioGroupContext] = createContext({\n  name: \"RadioGroupContext\",\n  hookName: \"useRadioGroupContext\",\n  providerName: \"<RadioGroupProvider />\"\n});\n\nexport { RadioGroupProvider, useRadioGroupContext };\n", "'use client';\nimport { useRadioGroupContext } from './use-radio-group-context.js';\n\nconst RadioGroupContext = (props) => props.children(useRadioGroupContext());\n\nexport { RadioGroupContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useRadioGroupContext } from './use-radio-group-context.js';\n\nconst RadioGroupIndicator = forwardRef(\n  (props, ref) => {\n    const radioGroup = useRadioGroupContext();\n    const mergedProps = mergeProps(radioGroup.getIndicatorProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nRadioGroupIndicator.displayName = \"RadioGroupIndicator\";\n\nexport { RadioGroupIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useRadioGroupContext } from './use-radio-group-context.js';\nimport { RadioGroupItemProvider } from './use-radio-group-item-context.js';\nimport { RadioGroupItemPropsProvider } from './use-radio-group-item-props-context.js';\n\nconst RadioGroupItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\n    \"value\",\n    \"disabled\",\n    \"invalid\"\n  ]);\n  const radioGroup = useRadioGroupContext();\n  const mergedProps = mergeProps(radioGroup.getItemProps(itemProps), localProps);\n  const itemState = radioGroup.getItemState(itemProps);\n  return /* @__PURE__ */ jsx(RadioGroupItemProvider, { value: itemState, children: /* @__PURE__ */ jsx(RadioGroupItemPropsProvider, { value: itemProps, children: /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref }) }) });\n});\nRadioGroupItem.displayName = \"RadioGroupItem\";\n\nexport { RadioGroupItem };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [RadioGroupItemProvider, useRadioGroupItemContext] = createContext({\n  name: \"RadioGroupItemContext\",\n  hookName: \"useRadioGroupItemContext\",\n  providerName: \"<RadioGroupItemProvider />\"\n});\n\nexport { RadioGroupItemProvider, useRadioGroupItemContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [RadioGroupItemPropsProvider, useRadioGroupItemPropsContext] = createContext({\n  name: \"RadioGroupItemPropsContext\",\n  hookName: \"useRadioGroupItemPropsContext\",\n  providerName: \"<RadioGroupItemPropsProvider />\"\n});\n\nexport { RadioGroupItemPropsProvider, useRadioGroupItemPropsContext };\n", "'use client';\nimport { useRadioGroupItemContext } from './use-radio-group-item-context.js';\n\nconst RadioGroupItemContext = (props) => props.children(useRadioGroupItemContext());\n\nexport { RadioGroupItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useRadioGroupContext } from './use-radio-group-context.js';\nimport { useRadioGroupItemPropsContext } from './use-radio-group-item-props-context.js';\n\nconst RadioGroupItemControl = forwardRef(\n  (props, ref) => {\n    const radioGroup = useRadioGroupContext();\n    const itemProps = useRadioGroupItemPropsContext();\n    const mergedProps = mergeProps(radioGroup.getItemControlProps(itemProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nRadioGroupItemControl.displayName = \"RadioGroupItemControl\";\n\nexport { RadioGroupItemControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useRadioGroupContext } from './use-radio-group-context.js';\nimport { useRadioGroupItemPropsContext } from './use-radio-group-item-props-context.js';\n\nconst RadioGroupItemHiddenInput = forwardRef((props, ref) => {\n  const radioGroup = useRadioGroupContext();\n  const itemProps = useRadioGroupItemPropsContext();\n  const mergedProps = mergeProps(radioGroup.getItemHiddenInputProps(itemProps), props);\n  return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n});\nRadioGroupItemHiddenInput.displayName = \"RadioGroupItemHiddenInput\";\n\nexport { RadioGroupItemHiddenInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useRadioGroupContext } from './use-radio-group-context.js';\nimport { useRadioGroupItemPropsContext } from './use-radio-group-item-props-context.js';\n\nconst RadioGroupItemText = forwardRef(\n  (props, ref) => {\n    const radioGroup = useRadioGroupContext();\n    const itemProps = useRadioGroupItemPropsContext();\n    const mergedProps = mergeProps(radioGroup.getItemTextProps(itemProps), props);\n    return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n  }\n);\nRadioGroupItemText.displayName = \"RadioGroupItemText\";\n\nexport { RadioGroupItemText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useRadioGroupContext } from './use-radio-group-context.js';\n\nconst RadioGroupLabel = forwardRef((props, ref) => {\n  const radioGroup = useRadioGroupContext();\n  const mergedProps = mergeProps(radioGroup.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nRadioGroupLabel.displayName = \"RadioGroupLabel\";\n\nexport { RadioGroupLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useRadioGroup } from './use-radio-group.js';\nimport { RadioGroupProvider } from './use-radio-group-context.js';\n\nconst RadioGroupRoot = forwardRef((props, ref) => {\n  const [useRadioGroupProps, localProps] = createSplitProps()(props, [\n    \"defaultValue\",\n    \"disabled\",\n    \"form\",\n    \"id\",\n    \"ids\",\n    \"name\",\n    \"onValueChange\",\n    \"orientation\",\n    \"readOnly\",\n    \"value\"\n  ]);\n  const radioGroup = useRadioGroup(useRadioGroupProps);\n  const mergedProps = mergeProps(radioGroup.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(RadioGroupProvider, { value: radioGroup, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nRadioGroupRoot.displayName = \"RadioGroupRoot\";\n\nexport { RadioGroupRoot };\n", "'use client';\nimport * as radio from '@zag-js/radio-group';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useRadioGroup = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true })\n  };\n  const [state, send] = useMachine(radio.machine(initialContext), {\n    context\n  });\n  return radio.connect(state, send, normalizeProps);\n};\n\nexport { useRadioGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { RadioGroupProvider } from './use-radio-group-context.js';\n\nconst RadioGroupRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: radioGroup }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(radioGroup.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(RadioGroupProvider, { value: radioGroup, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nRadioGroupRootProvider.displayName = \"RadioGroupRootProvider\";\n\nexport { RadioGroupRootProvider };\n", "export { RadioGroupContext as Context } from './radio-group-context.js';\nexport { RadioGroupIndicator as Indicator } from './radio-group-indicator.js';\nexport { RadioGroupItem as Item } from './radio-group-item.js';\nexport { RadioGroupItemContext as ItemContext } from './radio-group-item-context.js';\nexport { RadioGroupItemControl as ItemControl } from './radio-group-item-control.js';\nexport { RadioGroupItemHiddenInput as ItemHiddenInput } from './radio-group-item-hidden-input.js';\nexport { RadioGroupItemText as ItemText } from './radio-group-item-text.js';\nexport { RadioGroupLabel as Label } from './radio-group-label.js';\nexport { RadioGroupRoot as Root } from './radio-group-root.js';\nexport { RadioGroupRootProvider as RootProvider } from './radio-group-root-provider.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [RatingGroupProvider, useRatingGroupContext] = createContext({\n  name: \"RatingGroupContext\",\n  hookName: \"useRatingGroupContext\",\n  providerName: \"<RatingGroupProvider />\"\n});\n\nexport { RatingGroupProvider, useRatingGroupContext };\n", "'use client';\nimport { useRatingGroupContext } from './use-rating-group-context.js';\n\nconst RatingGroupContext = (props) => props.children(useRatingGroupContext());\n\nexport { RatingGroupContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useRatingGroupContext } from './use-rating-group-context.js';\n\nconst RatingGroupControl = forwardRef(\n  (props, ref) => {\n    const ratingGroup = useRatingGroupContext();\n    const mergedProps = mergeProps(ratingGroup.getControlProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nRatingGroupControl.displayName = \"RatingGroupControl\";\n\nexport { RatingGroupControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useRatingGroupContext } from './use-rating-group-context.js';\n\nconst RatingGroupHiddenInput = forwardRef(\n  (props, ref) => {\n    const ratingGroup = useRatingGroupContext();\n    const mergedProps = mergeProps(ratingGroup.getHiddenInputProps(), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nRatingGroupHiddenInput.displayName = \"RatingGroupHiddenInput\";\n\nexport { RatingGroupHiddenInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useRatingGroupContext } from './use-rating-group-context.js';\nimport { RatingGroupItemProvider } from './use-rating-group-item-context.js';\n\nconst RatingGroupItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\"index\"]);\n  const ratingGroup = useRatingGroupContext();\n  const mergedProps = mergeProps(ratingGroup.getItemProps(itemProps), localProps);\n  const itemState = ratingGroup.getItemState(itemProps);\n  return /* @__PURE__ */ jsx(RatingGroupItemProvider, { value: itemState, children: /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref }) });\n});\nRatingGroupItem.displayName = \"RatingGroupItem\";\n\nexport { RatingGroupItem };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [RatingGroupItemProvider, useRatingGroupItemContext] = createContext({\n  name: \"RatingGroupItemContext\",\n  hookName: \"useRatingGroupItemContext\",\n  providerName: \"<RatingGroupItemProvider />\"\n});\n\nexport { RatingGroupItemProvider, useRatingGroupItemContext };\n", "'use client';\nimport { useRatingGroupItemContext } from './use-rating-group-item-context.js';\n\nconst RatingGroupItemContext = (props) => props.children(useRatingGroupItemContext());\n\nexport { RatingGroupItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useRatingGroupContext } from './use-rating-group-context.js';\n\nconst RatingGroupLabel = forwardRef(\n  (props, ref) => {\n    const ratingGroup = useRatingGroupContext();\n    const mergedProps = mergeProps(ratingGroup.getLabelProps(), props);\n    return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n  }\n);\nRatingGroupLabel.displayName = \"RatingGroupLabel\";\n\nexport { RatingGroupLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useRatingGroup } from './use-rating-group.js';\nimport { RatingGroupProvider } from './use-rating-group-context.js';\n\nconst RatingGroupRoot = forwardRef((props, ref) => {\n  const [useRatingProps, localProps] = createSplitProps()(props, [\n    \"allowHalf\",\n    \"autoFocus\",\n    \"count\",\n    \"defaultValue\",\n    \"disabled\",\n    \"form\",\n    \"id\",\n    \"ids\",\n    \"name\",\n    \"onHoverChange\",\n    \"onValueChange\",\n    \"readOnly\",\n    \"translations\",\n    \"value\"\n  ]);\n  const ratingGroup = useRatingGroup(useRatingProps);\n  const mergedProps = mergeProps(ratingGroup.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(RatingGroupProvider, { value: ratingGroup, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nRatingGroupRoot.displayName = \"RatingGroupRoot\";\n\nexport { RatingGroupRoot };\n", "'use client';\nimport * as rating from '@zag-js/rating-group';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useRatingGroup = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onHoverChange: useEvent(props.onHoverChange)\n  };\n  const [state, send] = useMachine(rating.machine(initialContext), {\n    context\n  });\n  return rating.connect(state, send, normalizeProps);\n};\n\nexport { useRatingGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { RatingGroupProvider } from './use-rating-group-context.js';\n\nconst RatingGroupRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: ratingGroup }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(ratingGroup.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(RatingGroupProvider, { value: ratingGroup, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nRatingGroupRootProvider.displayName = \"RatingGroupRootProvider\";\n\nexport { RatingGroupRootProvider };\n", "export { RatingGroupContext as Context } from './rating-group-context.js';\nexport { RatingGroupControl as Control } from './rating-group-control.js';\nexport { RatingGroupItem as Item } from './rating-group-item.js';\nexport { RatingGroupItemContext as ItemContext } from './rating-group-item-context.js';\nexport { RatingGroupLabel as Label } from './rating-group-label.js';\nexport { RatingGroupRoot as Root } from './rating-group-root.js';\nexport { RatingGroupHiddenInput as HiddenInput } from './rating-group-hidden-input.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SegmentGroupProvider, useSegmentGroupContext] = createContext(\n  {\n    name: \"SegmentGroupContext\",\n    hookName: \"useSegmentGroupContext\",\n    providerName: \"<SegmentGroupProvider />\"\n  }\n);\n\nexport { SegmentGroupProvider, useSegmentGroupContext };\n", "'use client';\nimport { useSegmentGroupContext } from './use-segment-group-context.js';\n\nconst SegmentGroupContext = (props) => props.children(useSegmentGroupContext());\n\nexport { SegmentGroupContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { segmentGroupAnatomy } from '@ark-ui/anatomy';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSegmentGroupContext } from './use-segment-group-context.js';\n\nconst SegmentGroupIndicator = forwardRef(\n  (props, ref) => {\n    const segmentGroup = useSegmentGroupContext();\n    const mergedProps = mergeProps(\n      segmentGroup.getIndicatorProps(),\n      segmentGroupAnatomy.build().indicator.attrs,\n      props\n    );\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nSegmentGroupIndicator.displayName = \"SegmentGroupIndicator\";\n\nexport { SegmentGroupIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { segmentGroupAnatomy } from '@ark-ui/anatomy';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSegmentGroupContext } from './use-segment-group-context.js';\nimport { SegmentGroupItemProvider } from './use-segment-group-item-context.js';\nimport { SegmentGroupItemPropsProvider } from './use-segment-group-item-props-context.js';\n\nconst SegmentGroupItem = forwardRef(\n  (props, ref) => {\n    const [itemProps, localProps] = createSplitProps()(props, [\n      \"value\",\n      \"disabled\",\n      \"invalid\"\n    ]);\n    const segmentGroup = useSegmentGroupContext();\n    const mergedProps = mergeProps(\n      segmentGroup.getItemProps(itemProps),\n      segmentGroupAnatomy.build().item.attrs,\n      localProps\n    );\n    const itemState = segmentGroup.getItemState(itemProps);\n    return /* @__PURE__ */ jsx(SegmentGroupItemPropsProvider, { value: itemProps, children: /* @__PURE__ */ jsx(SegmentGroupItemProvider, { value: itemState, children: /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref }) }) });\n  }\n);\nSegmentGroupItem.displayName = \"SegmentGroupItem\";\n\nexport { SegmentGroupItem };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SegmentGroupItemProvider, useSegmentGroupItemContext] = createContext({\n  name: \"SegmentGroupItemContext\",\n  hookName: \"useSegmentGroupItemContext\",\n  providerName: \"<SegmentGroupItemProvider />\"\n});\n\nexport { SegmentGroupItemProvider, useSegmentGroupItemContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SegmentGroupItemPropsProvider, useSegmentGroupItemPropsContext] = createContext({\n  name: \"SegmentGroupItemPropsContext\",\n  hookName: \"useSegmentGroupItemPropsContext\",\n  providerName: \"<SegmentGroupItemPropsProvider />\"\n});\n\nexport { SegmentGroupItemPropsProvider, useSegmentGroupItemPropsContext };\n", "'use client';\nimport { useSegmentGroupItemContext } from './use-segment-group-item-context.js';\n\nconst SegmentGroupItemContext = (props) => props.children(useSegmentGroupItemContext());\n\nexport { SegmentGroupItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { segmentGroupAnatomy } from '@ark-ui/anatomy';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSegmentGroupContext } from './use-segment-group-context.js';\nimport { useSegmentGroupItemPropsContext } from './use-segment-group-item-props-context.js';\n\nconst SegmentGroupItemControl = forwardRef(\n  (props, ref) => {\n    const segmentGroup = useSegmentGroupContext();\n    const itemProps = useSegmentGroupItemPropsContext();\n    const mergedProps = mergeProps(\n      segmentGroup.getItemControlProps(itemProps),\n      segmentGroupAnatomy.build().itemControl.attrs,\n      props\n    );\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nSegmentGroupItemControl.displayName = \"SegmentGroupItemControl\";\n\nexport { SegmentGroupItemControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSegmentGroupContext } from './use-segment-group-context.js';\nimport { useSegmentGroupItemPropsContext } from './use-segment-group-item-props-context.js';\n\nconst SegmentGroupItemHiddenInput = forwardRef((props, ref) => {\n  const segmentGroup = useSegmentGroupContext();\n  const itemProps = useSegmentGroupItemPropsContext();\n  const mergedProps = mergeProps(segmentGroup.getItemHiddenInputProps(itemProps), props);\n  return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n});\nSegmentGroupItemHiddenInput.displayName = \"SegmentGroupItemHiddenInput\";\n\nexport { SegmentGroupItemHiddenInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { segmentGroupAnatomy } from '@ark-ui/anatomy';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSegmentGroupContext } from './use-segment-group-context.js';\nimport { useSegmentGroupItemPropsContext } from './use-segment-group-item-props-context.js';\n\nconst SegmentGroupItemText = forwardRef(\n  (props, ref) => {\n    const segmentGroup = useSegmentGroupContext();\n    const itemProps = useSegmentGroupItemPropsContext();\n    const mergedProps = mergeProps(\n      segmentGroup.getItemTextProps(itemProps),\n      segmentGroupAnatomy.build().itemText.attrs,\n      props\n    );\n    return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n  }\n);\nSegmentGroupItemText.displayName = \"SegmentGroupItemText\";\n\nexport { SegmentGroupItemText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { segmentGroupAnatomy } from '@ark-ui/anatomy';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSegmentGroupContext } from './use-segment-group-context.js';\n\nconst SegmentGroupLabel = forwardRef(\n  (props, ref) => {\n    const segmentGroup = useSegmentGroupContext();\n    const mergedProps = mergeProps(\n      segmentGroup.getLabelProps(),\n      segmentGroupAnatomy.build().label.attrs,\n      props\n    );\n    return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n  }\n);\nSegmentGroupLabel.displayName = \"SegmentGroupLabel\";\n\nexport { SegmentGroupLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { segmentGroupAnatomy } from '@ark-ui/anatomy';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSegmentGroup } from './use-segment-group.js';\nimport { SegmentGroupProvider } from './use-segment-group-context.js';\n\nconst SegmentGroupRoot = forwardRef((props, ref) => {\n  const [useSegmentGroupProps, localProps] = createSplitProps()(props, [\n    \"defaultValue\",\n    \"disabled\",\n    \"form\",\n    \"id\",\n    \"ids\",\n    \"name\",\n    \"onValueChange\",\n    \"orientation\",\n    \"readOnly\",\n    \"value\"\n  ]);\n  const segmentGroup = useSegmentGroup(useSegmentGroupProps);\n  const mergedProps = mergeProps(\n    segmentGroup.getRootProps(),\n    segmentGroupAnatomy.build().root.attrs,\n    localProps\n  );\n  return /* @__PURE__ */ jsx(SegmentGroupProvider, { value: segmentGroup, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nSegmentGroupRoot.displayName = \"SegmentGroupRoot\";\n\nexport { SegmentGroupRoot };\n", "'use client';\nimport * as radio from '@zag-js/radio-group';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useSegmentGroup = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true })\n  };\n  const [state, send] = useMachine(radio.machine(initialContext), {\n    context\n  });\n  return radio.connect(state, send, normalizeProps);\n};\n\nexport { useSegmentGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { segmentGroupAnatomy } from '@ark-ui/anatomy';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { SegmentGroupProvider } from './use-segment-group-context.js';\n\nconst SegmentGroupRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: segmentGroup }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(\n      segmentGroup.getRootProps(),\n      segmentGroupAnatomy.build().root.attrs,\n      localProps\n    );\n    return /* @__PURE__ */ jsx(SegmentGroupProvider, { value: segmentGroup, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nSegmentGroupRootProvider.displayName = \"SegmentGroupRootProvider\";\n\nexport { SegmentGroupRootProvider };\n", "export { SegmentGroupContext as Context } from './segment-group-context.js';\nexport { SegmentGroupIndicator as Indicator } from './segment-group-indicator.js';\nexport { SegmentGroupItem as Item } from './segment-group-item.js';\nexport { SegmentGroupItemContext as ItemContext } from './segment-group-item-context.js';\nexport { SegmentGroupItemControl as ItemControl } from './segment-group-item-control.js';\nexport { SegmentGroupItemHiddenInput as ItemHiddenInput } from './segment-group-item-hidden-input.js';\nexport { SegmentGroupItemText as ItemText } from './segment-group-item-text.js';\nexport { SegmentGroupLabel as Label } from './segment-group-label.js';\nexport { SegmentGroupRoot as Root } from './segment-group-root.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectClearTrigger = forwardRef(\n  (props, ref) => {\n    const select = useSelectContext();\n    const mergedProps = mergeProps(select.getClearTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nSelectClearTrigger.displayName = \"SelectClearTrigger\";\n\nexport { SelectClearTrigger };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SelectProvider, useSelectContext] = createContext({\n  name: \"SelectContext\",\n  hookName: \"useSelectContext\",\n  providerName: \"<SelectProvider />\"\n});\n\nexport { SelectProvider, useSelectContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectContent = forwardRef((props, ref) => {\n  const select = useSelectContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(select.getContentProps(), presence.getPresenceProps(ref), props);\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n});\nSelectContent.displayName = \"SelectContent\";\n\nexport { SelectContent };\n", "'use client';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectContext = (props) => props.children(useSelectContext());\n\nexport { SelectContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectControl = forwardRef((props, ref) => {\n  const select = useSelectContext();\n  const mergedProps = mergeProps(select.getControlProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nSelectControl.displayName = \"SelectControl\";\n\nexport { SelectControl };\n", "'use client';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectHiddenSelect = forwardRef(\n  (props, ref) => {\n    const select = useSelectContext();\n    const mergedProps = mergeProps(select.getHiddenSelectProps(), props);\n    const isValueEmpty = select.value.length === 0;\n    return /* @__PURE__ */ jsxs(ark.select, { ...mergedProps, ref, children: [\n      isValueEmpty && /* @__PURE__ */ jsx(\"option\", { value: \"\" }),\n      select.collection.toArray().map((option) => /* @__PURE__ */ jsx(\"option\", { value: option.value, children: option.label }, option.value))\n    ] });\n  }\n);\nSelectHiddenSelect.displayName = \"SelectHiddenSelect\";\n\nexport { SelectHiddenSelect };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectIndicator = forwardRef((props, ref) => {\n  const select = useSelectContext();\n  const mergedProps = mergeProps(select.getIndicatorProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nSelectIndicator.displayName = \"SelectIndicator\";\n\nexport { SelectIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\nimport { SelectItemProvider } from './use-select-item-context.js';\nimport { SelectItemPropsProvider } from './use-select-item-props-context.js';\n\nconst SelectItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\"item\", \"persistFocus\"]);\n  const select = useSelectContext();\n  const mergedProps = mergeProps(select.getItemProps(itemProps), localProps);\n  const itemState = select.getItemState(itemProps);\n  return /* @__PURE__ */ jsx(SelectItemPropsProvider, { value: itemProps, children: /* @__PURE__ */ jsx(SelectItemProvider, { value: itemState, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nSelectItem.displayName = \"SelectItem\";\n\nexport { SelectItem };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SelectItemProvider, useSelectItemContext] = createContext({\n  name: \"SelectItemContext\",\n  hookName: \"useSelectItemContext\",\n  providerName: \"<SelectItemProvider />\"\n});\n\nexport { SelectItemProvider, useSelectItemContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SelectItemPropsProvider, useSelectItemPropsContext] = createContext({\n  name: \"SelectItemPropsContext\",\n  hookName: \"useSelectItemPropsContext\",\n  providerName: \"<SelectItemPropsProvider />\"\n});\n\nexport { SelectItemPropsProvider, useSelectItemPropsContext };\n", "'use client';\nimport { useSelectItemContext } from './use-select-item-context.js';\n\nconst SelectItemContext = (props) => props.children(useSelectItemContext());\n\nexport { SelectItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef, useId } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\nimport { SelectItemGroupPropsProvider } from './use-select-item-group-props.js';\n\nconst SelectItemGroup = forwardRef((props, ref) => {\n  const id = useId();\n  const [_itemGroupProps, localProps] = createSplitProps()(props, [\"id\"]);\n  const itemGroupProps = { id, ..._itemGroupProps };\n  const select = useSelectContext();\n  const mergedProps = mergeProps(select.getItemGroupProps(itemGroupProps), localProps);\n  return /* @__PURE__ */ jsx(SelectItemGroupPropsProvider, { value: itemGroupProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nSelectItemGroup.displayName = \"SelectItemGroup\";\n\nexport { SelectItemGroup };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SelectItemGroupPropsProvider, useSelectItemGroupPropsContext] = createContext({\n  name: \"SelectItemGroupPropsContext\",\n  hookName: \"useSelectItemGroupPropsContext\",\n  providerName: \"<SelectItemGroupPropsProvider />\"\n});\n\nexport { SelectItemGroupPropsProvider, useSelectItemGroupPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\nimport { useSelectItemGroupPropsContext } from './use-select-item-group-props.js';\n\nconst SelectItemGroupLabel = forwardRef(\n  (props, ref) => {\n    const select = useSelectContext();\n    const itemGroupProps = useSelectItemGroupPropsContext();\n    const mergedProps = mergeProps(\n      select.getItemGroupLabelProps({ htmlFor: itemGroupProps.id }),\n      props\n    );\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nSelectItemGroupLabel.displayName = \"SelectItemGroupLabel\";\n\nexport { SelectItemGroupLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\nimport { useSelectItemPropsContext } from './use-select-item-props-context.js';\n\nconst SelectItemIndicator = forwardRef(\n  (props, ref) => {\n    const select = useSelectContext();\n    const itemProps = useSelectItemPropsContext();\n    const mergedProps = mergeProps(select.getItemIndicatorProps(itemProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nSelectItemIndicator.displayName = \"SelectItemIndicator\";\n\nexport { SelectItemIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\nimport { useSelectItemPropsContext } from './use-select-item-props-context.js';\n\nconst SelectItemText = forwardRef((props, ref) => {\n  const select = useSelectContext();\n  const itemProps = useSelectItemPropsContext();\n  const mergedProps = mergeProps(select.getItemTextProps(itemProps), props);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nSelectItemText.displayName = \"SelectItemText\";\n\nexport { SelectItemText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectLabel = forwardRef((props, ref) => {\n  const select = useSelectContext();\n  const mergedProps = mergeProps(select.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nSelectLabel.displayName = \"SelectLabel\";\n\nexport { SelectLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectList = forwardRef((props, ref) => {\n  const select = useSelectContext();\n  const mergedProps = mergeProps(select.getListProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nSelectList.displayName = \"SelectList\";\n\nexport { SelectList };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectPositioner = forwardRef((props, ref) => {\n  const select = useSelectContext();\n  const mergedProps = mergeProps(select.getPositionerProps(), props);\n  const presence = usePresenceContext();\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nSelectPositioner.displayName = \"SelectPositioner\";\n\nexport { SelectPositioner };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useSelect } from './use-select.js';\nimport { SelectProvider } from './use-select-context.js';\n\nconst SelectImpl = (props, ref) => {\n  const [presenceProps, selectProps] = splitPresenceProps(props);\n  const [useSelectProps, localProps] = createSplitProps()(selectProps, [\n    \"closeOnSelect\",\n    \"composite\",\n    \"defaultOpen\",\n    \"defaultValue\",\n    \"disabled\",\n    \"form\",\n    \"highlightedValue\",\n    \"id\",\n    \"ids\",\n    \"invalid\",\n    \"isItemDisabled\",\n    \"items\",\n    \"itemToString\",\n    \"itemToValue\",\n    \"loopFocus\",\n    \"multiple\",\n    \"name\",\n    \"onFocusOutside\",\n    \"onHighlightChange\",\n    \"onInteractOutside\",\n    \"onOpenChange\",\n    \"onPointerDownOutside\",\n    \"onValueChange\",\n    \"open\",\n    \"positioning\",\n    \"readOnly\",\n    \"scrollToIndexFn\",\n    \"value\"\n  ]);\n  const select = useSelect(useSelectProps);\n  const presence = usePresence(mergeProps({ present: select.open }, presenceProps));\n  const mergedProps = mergeProps(select.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(SelectProvider, { value: select, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n};\nconst SelectRoot = forwardRef(SelectImpl);\n\nexport { SelectRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as select from '@zag-js/select';\nimport { useMemo, useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useSelect = (props) => {\n  const [collectionOptions, selectProps] = createSplitProps()(props, [\n    \"isItemDisabled\",\n    \"itemToValue\",\n    \"itemToString\",\n    \"items\"\n  ]);\n  const collection = useMemo(\n    () => select.collection(collectionOptions),\n    Object.values(collectionOptions)\n  );\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    collection,\n    open: props.defaultOpen,\n    value: props.defaultValue,\n    \"open.controlled\": props.open !== void 0,\n    ...selectProps\n  };\n  const context = {\n    ...initialContext,\n    collection,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onHighlightChange: useEvent(props.onHighlightChange),\n    onOpenChange: useEvent(props.onOpenChange)\n  };\n  const [state, send] = useMachine(select.machine(initialContext), {\n    context\n  });\n  return select.connect(state, send, normalizeProps);\n};\n\nexport { useSelect };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { SelectProvider } from './use-select-context.js';\n\nconst SelectImpl = (props, ref) => {\n  const [presenceProps, selectProps] = splitPresenceProps(props);\n  const [{ value: select }, localProps] = createSplitProps()(selectProps, [\n    \"value\"\n  ]);\n  const presence = usePresence(mergeProps({ present: select.open }, presenceProps));\n  const mergedProps = mergeProps(select.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(SelectProvider, { value: select, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n};\nconst SelectRootProvider = forwardRef(SelectImpl);\n\nexport { SelectRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectTrigger = forwardRef((props, ref) => {\n  const select = useSelectContext();\n  const mergedProps = mergeProps(select.getTriggerProps(), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nSelectTrigger.displayName = \"SelectTrigger\";\n\nexport { SelectTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { selectAnatomy } from '@ark-ui/anatomy';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSelectContext } from './use-select-context.js';\n\nconst SelectValueText = forwardRef((props, ref) => {\n  const { children, placeholder, ...rest } = props;\n  const select = useSelectContext();\n  return /* @__PURE__ */ jsx(ark.span, { ...selectAnatomy.build().valueText.attrs, ...rest, ref, children: children || select.valueAsString || placeholder });\n});\nSelectValueText.displayName = \"SelectValueText\";\n\nexport { SelectValueText };\n", "export { SelectClearTrigger as ClearTrigger } from './select-clear-trigger.js';\nexport { SelectContent as Content } from './select-content.js';\nexport { SelectContext as Context } from './select-context.js';\nexport { SelectControl as Control } from './select-control.js';\nexport { SelectHiddenSelect as HiddenSelect } from './select-hidden-select.js';\nexport { SelectIndicator as Indicator } from './select-indicator.js';\nexport { SelectItem as Item } from './select-item.js';\nexport { SelectItemContext as ItemContext } from './select-item-context.js';\nexport { SelectItemGroup as ItemGroup } from './select-item-group.js';\nexport { SelectItemGroupLabel as ItemGroupLabel } from './select-item-group-label.js';\nexport { SelectItemIndicator as ItemIndicator } from './select-item-indicator.js';\nexport { SelectItemText as ItemText } from './select-item-text.js';\nexport { SelectLabel as Label } from './select-label.js';\nexport { SelectList as List } from './select-list.js';\nexport { SelectPositioner as Positioner } from './select-positioner.js';\nexport { SelectRoot as Root } from './select-root.js';\nexport { SelectRootProvider as RootProvider } from './select-root-provider.js';\nexport { SelectTrigger as Trigger } from './select-trigger.js';\nexport { SelectValueText as ValueText } from './select-value-text.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSignaturePadContext } from './use-signature-pad-context.js';\n\nconst SignaturePadClearTrigger = forwardRef((props, ref) => {\n  const signaturePad = useSignaturePadContext();\n  const mergedProps = mergeProps(signaturePad.getClearTriggerProps(), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nSignaturePadClearTrigger.displayName = \"SignaturePadClearTrigger\";\n\nexport { SignaturePadClearTrigger };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SignaturePadProvider, useSignaturePadContext] = createContext(\n  {\n    name: \"SignaturePadContext\",\n    hookName: \"useSignaturePadContext\",\n    providerName: \"<SignaturePadProvider />\"\n  }\n);\n\nexport { SignaturePadProvider, useSignaturePadContext };\n", "'use client';\nimport { useSignaturePadContext } from './use-signature-pad-context.js';\n\nconst SignaturePadContext = (props) => props.children(useSignaturePadContext());\n\nexport { SignaturePadContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSignaturePadContext } from './use-signature-pad-context.js';\n\nconst SignaturePadControl = forwardRef(\n  (props, ref) => {\n    const signaturePad = useSignaturePadContext();\n    const mergedProps = mergeProps(signaturePad.getControlProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { role: \"application\", ...mergedProps, ref });\n  }\n);\nSignaturePadControl.displayName = \"SignaturePadControl\";\n\nexport { SignaturePadControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSignaturePadContext } from './use-signature-pad-context.js';\n\nconst SignaturePadGuide = forwardRef(\n  (props, ref) => {\n    const signaturePad = useSignaturePadContext();\n    const mergedProps = mergeProps(signaturePad.getGuideProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nSignaturePadGuide.displayName = \"SignaturePadGuide\";\n\nexport { SignaturePadGuide };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSignaturePadContext } from './use-signature-pad-context.js';\n\nconst SignaturePadLabel = forwardRef(\n  (props, ref) => {\n    const signaturePad = useSignaturePadContext();\n    const mergedProps = mergeProps(signaturePad.getLabelProps(), props);\n    return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n  }\n);\nSignaturePadLabel.displayName = \"SignaturePadLabel\";\n\nexport { SignaturePadLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSignaturePad } from './use-signature-pad.js';\nimport { SignaturePadProvider } from './use-signature-pad-context.js';\n\nconst SignaturePadRoot = forwardRef((props, ref) => {\n  const [useSignaturePadProps, localProps] = createSplitProps()(props, [\n    \"id\",\n    \"ids\",\n    \"drawing\",\n    \"disabled\",\n    \"readOnly\",\n    \"name\",\n    \"onDraw\",\n    \"onDrawEnd\"\n  ]);\n  const signaturePad = useSignaturePad(useSignaturePadProps);\n  const mergedProps = mergeProps(signaturePad.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(SignaturePadProvider, { value: signaturePad, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nSignaturePadRoot.displayName = \"SignaturePadRoot\";\n\nexport { SignaturePadRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as signaturePad from '@zag-js/signature-pad';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useSignaturePad = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    drawing: props.drawing,\n    onDraw: useEvent(props.onDraw),\n    onDrawEnd: useEvent(props.onDrawEnd)\n  };\n  const [state, send] = useMachine(signaturePad.machine(initialContext), { context });\n  return signaturePad.connect(state, send, normalizeProps);\n};\n\nexport { useSignaturePad };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { SignaturePadProvider } from './use-signature-pad-context.js';\n\nconst SignaturePadRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: signaturePad }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(signaturePad.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(SignaturePadProvider, { value: signaturePad, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nSignaturePadRootProvider.displayName = \"SignaturePadRootProvider\";\n\nexport { SignaturePadRootProvider };\n", "'use client';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSignaturePadContext } from './use-signature-pad-context.js';\n\nconst SignaturePadSegment = forwardRef(\n  (props, ref) => {\n    const signaturePad = useSignaturePadContext();\n    const mergedProps = mergeProps(signaturePad.getSegmentProps(), props);\n    return /* @__PURE__ */ jsxs(ark.svg, { ...mergedProps, ref, children: [\n      /* @__PURE__ */ jsx(\"title\", { children: \"Signature\" }),\n      signaturePad.paths.map((path, i) => /* @__PURE__ */ jsx(\"path\", { ...signaturePad.getSegmentPathProps({ path }) }, i)),\n      signaturePad.currentPath && /* @__PURE__ */ jsx(\"path\", { ...signaturePad.getSegmentPathProps({ path: signaturePad.currentPath }) })\n    ] });\n  }\n);\nSignaturePadSegment.displayName = \"SignaturePadSegment\";\n\nexport { SignaturePadSegment };\n", "export { SignaturePadClearTrigger as ClearTrigger } from './signature-pad-clear-trigger.js';\nexport { SignaturePadContext as Context } from './signature-pad-context.js';\nexport { SignaturePadControl as Control } from './signature-pad-control.js';\nexport { SignaturePadGuide as Guide } from './signature-pad-guide.js';\nexport { SignaturePadLabel as Label } from './signature-pad-label.js';\nexport { SignaturePadRoot as Root } from './signature-pad-root.js';\nexport { SignaturePadRootProvider as RootProvider } from './signature-pad-root-provider.js';\nexport { SignaturePadSegment as Segment } from './signature-pad-segment.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SliderProvider, useSliderContext] = createContext({\n  name: \"SliderContext\",\n  hookName: \"useSliderContext\",\n  providerName: \"<SliderProvider />\"\n});\n\nexport { SliderProvider, useSliderContext };\n", "'use client';\nimport { useSliderContext } from './use-slider-context.js';\n\nconst SliderContext = (props) => props.children(useSliderContext());\n\nexport { SliderContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSliderContext } from './use-slider-context.js';\n\nconst SliderControl = forwardRef((props, ref) => {\n  const slider = useSliderContext();\n  const mergedProps = mergeProps(slider.getControlProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nSliderControl.displayName = \"SliderControl\";\n\nexport { SliderControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSliderContext } from './use-slider-context.js';\nimport { useSliderThumbPropsContext } from './use-slider-thumb-props-context.js';\n\nconst SliderHiddenInput = forwardRef(\n  (props, ref) => {\n    const slider = useSliderContext();\n    const thumbProps = useSliderThumbPropsContext();\n    const mergedProps = mergeProps(slider.getHiddenInputProps(thumbProps), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nSliderHiddenInput.displayName = \"SliderHiddenInput\";\n\nexport { SliderHiddenInput };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SliderThumbPropsProvider, useSliderThumbPropsContext] = createContext({\n  name: \"SliderThumbPropsContext\",\n  hookName: \"useSliderThumbPropsContext\",\n  providerName: \"<SliderThumbPropsProvider />\"\n});\n\nexport { SliderThumbPropsProvider, useSliderThumbPropsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSliderContext } from './use-slider-context.js';\n\nconst SliderLabel = forwardRef((props, ref) => {\n  const slider = useSliderContext();\n  const mergedProps = mergeProps(slider.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nSliderLabel.displayName = \"SliderLabel\";\n\nexport { SliderLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSliderContext } from './use-slider-context.js';\n\nconst SliderMarker = forwardRef((props, ref) => {\n  const [markerProps, localProps] = createSplitProps()(props, [\"value\"]);\n  const slider = useSliderContext();\n  const mergedProps = mergeProps(slider.getMarkerProps(markerProps), localProps);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nSliderMarker.displayName = \"SliderMarker\";\n\nexport { SliderMarker };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSliderContext } from './use-slider-context.js';\n\nconst SliderMarkerGroup = forwardRef(\n  (props, ref) => {\n    const slider = useSliderContext();\n    const mergedProps = mergeProps(slider.getMarkerGroupProps(), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nSliderMarkerGroup.displayName = \"SliderMarkerGroup\";\n\nexport { SliderMarkerGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSliderContext } from './use-slider-context.js';\n\nconst SliderRange = forwardRef((props, ref) => {\n  const slider = useSliderContext();\n  const mergedProps = mergeProps(slider.getRangeProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nSliderRange.displayName = \"SliderRange\";\n\nexport { SliderRange };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSlider } from './use-slider.js';\nimport { SliderProvider } from './use-slider-context.js';\n\nconst SliderRoot = forwardRef((props, ref) => {\n  const [useSliderProps, localProps] = createSplitProps()(props, [\n    \"aria-label\",\n    \"aria-labelledby\",\n    \"defaultValue\",\n    \"disabled\",\n    \"form\",\n    \"getAriaValueText\",\n    \"id\",\n    \"ids\",\n    \"invalid\",\n    \"max\",\n    \"min\",\n    \"minStepsBetweenThumbs\",\n    \"name\",\n    \"onFocusChange\",\n    \"onValueChange\",\n    \"onValueChangeEnd\",\n    \"orientation\",\n    \"origin\",\n    \"readOnly\",\n    \"step\",\n    \"thumbAlignment\",\n    \"thumbAlignment\",\n    \"thumbSize\",\n    \"value\"\n  ]);\n  const slider = useSlider(useSliderProps);\n  const mergedProps = mergeProps(slider.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(SliderProvider, { value: slider, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nSliderRoot.displayName = \"SliderRoot\";\n\nexport { SliderRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as slider from '@zag-js/slider';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useSlider = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onValueChangeEnd: useEvent(props.onValueChangeEnd),\n    onFocusChange: useEvent(props.onFocusChange)\n  };\n  const [state, send] = useMachine(slider.machine(initialContext), {\n    context\n  });\n  return slider.connect(state, send, normalizeProps);\n};\n\nexport { useSlider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { SliderProvider } from './use-slider-context.js';\n\nconst SliderRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: slider }, localProps] = createSplitProps()(props, [\"value\"]);\n    const mergedProps = mergeProps(slider.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(SliderProvider, { value: slider, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nSliderRootProvider.displayName = \"SliderRootProvider\";\n\nexport { SliderRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSliderContext } from './use-slider-context.js';\nimport { SliderThumbPropsProvider } from './use-slider-thumb-props-context.js';\n\nconst SliderThumb = forwardRef((props, ref) => {\n  const [thumbProps, localProps] = createSplitProps()(props, [\"index\", \"name\"]);\n  const slider = useSliderContext();\n  const mergedProps = mergeProps(slider.getThumbProps(thumbProps), localProps);\n  return /* @__PURE__ */ jsx(SliderThumbPropsProvider, { value: thumbProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nSliderThumb.displayName = \"SliderThumb\";\n\nexport { SliderThumb };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSliderContext } from './use-slider-context.js';\n\nconst SliderTrack = forwardRef((props, ref) => {\n  const slider = useSliderContext();\n  const mergedProps = mergeProps(slider.getTrackProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nSliderTrack.displayName = \"SliderTrack\";\n\nexport { SliderTrack };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSliderContext } from './use-slider-context.js';\n\nconst SliderValueText = forwardRef((props, ref) => {\n  const { children, ...rest } = props;\n  const slider = useSliderContext();\n  const mergedProps = mergeProps(slider.getValueTextProps(), rest);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref, children: children || slider.value.join(\", \") });\n});\nSliderValueText.displayName = \"SliderValueText\";\n\nexport { SliderValueText };\n", "export { SliderContext as Context } from './slider-context.js';\nexport { SliderControl as Control } from './slider-control.js';\nexport { SliderLabel as Label } from './slider-label.js';\nexport { SliderMarker as Marker } from './slider-marker.js';\nexport { SliderMarkerGroup as MarkerGroup } from './slider-marker-group.js';\nexport { SliderRange as Range } from './slider-range.js';\nexport { SliderRoot as Root } from './slider-root.js';\nexport { SliderRootProvider as RootProvider } from './slider-root-provider.js';\nexport { SliderThumb as Thumb } from './slider-thumb.js';\nexport { SliderTrack as Track } from './slider-track.js';\nexport { SliderHiddenInput as HiddenInput } from './slider-hidden-input.js';\nexport { SliderValueText as ValueText } from './slider-value-text.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SplitterProvider, useSplitterContext] = createContext({\n  name: \"SplitterContext\",\n  hookName: \"useSplitterContext\",\n  providerName: \"<SplitterProvider />\"\n});\n\nexport { SplitterProvider, useSplitterContext };\n", "'use client';\nimport { useSplitterContext } from './use-splitter-context.js';\n\nconst SplitterContext = (props) => props.children(useSplitterContext());\n\nexport { SplitterContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSplitterContext } from './use-splitter-context.js';\n\nconst SplitterPanel = forwardRef((props, ref) => {\n  const [splitterPanelProps, localProps] = createSplitProps()(props, [\"id\", \"snapSize\"]);\n  const splitter = useSplitterContext();\n  const mergedProps = mergeProps(splitter.getPanelProps(splitterPanelProps), localProps);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nSplitterPanel.displayName = \"SplitterPanel\";\n\nexport { SplitterPanel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSplitterContext } from './use-splitter-context.js';\n\nconst SplitterResizeTrigger = forwardRef(\n  (props, ref) => {\n    const [triggerProps, localProps] = createSplitProps()(props, [\n      \"disabled\",\n      \"id\",\n      \"step\"\n    ]);\n    const splitter = useSplitterContext();\n    const mergedProps = mergeProps(splitter.getResizeTriggerProps(triggerProps), localProps);\n    return /* @__PURE__ */ jsx(ark.button, { ref, ...mergedProps });\n  }\n);\nSplitterResizeTrigger.displayName = \"SplitterResizeTrigger\";\n\nexport { SplitterResizeTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSplitter } from './use-splitter.js';\nimport { SplitterProvider } from './use-splitter-context.js';\n\nconst SplitterRoot = forwardRef((props, ref) => {\n  const [useSplitterProps, localProps] = createSplitProps()(props, [\n    \"defaultSize\",\n    \"id\",\n    \"ids\",\n    \"onSizeChange\",\n    \"onSizeChangeEnd\",\n    \"orientation\",\n    \"size\"\n  ]);\n  const splitter = useSplitter(useSplitterProps);\n  const mergedProps = mergeProps(splitter.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(SplitterProvider, { value: splitter, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nSplitterRoot.displayName = \"SplitterRoot\";\n\nexport { SplitterRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as splitter from '@zag-js/splitter';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useSplitter = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    size: props.defaultSize,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    size: props.size,\n    onSizeChange: useEvent(props.onSizeChange, { sync: true }),\n    onSizeChangeEnd: useEvent(props.onSizeChangeEnd)\n  };\n  const [state, send] = useMachine(splitter.machine(initialContext), { context });\n  return splitter.connect(state, send, normalizeProps);\n};\n\nexport { useSplitter };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { SplitterProvider } from './use-splitter-context.js';\n\nconst SplitterRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: splitter }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(splitter.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(SplitterProvider, { value: splitter, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nSplitterRootProvider.displayName = \"SplitterRootProvider\";\n\nexport { SplitterRootProvider };\n", "export { SplitterContext as Context } from './splitter-context.js';\nexport { SplitterPanel as Panel } from './splitter-panel.js';\nexport { SplitterResizeTrigger as ResizeTrigger } from './splitter-resize-trigger.js';\nexport { SplitterRoot as Root } from './splitter-root.js';\nexport { SplitterRootProvider as RootProvider } from './splitter-root-provider.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [SwitchProvider, useSwitchContext] = createContext({\n  name: \"SwitchContext\",\n  hookName: \"useSwitchContext\",\n  providerName: \"<SwitchProvider />\"\n});\n\nexport { SwitchProvider, useSwitchContext };\n", "'use client';\nimport { useSwitchContext } from './use-switch-context.js';\n\nconst SwitchContext = (props) => props.children(useSwitchContext());\n\nexport { SwitchContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSwitchContext } from './use-switch-context.js';\n\nconst SwitchControl = forwardRef((props, ref) => {\n  const switchContext = useSwitchContext();\n  const mergedProps = mergeProps(switchContext.getControlProps(), props);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nSwitchControl.displayName = \"SwitchControl\";\n\nexport { SwitchControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSwitchContext } from './use-switch-context.js';\n\nconst SwitchHiddenInput = forwardRef(\n  (props, ref) => {\n    const switchContext = useSwitchContext();\n    const mergedProps = mergeProps(switchContext.getHiddenInputProps(), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nSwitchHiddenInput.displayName = \"SwitchHiddenInput\";\n\nexport { SwitchHiddenInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSwitchContext } from './use-switch-context.js';\n\nconst SwitchLabel = forwardRef((props, ref) => {\n  const switchContext = useSwitchContext();\n  const mergedProps = mergeProps(switchContext.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nSwitchLabel.displayName = \"SwitchLabel\";\n\nexport { SwitchLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useSwitch } from './use-switch.js';\nimport { SwitchProvider } from './use-switch-context.js';\n\nconst SwitchRoot = forwardRef((props, ref) => {\n  const [switchProps, localProps] = createSplitProps()(props, [\n    \"checked\",\n    \"defaultChecked\",\n    \"disabled\",\n    \"form\",\n    \"id\",\n    \"ids\",\n    \"invalid\",\n    \"label\",\n    \"name\",\n    \"onCheckedChange\",\n    \"readOnly\",\n    \"required\",\n    \"value\"\n  ]);\n  const switchContext = useSwitch(switchProps);\n  const mergedProps = mergeProps(switchContext.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(SwitchProvider, { value: switchContext, children: /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref }) });\n});\nSwitchRoot.displayName = \"SwitchRoot\";\n\nexport { SwitchRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as zagSwitch from '@zag-js/switch';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useSwitch = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    checked: props.defaultChecked,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    checked: props.checked,\n    onCheckedChange: useEvent(props.onCheckedChange, { sync: true })\n  };\n  const [state, send] = useMachine(zagSwitch.machine(initialContext), { context });\n  return zagSwitch.connect(state, send, normalizeProps);\n};\n\nexport { useSwitch };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { SwitchProvider } from './use-switch-context.js';\n\nconst SwitchRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: api }, localProps] = createSplitProps()(props, [\"value\"]);\n    const mergedProps = mergeProps(api.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(SwitchProvider, { value: api, children: /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref }) });\n  }\n);\nSwitchRootProvider.displayName = \"SwitchRootProvider\";\n\nexport { SwitchRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useSwitchContext } from './use-switch-context.js';\n\nconst SwitchThumb = forwardRef((props, ref) => {\n  const switchContext = useSwitchContext();\n  const mergedProps = mergeProps(switchContext.getThumbProps(), props);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nSwitchThumb.displayName = \"SwitchThumb\";\n\nexport { SwitchThumb };\n", "export { SwitchContext as Context } from './switch-context.js';\nexport { SwitchControl as Control } from './switch-control.js';\nexport { SwitchHiddenInput as HiddenInput } from './switch-hidden-input.js';\nexport { SwitchLabel as Label } from './switch-label.js';\nexport { SwitchRoot as Root } from './switch-root.js';\nexport { SwitchRootProvider as RootProvider } from './switch-root-provider.js';\nexport { SwitchThumb as Thumb } from './switch-thumb.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { useRenderStrategyPropsContext } from '../../utils/render-strategy.js';\nimport { ark } from '../factory.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useTabsContext } from './use-tabs-context.js';\n\nconst TabContent = forwardRef((props, ref) => {\n  const [contentProps, localProps] = createSplitProps()(props, [\"value\"]);\n  const tabs = useTabsContext();\n  const renderStrategyProps = useRenderStrategyPropsContext();\n  const presence = usePresence({\n    ...renderStrategyProps,\n    present: tabs.value === props.value,\n    immediate: true\n  });\n  const mergedProps = mergeProps(\n    tabs.getContentProps(contentProps),\n    presence.getPresenceProps(ref),\n    localProps\n  );\n  return /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children: presence.unmounted ? null : /* @__PURE__ */ jsx(ark.div, { ...mergedProps }) });\n});\nTabContent.displayName = \"TabContent\";\n\nexport { TabContent };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TabsProvider, useTabsContext] = createContext({\n  name: \"TabsContext\",\n  hookName: \"useTabsContext\",\n  providerName: \"<TabsProvider />\"\n});\n\nexport { TabsProvider, useTabsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTabsContext } from './use-tabs-context.js';\n\nconst TabIndicator = forwardRef((props, ref) => {\n  const tabs = useTabsContext();\n  const mergedProps = mergeProps(tabs.getIndicatorProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nTabIndicator.displayName = \"TabIndicator\";\n\nexport { TabIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTabsContext } from './use-tabs-context.js';\n\nconst TabList = forwardRef((props, ref) => {\n  const tabs = useTabsContext();\n  const mergedProps = mergeProps(tabs.getListProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nTabList.displayName = \"TabList\";\n\nexport { TabList };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useTabsContext } from './use-tabs-context.js';\n\nconst TabTrigger = forwardRef((props, ref) => {\n  const [tabProps, localProps] = createSplitProps()(props, [\"disabled\", \"value\"]);\n  const tabs = useTabsContext();\n  const mergedProps = mergeProps(tabs.getTriggerProps(tabProps), localProps);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nTabTrigger.displayName = \"TabTrigger\";\n\nexport { TabTrigger };\n", "'use client';\nimport { useTabsContext } from './use-tabs-context.js';\n\nconst TabsContext = (props) => props.children(useTabsContext());\n\nexport { TabsContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { splitRenderStrategyProps, RenderStrategyPropsProvider } from '../../utils/render-strategy.js';\nimport { ark } from '../factory.js';\nimport { useTabs } from './use-tabs.js';\nimport { TabsProvider } from './use-tabs-context.js';\n\nconst TabsRoot = forwardRef((props, ref) => {\n  const [renderStrategyProps, tabsProps] = splitRenderStrategyProps(props);\n  const [useTabsProps, localprops] = createSplitProps()(tabsProps, [\n    \"activationMode\",\n    \"composite\",\n    \"defaultValue\",\n    \"id\",\n    \"ids\",\n    \"loopFocus\",\n    \"onFocusChange\",\n    \"onValueChange\",\n    \"orientation\",\n    \"translations\",\n    \"value\"\n  ]);\n  const tabs = useTabs(useTabsProps);\n  const mergedProps = mergeProps(tabs.getRootProps(), localprops);\n  return /* @__PURE__ */ jsx(TabsProvider, { value: tabs, children: /* @__PURE__ */ jsx(RenderStrategyPropsProvider, { value: renderStrategyProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nTabsRoot.displayName = \"TabsRoot\";\n\nexport { TabsRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as tabs from '@zag-js/tabs';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useTabs = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onFocusChange: useEvent(props.onFocusChange)\n  };\n  const [state, send] = useMachine(tabs.machine(initialContext), { context });\n  return tabs.connect(state, send, normalizeProps);\n};\n\nexport { useTabs };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { splitRenderStrategyProps, RenderStrategyPropsProvider } from '../../utils/render-strategy.js';\nimport { ark } from '../factory.js';\nimport { TabsProvider } from './use-tabs-context.js';\n\nconst TabsRootProvider = forwardRef((props, ref) => {\n  const [renderStrategyProps, tabsProps] = splitRenderStrategyProps(props);\n  const [{ value: tabs }, localprops] = createSplitProps()(tabsProps, [\"value\"]);\n  const mergedProps = mergeProps(tabs.getRootProps(), localprops);\n  return /* @__PURE__ */ jsx(TabsProvider, { value: tabs, children: /* @__PURE__ */ jsx(RenderStrategyPropsProvider, { value: renderStrategyProps, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nTabsRootProvider.displayName = \"TabsRootProvider\";\n\nexport { TabsRootProvider };\n", "export { TabContent as Content } from './tab-content.js';\nexport { TabIndicator as Indicator } from './tab-indicator.js';\nexport { TabList as List } from './tab-list.js';\nexport { TabTrigger as Trigger } from './tab-trigger.js';\nexport { TabsContext as Context } from './tabs-context.js';\nexport { TabsRoot as Root } from './tabs-root.js';\nexport { TabsRootProvider as RootProvider } from './tabs-root-provider.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\n\nconst TagsInputClearTrigger = forwardRef(\n  (props, ref) => {\n    const tagsInput = useTagsInputContext();\n    const mergedProps = mergeProps(tagsInput.getClearTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nTagsInputClearTrigger.displayName = \"TagsInputClearTrigger\";\n\nexport { TagsInputClearTrigger };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TagsInputProvider, useTagsInputContext] = createContext({\n  name: \"TagsInputContext\",\n  hookName: \"useTagsInputContext\",\n  providerName: \"<TagsInputProvider />\"\n});\n\nexport { TagsInputProvider, useTagsInputContext };\n", "'use client';\nimport { useTagsInputContext } from './use-tags-input-context.js';\n\nconst TagsInputContext = (props) => props.children(useTagsInputContext());\n\nexport { TagsInputContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\n\nconst TagsInputControl = forwardRef((props, ref) => {\n  const tagsInput = useTagsInputContext();\n  const mergedProps = mergeProps(tagsInput.getControlProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nTagsInputControl.displayName = \"TagsInputControl\";\n\nexport { TagsInputControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\n\nconst TagsInputHiddenInput = forwardRef(\n  (props, ref) => {\n    const tagsInput = useTagsInputContext();\n    const mergedProps = mergeProps(tagsInput.getHiddenInputProps(), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nTagsInputHiddenInput.displayName = \"TagsInputHiddenInput\";\n\nexport { TagsInputHiddenInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\n\nconst TagsInputInput = forwardRef((props, ref) => {\n  const tagsInput = useTagsInputContext();\n  const mergedProps = mergeProps(tagsInput.getInputProps(), props);\n  return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n});\nTagsInputInput.displayName = \"TagsInputInput\";\n\nexport { TagsInputInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\nimport { TagsInputItemProvider } from './use-tags-input-item-context.js';\nimport { TagsInputItemPropsProvider } from './use-tags-input-item-props-context.js';\n\nconst TagsInputItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\n    \"index\",\n    \"disabled\",\n    \"value\"\n  ]);\n  const tagsInput = useTagsInputContext();\n  const mergedProps = mergeProps(tagsInput.getItemProps(itemProps), localProps);\n  const tagsInputItem = tagsInput.getItemState(itemProps);\n  return /* @__PURE__ */ jsx(TagsInputItemPropsProvider, { value: itemProps, children: /* @__PURE__ */ jsx(TagsInputItemProvider, { value: tagsInputItem, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) }) });\n});\nTagsInputItem.displayName = \"TagsInputItem\";\n\nexport { TagsInputItem };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TagsInputItemProvider, useTagsInputItemContext] = createContext({\n  name: \"TagsInputItemContext\",\n  hookName: \"useTagsInputItemContext\",\n  providerName: \"<TagsInputItemProvider />\"\n});\n\nexport { TagsInputItemProvider, useTagsInputItemContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TagsInputItemPropsProvider, useTagsInputItemPropsContext] = createContext({\n  name: \"TagsInputItemPropsContext\",\n  hookName: \"useTagsInputItemPropsContext\",\n  providerName: \"<TagsInputItemPropsProvider />\"\n});\n\nexport { TagsInputItemPropsProvider, useTagsInputItemPropsContext };\n", "'use client';\nimport { useTagsInputItemContext } from './use-tags-input-item-context.js';\n\nconst TagsInputItemContext = (props) => props.children(useTagsInputItemContext());\n\nexport { TagsInputItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\nimport { useTagsInputItemPropsContext } from './use-tags-input-item-props-context.js';\n\nconst TagsInputItemDeleteTrigger = forwardRef((props, ref) => {\n  const tagsInput = useTagsInputContext();\n  const itemProps = useTagsInputItemPropsContext();\n  const mergedProps = mergeProps(tagsInput.getItemDeleteTriggerProps(itemProps), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nTagsInputItemDeleteTrigger.displayName = \"TagsInputItemDeleteTrigger\";\n\nexport { TagsInputItemDeleteTrigger };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\nimport { useTagsInputItemPropsContext } from './use-tags-input-item-props-context.js';\n\nconst TagsInputItemInput = forwardRef(\n  (props, ref) => {\n    const tagsInput = useTagsInputContext();\n    const itemProps = useTagsInputItemPropsContext();\n    const mergedProps = mergeProps(tagsInput.getItemInputProps(itemProps), props);\n    return /* @__PURE__ */ jsx(ark.input, { ...mergedProps, ref });\n  }\n);\nTagsInputItemInput.displayName = \"TagsInputItemInput\";\n\nexport { TagsInputItemInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\nimport { useTagsInputItemPropsContext } from './use-tags-input-item-props-context.js';\n\nconst TagsInputItemPreview = forwardRef(\n  (props, ref) => {\n    const tagsInput = useTagsInputContext();\n    const itemProps = useTagsInputItemPropsContext();\n    const mergedProps = mergeProps(tagsInput.getItemPreviewProps(itemProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nTagsInputItemPreview.displayName = \"TagsInputItemPreview\";\n\nexport { TagsInputItemPreview };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\nimport { useTagsInputItemPropsContext } from './use-tags-input-item-props-context.js';\n\nconst TagsInputItemText = forwardRef(\n  (props, ref) => {\n    const tagsInput = useTagsInputContext();\n    const itemProps = useTagsInputItemPropsContext();\n    const mergedProps = mergeProps(tagsInput.getItemTextProps(itemProps), props);\n    return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n  }\n);\nTagsInputItemText.displayName = \"TagsInputItemText\";\n\nexport { TagsInputItemText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTagsInputContext } from './use-tags-input-context.js';\n\nconst TagsInputLabel = forwardRef((props, ref) => {\n  const tagsInput = useTagsInputContext();\n  const mergedProps = mergeProps(tagsInput.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nTagsInputLabel.displayName = \"TagsInputLabel\";\n\nexport { TagsInputLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useTagsInput } from './use-tags-input.js';\nimport { TagsInputProvider } from './use-tags-input-context.js';\n\nconst TagsInputRoot = forwardRef((props, ref) => {\n  const [useTagsInputProps, localProps] = createSplitProps()(props, [\n    \"addOnPaste\",\n    \"allowOverflow\",\n    \"autoFocus\",\n    \"blurBehavior\",\n    \"defaultValue\",\n    \"delimiter\",\n    \"disabled\",\n    \"editable\",\n    \"form\",\n    \"id\",\n    \"ids\",\n    \"inputValue\",\n    \"invalid\",\n    \"max\",\n    \"maxLength\",\n    \"name\",\n    \"onFocusOutside\",\n    \"onHighlightChange\",\n    \"onInputValueChange\",\n    \"onInteractOutside\",\n    \"onPointerDownOutside\",\n    \"onValueChange\",\n    \"onValueInvalid\",\n    \"readOnly\",\n    \"translations\",\n    \"validate\",\n    \"value\"\n  ]);\n  const tagsInput = useTagsInput(useTagsInputProps);\n  const mergedProps = mergeProps(tagsInput.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(TagsInputProvider, { value: tagsInput, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nTagsInputRoot.displayName = \"TagsInputRoot\";\n\nexport { TagsInputRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as tagsInput from '@zag-js/tags-input';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useTagsInput = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true }),\n    onValueInvalid: useEvent(props.onValueInvalid),\n    onHighlightChange: useEvent(props.onHighlightChange)\n  };\n  const [state, send] = useMachine(tagsInput.machine(initialContext), { context });\n  return tagsInput.connect(state, send, normalizeProps);\n};\n\nexport { useTagsInput };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { TagsInputProvider } from './use-tags-input-context.js';\n\nconst TagsInputRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: tagsInput }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(tagsInput.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(TagsInputProvider, { value: tagsInput, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nTagsInputRootProvider.displayName = \"TagsInputRootProvider\";\n\nexport { TagsInputRootProvider };\n", "export { TagsInputClearTrigger as ClearTrigger } from './tags-input-clear-trigger.js';\nexport { TagsInputContext as Context } from './tags-input-context.js';\nexport { TagsInputControl as Control } from './tags-input-control.js';\nexport { TagsInputHiddenInput as HiddenInput } from './tags-input-hidden-input.js';\nexport { TagsInputInput as Input } from './tags-input-input.js';\nexport { TagsInputItem as Item } from './tags-input-item.js';\nexport { TagsInputItemContext as ItemContext } from './tags-input-item-context.js';\nexport { TagsInputItemDeleteTrigger as ItemDeleteTrigger } from './tags-input-item-delete-trigger.js';\nexport { TagsInputItemInput as ItemInput } from './tags-input-item-input.js';\nexport { TagsInputItemPreview as ItemPreview } from './tags-input-item-preview.js';\nexport { TagsInputItemText as ItemText } from './tags-input-item-text.js';\nexport { TagsInputLabel as Label } from './tags-input-label.js';\nexport { TagsInputRoot as Root } from './tags-input-root.js';\nexport { TagsInputRootProvider as RootProvider } from './tags-input-root-provider.js';\n", "'use client';\nimport { normalizeProps } from '@zag-js/react';\nimport * as toast from '@zag-js/toast';\n\nconst createToaster = (props) => {\n  const machine = toast.group.machine({ id: \"1\", ...props });\n  const api = toast.group.connect(machine, machine.send, normalizeProps);\n  return { ...api, machine };\n};\n\nexport { createToaster };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useToastContext } from './use-toast-context.js';\n\nconst ToastActionTrigger = forwardRef(\n  (props, ref) => {\n    const toast = useToastContext();\n    const mergedProps = mergeProps(toast.getActionTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nToastActionTrigger.displayName = \"ToastActionTrigger\";\n\nexport { ToastActionTrigger };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ToastProvider, useToastContext] = createContext({\n  name: \"ToastContext\",\n  hookName: \"useToastContext\",\n  providerName: \"<ToastProvider />\"\n});\n\nexport { ToastProvider, useToastContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useToastContext } from './use-toast-context.js';\n\nconst ToastCloseTrigger = forwardRef(\n  (props, ref) => {\n    const toast = useToastContext();\n    const mergedProps = mergeProps(toast.getCloseTriggerProps(), props);\n    return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n  }\n);\nToastCloseTrigger.displayName = \"ToastCloseTrigger\";\n\nexport { ToastCloseTrigger };\n", "'use client';\nimport { useToastContext } from './use-toast-context.js';\n\nconst ToastContext = (props) => props.children(useToastContext());\n\nexport { ToastContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useToastContext } from './use-toast-context.js';\n\nconst ToastDescription = forwardRef((props, ref) => {\n  const toast = useToastContext();\n  const mergedProps = mergeProps(toast.getDescriptionProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nToastDescription.displayName = \"ToastDescription\";\n\nexport { ToastDescription };\n", "'use client';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { useToastContext } from './use-toast-context.js';\n\nconst ToastRoot = forwardRef((props, ref) => {\n  const toast = useToastContext();\n  const mergedProps = mergeProps(toast.getRootProps(), props);\n  return /* @__PURE__ */ jsxs(\"div\", { ...mergedProps, ref, children: [\n    /* @__PURE__ */ jsx(\"div\", { ...toast.getGhostBeforeProps() }),\n    props.children,\n    /* @__PURE__ */ jsx(\"div\", { ...toast.getGhostAfterProps() })\n  ] });\n});\nToastRoot.displayName = \"ToastRoot\";\n\nexport { ToastRoot };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useToastContext } from './use-toast-context.js';\n\nconst ToastTitle = forwardRef((props, ref) => {\n  const toast = useToastContext();\n  const mergedProps = mergeProps(toast.getTitleProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nToastTitle.displayName = \"ToastTitle\";\n\nexport { ToastTitle };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { useMachine, normalizeProps, mergeProps, useActor } from '@zag-js/react';\nimport * as toast from '@zag-js/toast';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { ToastProvider } from './use-toast-context.js';\n\nconst Toaster = forwardRef((props, ref) => {\n  const { toaster, children, ...rest } = props;\n  const [state, send] = useMachine(toaster.machine);\n  const placement = state.context.placement;\n  const api = toast.group.connect(state, send, normalizeProps);\n  const toasts = api.getToastsByPlacement(placement);\n  const mergedProps = mergeProps(api.getGroupProps({ placement }), rest);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref, children: toasts.map((toast2) => /* @__PURE__ */ jsx(ToastActor, { value: toast2, children: (ctx) => children(ctx) }, toast2.id)) });\n});\nToaster.displayName = \"Toaster\";\nconst ToastActor = (props) => {\n  const [state, send] = useActor(props.value);\n  const api = toast.connect(state, send, normalizeProps);\n  return /* @__PURE__ */ jsx(ToastProvider, { value: api, children: props.children(state.context) });\n};\n\nexport { Toaster };\n", "export { ToastActionTrigger as ActionTrigger } from './toast-action-trigger.js';\nexport { ToastCloseTrigger as CloseTrigger } from './toast-close-trigger.js';\nexport { ToastContext as Context } from './toast-context.js';\nexport { ToastDescription as Description } from './toast-description.js';\nexport { ToastRoot as Root } from './toast-root.js';\nexport { ToastTitle as Title } from './toast-title.js';\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [ToggleGroupProvider, useToggleGroupContext] = createContext({\n  name: \"ToggleGroupContext\",\n  hookName: \"useToggleGroupContext\",\n  providerName: \"<ToggleGroupProvider />\"\n});\n\nexport { ToggleGroupProvider, useToggleGroupContext };\n", "'use client';\nimport { useToggleGroupContext } from './use-toggle-group-context.js';\n\nconst ToggleGroupContext = (props) => props.children(useToggleGroupContext());\n\nexport { ToggleGroupContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useToggleGroupContext } from './use-toggle-group-context.js';\n\nconst ToggleGroupItem = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\"value\", \"disabled\"]);\n  const toggleGroup = useToggleGroupContext();\n  const mergedProps = mergeProps(toggleGroup.getItemProps(itemProps), localProps);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nToggleGroupItem.displayName = \"ToggleGroupItem\";\n\nexport { ToggleGroupItem };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useToggleGroup } from './use-toggle-group.js';\nimport { ToggleGroupProvider } from './use-toggle-group-context.js';\n\nconst ToggleGroupRoot = forwardRef((props, ref) => {\n  const [useToggleGroupProps, localProps] = createSplitProps()(props, [\n    \"defaultValue\",\n    \"disabled\",\n    \"id\",\n    \"ids\",\n    \"loopFocus\",\n    \"multiple\",\n    \"onValueChange\",\n    \"orientation\",\n    \"rovingFocus\",\n    \"value\"\n  ]);\n  const togglegroup = useToggleGroup(useToggleGroupProps);\n  const mergedProps = mergeProps(togglegroup.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(ToggleGroupProvider, { value: togglegroup, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nToggleGroupRoot.displayName = \"ToggleGroupRoot\";\n\nexport { ToggleGroupRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as toggleGroup from '@zag-js/toggle-group';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useToggleGroup = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    value: props.defaultValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    value: props.value,\n    onValueChange: useEvent(props.onValueChange, { sync: true })\n  };\n  const [state, send] = useMachine(toggleGroup.machine(initialContext), {\n    context\n  });\n  return toggleGroup.connect(state, send, normalizeProps);\n};\n\nexport { useToggleGroup };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { ToggleGroupProvider } from './use-toggle-group-context.js';\n\nconst ToggleGroupRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: toggleGroup }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(toggleGroup.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(ToggleGroupProvider, { value: toggleGroup, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nToggleGroupRootProvider.displayName = \"ToggleGroupRootProvider\";\n\nexport { ToggleGroupRootProvider };\n", "export { ToggleGroupContext as Context } from './toggle-group-context.js';\nexport { ToggleGroupItem as Item } from './toggle-group-item.js';\nexport { ToggleGroupRoot as Root } from './toggle-group-root.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTooltipContext } from './use-tooltip-context.js';\n\nconst TooltipArrow = forwardRef((props, ref) => {\n  const tooltip = useTooltipContext();\n  const mergedProps = mergeProps(tooltip.getArrowProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nTooltipArrow.displayName = \"TooltipArrow\";\n\nexport { TooltipArrow };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TooltipProvider, useTooltipContext] = createContext({\n  name: \"TooltipContext\",\n  hookName: \"useTooltipContext\",\n  providerName: \"<TooltipProvider />\"\n});\n\nexport { TooltipProvider, useTooltipContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTooltipContext } from './use-tooltip-context.js';\n\nconst TooltipArrowTip = forwardRef((props, ref) => {\n  const tooltip = useTooltipContext();\n  const mergedProps = mergeProps(tooltip.getArrowTipProps(), props);\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n});\nTooltipArrowTip.displayName = \"TooltipArrowTip\";\n\nexport { TooltipArrowTip };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useTooltipContext } from './use-tooltip-context.js';\n\nconst TooltipContent = forwardRef((props, ref) => {\n  const tooltip = useTooltipContext();\n  const presence = usePresenceContext();\n  const mergedProps = mergeProps(tooltip.getContentProps(), presence.getPresenceProps(ref), props);\n  if (presence.unmounted) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(ark.div, { ...mergedProps });\n});\nTooltipContent.displayName = \"TooltipContent\";\n\nexport { TooltipContent };\n", "'use client';\nimport { useTooltipContext } from './use-tooltip-context.js';\n\nconst TooltipContext = (props) => props.children(useTooltipContext());\n\nexport { TooltipContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { usePresenceContext } from '../presence/use-presence-context.js';\nimport { useTooltipContext } from './use-tooltip-context.js';\n\nconst TooltipPositioner = forwardRef(\n  (props, ref) => {\n    const tooltip = useTooltipContext();\n    const mergedProps = mergeProps(tooltip.getPositionerProps(), props);\n    const presence = usePresenceContext();\n    if (presence.unmounted) {\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nTooltipPositioner.displayName = \"TooltipPositioner\";\n\nexport { TooltipPositioner };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { useTooltip } from './use-tooltip.js';\nimport { TooltipProvider } from './use-tooltip-context.js';\n\nconst TooltipRoot = (props) => {\n  const [presenceProps, { children, ...localProps }] = splitPresenceProps(props);\n  const tooltip = useTooltip(localProps);\n  const presence = usePresence(mergeProps({ present: tooltip.open }, presenceProps));\n  return /* @__PURE__ */ jsx(TooltipProvider, { value: tooltip, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children }) });\n};\n\nexport { TooltipRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as tooltip from '@zag-js/tooltip';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useTooltip = (props) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    open: props.defaultOpen,\n    \"open.controlled\": props.open !== void 0,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    onOpenChange: useEvent(props.onOpenChange, { sync: true })\n  };\n  const [state, send] = useMachine(tooltip.machine(initialContext), { context });\n  return tooltip.connect(state, send, normalizeProps);\n};\n\nexport { useTooltip };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { splitPresenceProps } from '../presence/split-presence-props.js';\nimport { usePresence } from '../presence/use-presence.js';\nimport { PresenceProvider } from '../presence/use-presence-context.js';\nimport { TooltipProvider } from './use-tooltip-context.js';\n\nconst TooltipRootProvider = (props) => {\n  const [presenceProps, { value: tooltip, children }] = splitPresenceProps(props);\n  const presence = usePresence(mergeProps({ present: tooltip.open }, presenceProps));\n  return /* @__PURE__ */ jsx(TooltipProvider, { value: tooltip, children: /* @__PURE__ */ jsx(PresenceProvider, { value: presence, children }) });\n};\n\nexport { TooltipRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTooltipContext } from './use-tooltip-context.js';\n\nconst TooltipTrigger = forwardRef((props, ref) => {\n  const tooltip = useTooltipContext();\n  const mergedProps = mergeProps(tooltip.getTriggerProps(), props);\n  return /* @__PURE__ */ jsx(ark.button, { ...mergedProps, ref });\n});\nTooltipTrigger.displayName = \"TooltipTrigger\";\n\nexport { TooltipTrigger };\n", "export { TooltipArrow as Arrow } from './tooltip-arrow.js';\nexport { TooltipArrowTip as ArrowTip } from './tooltip-arrow-tip.js';\nexport { TooltipContent as Content } from './tooltip-content.js';\nexport { TooltipContext as Context } from './tooltip-context.js';\nexport { TooltipPositioner as Positioner } from './tooltip-positioner.js';\nexport { TooltipRoot as Root } from './tooltip-root.js';\nexport { TooltipRootProvider as RootProvider } from './tooltip-root-provider.js';\nexport { TooltipTrigger as Trigger } from './tooltip-trigger.js';\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { TreeViewBranchProvider } from './use-tree-view-branch-context.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\nimport { useTreeViewDepthContext, TreeViewDepthProvider } from './use-tree-view-depth-context.js';\n\nconst TreeViewBranch = forwardRef((props, ref) => {\n  const [itemProps, localProps] = createSplitProps()(props, [\"disabled\", \"value\"]);\n  const treeView = useTreeViewContext();\n  const depth = useTreeViewDepthContext();\n  const branchContext = { ...itemProps, depth };\n  const mergedProps = mergeProps(treeView.getBranchProps(branchContext), localProps);\n  return /* @__PURE__ */ jsx(TreeViewDepthProvider, { value: depth + 1, children: /* @__PURE__ */ jsx(TreeViewBranchProvider, { value: branchContext, children: /* @__PURE__ */ jsx(ark.li, { ...mergedProps, ref }) }) });\n});\nTreeViewBranch.displayName = \"TreeViewBranch\";\n\nexport { TreeViewBranch };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TreeViewBranchProvider, useTreeViewBranchContext] = createContext({\n  name: \"TreeViewBranchContext\",\n  hookName: \"useTreeViewBranchContext\",\n  providerName: \"<TreeViewBranchProvider />\"\n});\n\nexport { TreeViewBranchProvider, useTreeViewBranchContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TreeViewProvider, useTreeViewContext] = createContext({\n  name: \"TreeViewContext\",\n  hookName: \"useTreeViewContext\",\n  providerName: \"<TreeViewProvider />\"\n});\n\nexport { TreeViewProvider, useTreeViewContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TreeViewDepthProvider, useTreeViewDepthContext] = createContext({\n  name: \"TreeViewDepthContext\",\n  hookName: \"useTreeViewDepthContext\",\n  providerName: \"<TreeViewDepthProvider />\"\n});\n\nexport { TreeViewDepthProvider, useTreeViewDepthContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTreeViewBranchContext } from './use-tree-view-branch-context.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\n\nconst TreeViewBranchContent = forwardRef(\n  (props, ref) => {\n    const treeView = useTreeViewContext();\n    const branchContext = useTreeViewBranchContext();\n    const mergedProps = mergeProps(treeView.getBranchContentProps(branchContext), props);\n    return /* @__PURE__ */ jsx(ark.ul, { ...mergedProps, ref });\n  }\n);\nTreeViewBranchContent.displayName = \"TreeViewBranchContent\";\n\nexport { TreeViewBranchContent };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTreeViewBranchContext } from './use-tree-view-branch-context.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\n\nconst TreeViewBranchControl = forwardRef(\n  (props, ref) => {\n    const treeView = useTreeViewContext();\n    const branchContext = useTreeViewBranchContext();\n    const mergedProps = mergeProps(treeView.getBranchControlProps(branchContext), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nTreeViewBranchControl.displayName = \"TreeViewBranchControl\";\n\nexport { TreeViewBranchControl };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTreeViewBranchContext } from './use-tree-view-branch-context.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\n\nconst TreeViewBranchIndicator = forwardRef(\n  (props, ref) => {\n    const treeView = useTreeViewContext();\n    const branchContext = useTreeViewBranchContext();\n    const mergedProps = mergeProps(treeView.getBranchIndicatorProps(branchContext), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nTreeViewBranchIndicator.displayName = \"TreeViewBranchIndicator\";\n\nexport { TreeViewBranchIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTreeViewBranchContext } from './use-tree-view-branch-context.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\n\nconst TreeViewBranchText = forwardRef(\n  (props, ref) => {\n    const treeView = useTreeViewContext();\n    const branchContext = useTreeViewBranchContext();\n    const mergedProps = mergeProps(treeView.getBranchTextProps(branchContext), props);\n    return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n  }\n);\nTreeViewBranchText.displayName = \"TreeViewBranchText\";\n\nexport { TreeViewBranchText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTreeViewBranchContext } from './use-tree-view-branch-context.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\n\nconst TreeViewBranchTrigger = forwardRef(\n  (props, ref) => {\n    const treeView = useTreeViewContext();\n    const branchContext = useTreeViewBranchContext();\n    const mergedProps = mergeProps(treeView.getBranchTriggerProps(branchContext), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nTreeViewBranchTrigger.displayName = \"TreeViewBranchTrigger\";\n\nexport { TreeViewBranchTrigger };\n", "'use client';\nimport { useTreeViewContext } from './use-tree-view-context.js';\n\nconst TreeViewContext = (props) => props.children(useTreeViewContext());\n\nexport { TreeViewContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\nimport { useTreeViewDepthContext } from './use-tree-view-depth-context.js';\nimport { TreeViewItemProvider } from './use-tree-view-item-context.js';\nimport { TreeViewItemPropsProvider } from './use-tree-view-item-props-context.js';\n\nconst TreeViewItem = forwardRef((props, ref) => {\n  const [{ value, disabled }, localProps] = createSplitProps()(props, [\n    \"disabled\",\n    \"value\"\n  ]);\n  const treeView = useTreeViewContext();\n  const depth = useTreeViewDepthContext();\n  const itemProps = { value, disabled, depth };\n  const mergedProps = mergeProps(treeView.getItemProps(itemProps), localProps);\n  const itemState = treeView.getItemState(itemProps);\n  return /* @__PURE__ */ jsx(TreeViewItemPropsProvider, { value: itemProps, children: /* @__PURE__ */ jsx(TreeViewItemProvider, { value: itemState, children: /* @__PURE__ */ jsx(ark.li, { ...mergedProps, ref }) }) });\n});\nTreeViewItem.displayName = \"TreeViewItem\";\n\nexport { TreeViewItem };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TreeViewItemProvider, useTreeViewItemContext] = createContext(\n  {\n    name: \"TreeViewItemContext\",\n    hookName: \"useTreeViewItemContext\",\n    providerName: \"<TreeViewItemProvider />\"\n  }\n);\n\nexport { TreeViewItemProvider, useTreeViewItemContext };\n", "'use client';\nimport { createContext } from '../../utils/create-context.js';\n\nconst [TreeViewItemPropsProvider, useTreeViewItemPropsContext] = createContext({\n  name: \"TreeViewItemPropsContext\",\n  hookName: \"useTreeViewItemPropsContext\",\n  providerName: \"<TreeViewItemProvider />\"\n});\n\nexport { TreeViewItemPropsProvider, useTreeViewItemPropsContext };\n", "'use client';\nimport { useTreeViewItemContext } from './use-tree-view-item-context.js';\n\nconst TreeViewItemContext = (props) => props.children(useTreeViewItemContext());\n\nexport { TreeViewItemContext };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\nimport { useTreeViewItemPropsContext } from './use-tree-view-item-props-context.js';\n\nconst TreeViewItemIndicator = forwardRef(\n  (props, ref) => {\n    const treeView = useTreeViewContext();\n    const itemProps = useTreeViewItemPropsContext();\n    const mergedProps = mergeProps(treeView.getItemIndicatorProps(itemProps), props);\n    return /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref });\n  }\n);\nTreeViewItemIndicator.displayName = \"TreeViewItemIndicator\";\n\nexport { TreeViewItemIndicator };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\nimport { useTreeViewItemPropsContext } from './use-tree-view-item-props-context.js';\n\nconst TreeViewItemText = forwardRef((props, ref) => {\n  const treeView = useTreeViewContext();\n  const itemProps = useTreeViewItemPropsContext();\n  const mergedProps = mergeProps(treeView.getItemTextProps(itemProps), props);\n  return /* @__PURE__ */ jsx(ark.span, { ...mergedProps, ref });\n});\nTreeViewItemText.displayName = \"TreeViewItemText\";\n\nexport { TreeViewItemText };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\n\nconst TreeViewLabel = forwardRef((props, ref) => {\n  const treeView = useTreeViewContext();\n  const mergedProps = mergeProps(treeView.getLabelProps(), props);\n  return /* @__PURE__ */ jsx(ark.label, { ...mergedProps, ref });\n});\nTreeViewLabel.displayName = \"TreeViewLabel\";\n\nexport { TreeViewLabel };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { useTreeView } from './use-tree-view.js';\nimport { TreeViewProvider } from './use-tree-view-context.js';\n\nconst TreeViewRoot = forwardRef((props, ref) => {\n  const [useTreeViewProps, localProps] = createSplitProps()(props, [\n    \"defaultExpandedValue\",\n    \"defaultSelectedValue\",\n    \"expandedValue\",\n    \"expandOnClick\",\n    \"focusedValue\",\n    \"id\",\n    \"ids\",\n    \"onExpandedChange\",\n    \"onFocusChange\",\n    \"onSelectionChange\",\n    \"selectedValue\",\n    \"selectionMode\",\n    \"typeahead\"\n  ]);\n  const treeView = useTreeView(useTreeViewProps);\n  const mergedProps = mergeProps(treeView.getRootProps(), localProps);\n  return /* @__PURE__ */ jsx(TreeViewProvider, { value: treeView, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n});\nTreeViewRoot.displayName = \"TreeViewRoot\";\n\nexport { TreeViewRoot };\n", "'use client';\nimport { useMachine, normalizeProps } from '@zag-js/react';\nimport * as treeView from '@zag-js/tree-view';\nimport { useId } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useLocaleContext } from '../../providers/locale/use-locale-context.js';\nimport { useEvent } from '../../utils/use-event.js';\n\nconst useTreeView = (props = {}) => {\n  const { getRootNode } = useEnvironmentContext();\n  const { dir } = useLocaleContext();\n  const initialContext = {\n    id: useId(),\n    dir,\n    getRootNode,\n    selectedValue: props.defaultSelectedValue,\n    expandedValue: props.defaultExpandedValue,\n    ...props\n  };\n  const context = {\n    ...initialContext,\n    selectedValue: props.selectedValue,\n    expandedValue: props.expandedValue,\n    onFocusChange: useEvent(props.onFocusChange, { sync: true }),\n    onExpandedChange: useEvent(props.onExpandedChange),\n    onSelectionChange: useEvent(props.onSelectionChange)\n  };\n  const [state, send] = useMachine(treeView.machine(initialContext), { context });\n  return treeView.connect(state, send, normalizeProps);\n};\n\nexport { useTreeView };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { createSplitProps } from '../../utils/create-split-props.js';\nimport { ark } from '../factory.js';\nimport { TreeViewProvider } from './use-tree-view-context.js';\n\nconst TreeViewRootProvider = forwardRef(\n  (props, ref) => {\n    const [{ value: treeView }, localProps] = createSplitProps()(props, [\n      \"value\"\n    ]);\n    const mergedProps = mergeProps(treeView.getRootProps(), localProps);\n    return /* @__PURE__ */ jsx(TreeViewProvider, { value: treeView, children: /* @__PURE__ */ jsx(ark.div, { ...mergedProps, ref }) });\n  }\n);\nTreeViewRootProvider.displayName = \"TreeViewRootProvider\";\n\nexport { TreeViewRootProvider };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { mergeProps } from '@zag-js/react';\nimport { forwardRef } from 'react';\nimport { ark } from '../factory.js';\nimport { useTreeViewContext } from './use-tree-view-context.js';\nimport { TreeViewDepthProvider } from './use-tree-view-depth-context.js';\n\nconst TreeViewTree = forwardRef((props, ref) => {\n  const treeView = useTreeViewContext();\n  const mergedProps = mergeProps(treeView.getTreeProps(), props);\n  return /* @__PURE__ */ jsx(TreeViewDepthProvider, { value: 1, children: /* @__PURE__ */ jsx(ark.ul, { ...mergedProps, ref }) });\n});\nTreeViewTree.displayName = \"TreeViewTree\";\n\nexport { TreeViewTree };\n", "export { TreeViewBranch as Branch } from './tree-view-branch.js';\nexport { TreeViewBranchContent as BranchContent } from './tree-view-branch-content.js';\nexport { TreeViewBranchControl as BranchControl } from './tree-view-branch-control.js';\nexport { TreeViewBranchIndicator as BranchIndicator } from './tree-view-branch-indicator.js';\nexport { TreeViewBranchText as BranchText } from './tree-view-branch-text.js';\nexport { TreeViewBranchTrigger as BranchTrigger } from './tree-view-branch-trigger.js';\nexport { TreeViewContext as Context } from './tree-view-context.js';\nexport { TreeViewItem as Item } from './tree-view-item.js';\nexport { TreeViewItemContext as ItemContext } from './tree-view-item-context.js';\nexport { TreeViewItemIndicator as ItemIndicator } from './tree-view-item-indicator.js';\nexport { TreeViewItemText as ItemText } from './tree-view-item-text.js';\nexport { TreeViewLabel as Label } from './tree-view-label.js';\nexport { TreeViewRoot as Root } from './tree-view-root.js';\nexport { TreeViewRootProvider as RootProvider } from './tree-view-root-provider.js';\nexport { TreeViewTree as Tree } from './tree-view-tree.js';\n", "'use client';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { getWindow, getDocument } from '@zag-js/dom-query';\nimport { useState, useMemo } from 'react';\nimport { runIfFn } from '../../utils/run-if-fn.js';\nimport { EnvironmentContextProvider } from './use-environment-context.js';\n\nconst EnvironmentProvider = (props) => {\n  const { value, children } = props;\n  const [spanRef, setSpanRef] = useState();\n  const getRootNode = useMemo(() => {\n    return () => runIfFn(value) ?? spanRef?.ownerDocument ?? document;\n  }, [value, spanRef]);\n  const environment = useMemo(\n    () => ({\n      getRootNode,\n      getWindow: () => getWindow(getRootNode()),\n      getDocument: () => getDocument(getRootNode())\n    }),\n    [getRootNode]\n  );\n  return /* @__PURE__ */ jsxs(EnvironmentContextProvider, { value: environment, children: [\n    children,\n    !value && /* @__PURE__ */ jsx(\"span\", { hidden: true, ref: setSpanRef })\n  ] });\n};\n\nexport { EnvironmentProvider };\n", "'use client';\nconst isFunction = (value) => typeof value === \"function\";\nconst runIfFn = (valueOrFn, ...args) => isFunction(valueOrFn) ? valueOrFn(...args) : valueOrFn;\n\nexport { runIfFn };\n", "'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { isRTL } from '@zag-js/i18n-utils';\nimport { LocaleContextProvider } from './use-locale-context.js';\n\nconst LocaleProvider = (props) => {\n  const { children, locale } = props;\n  const context = {\n    locale,\n    dir: isRTL(locale) ? \"rtl\" : \"ltr\"\n  };\n  return /* @__PURE__ */ jsx(LocaleContextProvider, { value: context, children });\n};\n\nexport { LocaleProvider };\n"],
  "mappings": "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",
  "names": ["createContext$1", "props", "import_jsx_runtime", "parts", "query", "state", "getComputedStyle", "isHTMLElement", "first", "last", "set", "raf", "fn", "cleanups", "cleanups", "query", "el", "cleanups", "cleanups", "offset", "getPercentValue", "cleanup", "isMac", "cleanups", "isValidKey", "getWindow", "evt", "next", "last", "size", "a", "b", "hasKey", "noop", "match", "fallback", "props", "a", "state", "set", "targetCache", "target", "isEqual", "isObject", "newProxy", "proxyFunction", "remove", "set", "set", "runIfFn", "a", "cast", "noop", "callAll", "uuid", "isDev", "isArray", "isObject", "isNumber", "isString", "isFunction", "compact", "isPlainObject", "warn", "invariant", "createProxy", "state", "_b", "_a", "delay", "isEqual", "cleanups", "options", "determineDelay", "_e", "self", "match", "b", "props", "props", "state", "value", "props", "keyMap", "exec", "and", "not", "ctx", "set", "splitProps", "import_react", "import_react", "isArrayLike", "isEqual", "a", "b", "hasKey", "compact", "isPlainObject", "ReactExport", "useRef", "useEffect", "state", "ref", "machine", "import_react", "import_jsx_runtime", "import_react", "import_react", "ref", "props", "ref", "createSplitProps", "props", "props", "createSplitProps", "anatomy", "parts", "dom", "connect", "state", "machine", "ctx", "getComputedStyle", "animationName", "props", "splitProps", "import_react", "import_react", "sync", "_a", "ref", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "props", "createSplitProps", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "ref", "itemProps", "contentProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "triggerProps", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "anatomy", "parts", "dom", "connect", "state", "machine", "ctx", "props", "splitProps", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "import_jsx_runtime", "anatomy", "parts", "dom", "min", "max", "chunk", "a", "isNumber", "alignments", "offset", "connect", "state", "props", "machine", "ctx", "set", "invoke", "splitProps", "anatomy", "getWindow", "cleanups", "anatomy", "parts", "dom", "connect", "state", "checked", "not", "machine", "ctx", "set", "invoke", "props", "splitProps", "anatomy", "anatomy", "parts", "dom", "range", "connect", "state", "props", "machine", "ctx", "indicatorProps", "splitIndicatorProps", "min", "max", "a", "b", "_RGBColor", "match", "value", "clampValue", "min", "max", "__publicField", "_HSLColor", "l", "toFixedNumber", "_HSBColor", "mod", "clamp", "getAlignment", "getAlignment", "platform", "state", "max", "offset", "clamp", "state", "platform", "placements", "sides", "side", "nextIndex", "a", "b", "placement", "overflow", "state", "platform", "getAlignment", "x", "y", "min", "max", "clamp", "offset", "getNodeName", "isNode", "getWindow", "getDocumentElement", "isHTMLElement", "isShadowRoot", "isOverflowElement", "getComputedStyle", "css", "getParentNode", "getNearestOverflowAncestor", "getOverflowAncestors", "css", "getComputedStyle", "isHTMLElement", "$", "getWindow", "getDocumentElement", "getNodeName", "isOverflowElement", "getParentNode", "getOverflowAncestors", "offset", "shift", "flip", "size", "arrow", "limitShift", "computePosition", "arrow", "arrow", "offset", "shift", "flip", "limitShift", "size", "computePosition", "noop", "cleanups", "handler", "cleanups", "getDocument", "cleanups", "node", "contains", "anatomy", "parts", "dom", "parseColor", "props", "connect", "state", "value", "formatValue", "keyMap", "event", "exec", "size", "offset", "range", "and", "machine", "ctx", "set", "invoke", "a", "b", "anatomy", "l", "isObject", "__publicField", "item", "wrap", "match", "options", "state", "query", "value", "root", "hide", "cleanups", "anatomy", "parts", "dom", "connect", "state", "collection", "props", "disabled", "isModifierKey", "event", "exec", "keyMap", "and", "not", "machine", "ctx", "cleanups", "rafCleanup", "set", "match", "sync", "invoke", "a", "b", "a", "b", "a", "b", "a", "b", "ms", "parts", "parts", "date", "ms", "offset", "ms", "a", "b", "min", "max", "round", "ms", "res", "min", "max", "offset", "sign", "b", "b", "offset", "a", "b", "min", "max", "min", "max", "parts", "isSameDay", "start", "end", "toCalendarDate", "today", "DateFormatter", "isSameDay", "getDayOfWeek", "startOfMonth", "DateFormatter", "today", "date", "DateFormatter", "parts", "matches", "group", "_a", "today", "startOfWeek", "endOfWeek", "startOfMonth", "startOfYear", "endOfMonth", "delay", "anatomy", "parts", "dom", "a", "b", "match", "connect", "state", "min", "max", "props", "disabled", "DateFormatter", "keyMap", "event", "exec", "and", "constrainValue", "getTodayDate", "machine", "ctx", "set", "isDateEqual", "range", "getDecadeRange", "inputEl", "isDateOutsideVisibleRange", "invoke", "parse", "splitProps", "anatomy", "setStyle", "cleanups", "candidateSelectors", "candidateSelector", "join", "NoElement", "Element", "matches", "prototype", "msMatchesSelector", "webkitMatchesSelector", "getRootNode", "element", "_element$getRootNode", "call", "ownerDocument", "isInert", "node", "lookUp", "_node$getAttribute", "inertAtt", "getAttribute", "inert", "result", "parentNode", "isContentEditable", "_node$getAttribute2", "attValue", "getCandidates", "el", "includeContainer", "filter", "candidates", "Array", "slice", "apply", "querySelectorAll", "unshift", "getCandidatesIteratively", "elements", "options", "elementsToCheck", "from", "length", "shift", "tagName", "assigned", "assignedElements", "content", "children", "nestedCandidates", "flatten", "push", "scopeParent", "validCandidate", "includes", "shadowRoot", "getShadowRoot", "validShadowRoot", "shadowRootFilter", "hasTabIndex", "isNaN", "parseInt", "getTabIndex", "Error", "tabIndex", "test", "getSortOrderTabIndex", "isScope", "sortOrderedTabbables", "a", "b", "documentOrder", "isInput", "isHiddenInput", "type", "isDetailsWithSummary", "r", "some", "child", "getCheckedRadio", "nodes", "form", "i", "checked", "isTabbableRadio", "name", "radioScope", "queryRadios", "radioSet", "window", "CSS", "escape", "err", "console", "error", "message", "isRadio", "isNonTabbableRadio", "isNodeAttached", "_nodeRoot", "nodeRoot", "nodeRootHost", "host", "attached", "_nodeRootHost", "_nodeRootHost$ownerDo", "_node$ownerDocument", "contains", "_nodeRoot2", "_nodeRootHost2", "_nodeRootHost2$ownerD", "isZeroArea", "_node$getBoundingClie", "getBoundingClientRect", "width", "height", "isHidden", "_ref", "displayCheck", "getComputedStyle", "visibility", "isDirectSummary", "nodeUnderDetails", "parentElement", "originalNode", "rootNode", "assignedSlot", "getClientRects", "isDisabledFromFieldset", "disabled", "item", "isNodeMatchingSelectorFocusable", "isNodeMatchingSelectorTabbable", "isValidShadowRootTabbable", "shadowHostNode", "sortByOrder", "regularTabbables", "orderedTabbables", "forEach", "candidateTabindex", "sort", "reduce", "acc", "sortable", "concat", "tabbable", "container", "bind", "focusable", "isTabbable", "focusableCandidateSelector", "isFocusable", "activeFocusTraps", "activateTrap", "trapStack", "trap", "length", "activeTrap", "pause", "trapIndex", "indexOf", "push", "splice", "deactivateTrap", "unpause", "isSelectableInput", "node", "tagName", "toLowerCase", "select", "isEscapeEvent", "e", "key", "keyCode", "isTabEvent", "isKeyForward", "shiftKey", "isKeyBackward", "delay", "fn", "setTimeout", "findIndex", "arr", "idx", "every", "value", "i", "valueOrHandler", "_len", "arguments", "params", "Array", "_key", "apply", "getActualTarget", "event", "target", "shadowRoot", "composedPath", "internalTrapStack", "createFocusTrap", "elements", "userOptions", "doc", "document", "config", "_objectSpread", "returnFocusOnDeactivate", "escapeDeactivates", "delayInitialFocus", "state", "containers", "containerGroups", "tabbableGroups", "nodeFocusedBeforeActivation", "mostRecentlyFocusedNode", "active", "paused", "delayInitialFocusTimer", "undefined", "recentNavEvent", "getOption", "configOverrideOptions", "optionName", "configOptionName", "findContainerIndex", "element", "_ref", "container", "tabbableNodes", "contains", "includes", "find", "getNodeForOption", "optionValue", "_len2", "_key2", "Error", "concat", "querySelector", "getInitialFocusNode", "isFocusable", "tabbableOptions", "activeElement", "firstTabbableGroup", "firstTabbableNode", "updateTabbableNodes", "map", "tabbable", "focusableNodes", "focusable", "lastTabbableNode", "firstDomTabbableNode", "isTabbable", "lastDomTabbableNode", "slice", "reverse", "posTabIndexesFound", "getTabIndex", "nextTabbableNode", "forward", "nodeIdx", "el", "filter", "group", "g", "getActiveElement", "tryFocus", "focus", "preventScroll", "getReturnFocusNode", "previousActiveElement", "findNextNavNode", "_ref2", "_ref2$isBackward", "isBackward", "destinationNode", "containerIndex", "containerGroup", "startOfGroupIndex", "_ref3", "destinationGroupIndex", "destinationGroup", "lastOfGroupIndex", "_ref4", "checkPointerDown", "clickOutsideDeactivates", "deactivate", "returnFocus", "allowOutsideClick", "preventDefault", "checkFocusIn", "targetContained", "Document", "stopImmediatePropagation", "nextNode", "navAcrossContainers", "mruContainerIdx", "mruTabIdx", "some", "n", "checkKeyNav", "checkKey", "checkClick", "addListeners", "addEventListener", "capture", "passive", "removeListeners", "removeEventListener", "checkDomRemoval", "mutations", "isFocusedNodeRemoved", "mutation", "removedNodes", "from", "mutationObserver", "window", "MutationObserver", "updateObservedNodes", "disconnect", "observe", "subtree", "childList", "activate", "activateOptions", "onActivate", "onPostActivate", "checkCanFocusTrap", "finishActivation", "then", "deactivateOptions", "options", "onDeactivate", "onPostDeactivate", "checkCanReturnFocus", "clearTimeout", "finishDeactivation", "pauseOptions", "onPause", "onPostPause", "unpauseOptions", "onUnpause", "onPostUnpause", "updateContainerElements", "containerElements", "elementsAsArray", "Boolean", "anatomy", "parts", "dom", "connect", "state", "machine", "ctx", "props", "splitProps", "anatomy", "parts", "dom", "connect", "state", "value", "keyMap", "event", "exec", "machine", "ctx", "focusable", "sync", "set", "invoke", "props", "splitProps", "a", "b", "isRTL", "a", "anatomy", "parts", "dom", "connect", "state", "props", "not", "machine", "ctx", "set", "invoke", "a", "b", "splitProps", "itemProps", "splitItemProps", "anatomy", "parts", "dom", "connect", "state", "not", "and", "machine", "ctx", "props", "splitProps", "min", "max", "min", "anatomy", "parts", "dom", "connect", "state", "props", "keyMap", "exec", "event", "not", "and", "or", "machine", "getByTypeahead", "ctx", "isEditableElement", "guards", "contentEl", "set", "first", "last", "splitProps", "itemProps", "splitItemProps", "wrap", "max", "clamp", "a", "b", "a", "b", "a", "b", "group", "p", "anatomy", "parts", "dom", "wrap", "connect", "state", "keyMap", "exec", "roundToDevicePixel", "not", "and", "machine", "ctx", "set", "isSafari", "clamp", "sync", "a", "b", "invoke", "anatomy", "parts", "dom", "connect", "state", "size", "page", "props", "machine", "ctx", "set", "splitProps", "itemProps", "splitItemProps", "anatomy", "parts", "dom", "connect", "state", "props", "keyMap", "exec", "machine", "ctx", "set", "value", "invoke", "anatomy", "parts", "dom", "connect", "state", "machine", "ctx", "props", "splitProps", "anatomy", "parts", "dom", "connect", "state", "max", "min", "value", "props", "machine", "ctx", "splitProps", "targetCache", "HAS_KEY_PROPERTY", "ALL_OWN_KEYS_PROPERTY", "HAS_OWN_KEY_PROPERTY", "KEYS_PROPERTY", "isObject", "AFFECTED_PROPERTY", "size", "memo", "proxy", "__defProp", "__defNormalProp", "__publicField", "a", "b", "mod", "size", "anatomy", "parts", "dom", "connect", "state", "machine", "ctx", "props", "splitProps", "data", "isEqual", "a", "b", "anatomy", "parts", "dom", "connect", "state", "props", "not", "machine", "ctx", "set", "invoke", "splitProps", "itemProps", "splitItemProps", "anatomy", "parts", "dom", "connect", "state", "props", "value", "keyMap", "exec", "machine", "ctx", "set", "invoke", "splitProps", "itemProps", "splitItemProps", "anatomy", "anatomy", "parts", "collection", "dom", "connect", "state", "props", "keyMap", "event", "exec", "and", "not", "or", "machine", "getByTypeahead", "ctx", "set", "contentEl", "sync", "invoke", "splitProps", "itemProps", "splitItemProps", "itemGroupProps", "splitItemGroupProps", "itemGroupLabelProps", "splitItemGroupLabelProps", "anatomy", "anatomy", "parts", "dom", "connect", "state", "offset", "props", "a", "b", "max", "machine", "ctx", "getRelativePoint", "splitProps", "cleanups", "size", "anatomy", "parts", "getValue", "offset", "range", "dom", "constrainValue", "decrement", "increment", "connect", "state", "getValuePercent", "getPercentValue", "props", "keyMap", "exec", "first", "last", "isEqualSize", "a", "b", "machine", "ctx", "set", "size", "min", "max", "invoke", "splitProps", "anatomy", "parts", "dom", "size", "clamp", "min", "max", "connect", "state", "props", "id", "panels", "panel", "keyMap", "exec", "machine", "ctx", "offset", "splitProps", "anatomy", "parts", "dom", "connect", "state", "checked", "not", "machine", "ctx", "set", "invoke", "props", "splitProps", "anatomy", "parts", "dom", "connect", "state", "props", "keyMap", "exec", "not", "machine", "ctx", "set", "invoke", "splitProps", "anatomy", "parts", "dom", "connect", "state", "keyMap", "event", "exec", "props", "and", "not", "or", "machine", "ctx", "self", "set", "first", "last", "invoke", "splitProps", "itemProps", "splitItemProps", "anatomy", "parts", "dom", "offset", "isVisible", "placements", "state", "not", "and", "or", "ctx", "self", "duration", "type", "computedDuration", "compact", "createMachine", "connect", "anatomy", "parts", "dom", "connect", "state", "props", "value", "keyMap", "event", "exec", "not", "and", "machine", "ctx", "set", "invoke", "splitProps", "itemProps", "splitItemProps", "anatomy", "parts", "dom", "connect", "state", "and", "not", "machine", "ctx", "cleanups", "props", "splitProps", "anatomy", "parts", "dom", "connect", "state", "props", "keyMap", "event", "exec", "and", "machine", "getByTypeahead", "ctx", "isHTMLElement", "set", "invoke", "import_react", "props", "ref", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "indicatorProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "props", "isChecked", "props2", "props", "ref", "createSplitProps", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "isVisible", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "createSplitProps", "connect", "state", "machine", "ctx", "exec", "props", "import_react", "props", "state", "machine", "connect", "ref", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "triggerProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "itemGroupProps", "import_jsx_runtime", "import_react", "props", "ref", "itemGroupProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "createSplitProps", "collection", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "ComboboxImpl", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "inputProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "viewProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "presetTriggerProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "viewProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "parse", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "viewProps", "tableProps", "import_jsx_runtime", "import_react", "props", "ref", "tableProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "viewProps", "tableCellProps", "import_jsx_runtime", "import_react", "props", "ref", "tableCellProps", "viewProps", "triggerProps", "import_jsx_runtime", "import_react", "props", "ref", "tableProps", "import_jsx_runtime", "import_react", "props", "ref", "tableProps", "import_jsx_runtime", "import_react", "props", "ref", "tableProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "viewProps", "createSplitProps", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "viewProps", "import_jsx_runtime", "import_react", "props", "ref", "viewProps", "import_jsx_runtime", "import_react", "props", "ref", "range", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "import_jsx_runtime", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "import_jsx_runtime", "import_react", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "import_jsx_runtime", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "optionItemProps", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "itemGroupProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "optionItemProps", "import_jsx_runtime", "import_react", "props", "ref", "optionItemProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "optionItemProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "itemGroupProps", "import_jsx_runtime", "import_react", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "createSplitProps", "machine", "import_jsx_runtime", "import_react", "props", "machine", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "ellipsisProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "inputProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "import_jsx_runtime", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react_dom", "import_react", "props", "getRootNode", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "props", "import_jsx_runtime", "props", "import_jsx_runtime", "props", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "viewProps", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "anatomy", "props", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "anatomy", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "itemGroupProps", "import_jsx_runtime", "import_react", "props", "ref", "itemGroupProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "createSplitProps", "collection", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "SelectImpl", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "anatomy", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "thumbProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "thumbProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "triggerProps", "createSplitProps", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "contentProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "props", "machine", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "state", "connect", "props", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "import_jsx_runtime", "props", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "props", "ref", "props", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "itemProps", "props", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "itemProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "import_react", "props", "getRootNode", "state", "machine", "connect", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "createSplitProps", "import_jsx_runtime", "import_react", "props", "ref", "import_jsx_runtime", "import_react", "isFunction", "runIfFn", "props", "getRootNode", "runIfFn", "import_jsx_runtime", "props", "isRTL"]
}
